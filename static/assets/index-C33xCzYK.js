function _R(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ml(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $E={exports:{}},Gu={},TE={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=Symbol.for("react.element"),xR=Symbol.for("react.portal"),wR=Symbol.for("react.fragment"),bR=Symbol.for("react.strict_mode"),CR=Symbol.for("react.profiler"),SR=Symbol.for("react.provider"),ER=Symbol.for("react.context"),jR=Symbol.for("react.forward_ref"),$R=Symbol.for("react.suspense"),TR=Symbol.for("react.memo"),RR=Symbol.for("react.lazy"),Nx=Symbol.iterator;function kR(e){return e===null||typeof e!="object"?null:(e=Nx&&e[Nx]||e["@@iterator"],typeof e=="function"?e:null)}var RE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kE=Object.assign,NE={};function Ri(e,t,n){this.props=e,this.context=t,this.refs=NE,this.updater=n||RE}Ri.prototype.isReactComponent={};Ri.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ri.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PE(){}PE.prototype=Ri.prototype;function uy(e,t,n){this.props=e,this.context=t,this.refs=NE,this.updater=n||RE}var dy=uy.prototype=new PE;dy.constructor=uy;kE(dy,Ri.prototype);dy.isPureReactComponent=!0;var Px=Array.isArray,DE=Object.prototype.hasOwnProperty,fy={current:null},AE={key:!0,ref:!0,__self:!0,__source:!0};function IE(e,t,n){var r,o={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)DE.call(t,r)&&!AE.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:gl,type:e,key:a,ref:i,props:o,_owner:fy.current}}function NR(e,t){return{$$typeof:gl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function py(e){return typeof e=="object"&&e!==null&&e.$$typeof===gl}function PR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dx=/\/+/g;function kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PR(""+e.key):t.toString(36)}function kc(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case gl:case xR:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+kf(i,0):r,Px(o)?(n="",e!=null&&(n=e.replace(Dx,"$&/")+"/"),kc(o,t,n,"",function(u){return u})):o!=null&&(py(o)&&(o=NR(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Dx,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Px(e))for(var s=0;s<e.length;s++){a=e[s];var c=r+kf(a,s);i+=kc(a,t,n,c,o)}else if(c=kR(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=r+kf(a,s++),i+=kc(a,t,n,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Vl(e,t,n){if(e==null)return e;var r=[],o=0;return kc(e,r,"","",function(a){return t.call(n,a,o++)}),r}function DR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var on={current:null},Nc={transition:null},AR={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:fy};Xe.Children={map:Vl,forEach:function(e,t,n){Vl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vl(e,function(){t++}),t},toArray:function(e){return Vl(e,function(t){return t})||[]},only:function(e){if(!py(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=Ri;Xe.Fragment=wR;Xe.Profiler=CR;Xe.PureComponent=uy;Xe.StrictMode=bR;Xe.Suspense=$R;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;Xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kE({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=fy.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)DE.call(t,c)&&!AE.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:gl,type:e.type,key:o,ref:a,props:r,_owner:i}};Xe.createContext=function(e){return e={$$typeof:ER,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SR,_context:e},e.Consumer=e};Xe.createElement=IE;Xe.createFactory=function(e){var t=IE.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:jR,render:e}};Xe.isValidElement=py;Xe.lazy=function(e){return{$$typeof:RR,_payload:{_status:-1,_result:e},_init:DR}};Xe.memo=function(e,t){return{$$typeof:TR,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=Nc.transition;Nc.transition={};try{e()}finally{Nc.transition=t}};Xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xe.useCallback=function(e,t){return on.current.useCallback(e,t)};Xe.useContext=function(e){return on.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return on.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return on.current.useEffect(e,t)};Xe.useId=function(){return on.current.useId()};Xe.useImperativeHandle=function(e,t,n){return on.current.useImperativeHandle(e,t,n)};Xe.useInsertionEffect=function(e,t){return on.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return on.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return on.current.useMemo(e,t)};Xe.useReducer=function(e,t,n){return on.current.useReducer(e,t,n)};Xe.useRef=function(e){return on.current.useRef(e)};Xe.useState=function(e){return on.current.useState(e)};Xe.useSyncExternalStore=function(e,t,n){return on.current.useSyncExternalStore(e,t,n)};Xe.useTransition=function(){return on.current.useTransition()};Xe.version="18.2.0";TE.exports=Xe;var f=TE.exports;const X=ml(f),IR=_R({__proto__:null,default:X},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR=f,OR=Symbol.for("react.element"),LR=Symbol.for("react.fragment"),zR=Object.prototype.hasOwnProperty,FR=MR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qR={key:!0,ref:!0,__self:!0,__source:!0};function ME(e,t,n){var r,o={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)zR.call(t,r)&&!qR.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:OR,type:e,key:a,ref:i,props:o,_owner:FR.current}}Gu.Fragment=LR;Gu.jsx=ME;Gu.jsxs=ME;$E.exports=Gu;var l=$E.exports,j1={},OE={exports:{}},Tn={},LE={exports:{}},zE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,P){var z=I.length;I.push(P);e:for(;0<z;){var H=z-1>>>1,W=I[H];if(0<o(W,P))I[H]=P,I[z]=W,z=H;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var P=I[0],z=I.pop();if(z!==P){I[0]=z;e:for(var H=0,W=I.length,J=W>>>1;H<J;){var ce=2*(H+1)-1,fe=I[ce],pe=ce+1,ie=I[pe];if(0>o(fe,z))pe<W&&0>o(ie,fe)?(I[H]=ie,I[pe]=z,H=pe):(I[H]=fe,I[ce]=z,H=ce);else if(pe<W&&0>o(ie,z))I[H]=ie,I[pe]=z,H=pe;else break e}}return P}function o(I,P){var z=I.sortIndex-P.sortIndex;return z!==0?z:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var c=[],u=[],d=1,p=null,m=3,h=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=I)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function b(I){if(g=!1,w(I),!v)if(n(c)!==null)v=!0,E(S);else{var P=n(u);P!==null&&L(b,P.startTime-I)}}function S(I,P){v=!1,g&&(g=!1,y($),$=-1),h=!0;var z=m;try{for(w(P),p=n(c);p!==null&&(!(p.expirationTime>P)||I&&!D());){var H=p.callback;if(typeof H=="function"){p.callback=null,m=p.priorityLevel;var W=H(p.expirationTime<=P);P=e.unstable_now(),typeof W=="function"?p.callback=W:p===n(c)&&r(c),w(P)}else r(c);p=n(c)}if(p!==null)var J=!0;else{var ce=n(u);ce!==null&&L(b,ce.startTime-P),J=!1}return J}finally{p=null,m=z,h=!1}}var k=!1,j=null,$=-1,C=5,R=-1;function D(){return!(e.unstable_now()-R<C)}function q(){if(j!==null){var I=e.unstable_now();R=I;var P=!0;try{P=j(!0,I)}finally{P?F():(k=!1,j=null)}}else k=!1}var F;if(typeof _=="function")F=function(){_(q)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,B=A.port2;A.port1.onmessage=q,F=function(){B.postMessage(null)}}else F=function(){x(q,0)};function E(I){j=I,k||(k=!0,F())}function L(I,P){$=x(function(){I(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,E(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var z=m;m=P;try{return I()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=m;m=I;try{return P()}finally{m=z}},e.unstable_scheduleCallback=function(I,P,z){var H=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,I){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=z+W,I={id:d++,callback:P,priorityLevel:I,startTime:z,expirationTime:W,sortIndex:-1},z>H?(I.sortIndex=z,t(u,I),n(c)===null&&I===n(u)&&(g?(y($),$=-1):g=!0,L(b,z-H))):(I.sortIndex=W,t(c,I),v||h||(v=!0,E(S))),I},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(I){var P=m;return function(){var z=m;m=P;try{return I.apply(this,arguments)}finally{m=z}}}})(zE);LE.exports=zE;var BR=LE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE=f,jn=BR;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qE=new Set,Is={};function va(e,t){pi(e,t),pi(e+"Capture",t)}function pi(e,t){for(Is[e]=t,e=0;e<t.length;e++)qE.add(t[e])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$1=Object.prototype.hasOwnProperty,HR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ax={},Ix={};function VR(e){return $1.call(Ix,e)?!0:$1.call(Ax,e)?!1:HR.test(e)?Ix[e]=!0:(Ax[e]=!0,!1)}function UR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GR(e,t,n,r){if(t===null||typeof t>"u"||UR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function an(e,t,n,r,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new an(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new an(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new an(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new an(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new an(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new an(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new an(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new an(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new an(e,5,!1,e.toLowerCase(),null,!1,!1)});var hy=/[\-:]([a-z])/g;function my(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hy,my);Ht[t]=new an(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hy,my);Ht[t]=new an(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hy,my);Ht[t]=new an(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new an(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new an(e,1,!1,e.toLowerCase(),null,!0,!0)});function gy(e,t,n,r){var o=Ht.hasOwnProperty(t)?Ht[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GR(t,n,o,r)&&(n=null),r||o===null?VR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qr=FE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),Va=Symbol.for("react.portal"),Ua=Symbol.for("react.fragment"),vy=Symbol.for("react.strict_mode"),T1=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),HE=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),k1=Symbol.for("react.suspense_list"),_y=Symbol.for("react.memo"),fo=Symbol.for("react.lazy"),VE=Symbol.for("react.offscreen"),Mx=Symbol.iterator;function Ki(e){return e===null||typeof e!="object"?null:(e=Mx&&e[Mx]||e["@@iterator"],typeof e=="function"?e:null)}var xt=Object.assign,Nf;function fs(e){if(Nf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nf=t&&t[1]||""}return`
`+Nf+e}var Pf=!1;function Df(e,t){if(!e||Pf)return"";Pf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),a=r.stack.split(`
`),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==a[s]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=s);break}}}finally{Pf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fs(e):""}function WR(e){switch(e.tag){case 5:return fs(e.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return e=Df(e.type,!1),e;case 11:return e=Df(e.type.render,!1),e;case 1:return e=Df(e.type,!0),e;default:return""}}function N1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ua:return"Fragment";case Va:return"Portal";case T1:return"Profiler";case vy:return"StrictMode";case R1:return"Suspense";case k1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HE:return(e.displayName||"Context")+".Consumer";case BE:return(e._context.displayName||"Context")+".Provider";case yy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _y:return t=e.displayName||null,t!==null?t:N1(e.type)||"Memo";case fo:t=e._payload,e=e._init;try{return N1(e(t))}catch{}}return null}function KR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N1(t);case 8:return t===vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Po(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function UE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YR(e){var t=UE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gl(e){e._valueTracker||(e._valueTracker=YR(e))}function GE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=UE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function P1(e,t){var n=t.checked;return xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ox(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Po(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function WE(e,t){t=t.checked,t!=null&&gy(e,"checked",t,!1)}function D1(e,t){WE(e,t);var n=Po(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?A1(e,t.type,n):t.hasOwnProperty("defaultValue")&&A1(e,t.type,Po(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function A1(e,t,n){(t!=="number"||Qc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ps=Array.isArray;function ri(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Po(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function I1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(ps(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Po(n)}}function KE(e,t){var n=Po(t.value),r=Po(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Fx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wl,XE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XR=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(e){XR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),js[t]=js[e]})});function ZE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||js.hasOwnProperty(e)&&js[e]?(""+t).trim():t+"px"}function QE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ZE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ZR=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O1(e,t){if(t){if(ZR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function L1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z1=null;function xy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var F1=null,oi=null,ai=null;function qx(e){if(e=_l(e)){if(typeof F1!="function")throw Error(he(280));var t=e.stateNode;t&&(t=Zu(t),F1(e.stateNode,e.type,t))}}function JE(e){oi?ai?ai.push(e):ai=[e]:oi=e}function ej(){if(oi){var e=oi,t=ai;if(ai=oi=null,qx(e),t)for(e=0;e<t.length;e++)qx(t[e])}}function tj(e,t){return e(t)}function nj(){}var Af=!1;function rj(e,t,n){if(Af)return e(t,n);Af=!0;try{return tj(e,t,n)}finally{Af=!1,(oi!==null||ai!==null)&&(nj(),ej())}}function Os(e,t){var n=e.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var q1=!1;if(Br)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){q1=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{q1=!1}function QR(e,t,n,r,o,a,i,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var $s=!1,Jc=null,eu=!1,B1=null,JR={onError:function(e){$s=!0,Jc=e}};function ek(e,t,n,r,o,a,i,s,c){$s=!1,Jc=null,QR.apply(JR,arguments)}function tk(e,t,n,r,o,a,i,s,c){if(ek.apply(this,arguments),$s){if($s){var u=Jc;$s=!1,Jc=null}else throw Error(he(198));eu||(eu=!0,B1=u)}}function ya(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bx(e){if(ya(e)!==e)throw Error(he(188))}function nk(e){var t=e.alternate;if(!t){if(t=ya(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Bx(o),e;if(a===r)return Bx(o),t;a=a.sibling}throw Error(he(188))}if(n.return!==r.return)n=o,r=a;else{for(var i=!1,s=o.child;s;){if(s===n){i=!0,n=o,r=a;break}if(s===r){i=!0,r=o,n=a;break}s=s.sibling}if(!i){for(s=a.child;s;){if(s===n){i=!0,n=a,r=o;break}if(s===r){i=!0,r=a,n=o;break}s=s.sibling}if(!i)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function aj(e){return e=nk(e),e!==null?ij(e):null}function ij(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ij(e);if(t!==null)return t;e=e.sibling}return null}var sj=jn.unstable_scheduleCallback,Hx=jn.unstable_cancelCallback,rk=jn.unstable_shouldYield,ok=jn.unstable_requestPaint,Et=jn.unstable_now,ak=jn.unstable_getCurrentPriorityLevel,wy=jn.unstable_ImmediatePriority,lj=jn.unstable_UserBlockingPriority,tu=jn.unstable_NormalPriority,ik=jn.unstable_LowPriority,cj=jn.unstable_IdlePriority,Wu=null,gr=null;function sk(e){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Wu,e,void 0,(e.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:uk,lk=Math.log,ck=Math.LN2;function uk(e){return e>>>=0,e===0?32:31-(lk(e)/ck|0)|0}var Kl=64,Yl=4194304;function hs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var s=i&~o;s!==0?r=hs(s):(a&=i,a!==0&&(r=hs(a)))}else i=n&~o,i!==0?r=hs(i):a!==0&&(r=hs(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-er(t),o=1<<n,r|=e[n],t&=~o;return r}function dk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-er(a),s=1<<i,c=o[i];c===-1?(!(s&n)||s&r)&&(o[i]=dk(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function H1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uj(){var e=Kl;return Kl<<=1,!(Kl&4194240)&&(Kl=64),e}function If(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-er(t),e[t]=n}function pk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-er(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function by(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-er(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var at=0;function dj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fj,Cy,pj,hj,mj,V1=!1,Xl=[],bo=null,Co=null,So=null,Ls=new Map,zs=new Map,go=[],hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vx(e,t){switch(e){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":Ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function Xi(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=_l(t),t!==null&&Cy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function mk(e,t,n,r,o){switch(t){case"focusin":return bo=Xi(bo,e,t,n,r,o),!0;case"dragenter":return Co=Xi(Co,e,t,n,r,o),!0;case"mouseover":return So=Xi(So,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Ls.set(a,Xi(Ls.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,zs.set(a,Xi(zs.get(a)||null,e,t,n,r,o)),!0}return!1}function gj(e){var t=Xo(e.target);if(t!==null){var n=ya(t);if(n!==null){if(t=n.tag,t===13){if(t=oj(n),t!==null){e.blockedOn=t,mj(e.priority,function(){pj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=U1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);z1=r,n.target.dispatchEvent(r),z1=null}else return t=_l(n),t!==null&&Cy(t),e.blockedOn=n,!1;t.shift()}return!0}function Ux(e,t,n){Pc(e)&&n.delete(t)}function gk(){V1=!1,bo!==null&&Pc(bo)&&(bo=null),Co!==null&&Pc(Co)&&(Co=null),So!==null&&Pc(So)&&(So=null),Ls.forEach(Ux),zs.forEach(Ux)}function Zi(e,t){e.blockedOn===t&&(e.blockedOn=null,V1||(V1=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,gk)))}function Fs(e){function t(o){return Zi(o,e)}if(0<Xl.length){Zi(Xl[0],e);for(var n=1;n<Xl.length;n++){var r=Xl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bo!==null&&Zi(bo,e),Co!==null&&Zi(Co,e),So!==null&&Zi(So,e),Ls.forEach(t),zs.forEach(t),n=0;n<go.length;n++)r=go[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<go.length&&(n=go[0],n.blockedOn===null);)gj(n),n.blockedOn===null&&go.shift()}var ii=Qr.ReactCurrentBatchConfig,ru=!0;function vk(e,t,n,r){var o=at,a=ii.transition;ii.transition=null;try{at=1,Sy(e,t,n,r)}finally{at=o,ii.transition=a}}function yk(e,t,n,r){var o=at,a=ii.transition;ii.transition=null;try{at=4,Sy(e,t,n,r)}finally{at=o,ii.transition=a}}function Sy(e,t,n,r){if(ru){var o=U1(e,t,n,r);if(o===null)Uf(e,t,r,ou,n),Vx(e,r);else if(mk(o,e,t,n,r))r.stopPropagation();else if(Vx(e,r),t&4&&-1<hk.indexOf(e)){for(;o!==null;){var a=_l(o);if(a!==null&&fj(a),a=U1(e,t,n,r),a===null&&Uf(e,t,r,ou,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Uf(e,t,r,null,n)}}var ou=null;function U1(e,t,n,r){if(ou=null,e=xy(r),e=Xo(e),e!==null)if(t=ya(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oj(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ou=e,null}function vj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ak()){case wy:return 1;case lj:return 4;case tu:case ik:return 16;case cj:return 536870912;default:return 16}default:return 16}}var _o=null,Ey=null,Dc=null;function yj(){if(Dc)return Dc;var e,t=Ey,n=t.length,r,o="value"in _o?_o.value:_o.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[a-r];r++);return Dc=o.slice(e,1<r?1-r:void 0)}function Ac(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zl(){return!0}function Gx(){return!1}function Rn(e){function t(n,r,o,a,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Zl:Gx,this.isPropagationStopped=Gx,this}return xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),t}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jy=Rn(ki),yl=xt({},ki,{view:0,detail:0}),_k=Rn(yl),Mf,Of,Qi,Ku=xt({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$y,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(Mf=e.screenX-Qi.screenX,Of=e.screenY-Qi.screenY):Of=Mf=0,Qi=e),Mf)},movementY:function(e){return"movementY"in e?e.movementY:Of}}),Wx=Rn(Ku),xk=xt({},Ku,{dataTransfer:0}),wk=Rn(xk),bk=xt({},yl,{relatedTarget:0}),Lf=Rn(bk),Ck=xt({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=Rn(Ck),Ek=xt({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jk=Rn(Ek),$k=xt({},ki,{data:0}),Kx=Rn($k),Tk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kk[e])?!!t[e]:!1}function $y(){return Nk}var Pk=xt({},yl,{key:function(e){if(e.key){var t=Tk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ac(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$y,charCode:function(e){return e.type==="keypress"?Ac(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ac(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dk=Rn(Pk),Ak=xt({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yx=Rn(Ak),Ik=xt({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$y}),Mk=Rn(Ik),Ok=xt({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lk=Rn(Ok),zk=xt({},Ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fk=Rn(zk),qk=[9,13,27,32],Ty=Br&&"CompositionEvent"in window,Ts=null;Br&&"documentMode"in document&&(Ts=document.documentMode);var Bk=Br&&"TextEvent"in window&&!Ts,_j=Br&&(!Ty||Ts&&8<Ts&&11>=Ts),Xx=" ",Zx=!1;function xj(e,t){switch(e){case"keyup":return qk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ga=!1;function Hk(e,t){switch(e){case"compositionend":return wj(t);case"keypress":return t.which!==32?null:(Zx=!0,Xx);case"textInput":return e=t.data,e===Xx&&Zx?null:e;default:return null}}function Vk(e,t){if(Ga)return e==="compositionend"||!Ty&&xj(e,t)?(e=yj(),Dc=Ey=_o=null,Ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _j&&t.locale!=="ko"?null:t.data;default:return null}}var Uk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uk[e.type]:t==="textarea"}function bj(e,t,n,r){JE(r),t=au(t,"onChange"),0<t.length&&(n=new jy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rs=null,qs=null;function Gk(e){Dj(e,0)}function Yu(e){var t=Ya(e);if(GE(t))return e}function Wk(e,t){if(e==="change")return t}var Cj=!1;if(Br){var zf;if(Br){var Ff="oninput"in document;if(!Ff){var Jx=document.createElement("div");Jx.setAttribute("oninput","return;"),Ff=typeof Jx.oninput=="function"}zf=Ff}else zf=!1;Cj=zf&&(!document.documentMode||9<document.documentMode)}function ew(){Rs&&(Rs.detachEvent("onpropertychange",Sj),qs=Rs=null)}function Sj(e){if(e.propertyName==="value"&&Yu(qs)){var t=[];bj(t,qs,e,xy(e)),rj(Gk,t)}}function Kk(e,t,n){e==="focusin"?(ew(),Rs=t,qs=n,Rs.attachEvent("onpropertychange",Sj)):e==="focusout"&&ew()}function Yk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yu(qs)}function Xk(e,t){if(e==="click")return Yu(t)}function Zk(e,t){if(e==="input"||e==="change")return Yu(t)}function Qk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var or=typeof Object.is=="function"?Object.is:Qk;function Bs(e,t){if(or(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!$1.call(t,o)||!or(e[o],t[o]))return!1}return!0}function tw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nw(e,t){var n=tw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tw(n)}}function Ej(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ej(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jj(){for(var e=window,t=Qc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qc(e.document)}return t}function Ry(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jk(e){var t=jj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ej(n.ownerDocument.documentElement,n)){if(r!==null&&Ry(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=nw(n,a);var i=nw(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eN=Br&&"documentMode"in document&&11>=document.documentMode,Wa=null,G1=null,ks=null,W1=!1;function rw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;W1||Wa==null||Wa!==Qc(r)||(r=Wa,"selectionStart"in r&&Ry(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ks&&Bs(ks,r)||(ks=r,r=au(G1,"onSelect"),0<r.length&&(t=new jy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wa)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ka={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},qf={},$j={};Br&&($j=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Xu(e){if(qf[e])return qf[e];if(!Ka[e])return e;var t=Ka[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $j)return qf[e]=t[n];return e}var Tj=Xu("animationend"),Rj=Xu("animationiteration"),kj=Xu("animationstart"),Nj=Xu("transitionend"),Pj=new Map,ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(e,t){Pj.set(e,t),va(t,[e])}for(var Bf=0;Bf<ow.length;Bf++){var Hf=ow[Bf],tN=Hf.toLowerCase(),nN=Hf[0].toUpperCase()+Hf.slice(1);Lo(tN,"on"+nN)}Lo(Tj,"onAnimationEnd");Lo(Rj,"onAnimationIteration");Lo(kj,"onAnimationStart");Lo("dblclick","onDoubleClick");Lo("focusin","onFocus");Lo("focusout","onBlur");Lo(Nj,"onTransitionEnd");pi("onMouseEnter",["mouseout","mouseover"]);pi("onMouseLeave",["mouseout","mouseover"]);pi("onPointerEnter",["pointerout","pointerover"]);pi("onPointerLeave",["pointerout","pointerover"]);va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));va("onBeforeInput",["compositionend","keypress","textInput","paste"]);va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function aw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,tk(r,t,void 0,e),e.currentTarget=null}function Dj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&o.isPropagationStopped())break e;aw(o,s,u),a=c}else for(i=0;i<r.length;i++){if(s=r[i],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&o.isPropagationStopped())break e;aw(o,s,u),a=c}}}if(eu)throw e=B1,eu=!1,B1=null,e}function dt(e,t){var n=t[Q1];n===void 0&&(n=t[Q1]=new Set);var r=e+"__bubble";n.has(r)||(Aj(t,e,2,!1),n.add(r))}function Vf(e,t,n){var r=0;t&&(r|=4),Aj(n,e,r,t)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Hs(e){if(!e[Jl]){e[Jl]=!0,qE.forEach(function(n){n!=="selectionchange"&&(rN.has(n)||Vf(n,!1,e),Vf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jl]||(t[Jl]=!0,Vf("selectionchange",!1,t))}}function Aj(e,t,n,r){switch(vj(t)){case 1:var o=vk;break;case 4:o=yk;break;default:o=Sy}n=o.bind(null,t,n,e),o=void 0,!q1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Uf(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;s!==null;){if(i=Xo(s),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}s=s.parentNode}}r=r.return}rj(function(){var u=a,d=xy(n),p=[];e:{var m=Pj.get(e);if(m!==void 0){var h=jy,v=e;switch(e){case"keypress":if(Ac(n)===0)break e;case"keydown":case"keyup":h=Dk;break;case"focusin":v="focus",h=Lf;break;case"focusout":v="blur",h=Lf;break;case"beforeblur":case"afterblur":h=Lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Mk;break;case Tj:case Rj:case kj:h=Sk;break;case Nj:h=Lk;break;case"scroll":h=_k;break;case"wheel":h=Fk;break;case"copy":case"cut":case"paste":h=jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Yx}var g=(t&4)!==0,x=!g&&e==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var _=u,w;_!==null;){w=_;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=Os(_,y),b!=null&&g.push(Vs(_,b,w)))),x)break;_=_.return}0<g.length&&(m=new h(m,v,null,n,d),p.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==z1&&(v=n.relatedTarget||n.fromElement)&&(Xo(v)||v[Hr]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?Xo(v):null,v!==null&&(x=ya(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(g=Wx,b="onMouseLeave",y="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(g=Yx,b="onPointerLeave",y="onPointerEnter",_="pointer"),x=h==null?m:Ya(h),w=v==null?m:Ya(v),m=new g(b,_+"leave",h,n,d),m.target=x,m.relatedTarget=w,b=null,Xo(d)===u&&(g=new g(y,_+"enter",v,n,d),g.target=w,g.relatedTarget=x,b=g),x=b,h&&v)t:{for(g=h,y=v,_=0,w=g;w;w=Na(w))_++;for(w=0,b=y;b;b=Na(b))w++;for(;0<_-w;)g=Na(g),_--;for(;0<w-_;)y=Na(y),w--;for(;_--;){if(g===y||y!==null&&g===y.alternate)break t;g=Na(g),y=Na(y)}g=null}else g=null;h!==null&&iw(p,m,h,g,!1),v!==null&&x!==null&&iw(p,x,v,g,!0)}}e:{if(m=u?Ya(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var S=Wk;else if(Qx(m))if(Cj)S=Zk;else{S=Yk;var k=Kk}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Xk);if(S&&(S=S(e,u))){bj(p,S,n,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&A1(m,"number",m.value)}switch(k=u?Ya(u):window,e){case"focusin":(Qx(k)||k.contentEditable==="true")&&(Wa=k,G1=u,ks=null);break;case"focusout":ks=G1=Wa=null;break;case"mousedown":W1=!0;break;case"contextmenu":case"mouseup":case"dragend":W1=!1,rw(p,n,d);break;case"selectionchange":if(eN)break;case"keydown":case"keyup":rw(p,n,d)}var j;if(Ty)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Ga?xj(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(_j&&n.locale!=="ko"&&(Ga||$!=="onCompositionStart"?$==="onCompositionEnd"&&Ga&&(j=yj()):(_o=d,Ey="value"in _o?_o.value:_o.textContent,Ga=!0)),k=au(u,$),0<k.length&&($=new Kx($,e,null,n,d),p.push({event:$,listeners:k}),j?$.data=j:(j=wj(n),j!==null&&($.data=j)))),(j=Bk?Hk(e,n):Vk(e,n))&&(u=au(u,"onBeforeInput"),0<u.length&&(d=new Kx("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=j))}Dj(p,t)})}function Vs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function au(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Os(e,n),a!=null&&r.unshift(Vs(e,a,o)),a=Os(e,t),a!=null&&r.push(Vs(e,a,o))),e=e.return}return r}function Na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iw(e,t,n,r,o){for(var a=t._reactName,i=[];n!==null&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&u!==null&&(s=u,o?(c=Os(n,a),c!=null&&i.unshift(Vs(n,c,s))):o||(c=Os(n,a),c!=null&&i.push(Vs(n,c,s)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var oN=/\r\n?/g,aN=/\u0000|\uFFFD/g;function sw(e){return(typeof e=="string"?e:""+e).replace(oN,`
`).replace(aN,"")}function ec(e,t,n){if(t=sw(t),sw(e)!==t&&n)throw Error(he(425))}function iu(){}var K1=null,Y1=null;function X1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Z1=typeof setTimeout=="function"?setTimeout:void 0,iN=typeof clearTimeout=="function"?clearTimeout:void 0,lw=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof lw<"u"?function(e){return lw.resolve(null).then(e).catch(lN)}:Z1;function lN(e){setTimeout(function(){throw e})}function Gf(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Fs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Fs(t)}function Eo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),dr="__reactFiber$"+Ni,Us="__reactProps$"+Ni,Hr="__reactContainer$"+Ni,Q1="__reactEvents$"+Ni,cN="__reactListeners$"+Ni,uN="__reactHandles$"+Ni;function Xo(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hr]||n[dr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cw(e);e!==null;){if(n=e[dr])return n;e=cw(e)}return t}e=n,n=e.parentNode}return null}function _l(e){return e=e[dr]||e[Hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ya(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function Zu(e){return e[Us]||null}var J1=[],Xa=-1;function zo(e){return{current:e}}function ft(e){0>Xa||(e.current=J1[Xa],J1[Xa]=null,Xa--)}function ct(e,t){Xa++,J1[Xa]=e.current,e.current=t}var Do={},Zt=zo(Do),mn=zo(!1),ca=Do;function hi(e,t){var n=e.type.contextTypes;if(!n)return Do;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gn(e){return e=e.childContextTypes,e!=null}function su(){ft(mn),ft(Zt)}function uw(e,t,n){if(Zt.current!==Do)throw Error(he(168));ct(Zt,t),ct(mn,n)}function Ij(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(he(108,KR(e)||"Unknown",o));return xt({},n,r)}function lu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Do,ca=Zt.current,ct(Zt,e),ct(mn,mn.current),!0}function dw(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=Ij(e,t,ca),r.__reactInternalMemoizedMergedChildContext=e,ft(mn),ft(Zt),ct(Zt,e)):ft(mn),ct(mn,n)}var Pr=null,Qu=!1,Wf=!1;function Mj(e){Pr===null?Pr=[e]:Pr.push(e)}function dN(e){Qu=!0,Mj(e)}function Fo(){if(!Wf&&Pr!==null){Wf=!0;var e=0,t=at;try{var n=Pr;for(at=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pr=null,Qu=!1}catch(o){throw Pr!==null&&(Pr=Pr.slice(e+1)),sj(wy,Fo),o}finally{at=t,Wf=!1}}return null}var Za=[],Qa=0,cu=null,uu=0,kn=[],Nn=0,ua=null,Ar=1,Ir="";function Go(e,t){Za[Qa++]=uu,Za[Qa++]=cu,cu=e,uu=t}function Oj(e,t,n){kn[Nn++]=Ar,kn[Nn++]=Ir,kn[Nn++]=ua,ua=e;var r=Ar;e=Ir;var o=32-er(r)-1;r&=~(1<<o),n+=1;var a=32-er(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Ar=1<<32-er(t)+o|n<<o|r,Ir=a+e}else Ar=1<<a|n<<o|r,Ir=e}function ky(e){e.return!==null&&(Go(e,1),Oj(e,1,0))}function Ny(e){for(;e===cu;)cu=Za[--Qa],Za[Qa]=null,uu=Za[--Qa],Za[Qa]=null;for(;e===ua;)ua=kn[--Nn],kn[Nn]=null,Ir=kn[--Nn],kn[Nn]=null,Ar=kn[--Nn],kn[Nn]=null}var Sn=null,bn=null,mt=!1,Qn=null;function Lj(e,t){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sn=e,bn=Eo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ua!==null?{id:Ar,overflow:Ir}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Sn=e,bn=null,!0):!1;default:return!1}}function ev(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tv(e){if(mt){var t=bn;if(t){var n=t;if(!fw(e,t)){if(ev(e))throw Error(he(418));t=Eo(n.nextSibling);var r=Sn;t&&fw(e,t)?Lj(r,n):(e.flags=e.flags&-4097|2,mt=!1,Sn=e)}}else{if(ev(e))throw Error(he(418));e.flags=e.flags&-4097|2,mt=!1,Sn=e}}}function pw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sn=e}function tc(e){if(e!==Sn)return!1;if(!mt)return pw(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!X1(e.type,e.memoizedProps)),t&&(t=bn)){if(ev(e))throw zj(),Error(he(418));for(;t;)Lj(e,t),t=Eo(t.nextSibling)}if(pw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bn=Eo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=Sn?Eo(e.stateNode.nextSibling):null;return!0}function zj(){for(var e=bn;e;)e=Eo(e.nextSibling)}function mi(){bn=Sn=null,mt=!1}function Py(e){Qn===null?Qn=[e]:Qn.push(e)}var fN=Qr.ReactCurrentBatchConfig;function Yn(e,t){if(e&&e.defaultProps){t=xt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var du=zo(null),fu=null,Ja=null,Dy=null;function Ay(){Dy=Ja=fu=null}function Iy(e){var t=du.current;ft(du),e._currentValue=t}function nv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function si(e,t){fu=e,Dy=Ja=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pn=!0),e.firstContext=null)}function qn(e){var t=e._currentValue;if(Dy!==e)if(e={context:e,memoizedValue:t,next:null},Ja===null){if(fu===null)throw Error(he(308));Ja=e,fu.dependencies={lanes:0,firstContext:e}}else Ja=Ja.next=e;return t}var Zo=null;function My(e){Zo===null?Zo=[e]:Zo.push(e)}function Fj(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,My(t)):(n.next=o.next,o.next=n),t.interleaved=n,Vr(e,r)}function Vr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var po=!1;function Oy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,tt&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Vr(e,n)}return o=r.interleaved,o===null?(t.next=t,My(r)):(t.next=o.next,o.next=t),r.interleaved=t,Vr(e,n)}function Ic(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,by(e,n)}}function hw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pu(e,t,n,r){var o=e.updateQueue;po=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var c=s,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==i&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(a!==null){var p=o.baseState;i=0,d=u=c=null,s=a;do{var m=s.lane,h=s.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,g=s;switch(m=t,h=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){p=v.call(h,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,m=typeof v=="function"?v.call(h,p,m):v,m==null)break e;p=xt({},p,m);break e;case 2:po=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[s]:m.push(s))}else h={eventTime:h,lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=h,c=p):d=d.next=h,i|=m;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;m=s,s=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(d===null&&(c=p),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);fa|=i,e.lanes=i,e.memoizedState=p}}function mw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(he(191,o));o.call(r)}}}var Bj=new FE.Component().refs;function rv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ju={isMounted:function(e){return(e=e._reactInternals)?ya(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nn(),o=To(e),a=zr(r,o);a.payload=t,n!=null&&(a.callback=n),t=jo(e,a,o),t!==null&&(tr(t,e,o,r),Ic(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nn(),o=To(e),a=zr(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=jo(e,a,o),t!==null&&(tr(t,e,o,r),Ic(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nn(),r=To(e),o=zr(n,r);o.tag=2,t!=null&&(o.callback=t),t=jo(e,o,r),t!==null&&(tr(t,e,r,n),Ic(t,e,r))}};function gw(e,t,n,r,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!Bs(n,r)||!Bs(o,a):!0}function Hj(e,t,n){var r=!1,o=Do,a=t.contextType;return typeof a=="object"&&a!==null?a=qn(a):(o=gn(t)?ca:Zt.current,r=t.contextTypes,a=(r=r!=null)?hi(e,o):Do),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ju,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function vw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ju.enqueueReplaceState(t,t.state,null)}function ov(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Bj,Oy(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=qn(a):(a=gn(t)?ca:Zt.current,o.context=hi(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(rv(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ju.enqueueReplaceState(o,o.state,null),pu(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var s=o.refs;s===Bj&&(s=o.refs={}),i===null?delete s[a]:s[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function nc(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yw(e){var t=e._init;return t(e._payload)}function Vj(e){function t(y,_){if(e){var w=y.deletions;w===null?(y.deletions=[_],y.flags|=16):w.push(_)}}function n(y,_){if(!e)return null;for(;_!==null;)t(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function o(y,_){return y=Ro(y,_),y.index=0,y.sibling=null,y}function a(y,_,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<_?(y.flags|=2,_):w):(y.flags|=2,_)):(y.flags|=1048576,_)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,_,w,b){return _===null||_.tag!==6?(_=ep(w,y.mode,b),_.return=y,_):(_=o(_,w),_.return=y,_)}function c(y,_,w,b){var S=w.type;return S===Ua?d(y,_,w.props.children,b,w.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===fo&&yw(S)===_.type)?(b=o(_,w.props),b.ref=Ji(y,_,w),b.return=y,b):(b=qc(w.type,w.key,w.props,null,y.mode,b),b.ref=Ji(y,_,w),b.return=y,b)}function u(y,_,w,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=tp(w,y.mode,b),_.return=y,_):(_=o(_,w.children||[]),_.return=y,_)}function d(y,_,w,b,S){return _===null||_.tag!==7?(_=aa(w,y.mode,b,S),_.return=y,_):(_=o(_,w),_.return=y,_)}function p(y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ep(""+_,y.mode,w),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ul:return w=qc(_.type,_.key,_.props,null,y.mode,w),w.ref=Ji(y,null,_),w.return=y,w;case Va:return _=tp(_,y.mode,w),_.return=y,_;case fo:var b=_._init;return p(y,b(_._payload),w)}if(ps(_)||Ki(_))return _=aa(_,y.mode,w,null),_.return=y,_;nc(y,_)}return null}function m(y,_,w,b){var S=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(y,_,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:return w.key===S?c(y,_,w,b):null;case Va:return w.key===S?u(y,_,w,b):null;case fo:return S=w._init,m(y,_,S(w._payload),b)}if(ps(w)||Ki(w))return S!==null?null:d(y,_,w,b,null);nc(y,w)}return null}function h(y,_,w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,s(_,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ul:return y=y.get(b.key===null?w:b.key)||null,c(_,y,b,S);case Va:return y=y.get(b.key===null?w:b.key)||null,u(_,y,b,S);case fo:var k=b._init;return h(y,_,w,k(b._payload),S)}if(ps(b)||Ki(b))return y=y.get(w)||null,d(_,y,b,S,null);nc(_,b)}return null}function v(y,_,w,b){for(var S=null,k=null,j=_,$=_=0,C=null;j!==null&&$<w.length;$++){j.index>$?(C=j,j=null):C=j.sibling;var R=m(y,j,w[$],b);if(R===null){j===null&&(j=C);break}e&&j&&R.alternate===null&&t(y,j),_=a(R,_,$),k===null?S=R:k.sibling=R,k=R,j=C}if($===w.length)return n(y,j),mt&&Go(y,$),S;if(j===null){for(;$<w.length;$++)j=p(y,w[$],b),j!==null&&(_=a(j,_,$),k===null?S=j:k.sibling=j,k=j);return mt&&Go(y,$),S}for(j=r(y,j);$<w.length;$++)C=h(j,y,$,w[$],b),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?$:C.key),_=a(C,_,$),k===null?S=C:k.sibling=C,k=C);return e&&j.forEach(function(D){return t(y,D)}),mt&&Go(y,$),S}function g(y,_,w,b){var S=Ki(w);if(typeof S!="function")throw Error(he(150));if(w=S.call(w),w==null)throw Error(he(151));for(var k=S=null,j=_,$=_=0,C=null,R=w.next();j!==null&&!R.done;$++,R=w.next()){j.index>$?(C=j,j=null):C=j.sibling;var D=m(y,j,R.value,b);if(D===null){j===null&&(j=C);break}e&&j&&D.alternate===null&&t(y,j),_=a(D,_,$),k===null?S=D:k.sibling=D,k=D,j=C}if(R.done)return n(y,j),mt&&Go(y,$),S;if(j===null){for(;!R.done;$++,R=w.next())R=p(y,R.value,b),R!==null&&(_=a(R,_,$),k===null?S=R:k.sibling=R,k=R);return mt&&Go(y,$),S}for(j=r(y,j);!R.done;$++,R=w.next())R=h(j,y,$,R.value,b),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?$:R.key),_=a(R,_,$),k===null?S=R:k.sibling=R,k=R);return e&&j.forEach(function(q){return t(y,q)}),mt&&Go(y,$),S}function x(y,_,w,b){if(typeof w=="object"&&w!==null&&w.type===Ua&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:e:{for(var S=w.key,k=_;k!==null;){if(k.key===S){if(S=w.type,S===Ua){if(k.tag===7){n(y,k.sibling),_=o(k,w.props.children),_.return=y,y=_;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===fo&&yw(S)===k.type){n(y,k.sibling),_=o(k,w.props),_.ref=Ji(y,k,w),_.return=y,y=_;break e}n(y,k);break}else t(y,k);k=k.sibling}w.type===Ua?(_=aa(w.props.children,y.mode,b,w.key),_.return=y,y=_):(b=qc(w.type,w.key,w.props,null,y.mode,b),b.ref=Ji(y,_,w),b.return=y,y=b)}return i(y);case Va:e:{for(k=w.key;_!==null;){if(_.key===k)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(y,_.sibling),_=o(_,w.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else t(y,_);_=_.sibling}_=tp(w,y.mode,b),_.return=y,y=_}return i(y);case fo:return k=w._init,x(y,_,k(w._payload),b)}if(ps(w))return v(y,_,w,b);if(Ki(w))return g(y,_,w,b);nc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(y,_.sibling),_=o(_,w),_.return=y,y=_):(n(y,_),_=ep(w,y.mode,b),_.return=y,y=_),i(y)):n(y,_)}return x}var gi=Vj(!0),Uj=Vj(!1),xl={},vr=zo(xl),Gs=zo(xl),Ws=zo(xl);function Qo(e){if(e===xl)throw Error(he(174));return e}function Ly(e,t){switch(ct(Ws,t),ct(Gs,e),ct(vr,xl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:M1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=M1(t,e)}ft(vr),ct(vr,t)}function vi(){ft(vr),ft(Gs),ft(Ws)}function Gj(e){Qo(Ws.current);var t=Qo(vr.current),n=M1(t,e.type);t!==n&&(ct(Gs,e),ct(vr,n))}function zy(e){Gs.current===e&&(ft(vr),ft(Gs))}var yt=zo(0);function hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kf=[];function Fy(){for(var e=0;e<Kf.length;e++)Kf[e]._workInProgressVersionPrimary=null;Kf.length=0}var Mc=Qr.ReactCurrentDispatcher,Yf=Qr.ReactCurrentBatchConfig,da=0,_t=null,Dt=null,Ot=null,mu=!1,Ns=!1,Ks=0,pN=0;function Gt(){throw Error(he(321))}function qy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function By(e,t,n,r,o,a){if(da=a,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mc.current=e===null||e.memoizedState===null?vN:yN,e=n(r,o),Ns){a=0;do{if(Ns=!1,Ks=0,25<=a)throw Error(he(301));a+=1,Ot=Dt=null,t.updateQueue=null,Mc.current=_N,e=n(r,o)}while(Ns)}if(Mc.current=gu,t=Dt!==null&&Dt.next!==null,da=0,Ot=Dt=_t=null,mu=!1,t)throw Error(he(300));return e}function Hy(){var e=Ks!==0;return Ks=0,e}function ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?_t.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Bn(){if(Dt===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=Ot===null?_t.memoizedState:Ot.next;if(t!==null)Ot=t,Dt=e;else{if(e===null)throw Error(he(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ot===null?_t.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function Ys(e,t){return typeof t=="function"?t(e):t}function Xf(e){var t=Bn(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=Dt,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var s=i=null,c=null,u=a;do{var d=u.lane;if((da&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=p,i=r):c=c.next=p,_t.lanes|=d,fa|=d}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=s,or(r,t.memoizedState)||(pn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,_t.lanes|=a,fa|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zf(e){var t=Bn(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);or(a,t.memoizedState)||(pn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Wj(){}function Kj(e,t){var n=_t,r=Bn(),o=t(),a=!or(r.memoizedState,o);if(a&&(r.memoizedState=o,pn=!0),r=r.queue,Vy(Zj.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Xs(9,Xj.bind(null,n,r,o,t),void 0,null),Lt===null)throw Error(he(349));da&30||Yj(n,t,o)}return o}function Yj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xj(e,t,n,r){t.value=n,t.getSnapshot=r,Qj(t)&&Jj(e)}function Zj(e,t,n){return n(function(){Qj(t)&&Jj(e)})}function Qj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch{return!0}}function Jj(e){var t=Vr(e,1);t!==null&&tr(t,e,1,-1)}function _w(e){var t=ur();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},t.queue=e,e=e.dispatch=gN.bind(null,_t,e),[t.memoizedState,e]}function Xs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function e$(){return Bn().memoizedState}function Oc(e,t,n,r){var o=ur();_t.flags|=e,o.memoizedState=Xs(1|t,n,void 0,r===void 0?null:r)}function ed(e,t,n,r){var o=Bn();r=r===void 0?null:r;var a=void 0;if(Dt!==null){var i=Dt.memoizedState;if(a=i.destroy,r!==null&&qy(r,i.deps)){o.memoizedState=Xs(t,n,a,r);return}}_t.flags|=e,o.memoizedState=Xs(1|t,n,a,r)}function xw(e,t){return Oc(8390656,8,e,t)}function Vy(e,t){return ed(2048,8,e,t)}function t$(e,t){return ed(4,2,e,t)}function n$(e,t){return ed(4,4,e,t)}function r$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o$(e,t,n){return n=n!=null?n.concat([e]):null,ed(4,4,r$.bind(null,t,e),n)}function Uy(){}function a$(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function i$(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function s$(e,t,n){return da&21?(or(n,t)||(n=uj(),_t.lanes|=n,fa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pn=!0),e.memoizedState=n)}function hN(e,t){var n=at;at=n!==0&&4>n?n:4,e(!0);var r=Yf.transition;Yf.transition={};try{e(!1),t()}finally{at=n,Yf.transition=r}}function l$(){return Bn().memoizedState}function mN(e,t,n){var r=To(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},c$(e))u$(t,n);else if(n=Fj(e,t,n,r),n!==null){var o=nn();tr(n,e,r,o),d$(n,t,r)}}function gN(e,t,n){var r=To(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(c$(e))u$(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,or(s,i)){var c=t.interleaved;c===null?(o.next=o,My(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Fj(e,t,o,r),n!==null&&(o=nn(),tr(n,e,r,o),d$(n,t,r))}}function c$(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function u$(e,t){Ns=mu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function d$(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,by(e,n)}}var gu={readContext:qn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},vN={readContext:qn,useCallback:function(e,t){return ur().memoizedState=[e,t===void 0?null:t],e},useContext:qn,useEffect:xw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oc(4194308,4,r$.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oc(4,2,e,t)},useMemo:function(e,t){var n=ur();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ur();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mN.bind(null,_t,e),[r.memoizedState,e]},useRef:function(e){var t=ur();return e={current:e},t.memoizedState=e},useState:_w,useDebugValue:Uy,useDeferredValue:function(e){return ur().memoizedState=e},useTransition:function(){var e=_w(!1),t=e[0];return e=hN.bind(null,e[1]),ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_t,o=ur();if(mt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),Lt===null)throw Error(he(349));da&30||Yj(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,xw(Zj.bind(null,r,a,e),[e]),r.flags|=2048,Xs(9,Xj.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ur(),t=Lt.identifierPrefix;if(mt){var n=Ir,r=Ar;n=(r&~(1<<32-er(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ks++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yN={readContext:qn,useCallback:a$,useContext:qn,useEffect:Vy,useImperativeHandle:o$,useInsertionEffect:t$,useLayoutEffect:n$,useMemo:i$,useReducer:Xf,useRef:e$,useState:function(){return Xf(Ys)},useDebugValue:Uy,useDeferredValue:function(e){var t=Bn();return s$(t,Dt.memoizedState,e)},useTransition:function(){var e=Xf(Ys)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:Wj,useSyncExternalStore:Kj,useId:l$,unstable_isNewReconciler:!1},_N={readContext:qn,useCallback:a$,useContext:qn,useEffect:Vy,useImperativeHandle:o$,useInsertionEffect:t$,useLayoutEffect:n$,useMemo:i$,useReducer:Zf,useRef:e$,useState:function(){return Zf(Ys)},useDebugValue:Uy,useDeferredValue:function(e){var t=Bn();return Dt===null?t.memoizedState=e:s$(t,Dt.memoizedState,e)},useTransition:function(){var e=Zf(Ys)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:Wj,useSyncExternalStore:Kj,useId:l$,unstable_isNewReconciler:!1};function yi(e,t){try{var n="",r=t;do n+=WR(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Qf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function av(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xN=typeof WeakMap=="function"?WeakMap:Map;function f$(e,t,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){yu||(yu=!0,mv=r),av(e,t)},n}function p$(e,t,n){n=zr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){av(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){av(e,t),typeof r!="function"&&($o===null?$o=new Set([this]):$o.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ww(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xN;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=AN.bind(null,e,t,n),t.then(e,e))}function bw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cw(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zr(-1,1),t.tag=2,jo(n,t,1))),n.lanes|=1),e)}var wN=Qr.ReactCurrentOwner,pn=!1;function Jt(e,t,n,r){t.child=e===null?Uj(t,null,n,r):gi(t,e.child,n,r)}function Sw(e,t,n,r,o){n=n.render;var a=t.ref;return si(t,o),r=By(e,t,n,r,a,o),n=Hy(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ur(e,t,o)):(mt&&n&&ky(t),t.flags|=1,Jt(e,t,r,o),t.child)}function Ew(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!Jy(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,h$(e,t,a,r,o)):(e=qc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Bs,n(i,r)&&e.ref===t.ref)return Ur(e,t,o)}return t.flags|=1,e=Ro(a,r),e.ref=t.ref,e.return=t,t.child=e}function h$(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(Bs(a,r)&&e.ref===t.ref)if(pn=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(pn=!0);else return t.lanes=e.lanes,Ur(e,t,o)}return iv(e,t,n,r,o)}function m$(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(ti,_n),_n|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(ti,_n),_n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ct(ti,_n),_n|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ct(ti,_n),_n|=r;return Jt(e,t,o,n),t.child}function g$(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function iv(e,t,n,r,o){var a=gn(n)?ca:Zt.current;return a=hi(t,a),si(t,o),n=By(e,t,n,r,a,o),r=Hy(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ur(e,t,o)):(mt&&r&&ky(t),t.flags|=1,Jt(e,t,n,o),t.child)}function jw(e,t,n,r,o){if(gn(n)){var a=!0;lu(t)}else a=!1;if(si(t,o),t.stateNode===null)Lc(e,t),Hj(t,n,r),ov(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=qn(u):(u=gn(n)?ca:Zt.current,u=hi(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==r||c!==u)&&vw(t,i,r,u),po=!1;var m=t.memoizedState;i.state=m,pu(t,r,i,o),c=t.memoizedState,s!==r||m!==c||mn.current||po?(typeof d=="function"&&(rv(t,n,d,r),c=t.memoizedState),(s=po||gw(t,n,s,r,m,c,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,qj(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Yn(t.type,s),i.props=u,p=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=qn(c):(c=gn(n)?ca:Zt.current,c=hi(t,c));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==p||m!==c)&&vw(t,i,r,c),po=!1,m=t.memoizedState,i.state=m,pu(t,r,i,o);var v=t.memoizedState;s!==p||m!==v||mn.current||po?(typeof h=="function"&&(rv(t,n,h,r),v=t.memoizedState),(u=po||gw(t,n,u,r,m,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return sv(e,t,n,r,a,o)}function sv(e,t,n,r,o,a){g$(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&dw(t,n,!1),Ur(e,t,a);r=t.stateNode,wN.current=t;var s=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=gi(t,e.child,null,a),t.child=gi(t,null,s,a)):Jt(e,t,s,a),t.memoizedState=r.state,o&&dw(t,n,!0),t.child}function v$(e){var t=e.stateNode;t.pendingContext?uw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uw(e,t.context,!1),Ly(e,t.containerInfo)}function $w(e,t,n,r,o){return mi(),Py(o),t.flags|=256,Jt(e,t,n,r),t.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function cv(e){return{baseLanes:e,cachePool:null,transitions:null}}function y$(e,t,n){var r=t.pendingProps,o=yt.current,a=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ct(yt,o&1),e===null)return tv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=rd(i,r,0,null),e=aa(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=cv(n),t.memoizedState=lv,e):Gy(t,i));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return bN(e,t,i,r,s,o,n);if(a){a=r.fallback,i=t.mode,o=e.child,s=o.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ro(o,c),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?a=Ro(s,a):(a=aa(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?cv(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=lv,r}return a=e.child,e=a.sibling,r=Ro(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gy(e,t){return t=rd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rc(e,t,n,r){return r!==null&&Py(r),gi(t,e.child,null,n),e=Gy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bN(e,t,n,r,o,a,i){if(n)return t.flags&256?(t.flags&=-257,r=Qf(Error(he(422))),rc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=rd({mode:"visible",children:r.children},o,0,null),a=aa(a,o,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&gi(t,e.child,null,i),t.child.memoizedState=cv(i),t.memoizedState=lv,a);if(!(t.mode&1))return rc(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(he(419)),r=Qf(a,r,void 0),rc(e,t,i,r)}if(s=(i&e.childLanes)!==0,pn||s){if(r=Lt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Vr(e,o),tr(r,e,o,-1))}return Qy(),r=Qf(Error(he(421))),rc(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=IN.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,bn=Eo(o.nextSibling),Sn=t,mt=!0,Qn=null,e!==null&&(kn[Nn++]=Ar,kn[Nn++]=Ir,kn[Nn++]=ua,Ar=e.id,Ir=e.overflow,ua=t),t=Gy(t,r.children),t.flags|=4096,t)}function Tw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nv(e.return,t,n)}function Jf(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function _$(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Jt(e,t,r.children,n),r=yt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tw(e,n,t);else if(e.tag===19)Tw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ct(yt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&hu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Jf(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&hu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Jf(t,!0,n,null,a);break;case"together":Jf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ur(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Ro(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ro(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function CN(e,t,n){switch(t.tag){case 3:v$(t),mi();break;case 5:Gj(t);break;case 1:gn(t.type)&&lu(t);break;case 4:Ly(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ct(du,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ct(yt,yt.current&1),t.flags|=128,null):n&t.child.childLanes?y$(e,t,n):(ct(yt,yt.current&1),e=Ur(e,t,n),e!==null?e.sibling:null);ct(yt,yt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _$(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ct(yt,yt.current),r)break;return null;case 22:case 23:return t.lanes=0,m$(e,t,n)}return Ur(e,t,n)}var x$,uv,w$,b$;x$=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uv=function(){};w$=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Qo(vr.current);var a=null;switch(n){case"input":o=P1(e,o),r=P1(e,r),a=[];break;case"select":o=xt({},o,{value:void 0}),r=xt({},r,{value:void 0}),a=[];break;case"textarea":o=I1(e,o),r=I1(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=iu)}O1(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Is.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(s=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(i in s)!s.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&s[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Is.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&dt("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};b$=function(e,t,n,r){n!==r&&(t.flags|=4)};function es(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SN(e,t,n){var r=t.pendingProps;switch(Ny(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(t),null;case 1:return gn(t.type)&&su(),Wt(t),null;case 3:return r=t.stateNode,vi(),ft(mn),ft(Zt),Fy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(tc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qn!==null&&(yv(Qn),Qn=null))),uv(e,t),Wt(t),null;case 5:zy(t);var o=Qo(Ws.current);if(n=t.type,e!==null&&t.stateNode!=null)w$(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return Wt(t),null}if(e=Qo(vr.current),tc(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[dr]=t,r[Us]=a,e=(t.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(o=0;o<ms.length;o++)dt(ms[o],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":Ox(r,a),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},dt("invalid",r);break;case"textarea":zx(r,a),dt("invalid",r)}O1(n,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var s=a[i];i==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&ec(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&ec(r.textContent,s,e),o=["children",""+s]):Is.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&dt("scroll",r)}switch(n){case"input":Gl(r),Lx(r,a,!0);break;case"textarea":Gl(r),Fx(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=iu)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[dr]=t,e[Us]=r,x$(e,t,!1,!1),t.stateNode=e;e:{switch(i=L1(n,r),n){case"dialog":dt("cancel",e),dt("close",e),o=r;break;case"iframe":case"object":case"embed":dt("load",e),o=r;break;case"video":case"audio":for(o=0;o<ms.length;o++)dt(ms[o],e);o=r;break;case"source":dt("error",e),o=r;break;case"img":case"image":case"link":dt("error",e),dt("load",e),o=r;break;case"details":dt("toggle",e),o=r;break;case"input":Ox(e,r),o=P1(e,r),dt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=xt({},r,{value:void 0}),dt("invalid",e);break;case"textarea":zx(e,r),o=I1(e,r),dt("invalid",e);break;default:o=r}O1(n,o),s=o;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?QE(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&XE(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ms(e,c):typeof c=="number"&&Ms(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Is.hasOwnProperty(a)?c!=null&&a==="onScroll"&&dt("scroll",e):c!=null&&gy(e,a,c,i))}switch(n){case"input":Gl(e),Lx(e,r,!1);break;case"textarea":Gl(e),Fx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Po(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ri(e,!!r.multiple,a,!1):r.defaultValue!=null&&ri(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wt(t),null;case 6:if(e&&t.stateNode!=null)b$(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=Qo(Ws.current),Qo(vr.current),tc(t)){if(r=t.stateNode,n=t.memoizedProps,r[dr]=t,(a=r.nodeValue!==n)&&(e=Sn,e!==null))switch(e.tag){case 3:ec(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ec(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=t,t.stateNode=r}return Wt(t),null;case 13:if(ft(yt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&bn!==null&&t.mode&1&&!(t.flags&128))zj(),mi(),t.flags|=98560,a=!1;else if(a=tc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(he(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[dr]=t}else mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wt(t),a=!1}else Qn!==null&&(yv(Qn),Qn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?At===0&&(At=3):Qy())),t.updateQueue!==null&&(t.flags|=4),Wt(t),null);case 4:return vi(),uv(e,t),e===null&&Hs(t.stateNode.containerInfo),Wt(t),null;case 10:return Iy(t.type._context),Wt(t),null;case 17:return gn(t.type)&&su(),Wt(t),null;case 19:if(ft(yt),a=t.memoizedState,a===null)return Wt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)es(a,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=hu(e),i!==null){for(t.flags|=128,es(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ct(yt,yt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Et()>_i&&(t.flags|=128,r=!0,es(a,!1),t.lanes=4194304)}else{if(!r)if(e=hu(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),es(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!mt)return Wt(t),null}else 2*Et()-a.renderingStartTime>_i&&n!==1073741824&&(t.flags|=128,r=!0,es(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Et(),t.sibling=null,n=yt.current,ct(yt,r?n&1|2:n&1),t):(Wt(t),null);case 22:case 23:return Zy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_n&1073741824&&(Wt(t),t.subtreeFlags&6&&(t.flags|=8192)):Wt(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function EN(e,t){switch(Ny(t),t.tag){case 1:return gn(t.type)&&su(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vi(),ft(mn),ft(Zt),Fy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zy(t),null;case 13:if(ft(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(yt),null;case 4:return vi(),null;case 10:return Iy(t.type._context),null;case 22:case 23:return Zy(),null;case 24:return null;default:return null}}var oc=!1,Kt=!1,jN=typeof WeakSet=="function"?WeakSet:Set,je=null;function ei(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(e,t,r)}else n.current=null}function dv(e,t,n){try{n()}catch(r){bt(e,t,r)}}var Rw=!1;function $N(e,t){if(K1=ru,e=jj(),Ry(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,s=-1,c=-1,u=0,d=0,p=e,m=null;t:for(;;){for(var h;p!==n||o!==0&&p.nodeType!==3||(s=i+o),p!==a||r!==0&&p.nodeType!==3||(c=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(h=p.firstChild)!==null;)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++u===o&&(s=i),m===a&&++d===r&&(c=i),(h=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=h}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Y1={focusedElem:e,selectionRange:n},ru=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Yn(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(b){bt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return v=Rw,Rw=!1,v}function Ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&dv(t,n,a)}o=o.next}while(o!==r)}}function td(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function C$(e){var t=e.alternate;t!==null&&(e.alternate=null,C$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dr],delete t[Us],delete t[Q1],delete t[cN],delete t[uN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function S$(e){return e.tag===5||e.tag===3||e.tag===4}function kw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||S$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=iu));else if(r!==4&&(e=e.child,e!==null))for(pv(e,t,n),e=e.sibling;e!==null;)pv(e,t,n),e=e.sibling}function hv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hv(e,t,n),e=e.sibling;e!==null;)hv(e,t,n),e=e.sibling}var Ft=null,Xn=!1;function io(e,t,n){for(n=n.child;n!==null;)E$(e,t,n),n=n.sibling}function E$(e,t,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Wu,n)}catch{}switch(n.tag){case 5:Kt||ei(n,t);case 6:var r=Ft,o=Xn;Ft=null,io(e,t,n),Ft=r,Xn=o,Ft!==null&&(Xn?(e=Ft,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(Xn?(e=Ft,n=n.stateNode,e.nodeType===8?Gf(e.parentNode,n):e.nodeType===1&&Gf(e,n),Fs(e)):Gf(Ft,n.stateNode));break;case 4:r=Ft,o=Xn,Ft=n.stateNode.containerInfo,Xn=!0,io(e,t,n),Ft=r,Xn=o;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&dv(n,t,i),o=o.next}while(o!==r)}io(e,t,n);break;case 1:if(!Kt&&(ei(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){bt(n,t,s)}io(e,t,n);break;case 21:io(e,t,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,io(e,t,n),Kt=r):io(e,t,n);break;default:io(e,t,n)}}function Nw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jN),t.forEach(function(r){var o=MN.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Kn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Ft=s.stateNode,Xn=!1;break e;case 3:Ft=s.stateNode.containerInfo,Xn=!0;break e;case 4:Ft=s.stateNode.containerInfo,Xn=!0;break e}s=s.return}if(Ft===null)throw Error(he(160));E$(a,i,o),Ft=null,Xn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){bt(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j$(t,e),t=t.sibling}function j$(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kn(t,e),cr(e),r&4){try{Ps(3,e,e.return),td(3,e)}catch(g){bt(e,e.return,g)}try{Ps(5,e,e.return)}catch(g){bt(e,e.return,g)}}break;case 1:Kn(t,e),cr(e),r&512&&n!==null&&ei(n,n.return);break;case 5:if(Kn(t,e),cr(e),r&512&&n!==null&&ei(n,n.return),e.flags&32){var o=e.stateNode;try{Ms(o,"")}catch(g){bt(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&WE(o,a),L1(s,i);var u=L1(s,a);for(i=0;i<c.length;i+=2){var d=c[i],p=c[i+1];d==="style"?QE(o,p):d==="dangerouslySetInnerHTML"?XE(o,p):d==="children"?Ms(o,p):gy(o,d,p,u)}switch(s){case"input":D1(o,a);break;case"textarea":KE(o,a);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?ri(o,!!a.multiple,h,!1):m!==!!a.multiple&&(a.defaultValue!=null?ri(o,!!a.multiple,a.defaultValue,!0):ri(o,!!a.multiple,a.multiple?[]:"",!1))}o[Us]=a}catch(g){bt(e,e.return,g)}}break;case 6:if(Kn(t,e),cr(e),r&4){if(e.stateNode===null)throw Error(he(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){bt(e,e.return,g)}}break;case 3:if(Kn(t,e),cr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fs(t.containerInfo)}catch(g){bt(e,e.return,g)}break;case 4:Kn(t,e),cr(e);break;case 13:Kn(t,e),cr(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Yy=Et())),r&4&&Nw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Kt=(u=Kt)||d,Kn(t,e),Kt=u):Kn(t,e),cr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(je=e,d=e.child;d!==null;){for(p=je=d;je!==null;){switch(m=je,h=m.child,m.tag){case 0:case 11:case 14:case 15:Ps(4,m,m.return);break;case 1:ei(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){bt(r,n,g)}}break;case 5:ei(m,m.return);break;case 22:if(m.memoizedState!==null){Dw(p);continue}}h!==null?(h.return=m,je=h):Dw(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{o=p.stateNode,u?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=ZE("display",i))}catch(g){bt(e,e.return,g)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){bt(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Kn(t,e),cr(e),r&4&&Nw(e);break;case 21:break;default:Kn(t,e),cr(e)}}function cr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(S$(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ms(o,""),r.flags&=-33);var a=kw(e);hv(e,a,o);break;case 3:case 4:var i=r.stateNode.containerInfo,s=kw(e);pv(e,s,i);break;default:throw Error(he(161))}}catch(c){bt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TN(e,t,n){je=e,$$(e)}function $$(e,t,n){for(var r=(e.mode&1)!==0;je!==null;){var o=je,a=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||oc;if(!i){var s=o.alternate,c=s!==null&&s.memoizedState!==null||Kt;s=oc;var u=Kt;if(oc=i,(Kt=c)&&!u)for(je=o;je!==null;)i=je,c=i.child,i.tag===22&&i.memoizedState!==null?Aw(o):c!==null?(c.return=i,je=c):Aw(o);for(;a!==null;)je=a,$$(a),a=a.sibling;je=o,oc=s,Kt=u}Pw(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,je=a):Pw(e)}}function Pw(e){for(;je!==null;){var t=je;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||td(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Yn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&mw(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mw(t,i,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Fs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Kt||t.flags&512&&fv(t)}catch(m){bt(t,t.return,m)}}if(t===e){je=null;break}if(n=t.sibling,n!==null){n.return=t.return,je=n;break}je=t.return}}function Dw(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var n=t.sibling;if(n!==null){n.return=t.return,je=n;break}je=t.return}}function Aw(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{td(4,t)}catch(c){bt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){bt(t,o,c)}}var a=t.return;try{fv(t)}catch(c){bt(t,a,c)}break;case 5:var i=t.return;try{fv(t)}catch(c){bt(t,i,c)}}}catch(c){bt(t,t.return,c)}if(t===e){je=null;break}var s=t.sibling;if(s!==null){s.return=t.return,je=s;break}je=t.return}}var RN=Math.ceil,vu=Qr.ReactCurrentDispatcher,Wy=Qr.ReactCurrentOwner,Mn=Qr.ReactCurrentBatchConfig,tt=0,Lt=null,$t=null,Bt=0,_n=0,ti=zo(0),At=0,Zs=null,fa=0,nd=0,Ky=0,Ds=null,fn=null,Yy=0,_i=1/0,kr=null,yu=!1,mv=null,$o=null,ac=!1,xo=null,_u=0,As=0,gv=null,zc=-1,Fc=0;function nn(){return tt&6?Et():zc!==-1?zc:zc=Et()}function To(e){return e.mode&1?tt&2&&Bt!==0?Bt&-Bt:fN.transition!==null?(Fc===0&&(Fc=uj()),Fc):(e=at,e!==0||(e=window.event,e=e===void 0?16:vj(e.type)),e):1}function tr(e,t,n,r){if(50<As)throw As=0,gv=null,Error(he(185));vl(e,n,r),(!(tt&2)||e!==Lt)&&(e===Lt&&(!(tt&2)&&(nd|=n),At===4&&vo(e,Bt)),vn(e,r),n===1&&tt===0&&!(t.mode&1)&&(_i=Et()+500,Qu&&Fo()))}function vn(e,t){var n=e.callbackNode;fk(e,t);var r=nu(e,e===Lt?Bt:0);if(r===0)n!==null&&Hx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hx(n),t===1)e.tag===0?dN(Iw.bind(null,e)):Mj(Iw.bind(null,e)),sN(function(){!(tt&6)&&Fo()}),n=null;else{switch(dj(r)){case 1:n=wy;break;case 4:n=lj;break;case 16:n=tu;break;case 536870912:n=cj;break;default:n=tu}n=I$(n,T$.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function T$(e,t){if(zc=-1,Fc=0,tt&6)throw Error(he(327));var n=e.callbackNode;if(li()&&e.callbackNode!==n)return null;var r=nu(e,e===Lt?Bt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xu(e,r);else{t=r;var o=tt;tt|=2;var a=k$();(Lt!==e||Bt!==t)&&(kr=null,_i=Et()+500,oa(e,t));do try{PN();break}catch(s){R$(e,s)}while(!0);Ay(),vu.current=a,tt=o,$t!==null?t=0:(Lt=null,Bt=0,t=At)}if(t!==0){if(t===2&&(o=H1(e),o!==0&&(r=o,t=vv(e,o))),t===1)throw n=Zs,oa(e,0),vo(e,r),vn(e,Et()),n;if(t===6)vo(e,r);else{if(o=e.current.alternate,!(r&30)&&!kN(o)&&(t=xu(e,r),t===2&&(a=H1(e),a!==0&&(r=a,t=vv(e,a))),t===1))throw n=Zs,oa(e,0),vo(e,r),vn(e,Et()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:Wo(e,fn,kr);break;case 3:if(vo(e,r),(r&130023424)===r&&(t=Yy+500-Et(),10<t)){if(nu(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){nn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Z1(Wo.bind(null,e,fn,kr),t);break}Wo(e,fn,kr);break;case 4:if(vo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-er(r);a=1<<i,i=t[i],i>o&&(o=i),r&=~a}if(r=o,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RN(r/1960))-r,10<r){e.timeoutHandle=Z1(Wo.bind(null,e,fn,kr),r);break}Wo(e,fn,kr);break;case 5:Wo(e,fn,kr);break;default:throw Error(he(329))}}}return vn(e,Et()),e.callbackNode===n?T$.bind(null,e):null}function vv(e,t){var n=Ds;return e.current.memoizedState.isDehydrated&&(oa(e,t).flags|=256),e=xu(e,t),e!==2&&(t=fn,fn=n,t!==null&&yv(t)),e}function yv(e){fn===null?fn=e:fn.push.apply(fn,e)}function kN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!or(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vo(e,t){for(t&=~Ky,t&=~nd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-er(t),r=1<<n;e[n]=-1,t&=~r}}function Iw(e){if(tt&6)throw Error(he(327));li();var t=nu(e,0);if(!(t&1))return vn(e,Et()),null;var n=xu(e,t);if(e.tag!==0&&n===2){var r=H1(e);r!==0&&(t=r,n=vv(e,r))}if(n===1)throw n=Zs,oa(e,0),vo(e,t),vn(e,Et()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wo(e,fn,kr),vn(e,Et()),null}function Xy(e,t){var n=tt;tt|=1;try{return e(t)}finally{tt=n,tt===0&&(_i=Et()+500,Qu&&Fo())}}function pa(e){xo!==null&&xo.tag===0&&!(tt&6)&&li();var t=tt;tt|=1;var n=Mn.transition,r=at;try{if(Mn.transition=null,at=1,e)return e()}finally{at=r,Mn.transition=n,tt=t,!(tt&6)&&Fo()}}function Zy(){_n=ti.current,ft(ti)}function oa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iN(n)),$t!==null)for(n=$t.return;n!==null;){var r=n;switch(Ny(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&su();break;case 3:vi(),ft(mn),ft(Zt),Fy();break;case 5:zy(r);break;case 4:vi();break;case 13:ft(yt);break;case 19:ft(yt);break;case 10:Iy(r.type._context);break;case 22:case 23:Zy()}n=n.return}if(Lt=e,$t=e=Ro(e.current,null),Bt=_n=t,At=0,Zs=null,Ky=nd=fa=0,fn=Ds=null,Zo!==null){for(t=0;t<Zo.length;t++)if(n=Zo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=o,r.next=i}n.pending=r}Zo=null}return e}function R$(e,t){do{var n=$t;try{if(Ay(),Mc.current=gu,mu){for(var r=_t.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}mu=!1}if(da=0,Ot=Dt=_t=null,Ns=!1,Ks=0,Wy.current=null,n===null||n.return===null){At=1,Zs=t,$t=null;break}e:{var a=e,i=n.return,s=n,c=t;if(t=Bt,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=bw(i);if(h!==null){h.flags&=-257,Cw(h,i,s,a,t),h.mode&1&&ww(a,u,t),t=h,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){ww(a,u,t),Qy();break e}c=Error(he(426))}}else if(mt&&s.mode&1){var x=bw(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Cw(x,i,s,a,t),Py(yi(c,s));break e}}a=c=yi(c,s),At!==4&&(At=2),Ds===null?Ds=[a]:Ds.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=f$(a,c,t);hw(a,y);break e;case 1:s=c;var _=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($o===null||!$o.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=p$(a,s,t);hw(a,b);break e}}a=a.return}while(a!==null)}P$(n)}catch(S){t=S,$t===n&&n!==null&&($t=n=n.return);continue}break}while(!0)}function k$(){var e=vu.current;return vu.current=gu,e===null?gu:e}function Qy(){(At===0||At===3||At===2)&&(At=4),Lt===null||!(fa&268435455)&&!(nd&268435455)||vo(Lt,Bt)}function xu(e,t){var n=tt;tt|=2;var r=k$();(Lt!==e||Bt!==t)&&(kr=null,oa(e,t));do try{NN();break}catch(o){R$(e,o)}while(!0);if(Ay(),tt=n,vu.current=r,$t!==null)throw Error(he(261));return Lt=null,Bt=0,At}function NN(){for(;$t!==null;)N$($t)}function PN(){for(;$t!==null&&!rk();)N$($t)}function N$(e){var t=A$(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?P$(e):$t=t,Wy.current=null}function P$(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=EN(n,t),n!==null){n.flags&=32767,$t=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,$t=null;return}}else if(n=SN(n,t,_n),n!==null){$t=n;return}if(t=t.sibling,t!==null){$t=t;return}$t=t=e}while(t!==null);At===0&&(At=5)}function Wo(e,t,n){var r=at,o=Mn.transition;try{Mn.transition=null,at=1,DN(e,t,n,r)}finally{Mn.transition=o,at=r}return null}function DN(e,t,n,r){do li();while(xo!==null);if(tt&6)throw Error(he(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(pk(e,a),e===Lt&&($t=Lt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ac||(ac=!0,I$(tu,function(){return li(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Mn.transition,Mn.transition=null;var i=at;at=1;var s=tt;tt|=4,Wy.current=null,$N(e,n),j$(n,e),Jk(Y1),ru=!!K1,Y1=K1=null,e.current=n,TN(n),ok(),tt=s,at=i,Mn.transition=a}else e.current=n;if(ac&&(ac=!1,xo=e,_u=o),a=e.pendingLanes,a===0&&($o=null),sk(n.stateNode),vn(e,Et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(yu)throw yu=!1,e=mv,mv=null,e;return _u&1&&e.tag!==0&&li(),a=e.pendingLanes,a&1?e===gv?As++:(As=0,gv=e):As=0,Fo(),null}function li(){if(xo!==null){var e=dj(_u),t=Mn.transition,n=at;try{if(Mn.transition=null,at=16>e?16:e,xo===null)var r=!1;else{if(e=xo,xo=null,_u=0,tt&6)throw Error(he(331));var o=tt;for(tt|=4,je=e.current;je!==null;){var a=je,i=a.child;if(je.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(je=u;je!==null;){var d=je;switch(d.tag){case 0:case 11:case 15:Ps(8,d,a)}var p=d.child;if(p!==null)p.return=d,je=p;else for(;je!==null;){d=je;var m=d.sibling,h=d.return;if(C$(d),d===u){je=null;break}if(m!==null){m.return=h,je=m;break}je=h}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}je=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,je=i;else e:for(;je!==null;){if(a=je,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ps(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,je=y;break e}je=a.return}}var _=e.current;for(je=_;je!==null;){i=je;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,je=w;else e:for(i=_;je!==null;){if(s=je,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:td(9,s)}}catch(S){bt(s,s.return,S)}if(s===i){je=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,je=b;break e}je=s.return}}if(tt=o,Fo(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Wu,e)}catch{}r=!0}return r}finally{at=n,Mn.transition=t}}return!1}function Mw(e,t,n){t=yi(n,t),t=f$(e,t,1),e=jo(e,t,1),t=nn(),e!==null&&(vl(e,1,t),vn(e,t))}function bt(e,t,n){if(e.tag===3)Mw(e,e,n);else for(;t!==null;){if(t.tag===3){Mw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($o===null||!$o.has(r))){e=yi(n,e),e=p$(t,e,1),t=jo(t,e,1),e=nn(),t!==null&&(vl(t,1,e),vn(t,e));break}}t=t.return}}function AN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nn(),e.pingedLanes|=e.suspendedLanes&n,Lt===e&&(Bt&n)===n&&(At===4||At===3&&(Bt&130023424)===Bt&&500>Et()-Yy?oa(e,0):Ky|=n),vn(e,t)}function D$(e,t){t===0&&(e.mode&1?(t=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):t=1);var n=nn();e=Vr(e,t),e!==null&&(vl(e,t,n),vn(e,n))}function IN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),D$(e,n)}function MN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),D$(e,n)}var A$;A$=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mn.current)pn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pn=!1,CN(e,t,n);pn=!!(e.flags&131072)}else pn=!1,mt&&t.flags&1048576&&Oj(t,uu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lc(e,t),e=t.pendingProps;var o=hi(t,Zt.current);si(t,n),o=By(null,t,r,e,o,n);var a=Hy();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gn(r)?(a=!0,lu(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Oy(t),o.updater=Ju,t.stateNode=o,o._reactInternals=t,ov(t,r,e,n),t=sv(null,t,r,!0,a,n)):(t.tag=0,mt&&a&&ky(t),Jt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lc(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=LN(r),e=Yn(r,e),o){case 0:t=iv(null,t,r,e,n);break e;case 1:t=jw(null,t,r,e,n);break e;case 11:t=Sw(null,t,r,e,n);break e;case 14:t=Ew(null,t,r,Yn(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Yn(r,o),iv(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Yn(r,o),jw(e,t,r,o,n);case 3:e:{if(v$(t),e===null)throw Error(he(387));r=t.pendingProps,a=t.memoizedState,o=a.element,qj(e,t),pu(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=yi(Error(he(423)),t),t=$w(e,t,r,n,o);break e}else if(r!==o){o=yi(Error(he(424)),t),t=$w(e,t,r,n,o);break e}else for(bn=Eo(t.stateNode.containerInfo.firstChild),Sn=t,mt=!0,Qn=null,n=Uj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mi(),r===o){t=Ur(e,t,n);break e}Jt(e,t,r,n)}t=t.child}return t;case 5:return Gj(t),e===null&&tv(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,X1(r,o)?i=null:a!==null&&X1(r,a)&&(t.flags|=32),g$(e,t),Jt(e,t,i,n),t.child;case 6:return e===null&&tv(t),null;case 13:return y$(e,t,n);case 4:return Ly(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gi(t,null,r,n):Jt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Yn(r,o),Sw(e,t,r,o,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,ct(du,r._currentValue),r._currentValue=i,a!==null)if(or(a.value,i)){if(a.children===o.children&&!mn.current){t=Ur(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){i=a.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=zr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),nv(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(he(341));i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),nv(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Jt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,si(t,n),o=qn(o),r=r(o),t.flags|=1,Jt(e,t,r,n),t.child;case 14:return r=t.type,o=Yn(r,t.pendingProps),o=Yn(r.type,o),Ew(e,t,r,o,n);case 15:return h$(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Yn(r,o),Lc(e,t),t.tag=1,gn(r)?(e=!0,lu(t)):e=!1,si(t,n),Hj(t,r,o),ov(t,r,o,n),sv(null,t,r,!0,e,n);case 19:return _$(e,t,n);case 22:return m$(e,t,n)}throw Error(he(156,t.tag))};function I$(e,t){return sj(e,t)}function ON(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,r){return new ON(e,t,n,r)}function Jy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LN(e){if(typeof e=="function")return Jy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yy)return 11;if(e===_y)return 14}return 2}function Ro(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,o,a){var i=2;if(r=e,typeof e=="function")Jy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ua:return aa(n.children,o,a,t);case vy:i=8,o|=8;break;case T1:return e=Dn(12,n,t,o|2),e.elementType=T1,e.lanes=a,e;case R1:return e=Dn(13,n,t,o),e.elementType=R1,e.lanes=a,e;case k1:return e=Dn(19,n,t,o),e.elementType=k1,e.lanes=a,e;case VE:return rd(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BE:i=10;break e;case HE:i=9;break e;case yy:i=11;break e;case _y:i=14;break e;case fo:i=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=Dn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function aa(e,t,n,r){return e=Dn(7,e,r,t),e.lanes=n,e}function rd(e,t,n,r){return e=Dn(22,e,r,t),e.elementType=VE,e.lanes=n,e.stateNode={isHidden:!1},e}function ep(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function tp(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zN(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function e_(e,t,n,r,o,a,i,s,c){return e=new zN(e,t,n,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Dn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(a),e}function FN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Va,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function M$(e){if(!e)return Do;e=e._reactInternals;e:{if(ya(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(gn(n))return Ij(e,n,t)}return t}function O$(e,t,n,r,o,a,i,s,c){return e=e_(n,r,!0,e,o,a,i,s,c),e.context=M$(null),n=e.current,r=nn(),o=To(n),a=zr(r,o),a.callback=t??null,jo(n,a,o),e.current.lanes=o,vl(e,o,r),vn(e,r),e}function od(e,t,n,r){var o=t.current,a=nn(),i=To(o);return n=M$(n),t.context===null?t.context=n:t.pendingContext=n,t=zr(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jo(o,t,i),e!==null&&(tr(e,o,i,a),Ic(e,o,i)),i}function wu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ow(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function t_(e,t){Ow(e,t),(e=e.alternate)&&Ow(e,t)}function qN(){return null}var L$=typeof reportError=="function"?reportError:function(e){console.error(e)};function n_(e){this._internalRoot=e}ad.prototype.render=n_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));od(e,t,null,null)};ad.prototype.unmount=n_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pa(function(){od(null,e,null,null)}),t[Hr]=null}};function ad(e){this._internalRoot=e}ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=hj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<go.length&&t!==0&&t<go[n].priority;n++);go.splice(n,0,e),n===0&&gj(e)}};function r_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lw(){}function BN(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var u=wu(i);a.call(u)}}var i=O$(t,r,e,0,null,!1,!1,"",Lw);return e._reactRootContainer=i,e[Hr]=i.current,Hs(e.nodeType===8?e.parentNode:e),pa(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=wu(c);s.call(u)}}var c=e_(e,0,!1,null,null,!1,!1,"",Lw);return e._reactRootContainer=c,e[Hr]=c.current,Hs(e.nodeType===8?e.parentNode:e),pa(function(){od(t,c,n,r)}),c}function sd(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var s=o;o=function(){var c=wu(i);s.call(c)}}od(t,i,e,o)}else i=BN(n,t,e,o,r);return wu(i)}fj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hs(t.pendingLanes);n!==0&&(by(t,n|1),vn(t,Et()),!(tt&6)&&(_i=Et()+500,Fo()))}break;case 13:pa(function(){var r=Vr(e,1);if(r!==null){var o=nn();tr(r,e,1,o)}}),t_(e,1)}};Cy=function(e){if(e.tag===13){var t=Vr(e,134217728);if(t!==null){var n=nn();tr(t,e,134217728,n)}t_(e,134217728)}};pj=function(e){if(e.tag===13){var t=To(e),n=Vr(e,t);if(n!==null){var r=nn();tr(n,e,t,r)}t_(e,t)}};hj=function(){return at};mj=function(e,t){var n=at;try{return at=e,t()}finally{at=n}};F1=function(e,t,n){switch(t){case"input":if(D1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Zu(r);if(!o)throw Error(he(90));GE(r),D1(r,o)}}}break;case"textarea":KE(e,n);break;case"select":t=n.value,t!=null&&ri(e,!!n.multiple,t,!1)}};tj=Xy;nj=pa;var HN={usingClientEntryPoint:!1,Events:[_l,Ya,Zu,JE,ej,Xy]},ts={findFiberByHostInstance:Xo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},VN={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aj(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||qN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Wu=ic.inject(VN),gr=ic}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HN;Tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r_(t))throw Error(he(200));return FN(e,t,null,n)};Tn.createRoot=function(e,t){if(!r_(e))throw Error(he(299));var n=!1,r="",o=L$;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=e_(e,1,!1,null,null,n,!1,r,o),e[Hr]=t.current,Hs(e.nodeType===8?e.parentNode:e),new n_(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=aj(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return pa(e)};Tn.hydrate=function(e,t,n){if(!id(t))throw Error(he(200));return sd(null,e,t,!0,n)};Tn.hydrateRoot=function(e,t,n){if(!r_(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",i=L$;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=O$(t,null,e,1,n??null,o,!1,a,i),e[Hr]=t.current,Hs(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ad(t)};Tn.render=function(e,t,n){if(!id(t))throw Error(he(200));return sd(null,e,t,!1,n)};Tn.unmountComponentAtNode=function(e){if(!id(e))throw Error(he(40));return e._reactRootContainer?(pa(function(){sd(null,null,e,!1,function(){e._reactRootContainer=null,e[Hr]=null})}),!0):!1};Tn.unstable_batchedUpdates=Xy;Tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!id(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return sd(e,t,n,!1,r)};Tn.version="18.2.0-next-9e3b772b8-20220608";function z$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z$)}catch(e){console.error(e)}}z$(),OE.exports=Tn;var _a=OE.exports;const UN=ml(_a);var zw=_a;j1.createRoot=zw.createRoot,j1.hydrateRoot=zw.hydrateRoot;var F$={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",i=0;i<arguments.length;i++){var s=arguments[i];s&&(a=o(a,r(s)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var i="";for(var s in a)t.call(a,s)&&a[s]&&(i=o(i,s));return i}function o(a,i){return i?a?a+" "+i:a+i:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(F$);var GN=F$.exports;const Pe=ml(GN);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function Ce(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function WN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ld(...e){return t=>e.forEach(n=>WN(n,t))}function Ye(...e){return f.useCallback(ld(...e),e)}function KN(e,t){const n=f.createContext(t);function r(a){const{children:i,...s}=a,c=f.useMemo(()=>s,Object.values(s));return f.createElement(n.Provider,{value:c},i)}function o(a){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,o]}function sn(e,t=[]){let n=[];function r(a,i){const s=f.createContext(i),c=n.length;n=[...n,i];function u(p){const{scope:m,children:h,...v}=p,g=(m==null?void 0:m[e][c])||s,x=f.useMemo(()=>v,Object.values(v));return f.createElement(g.Provider,{value:x},h)}function d(p,m){const h=(m==null?void 0:m[e][c])||s,v=f.useContext(h);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const o=()=>{const a=n.map(i=>f.createContext(i));return function(s){const c=(s==null?void 0:s[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...s,[e]:c}}),[s,c])}};return o.scopeName=e,[r,YN(o,...t)]}function YN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=r.reduce((s,{useScope:c,scopeName:u})=>{const p=c(a)[`__scope${u}`];return{...s,...p}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const rn=f.forwardRef((e,t)=>{const{children:n,...r}=e,o=f.Children.toArray(n),a=o.find(XN);if(a){const i=a.props.children,s=o.map(c=>c===a?f.Children.count(i)>1?f.Children.only(null):f.isValidElement(i)?i.props.children:null:c);return f.createElement(_v,te({},r,{ref:t}),f.isValidElement(i)?f.cloneElement(i,void 0,s):null)}return f.createElement(_v,te({},r,{ref:t}),n)});rn.displayName="Slot";const _v=f.forwardRef((e,t)=>{const{children:n,...r}=e;return f.isValidElement(n)?f.cloneElement(n,{...ZN(r,n.props),ref:t?ld(t,n.ref):n.ref}):f.Children.count(n)>1?f.Children.only(null):null});_v.displayName="SlotClone";const Pi=({children:e})=>f.createElement(f.Fragment,null,e);function XN(e){return f.isValidElement(e)&&e.type===Pi}function ZN(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...s)=>{a(...s),o(...s)}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}const QN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ze=QN.reduce((e,t)=>{const n=f.forwardRef((r,o)=>{const{asChild:a,...i}=r,s=a?rn:t;return f.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),f.createElement(s,te({},i,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function q$(e,t){e&&_a.flushSync(()=>e.dispatchEvent(t))}function Tt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function JN(e,t=globalThis==null?void 0:globalThis.document){const n=Tt(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const xv="dismissableLayer.update",eP="dismissableLayer.pointerDownOutside",tP="dismissableLayer.focusOutside";let Fw;const nP=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),o_=f.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:c,...u}=e,d=f.useContext(nP),[p,m]=f.useState(null),h=(n=p==null?void 0:p.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,v]=f.useState({}),g=Ye(t,$=>m($)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(y),w=p?x.indexOf(p):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,S=w>=_,k=rP($=>{const C=$.target,R=[...d.branches].some(D=>D.contains(C));!S||R||(a==null||a($),s==null||s($),$.defaultPrevented||c==null||c())},h),j=oP($=>{const C=$.target;[...d.branches].some(D=>D.contains(C))||(i==null||i($),s==null||s($),$.defaultPrevented||c==null||c())},h);return JN($=>{w===d.layers.size-1&&(o==null||o($),!$.defaultPrevented&&c&&($.preventDefault(),c()))},h),f.useEffect(()=>{if(p)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Fw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),qw(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Fw)}},[p,h,r,d]),f.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),qw())},[p,d]),f.useEffect(()=>{const $=()=>v({});return document.addEventListener(xv,$),()=>document.removeEventListener(xv,$)},[]),f.createElement(ze.div,te({},u,{ref:g,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,k.onPointerDownCapture)}))});function rP(e,t=globalThis==null?void 0:globalThis.document){const n=Tt(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let d=function(){B$(eP,n,u,{discrete:!0})};var c=d;const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function oP(e,t=globalThis==null?void 0:globalThis.document){const n=Tt(e),r=f.useRef(!1);return f.useEffect(()=>{const o=a=>{a.target&&!r.current&&B$(tP,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qw(){const e=new CustomEvent(xv);document.dispatchEvent(e)}function B$(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?q$(o,a):o.dispatchEvent(a)}const Hn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},aP=IR.useId||(()=>{});let iP=0;function On(e){const[t,n]=f.useState(aP());return Hn(()=>{e||n(r=>r??String(iP++))},[e]),e||(t?`radix-${t}`:"")}const sP=["top","right","bottom","left"],Ao=Math.min,wn=Math.max,bu=Math.round,sc=Math.floor,Io=e=>({x:e,y:e}),lP={left:"right",right:"left",bottom:"top",top:"bottom"},cP={start:"end",end:"start"};function wv(e,t,n){return wn(e,Ao(t,n))}function Gr(e,t){return typeof e=="function"?e(t):e}function Wr(e){return e.split("-")[0]}function Di(e){return e.split("-")[1]}function a_(e){return e==="x"?"y":"x"}function i_(e){return e==="y"?"height":"width"}function Ai(e){return["top","bottom"].includes(Wr(e))?"y":"x"}function s_(e){return a_(Ai(e))}function uP(e,t,n){n===void 0&&(n=!1);const r=Di(e),o=s_(e),a=i_(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Cu(i)),[i,Cu(i)]}function dP(e){const t=Cu(e);return[bv(e),t,bv(t)]}function bv(e){return e.replace(/start|end/g,t=>cP[t])}function fP(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:i;default:return[]}}function pP(e,t,n,r){const o=Di(e);let a=fP(Wr(e),n==="start",r);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(bv)))),a}function Cu(e){return e.replace(/left|right|bottom|top/g,t=>lP[t])}function hP(e){return{top:0,right:0,bottom:0,left:0,...e}}function H$(e){return typeof e!="number"?hP(e):{top:e,right:e,bottom:e,left:e}}function Su(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Bw(e,t,n){let{reference:r,floating:o}=e;const a=Ai(t),i=s_(t),s=i_(i),c=Wr(t),u=a==="y",d=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,m=r[s]/2-o[s]/2;let h;switch(c){case"top":h={x:d,y:r.y-o.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:p};break;case"left":h={x:r.x-o.width,y:p};break;default:h={x:r.x,y:r.y}}switch(Di(t)){case"start":h[i]-=m*(n&&u?-1:1);break;case"end":h[i]+=m*(n&&u?-1:1);break}return h}const mP=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,s=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:p}=Bw(u,r,c),m=r,h={},v=0;for(let g=0;g<s.length;g++){const{name:x,fn:y}=s[g],{x:_,y:w,data:b,reset:S}=await y({x:d,y:p,initialPlacement:r,placement:m,strategy:o,middlewareData:h,rects:u,platform:i,elements:{reference:e,floating:t}});d=_??d,p=w??p,h={...h,[x]:{...h[x],...b}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:d,y:p}=Bw(u,m,c)),g=-1)}return{x:d,y:p,placement:m,strategy:o,middlewareData:h}};async function Qs(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:i,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:m=!1,padding:h=0}=Gr(t,e),v=H$(h),x=s[m?p==="floating"?"reference":"floating":p],y=Su(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:c})),_=p==="floating"?{...i.floating,x:r,y:o}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),b=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Su(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:w,strategy:c}):_);return{top:(y.top-S.top+v.top)/b.y,bottom:(S.bottom-y.bottom+v.bottom)/b.y,left:(y.left-S.left+v.left)/b.x,right:(S.right-y.right+v.right)/b.x}}const gP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:i,elements:s,middlewareData:c}=t,{element:u,padding:d=0}=Gr(e,t)||{};if(u==null)return{};const p=H$(d),m={x:n,y:r},h=s_(o),v=i_(h),g=await i.getDimensions(u),x=h==="y",y=x?"top":"left",_=x?"bottom":"right",w=x?"clientHeight":"clientWidth",b=a.reference[v]+a.reference[h]-m[h]-a.floating[v],S=m[h]-a.reference[h],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=k?k[w]:0;(!j||!await(i.isElement==null?void 0:i.isElement(k)))&&(j=s.floating[w]||a.floating[v]);const $=b/2-S/2,C=j/2-g[v]/2-1,R=Ao(p[y],C),D=Ao(p[_],C),q=R,F=j-g[v]-D,A=j/2-g[v]/2+$,B=wv(q,A,F),E=!c.arrow&&Di(o)!=null&&A!==B&&a.reference[v]/2-(A<q?R:D)-g[v]/2<0,L=E?A<q?A-q:A-F:0;return{[h]:m[h]+L,data:{[h]:B,centerOffset:A-B-L,...E&&{alignmentOffset:L}},reset:E}}}),vP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:s,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=Gr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Wr(o),_=Wr(s)===s,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),b=m||(_||!g?[Cu(s)]:dP(s));!m&&v!=="none"&&b.push(...pP(s,g,v,w));const S=[s,...b],k=await Qs(t,x),j=[];let $=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&j.push(k[y]),p){const q=uP(o,i,w);j.push(k[q[0]],k[q[1]])}if($=[...$,{placement:o,overflows:j}],!j.every(q=>q<=0)){var C,R;const q=(((C=a.flip)==null?void 0:C.index)||0)+1,F=S[q];if(F)return{data:{index:q,overflows:$},reset:{placement:F}};let A=(R=$.filter(B=>B.overflows[0]<=0).sort((B,E)=>B.overflows[1]-E.overflows[1])[0])==null?void 0:R.placement;if(!A)switch(h){case"bestFit":{var D;const B=(D=$.map(E=>[E.placement,E.overflows.filter(L=>L>0).reduce((L,I)=>L+I,0)]).sort((E,L)=>E[1]-L[1])[0])==null?void 0:D[0];B&&(A=B);break}case"initialPlacement":A=s;break}if(o!==A)return{reset:{placement:A}}}return{}}}};function Hw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vw(e){return sP.some(t=>e[t]>=0)}const yP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Gr(e,t);switch(r){case"referenceHidden":{const a=await Qs(t,{...o,elementContext:"reference"}),i=Hw(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Vw(i)}}}case"escaped":{const a=await Qs(t,{...o,altBoundary:!0}),i=Hw(a,n.floating);return{data:{escapedOffsets:i,escaped:Vw(i)}}}default:return{}}}}};async function _P(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Wr(n),s=Di(n),c=Ai(n)==="y",u=["left","top"].includes(i)?-1:1,d=a&&c?-1:1,p=Gr(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return s&&typeof v=="number"&&(h=s==="end"?v*-1:v),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const xP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:i,middlewareData:s}=t,c=await _P(t,e);return i===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:i}}}}},wP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:s={fn:x=>{let{x:y,y:_}=x;return{x:y,y:_}}},...c}=Gr(e,t),u={x:n,y:r},d=await Qs(t,c),p=Ai(Wr(o)),m=a_(p);let h=u[m],v=u[p];if(a){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",_=h+d[x],w=h-d[y];h=wv(_,h,w)}if(i){const x=p==="y"?"top":"left",y=p==="y"?"bottom":"right",_=v+d[x],w=v-d[y];v=wv(_,v,w)}const g=s.fn({...t,[m]:h,[p]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}},bP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:i}=t,{offset:s=0,mainAxis:c=!0,crossAxis:u=!0}=Gr(e,t),d={x:n,y:r},p=Ai(o),m=a_(p);let h=d[m],v=d[p];const g=Gr(s,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=m==="y"?"height":"width",b=a.reference[m]-a.floating[w]+x.mainAxis,S=a.reference[m]+a.reference[w]-x.mainAxis;h<b?h=b:h>S&&(h=S)}if(u){var y,_;const w=m==="y"?"width":"height",b=["top","left"].includes(Wr(o)),S=a.reference[p]-a.floating[w]+(b&&((y=i.offset)==null?void 0:y[p])||0)+(b?0:x.crossAxis),k=a.reference[p]+a.reference[w]+(b?0:((_=i.offset)==null?void 0:_[p])||0)-(b?x.crossAxis:0);v<S?v=S:v>k&&(v=k)}return{[m]:h,[p]:v}}}},CP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:a}=t,{apply:i=()=>{},...s}=Gr(e,t),c=await Qs(t,s),u=Wr(n),d=Di(n),p=Ai(n)==="y",{width:m,height:h}=r.floating;let v,g;u==="top"||u==="bottom"?(v=u,g=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=u,v=d==="end"?"top":"bottom");const x=h-c[v],y=m-c[g],_=!t.middlewareData.shift;let w=x,b=y;if(p){const k=m-c.left-c.right;b=d||_?Ao(y,k):k}else{const k=h-c.top-c.bottom;w=d||_?Ao(x,k):k}if(_&&!d){const k=wn(c.left,0),j=wn(c.right,0),$=wn(c.top,0),C=wn(c.bottom,0);p?b=m-2*(k!==0||j!==0?k+j:wn(c.left,c.right)):w=h-2*($!==0||C!==0?$+C:wn(c.top,c.bottom))}await i({...t,availableWidth:b,availableHeight:w});const S=await o.getDimensions(a.floating);return m!==S.width||h!==S.height?{reset:{rects:!0}}:{}}}};function Mo(e){return V$(e)?(e.nodeName||"").toLowerCase():"#document"}function En(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(V$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function V$(e){return e instanceof Node||e instanceof En(e).Node}function Kr(e){return e instanceof Element||e instanceof En(e).Element}function xr(e){return e instanceof HTMLElement||e instanceof En(e).HTMLElement}function Uw(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof En(e).ShadowRoot}function wl(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Vn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function SP(e){return["table","td","th"].includes(Mo(e))}function l_(e){const t=c_(),n=Vn(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function EP(e){let t=xi(e);for(;xr(t)&&!cd(t);){if(l_(t))return t;t=xi(t)}return null}function c_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cd(e){return["html","body","#document"].includes(Mo(e))}function Vn(e){return En(e).getComputedStyle(e)}function ud(e){return Kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function xi(e){if(Mo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Uw(e)&&e.host||Jr(e);return Uw(t)?t.host:t}function U$(e){const t=xi(e);return cd(t)?e.ownerDocument?e.ownerDocument.body:e.body:xr(t)&&wl(t)?t:U$(t)}function Js(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=U$(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),i=En(o);return a?t.concat(i,i.visualViewport||[],wl(o)?o:[],i.frameElement&&n?Js(i.frameElement):[]):t.concat(o,Js(o,[],n))}function G$(e){const t=Vn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=xr(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:r,s=bu(n)!==a||bu(r)!==i;return s&&(n=a,r=i),{width:n,height:r,$:s}}function u_(e){return Kr(e)?e:e.contextElement}function ci(e){const t=u_(e);if(!xr(t))return Io(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=G$(t);let i=(a?bu(n.width):n.width)/r,s=(a?bu(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!s||!Number.isFinite(s))&&(s=1),{x:i,y:s}}const jP=Io(0);function W$(e){const t=En(e);return!c_()||!t.visualViewport?jP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $P(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==En(e)?!1:t}function ha(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=u_(e);let i=Io(1);t&&(r?Kr(r)&&(i=ci(r)):i=ci(e));const s=$P(a,n,r)?W$(a):Io(0);let c=(o.left+s.x)/i.x,u=(o.top+s.y)/i.y,d=o.width/i.x,p=o.height/i.y;if(a){const m=En(a),h=r&&Kr(r)?En(r):r;let v=m,g=v.frameElement;for(;g&&r&&h!==v;){const x=ci(g),y=g.getBoundingClientRect(),_=Vn(g),w=y.left+(g.clientLeft+parseFloat(_.paddingLeft))*x.x,b=y.top+(g.clientTop+parseFloat(_.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,p*=x.y,c+=w,u+=b,v=En(g),g=v.frameElement}}return Su({width:d,height:p,x:c,y:u})}const TP=[":popover-open",":modal"];function K$(e){return TP.some(t=>{try{return e.matches(t)}catch{return!1}})}function RP(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",i=Jr(r),s=t?K$(t.floating):!1;if(r===i||s&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Io(1);const d=Io(0),p=xr(r);if((p||!p&&!a)&&((Mo(r)!=="body"||wl(i))&&(c=ud(r)),xr(r))){const m=ha(r);u=ci(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function kP(e){return Array.from(e.getClientRects())}function Y$(e){return ha(Jr(e)).left+ud(e).scrollLeft}function NP(e){const t=Jr(e),n=ud(e),r=e.ownerDocument.body,o=wn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=wn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Y$(e);const s=-n.scrollTop;return Vn(r).direction==="rtl"&&(i+=wn(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:s}}function PP(e,t){const n=En(e),r=Jr(e),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,s=0,c=0;if(o){a=o.width,i=o.height;const u=c_();(!u||u&&t==="fixed")&&(s=o.offsetLeft,c=o.offsetTop)}return{width:a,height:i,x:s,y:c}}function DP(e,t){const n=ha(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=xr(e)?ci(e):Io(1),i=e.clientWidth*a.x,s=e.clientHeight*a.y,c=o*a.x,u=r*a.y;return{width:i,height:s,x:c,y:u}}function Gw(e,t,n){let r;if(t==="viewport")r=PP(e,n);else if(t==="document")r=NP(Jr(e));else if(Kr(t))r=DP(t,n);else{const o=W$(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Su(r)}function X$(e,t){const n=xi(e);return n===t||!Kr(n)||cd(n)?!1:Vn(n).position==="fixed"||X$(n,t)}function AP(e,t){const n=t.get(e);if(n)return n;let r=Js(e,[],!1).filter(s=>Kr(s)&&Mo(s)!=="body"),o=null;const a=Vn(e).position==="fixed";let i=a?xi(e):e;for(;Kr(i)&&!cd(i);){const s=Vn(i),c=l_(i);!c&&s.position==="fixed"&&(o=null),(a?!c&&!o:!c&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||wl(i)&&!c&&X$(e,i))?r=r.filter(d=>d!==i):o=s,i=xi(i)}return t.set(e,r),r}function IP(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?AP(t,this._c):[].concat(n),r],s=i[0],c=i.reduce((u,d)=>{const p=Gw(t,d,o);return u.top=wn(p.top,u.top),u.right=Ao(p.right,u.right),u.bottom=Ao(p.bottom,u.bottom),u.left=wn(p.left,u.left),u},Gw(t,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function MP(e){const{width:t,height:n}=G$(e);return{width:t,height:n}}function OP(e,t,n){const r=xr(t),o=Jr(t),a=n==="fixed",i=ha(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const c=Io(0);if(r||!r&&!a)if((Mo(t)!=="body"||wl(o))&&(s=ud(t)),r){const p=ha(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else o&&(c.x=Y$(o));const u=i.left+s.scrollLeft-c.x,d=i.top+s.scrollTop-c.y;return{x:u,y:d,width:i.width,height:i.height}}function Ww(e,t){return!xr(e)||Vn(e).position==="fixed"?null:t?t(e):e.offsetParent}function Z$(e,t){const n=En(e);if(!xr(e)||K$(e))return n;let r=Ww(e,t);for(;r&&SP(r)&&Vn(r).position==="static";)r=Ww(r,t);return r&&(Mo(r)==="html"||Mo(r)==="body"&&Vn(r).position==="static"&&!l_(r))?n:r||EP(e)||n}const LP=async function(e){const t=this.getOffsetParent||Z$,n=this.getDimensions;return{reference:OP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function zP(e){return Vn(e).direction==="rtl"}const FP={convertOffsetParentRelativeRectToViewportRelativeRect:RP,getDocumentElement:Jr,getClippingRect:IP,getOffsetParent:Z$,getElementRects:LP,getClientRects:kP,getDimensions:MP,getScale:ci,isElement:Kr,isRTL:zP};function qP(e,t){let n=null,r;const o=Jr(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function i(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:p,height:m}=e.getBoundingClientRect();if(s||t(),!p||!m)return;const h=sc(d),v=sc(o.clientWidth-(u+p)),g=sc(o.clientHeight-(d+m)),x=sc(u),_={rootMargin:-h+"px "+-v+"px "+-g+"px "+-x+"px",threshold:wn(0,Ao(1,c))||1};let w=!0;function b(S){const k=S[0].intersectionRatio;if(k!==c){if(!w)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(b,{..._,root:o.ownerDocument})}catch{n=new IntersectionObserver(b,_)}n.observe(e)}return i(!0),a}function BP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=u_(e),d=o||a?[...u?Js(u):[],...Js(t)]:[];d.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const p=u&&s?qP(u,n):null;let m=-1,h=null;i&&(h=new ResizeObserver(y=>{let[_]=y;_&&_.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let v,g=c?ha(e):null;c&&x();function x(){const y=ha(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,v=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(_=>{o&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),p==null||p(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(v)}}const HP=wP,VP=vP,UP=CP,GP=yP,Kw=gP,WP=bP,KP=(e,t,n)=>{const r=new Map,o={platform:FP,...n},a={...o.platform,_c:r};return mP(e,t,{...o,platform:a})},YP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Kw({element:r.current,padding:o}).fn(n):{}:r?Kw({element:r,padding:o}).fn(n):{}}}};var Bc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Eu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Eu(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!Eu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Q$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Yw(e,t){const n=Q$(e);return Math.round(t*n)/n}function Xw(e){const t=f.useRef(e);return Bc(()=>{t.current=e}),t}function XP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:i}={},transform:s=!0,whileElementsMounted:c,open:u}=e,[d,p]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=f.useState(r);Eu(m,r)||h(r);const[v,g]=f.useState(null),[x,y]=f.useState(null),_=f.useCallback(L=>{L!==k.current&&(k.current=L,g(L))},[]),w=f.useCallback(L=>{L!==j.current&&(j.current=L,y(L))},[]),b=a||v,S=i||x,k=f.useRef(null),j=f.useRef(null),$=f.useRef(d),C=c!=null,R=Xw(c),D=Xw(o),q=f.useCallback(()=>{if(!k.current||!j.current)return;const L={placement:t,strategy:n,middleware:m};D.current&&(L.platform=D.current),KP(k.current,j.current,L).then(I=>{const P={...I,isPositioned:!0};F.current&&!Eu($.current,P)&&($.current=P,_a.flushSync(()=>{p(P)}))})},[m,t,n,D]);Bc(()=>{u===!1&&$.current.isPositioned&&($.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[u]);const F=f.useRef(!1);Bc(()=>(F.current=!0,()=>{F.current=!1}),[]),Bc(()=>{if(b&&(k.current=b),S&&(j.current=S),b&&S){if(R.current)return R.current(b,S,q);q()}},[b,S,q,R,C]);const A=f.useMemo(()=>({reference:k,floating:j,setReference:_,setFloating:w}),[_,w]),B=f.useMemo(()=>({reference:b,floating:S}),[b,S]),E=f.useMemo(()=>{const L={position:n,left:0,top:0};if(!B.floating)return L;const I=Yw(B.floating,d.x),P=Yw(B.floating,d.y);return s?{...L,transform:"translate("+I+"px, "+P+"px)",...Q$(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:P}},[n,s,B.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:q,refs:A,elements:B,floatingStyles:E}),[d,q,A,B,E])}function dd(e){const[t,n]=f.useState(void 0);return Hn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,s;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,s=u.blockSize}else i=e.offsetWidth,s=e.offsetHeight;n({width:i,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const J$="Popper",[e6,Ii]=sn(J$),[ZP,t6]=e6(J$),QP=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return f.createElement(ZP,{scope:t,anchor:r,onAnchorChange:o},n)},JP="PopperAnchor",eD=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=t6(JP,n),i=f.useRef(null),s=Ye(t,i);return f.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:f.createElement(ze.div,te({},o,{ref:s}))}),n6="PopperContent",[tD,Iee]=e6(n6),nD=f.forwardRef((e,t)=>{var n,r,o,a,i,s,c,u;const{__scopePopper:d,side:p="bottom",sideOffset:m=0,align:h="center",alignOffset:v=0,arrowPadding:g=0,avoidCollisions:x=!0,collisionBoundary:y=[],collisionPadding:_=0,sticky:w="partial",hideWhenDetached:b=!1,updatePositionStrategy:S="optimized",onPlaced:k,...j}=e,$=t6(n6,d),[C,R]=f.useState(null),D=Ye(t,we=>R(we)),[q,F]=f.useState(null),A=dd(q),B=(n=A==null?void 0:A.width)!==null&&n!==void 0?n:0,E=(r=A==null?void 0:A.height)!==null&&r!==void 0?r:0,L=p+(h!=="center"?"-"+h:""),I=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},P=Array.isArray(y)?y:[y],z=P.length>0,H={padding:I,boundary:P.filter(rD),altBoundary:z},{refs:W,floatingStyles:J,placement:ce,isPositioned:fe,middlewareData:pe}=XP({strategy:"fixed",placement:L,whileElementsMounted:(...we)=>BP(...we,{animationFrame:S==="always"}),elements:{reference:$.anchor},middleware:[xP({mainAxis:m+E,alignmentAxis:v}),x&&HP({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?WP():void 0,...H}),x&&VP({...H}),UP({...H,apply:({elements:we,rects:T,availableWidth:V,availableHeight:M})=>{const{width:G,height:ne}=T.reference,re=we.floating.style;re.setProperty("--radix-popper-available-width",`${V}px`),re.setProperty("--radix-popper-available-height",`${M}px`),re.setProperty("--radix-popper-anchor-width",`${G}px`),re.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),q&&YP({element:q,padding:g}),oD({arrowWidth:B,arrowHeight:E}),b&&GP({strategy:"referenceHidden",...H})]}),[ie,ge]=r6(ce),ve=Tt(k);Hn(()=>{fe&&(ve==null||ve())},[fe,ve]);const ue=(o=pe.arrow)===null||o===void 0?void 0:o.x,K=(a=pe.arrow)===null||a===void 0?void 0:a.y,se=((i=pe.arrow)===null||i===void 0?void 0:i.centerOffset)!==0,[Se,Ee]=f.useState();return Hn(()=>{C&&Ee(window.getComputedStyle(C).zIndex)},[C]),f.createElement("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:fe?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(s=pe.transformOrigin)===null||s===void 0?void 0:s.x,(c=pe.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},f.createElement(tD,{scope:d,placedSide:ie,onArrowChange:F,arrowX:ue,arrowY:K,shouldHideArrow:se},f.createElement(ze.div,te({"data-side":ie,"data-align":ge},j,{ref:D,style:{...j.style,animation:fe?void 0:"none",opacity:(u=pe.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function rD(e){return e!==null}const oD=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,a,i;const{placement:s,rects:c,middlewareData:u}=t,p=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,m=p?0:e.arrowWidth,h=p?0:e.arrowHeight,[v,g]=r6(s),x={start:"0%",center:"50%",end:"100%"}[g],y=((r=(o=u.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+m/2,_=((a=(i=u.arrow)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0)+h/2;let w="",b="";return v==="bottom"?(w=p?x:`${y}px`,b=`${-h}px`):v==="top"?(w=p?x:`${y}px`,b=`${c.floating.height+h}px`):v==="right"?(w=`${-h}px`,b=p?x:`${_}px`):v==="left"&&(w=`${c.floating.width+h}px`,b=p?x:`${_}px`),{data:{x:w,y:b}}}});function r6(e){const[t,n="center"]=e.split("-");return[t,n]}const d_=QP,o6=eD,a6=nD,f_=f.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?UN.createPortal(f.createElement(ze.div,te({},o,{ref:t})),r):null});function aD(e,t){return f.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const ln=e=>{const{present:t,children:n}=e,r=iD(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),a=Ye(r.ref,o.ref);return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:a}):null};ln.displayName="Presence";function iD(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),a=f.useRef("none"),i=e?"mounted":"unmounted",[s,c]=aD(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=lc(r.current);a.current=s==="mounted"?u:"none"},[s]),Hn(()=>{const u=r.current,d=o.current;if(d!==e){const m=a.current,h=lc(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),Hn(()=>{if(t){const u=p=>{const h=lc(r.current).includes(p.animationName);p.target===t&&h&&_a.flushSync(()=>c("ANIMATION_END"))},d=p=>{p.target===t&&(a.current=lc(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:f.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function lc(e){return(e==null?void 0:e.animationName)||"none"}function wr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=sD({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:r,s=Tt(n),c=f.useCallback(u=>{if(a){const p=typeof u=="function"?u(e):u;p!==e&&s(p)}else o(u)},[a,e,o,s]);return[i,c]}function sD({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),a=Tt(t);return f.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}const lD=f.forwardRef((e,t)=>f.createElement(ze.span,te({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),[fd,Mee]=sn("Tooltip",[Ii]);Ii();const cD="TooltipProvider",uD=700,[dD,Oee]=fd(cD),fD=e=>{const{__scopeTooltip:t,delayDuration:n=uD,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:a}=e,[i,s]=f.useState(!0),c=f.useRef(!1),u=f.useRef(0);return f.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),f.createElement(dD,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(u.current),s(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>s(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(d=>{c.current=d},[]),disableHoverableContent:o},a)},i6="Tooltip";fd(i6);const pD="TooltipPortal";fd(pD,{forceMount:void 0});fd(i6,{isInside:!1});const hD=fD,s6=f.createContext(void 0),mD=e=>{const{dir:t,children:n}=e;return f.createElement(s6.Provider,{value:t},n)};function Mi(e){const t=f.useContext(s6);return e||t||"ltr"}const gD=["tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","brown","orange"],vD=["sky","mint","lime","yellow","amber"],yD=["gold","bronze"],_D=[...gD,...vD,...yD],xD="gray",wD=["mauve","slate","sage","olive","sand"],bD=[xD,...wD];function CD(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand"}}const SD=["inherit","light","dark"],ED=[..._D,"gray"],jD=[...bD,"auto"],$D=["solid","translucent"],TD=["none","small","medium","large","full"],RD=["90%","95%","100%","105%","110%"],en={hasBackground:{type:"boolean",default:!0},appearance:{type:"enum",values:SD,default:"inherit"},accentColor:{type:"enum",values:ED,default:"indigo"},grayColor:{type:"enum",values:jD,default:"auto"},panelBackground:{type:"enum",values:$D,default:"translucent"},radius:{type:"enum",values:TD,default:"medium"},scaling:{type:"enum",values:RD,default:"100%"}};function l6(e){return e==="gray"?"gray":CD(e)}const Pa=()=>{},ju=f.createContext(void 0);function c6(){const e=f.useContext(ju);if(e===void 0)throw new Error("`useThemeContext` must be used within a `Theme`");return e}const xa=f.forwardRef((e,t)=>f.useContext(ju)===void 0?f.createElement(hD,null,f.createElement(mD,{dir:"ltr"},f.createElement(u6,{...e,ref:t}))):f.createElement(p_,{...e,ref:t}));xa.displayName="Theme";const u6=f.forwardRef((e,t)=>{const{appearance:n=en.appearance.default,accentColor:r=en.accentColor.default,grayColor:o=en.grayColor.default,panelBackground:a=en.panelBackground.default,radius:i=en.radius.default,scaling:s=en.scaling.default,hasBackground:c=en.hasBackground.default,...u}=e,[d,p]=f.useState(n);f.useEffect(()=>p(n),[n]);const[m,h]=f.useState(r);f.useEffect(()=>h(r),[r]);const[v,g]=f.useState(o);f.useEffect(()=>g(o),[o]);const[x,y]=f.useState(a);f.useEffect(()=>y(a),[a]);const[_,w]=f.useState(i);f.useEffect(()=>w(i),[i]);const[b,S]=f.useState(s);f.useEffect(()=>S(s),[s]);const k=f.memo(({appearance:$})=>f.createElement("script",{dangerouslySetInnerHTML:{__html:`!(function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');d.style.colorScheme='${$}';c.add('${$}');}catch(e){}})();`}}),()=>!0);k.displayName="ExplicitRootAppearanceScript",f.useEffect(()=>kD(n),[n]);const j=v==="auto"?l6(m):v;return f.createElement(f.Fragment,null,d!=="inherit"&&f.createElement(k,{appearance:d}),c&&f.createElement("style",{dangerouslySetInnerHTML:{__html:`
:root, .light, .light-theme { --color-page-background: white; }
.dark, .dark-theme { --color-page-background: var(--${j}-1); }
body { background-color: var(--color-page-background); }
`}}),f.createElement(p_,{...u,ref:t,isRoot:!0,hasBackground:c,appearance:d,accentColor:m,grayColor:v,panelBackground:x,radius:_,scaling:b,onAppearanceChange:p,onAccentColorChange:h,onGrayColorChange:g,onPanelBackgroundChange:y,onRadiusChange:w,onScalingChange:S}))});u6.displayName="ThemeRoot";const p_=f.forwardRef((e,t)=>{var n,r,o,a,i,s;const c=f.useContext(ju),{asChild:u,isRoot:d,hasBackground:p,appearance:m=(n=c==null?void 0:c.appearance)!==null&&n!==void 0?n:en.appearance.default,accentColor:h=(r=c==null?void 0:c.accentColor)!==null&&r!==void 0?r:en.accentColor.default,grayColor:v=(o=c==null?void 0:c.resolvedGrayColor)!==null&&o!==void 0?o:en.grayColor.default,panelBackground:g=(a=c==null?void 0:c.panelBackground)!==null&&a!==void 0?a:en.panelBackground.default,radius:x=(i=c==null?void 0:c.radius)!==null&&i!==void 0?i:en.radius.default,scaling:y=(s=c==null?void 0:c.scaling)!==null&&s!==void 0?s:en.scaling.default,onAppearanceChange:_=Pa,onAccentColorChange:w=Pa,onGrayColorChange:b=Pa,onPanelBackgroundChange:S=Pa,onRadiusChange:k=Pa,onScalingChange:j=Pa,...$}=e,C=u?rn:"div",R=v==="auto"?l6(h):v,D=e.appearance!==void 0&&e.appearance!=="inherit",q=e.grayColor!==void 0,F=!d&&(p===!0||p!==!1&&(D||q));return f.createElement(ju.Provider,{value:f.useMemo(()=>({appearance:m,accentColor:h,grayColor:v,resolvedGrayColor:R,panelBackground:g,radius:x,scaling:y,onAppearanceChange:_,onAccentColorChange:w,onGrayColorChange:b,onPanelBackgroundChange:S,onRadiusChange:k,onScalingChange:j}),[m,h,v,R,g,x,y,_,w,b,S,k,j])},f.createElement(C,{"data-is-root-theme":d?"true":"false","data-accent-color":h,"data-gray-color":R,"data-has-background":F?"true":"false","data-panel-background":g,"data-radius":x,"data-scaling":y,ref:t,...$,className:Pe("radix-themes",{light:!d&&m==="light",dark:!d&&m==="dark"},$.className)}))});p_.displayName="ThemeImpl";function kD(e){if(e==="inherit")return;const t=document.documentElement;(t.classList.contains("light-theme")||t.classList.contains("dark-theme"))&&(t.classList.remove("light-theme","dark-theme"),t.style.colorScheme=e,t.classList.add(`${e}-theme`)),(t.classList.contains("light")||t.classList.contains("dark"))&&(t.classList.remove("light","dark"),t.style.colorScheme=e,t.classList.add(e))}const ND=["none","inline","inline-block","block"],PD={display:{type:"enum",values:ND,default:void 0,responsive:!0}},cn={type:"enum",values:en.accentColor.values,default:void 0},eo={type:"boolean",default:void 0};function be(e,t="",n){var r,o,a,i;const s=[];if(typeof e=="object"){for(const c of Object.keys(e))if(c in e){const u=(r=e[c])===null||r===void 0?void 0:r.toString(),d=u==null?void 0:u.startsWith("-"),p=t===""?"":"-",m=d?`-${t}`:t,h=d?u==null?void 0:u.substring(1):u;if(h===void 0)continue;const v=(o=n==null?void 0:n[h])!==null&&o!==void 0?o:h,g=c==="initial"?`${m}${p}${v}`:`${c}:${m}${p}${v}`;s.push(g)}}if(typeof e=="string"){const c=e.startsWith("-"),u=t===""?"":"-",d=c?`-${t}`:t,p=c?e.substring(1):e,m=(a=n==null?void 0:n[p])!==null&&a!==void 0?a:p;s.push(`${d}${u}${m}`)}if(typeof e=="boolean"){const c=t===""?"":"-",u=e.toString(),d=(i=n==null?void 0:n[u])!==null&&i!==void 0?i:u;s.push(`${t}${c}${d}`)}return s.join(" ")}function Zw(e){return typeof e=="object"}const Ho=["0","1","2","3","4","5","6","7","8","9"],DD={p:{type:"enum",values:Ho,default:void 0,responsive:!0},px:{type:"enum",values:Ho,default:void 0,responsive:!0},py:{type:"enum",values:Ho,default:void 0,responsive:!0},pt:{type:"enum",values:Ho,default:void 0,responsive:!0},pr:{type:"enum",values:Ho,default:void 0,responsive:!0},pb:{type:"enum",values:Ho,default:void 0,responsive:!0},pl:{type:"enum",values:Ho,default:void 0,responsive:!0}};function h_(e){const{p:t=qt.p.default,px:n=qt.px.default,py:r=qt.py.default,pt:o=qt.pt.default,pr:a=qt.pr.default,pb:i=qt.pb.default,pl:s=qt.pl.default,...c}=e;return{p:t,px:n,py:r,pt:o,pr:a,pb:i,pl:s,rest:c}}function m_(e){return[be(e.p,"rt-r-p"),be(e.px,"rt-r-px"),be(e.py,"rt-r-py"),be(e.pt,"rt-r-pt"),be(e.pr,"rt-r-pr"),be(e.pb,"rt-r-pb"),be(e.pl,"rt-r-pl")].filter(Boolean).join(" ")}const AD=["static","relative","absolute","fixed","sticky"],ns=["auto","0","50%","100%"],Qw=["auto","min-content","max-content","100%","0","1","2","3","4","5","6","7","8","9"],ID=["0","1"],MD=["0","1"],qt={...DD,position:{type:"enum",values:AD,default:void 0,responsive:!0},inset:{type:"enum",values:ns,default:void 0,responsive:!0},top:{type:"enum",values:ns,default:void 0,responsive:!0},right:{type:"enum",values:ns,default:void 0,responsive:!0},bottom:{type:"enum",values:ns,default:void 0,responsive:!0},left:{type:"enum",values:ns,default:void 0,responsive:!0},width:{type:"enum",values:Qw,default:void 0,responsive:!0},height:{type:"enum",values:Qw,default:void 0,responsive:!0},shrink:{type:"enum",values:ID,default:void 0,responsive:!0},grow:{type:"enum",values:MD,default:void 0,responsive:!0}};function g_(e){const{rest:t,...n}=h_(e),{position:r=qt.position.default,width:o=qt.width.default,height:a=qt.height.default,inset:i=qt.inset.default,top:s=qt.top.default,bottom:c=qt.bottom.default,left:u=qt.left.default,right:d=qt.right.default,shrink:p=qt.shrink.default,grow:m=qt.grow.default,...h}=t;return{...n,position:r,width:o,height:a,inset:i,top:s,bottom:c,left:u,right:d,shrink:p,grow:m,rest:h}}function v_(e){return[m_(e),be(e.position,"rt-r-position"),be(e.shrink,"rt-r-fs"),be(e.grow,"rt-r-fg"),be(e.width,"rt-r-w"),be(e.height,"rt-r-h"),be(e.inset,"rt-r-inset"),be(e.top,"rt-r-top"),be(e.bottom,"rt-r-bottom"),be(e.left,"rt-r-left"),be(e.right,"rt-r-right")].filter(Boolean).join(" ")}const OD=["normal","start","end","both"],d6={type:"enum",values:OD,default:void 0,responsive:!0},Vo=["auto","0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],Uo={m:{type:"enum",values:Vo,default:void 0,responsive:!0},mx:{type:"enum",values:Vo,default:void 0,responsive:!0},my:{type:"enum",values:Vo,default:void 0,responsive:!0},mt:{type:"enum",values:Vo,default:void 0,responsive:!0},mr:{type:"enum",values:Vo,default:void 0,responsive:!0},mb:{type:"enum",values:Vo,default:void 0,responsive:!0},ml:{type:"enum",values:Vo,default:void 0,responsive:!0}};function kt(e){const{m:t=Uo.m.default,mx:n=Uo.mx.default,my:r=Uo.my.default,mt:o=Uo.mt.default,mr:a=Uo.mr.default,mb:i=Uo.mb.default,ml:s=Uo.ml.default,...c}=e;return{m:t,mx:n,my:r,mt:o,mr:a,mb:i,ml:s,rest:c}}function It(e){return[be(e.m,"rt-r-m"),be(e.mx,"rt-r-mx"),be(e.my,"rt-r-my"),be(e.mt,"rt-r-mt"),be(e.mr,"rt-r-mr"),be(e.mb,"rt-r-mb"),be(e.ml,"rt-r-ml")].filter(Boolean).join(" ")}const Oi={type:"enum",values:en.radius.values,default:void 0},LD=["left","center","right"],f6={type:"enum",values:LD,default:void 0,responsive:!0},zD=["light","regular","medium","bold"],p6={type:"enum",values:zD,default:void 0,responsive:!0};function Jw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Z=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{rest:o,...a}=g_(n),{className:i,asChild:s,display:c=PD.display.default,...u}=o,d=s?rn:"div";return f.createElement(d,{...u,ref:t,className:Pe("rt-Box",i,be(c,"rt-r-display"),v_(a),It(r))})});Z.displayName="Box";const FD=["none","inline-flex","flex"],qD=["row","column","row-reverse","column-reverse"],BD=["start","center","end","baseline","stretch"],HD=["start","center","end","between"],VD=["nowrap","wrap","wrap-reverse"],UD=["0","1","2","3","4","5","6","7","8","9"],Ko={display:{type:"enum",values:FD,default:"flex",responsive:!0},direction:{type:"enum",values:qD,default:void 0,responsive:!0},align:{type:"enum",values:BD,default:void 0,responsive:!0},justify:{type:"enum",values:HD,default:"start",responsive:!0},wrap:{type:"enum",values:VD,default:void 0,responsive:!0},gap:{type:"enum",values:UD,default:void 0,responsive:!0}},O=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{rest:o,...a}=g_(n),{className:i,asChild:s,display:c=Ko.display.default,direction:u=Ko.direction.default,align:d=Ko.align.default,justify:p=Ko.justify.default,wrap:m=Ko.wrap.default,gap:h=Ko.gap.default,...v}=o,g=s?rn:"div";return f.createElement(g,{...v,ref:t,className:Pe("rt-Flex",i,be(c,"rt-r-display"),be(u,"rt-r-fd"),be(d,"rt-r-ai"),be(p,"rt-r-jc",{between:"space-between"}),be(m,"rt-r-fw"),be(h,"rt-r-gap"),v_(a),It(r))})});O.displayName="Flex";const GD=["none","inline-grid","grid"],WD=["row","column","dense","row-dense","column-dense"],KD=["start","center","end","baseline","stretch"],YD=["start","center","end","between"],np=["0","1","2","3","4","5","6","7","8","9"],$r={display:{type:"enum",values:GD,default:void 0,responsive:!0},columns:{type:"string",default:void 0,responsive:!0},rows:{type:"string",default:void 0,responsive:!0},flow:{type:"enum",values:WD,default:void 0,responsive:!0},align:{type:"enum",values:KD,default:void 0,responsive:!0},justify:{type:"enum",values:YD,default:void 0,responsive:!0},gap:{type:"enum",values:np,default:void 0,responsive:!0},gapX:{type:"enum",values:np,default:void 0,responsive:!0},gapY:{type:"enum",values:np,default:void 0,responsive:!0}},Jo=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{rest:o,...a}=g_(n),{className:i,asChild:s,display:c=$r.display.default,columns:u=$r.columns.default,rows:d=$r.rows.default,flow:p=$r.flow.default,align:m=$r.align.default,justify:h=$r.justify.default,gap:v=$r.gap.default,gapX:g=$r.gapX.default,gapY:x=$r.gapY.default,style:y,..._}=o,w=s?rn:"div";let b={...y};if(typeof u=="string"&&(b={"--grid-template-columns-initial":cc(u),...b}),typeof d=="string"&&(b={"--grid-template-rows-initial":cc(d),...b}),Zw(u))for(const S in u)Jw(u,S)&&(b={[`--grid-template-columns-${S}`]:cc(u[S]),...b});if(Zw(d))for(const S in d)Jw(d,S)&&(b={[`--grid-template-rows-${S}`]:cc(d[S]),...b});return f.createElement(w,{..._,ref:t,className:Pe("rt-Grid",i,be(c,"rt-r-display"),be(p,"rt-r-gaf"),be(m,"rt-r-ai"),be(h,"rt-r-jc",{between:"space-between"}),be(v,"rt-r-gap"),be(g,"rt-r-cg"),be(x,"rt-r-rg"),v_(a),It(r)),style:Object.keys(b).length?b:void 0})});Jo.displayName="Grid";function cc(e){return e!=null&&e.match(/^\d+$/)?`repeat(${e}, minmax(0, 1fr))`:e}const XD=["1","2","3","4","5","6","7","8","9"],Da={size:{type:"enum",values:XD,default:"6",responsive:!0},weight:{...p6,default:"bold"},align:f6,trim:d6,color:cn,highContrast:eo},jt=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{children:o,className:a,asChild:i=!1,as:s="h1",size:c=Da.size.default,weight:u=Da.weight.default,align:d=Da.align.default,trim:p=Da.trim.default,color:m=Da.color.default,highContrast:h=Da.highContrast.default,...v}=n;return f.createElement(rn,{"data-accent-color":m,...v,ref:t,className:Pe("rt-Heading",a,be(c,"rt-r-size"),be(u,"rt-r-weight"),be(d,"rt-r-ta"),be(p,"rt-r-lt"),{"rt-high-contrast":h},It(r))},i?o:f.createElement(s,null,o))});jt.displayName="Heading";const ZD=["1","2","3","4","5","6","7","8","9"],Aa={size:{type:"enum",values:ZD,default:void 0,responsive:!0},weight:p6,align:f6,trim:d6,color:cn,highContrast:eo},N=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{children:o,className:a,asChild:i=!1,as:s="span",size:c=Aa.size.default,weight:u=Aa.weight.default,align:d=Aa.align.default,trim:p=Aa.trim.default,color:m=Aa.color.default,highContrast:h=Aa.highContrast.default,...v}=n;return f.createElement(rn,{"data-accent-color":m,...v,ref:t,className:Pe("rt-Text",a,be(c,"rt-r-size"),be(u,"rt-r-weight"),be(d,"rt-r-ta"),be(p,"rt-r-lt"),{"rt-high-contrast":h},It(r))},i?o:f.createElement(s,null,o))});N.displayName="Text";function pd(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const h6="Checkbox",[QD,Lee]=sn(h6),[JD,eA]=QD(h6),tA=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:a,required:i,disabled:s,value:c="on",onCheckedChange:u,...d}=e,[p,m]=f.useState(null),h=Ye(t,w=>m(w)),v=f.useRef(!1),g=p?!!p.closest("form"):!0,[x=!1,y]=wr({prop:o,defaultProp:a,onChange:u}),_=f.useRef(x);return f.useEffect(()=>{const w=p==null?void 0:p.form;if(w){const b=()=>y(_.current);return w.addEventListener("reset",b),()=>w.removeEventListener("reset",b)}},[p,y]),f.createElement(JD,{scope:n,state:x,disabled:s},f.createElement(ze.button,te({type:"button",role:"checkbox","aria-checked":ia(x)?"mixed":x,"aria-required":i,"data-state":m6(x),"data-disabled":s?"":void 0,disabled:s,value:c},d,{ref:h,onKeyDown:Ce(e.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Ce(e.onClick,w=>{y(b=>ia(b)?!0:!b),g&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})})),g&&f.createElement(oA,{control:p,bubbles:!v.current,name:r,value:c,checked:x,required:i,disabled:s,style:{transform:"translateX(-100%)"}}))}),nA="CheckboxIndicator",rA=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,a=eA(nA,n);return f.createElement(ln,{present:r||ia(a.state)||a.state===!0},f.createElement(ze.span,te({"data-state":m6(a.state),"data-disabled":a.disabled?"":void 0},o,{ref:t,style:{pointerEvents:"none",...e.style}})))}),oA=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=f.useRef(null),i=pd(n),s=dd(t);return f.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&p){const m=new Event("click",{bubbles:r});c.indeterminate=ia(n),p.call(c,ia(n)?!1:n),c.dispatchEvent(m)}},[i,n,r]),f.createElement("input",te({type:"checkbox","aria-hidden":!0,defaultChecked:ia(n)?!1:n},o,{tabIndex:-1,ref:a,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function ia(e){return e==="indeterminate"}function m6(e){return ia(e)?"indeterminate":e?"checked":"unchecked"}const aA=tA,iA=rA,sA=["1","2","3"],lA=["classic","surface","soft"],uc={size:{type:"enum",values:sA,default:"2",responsive:!0},variant:{type:"enum",values:lA,default:"surface"},color:cn,highContrast:eo},bl=f.forwardRef(({color:e="currentColor",...t},n)=>f.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:e,xmlns:"http://www.w3.org/2000/svg",...t,ref:n},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));bl.displayName="ThickCheckIcon";const g6=f.forwardRef(({color:e="currentColor",...t},n)=>f.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:e,xmlns:"http://www.w3.org/2000/svg",...t,ref:n},f.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));g6.displayName="ChevronDownIcon";const v6=f.forwardRef(({color:e="currentColor",...t},n)=>f.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:e,xmlns:"http://www.w3.org/2000/svg",...t,ref:n},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));v6.displayName="ThickChevronRightIcon";const cA=f.forwardRef(({color:e="currentColor",...t},n)=>f.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n},f.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:e,fillRule:"evenodd",clipRule:"evenodd"})));cA.displayName="InfoCircledIcon";const Yt=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,style:a,size:i=uc.size.default,variant:s=uc.variant.default,color:c=uc.color.default,highContrast:u=uc.highContrast.default,...d}=n;return f.createElement("span",{className:Pe("rt-CheckboxRoot",o,be(i,"rt-r-size"),It(r)),style:a},f.createElement(aA,{"data-accent-color":c,...d,ref:t,className:Pe("rt-reset","rt-CheckboxButton",`rt-variant-${s}`,{"rt-high-contrast":u})},f.createElement(iA,{className:"rt-CheckboxIndicator"},f.createElement(bl,{className:"rt-CheckboxIndicatorIcon"}))))});Yt.displayName="Checkbox";function y_(e){const t=e+"CollectionProvider",[n,r]=sn(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=h=>{const{scope:v,children:g}=h,x=X.useRef(null),y=X.useRef(new Map).current;return X.createElement(o,{scope:v,itemMap:y,collectionRef:x},g)},s=e+"CollectionSlot",c=X.forwardRef((h,v)=>{const{scope:g,children:x}=h,y=a(s,g),_=Ye(v,y.collectionRef);return X.createElement(rn,{ref:_},x)}),u=e+"CollectionItemSlot",d="data-radix-collection-item",p=X.forwardRef((h,v)=>{const{scope:g,children:x,...y}=h,_=X.useRef(null),w=Ye(v,_),b=a(u,g);return X.useEffect(()=>(b.itemMap.set(_,{ref:_,...y}),()=>void b.itemMap.delete(_))),X.createElement(rn,{[d]:"",ref:w},x)});function m(h){const v=a(e+"CollectionConsumer",h);return X.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((b,S)=>y.indexOf(b.ref.current)-y.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:p},m,r]}const rp="rovingFocusGroup.onEntryFocus",uA={bubbles:!1,cancelable:!0},__="RovingFocusGroup",[Cv,y6,dA]=y_(__),[fA,Li]=sn(__,[dA]),[pA,hA]=fA(__),mA=f.forwardRef((e,t)=>f.createElement(Cv.Provider,{scope:e.__scopeRovingFocusGroup},f.createElement(Cv.Slot,{scope:e.__scopeRovingFocusGroup},f.createElement(gA,te({},e,{ref:t}))))),gA=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:u,...d}=e,p=f.useRef(null),m=Ye(t,p),h=Mi(a),[v=null,g]=wr({prop:i,defaultProp:s,onChange:c}),[x,y]=f.useState(!1),_=Tt(u),w=y6(n),b=f.useRef(!1),[S,k]=f.useState(0);return f.useEffect(()=>{const j=p.current;if(j)return j.addEventListener(rp,_),()=>j.removeEventListener(rp,_)},[_]),f.createElement(pA,{scope:n,orientation:r,dir:h,loop:o,currentTabStopId:v,onItemFocus:f.useCallback(j=>g(j),[g]),onItemShiftTab:f.useCallback(()=>y(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(j=>j+1),[]),onFocusableItemRemove:f.useCallback(()=>k(j=>j-1),[])},f.createElement(ze.div,te({tabIndex:x||S===0?-1:0,"data-orientation":r},d,{ref:m,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{b.current=!0}),onFocus:Ce(e.onFocus,j=>{const $=!b.current;if(j.target===j.currentTarget&&$&&!x){const C=new CustomEvent(rp,uA);if(j.currentTarget.dispatchEvent(C),!C.defaultPrevented){const R=w().filter(B=>B.focusable),D=R.find(B=>B.active),q=R.find(B=>B.id===v),A=[D,q,...R].filter(Boolean).map(B=>B.ref.current);_6(A)}}b.current=!1}),onBlur:Ce(e.onBlur,()=>y(!1))})))}),vA="RovingFocusGroupItem",yA=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...i}=e,s=On(),c=a||s,u=hA(vA,n),d=u.currentTabStopId===c,p=y6(n),{onFocusableItemAdd:m,onFocusableItemRemove:h}=u;return f.useEffect(()=>{if(r)return m(),()=>h()},[r,m,h]),f.createElement(Cv.ItemSlot,{scope:n,id:c,focusable:r,active:o},f.createElement(ze.span,te({tabIndex:d?0:-1,"data-orientation":u.orientation},i,{ref:t,onMouseDown:Ce(e.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:Ce(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ce(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=wA(v,u.orientation,u.dir);if(g!==void 0){v.preventDefault();let y=p().filter(_=>_.focusable).map(_=>_.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const _=y.indexOf(v.currentTarget);y=u.loop?bA(y,_+1):y.slice(_+1)}setTimeout(()=>_6(y))}})})))}),_A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wA(e,t,n){const r=xA(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _A[r]}function _6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function bA(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const x_=mA,w_=yA,x6="Radio",[CA,w6]=sn(x6),[SA,EA]=CA(x6),jA=f.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:a,disabled:i,value:s="on",onCheck:c,...u}=e,[d,p]=f.useState(null),m=Ye(t,g=>p(g)),h=f.useRef(!1),v=d?!!d.closest("form"):!0;return f.createElement(SA,{scope:n,checked:o,disabled:i},f.createElement(ze.button,te({type:"button",role:"radio","aria-checked":o,"data-state":b6(o),"data-disabled":i?"":void 0,disabled:i,value:s},u,{ref:m,onClick:Ce(e.onClick,g=>{o||c==null||c(),v&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})),v&&f.createElement(RA,{control:d,bubbles:!h.current,name:r,value:s,checked:o,required:a,disabled:i,style:{transform:"translateX(-100%)"}}))}),$A="RadioIndicator",TA=f.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,a=EA($A,n);return f.createElement(ln,{present:r||a.checked},f.createElement(ze.span,te({"data-state":b6(a.checked),"data-disabled":a.disabled?"":void 0},o,{ref:t})))}),RA=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=f.useRef(null),i=pd(n),s=dd(t);return f.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&p){const m=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(m)}},[i,n,r]),f.createElement("input",te({type:"radio","aria-hidden":!0,defaultChecked:n},o,{tabIndex:-1,ref:a,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function b6(e){return e?"checked":"unchecked"}const kA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],C6="RadioGroup",[NA,zee]=sn(C6,[Li,w6]),S6=Li(),E6=w6(),[PA,DA]=NA(C6),AA=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:a,required:i=!1,disabled:s=!1,orientation:c,dir:u,loop:d=!0,onValueChange:p,...m}=e,h=S6(n),v=Mi(u),[g,x]=wr({prop:a,defaultProp:o,onChange:p});return f.createElement(PA,{scope:n,name:r,required:i,disabled:s,value:g,onValueChange:x},f.createElement(x_,te({asChild:!0},h,{orientation:c,dir:v,loop:d}),f.createElement(ze.div,te({role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":s?"":void 0,dir:v},m,{ref:t}))))}),IA="RadioGroupItem",MA=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,a=DA(IA,n),i=a.disabled||r,s=S6(n),c=E6(n),u=f.useRef(null),d=Ye(t,u),p=a.value===o.value,m=f.useRef(!1);return f.useEffect(()=>{const h=g=>{kA.includes(g.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",v)}},[]),f.createElement(w_,te({asChild:!0},s,{focusable:!i,active:p}),f.createElement(jA,te({disabled:i,required:a.required,checked:p},c,o,{name:a.name,ref:d,onCheck:()=>a.onValueChange(o.value),onKeyDown:Ce(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Ce(o.onFocus,()=>{var h;m.current&&((h=u.current)===null||h===void 0||h.click())})})))}),OA=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=E6(n);return f.createElement(TA,te({},o,r,{ref:t}))}),LA=AA,zA=MA,FA=OA,qA=["1","2","3"],BA=["classic","surface","soft"],dc={size:{type:"enum",values:qA,default:"2",responsive:!0},variant:{type:"enum",values:BA,default:"surface"},color:cn,highContrast:eo},j6=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,size:a=dc.size.default,variant:i=dc.variant.default,color:s=dc.color.default,highContrast:c=dc.highContrast.default,...u}=n;return f.createElement(LA,{"data-accent-color":s,...u,ref:t,className:Pe("rt-RadioGroupRoot",o,be(a,"rt-r-size"),`rt-variant-${i}`,{"rt-high-contrast":c},It(r))})});j6.displayName="RadioGroupRoot";const $6=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,style:a,...i}=n;return f.createElement("span",{className:Pe("rt-RadioGroupItem",o,It(r)),style:a},f.createElement(zA,{...i,ref:t,className:Pe("rt-reset","rt-RadioGroupButton")},f.createElement(FA,{className:"rt-RadioGroupIndicator"})))});$6.displayName="RadioGroupItem";const op=Object.assign({},{Root:j6,Item:$6});function Sv(e,[t,n]){return Math.min(n,Math.max(t,e))}let ap=0;function b_(){f.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:eb()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:eb()),ap++,()=>{ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ap--}},[])}function eb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const ip="focusScope.autoFocusOnMount",sp="focusScope.autoFocusOnUnmount",tb={bubbles:!1,cancelable:!0},C_=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[s,c]=f.useState(null),u=Tt(o),d=Tt(a),p=f.useRef(null),m=Ye(t,g=>c(g)),h=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let _=function(k){if(h.paused||!s)return;const j=k.target;s.contains(j)?p.current=j:uo(p.current,{select:!0})},w=function(k){if(h.paused||!s)return;const j=k.relatedTarget;j!==null&&(s.contains(j)||uo(p.current,{select:!0}))},b=function(k){if(document.activeElement===document.body)for(const $ of k)$.removedNodes.length>0&&uo(s)};var g=_,x=w,y=b;document.addEventListener("focusin",_),document.addEventListener("focusout",w);const S=new MutationObserver(b);return s&&S.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",w),S.disconnect()}}},[r,s,h.paused]),f.useEffect(()=>{if(s){rb.add(h);const g=document.activeElement;if(!s.contains(g)){const y=new CustomEvent(ip,tb);s.addEventListener(ip,u),s.dispatchEvent(y),y.defaultPrevented||(HA(KA(T6(s)),{select:!0}),document.activeElement===g&&uo(s))}return()=>{s.removeEventListener(ip,u),setTimeout(()=>{const y=new CustomEvent(sp,tb);s.addEventListener(sp,d),s.dispatchEvent(y),y.defaultPrevented||uo(g??document.body,{select:!0}),s.removeEventListener(sp,d),rb.remove(h)},0)}}},[s,u,d,h]);const v=f.useCallback(g=>{if(!n&&!r||h.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const _=g.currentTarget,[w,b]=VA(_);w&&b?!g.shiftKey&&y===b?(g.preventDefault(),n&&uo(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),n&&uo(b,{select:!0})):y===_&&g.preventDefault()}},[n,r,h.paused]);return f.createElement(ze.div,te({tabIndex:-1},i,{ref:m,onKeyDown:v}))});function HA(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(uo(r,{select:t}),document.activeElement!==n)return}function VA(e){const t=T6(e),n=nb(t,e),r=nb(t.reverse(),e);return[n,r]}function T6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nb(e,t){for(const n of e)if(!UA(n,{upTo:t}))return n}function UA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GA(e){return e instanceof HTMLInputElement&&"select"in e}function uo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&GA(e)&&t&&e.select()}}const rb=WA();function WA(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ob(e,t),e.unshift(t)},remove(t){var n;e=ob(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function ob(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function KA(e){return e.filter(t=>t.tagName!=="A")}var YA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ia=new WeakMap,fc=new WeakMap,pc={},lp=0,R6=function(e){return e&&(e.host||R6(e.parentNode))},XA=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=R6(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ZA=function(e,t,n,r){var o=XA(t,Array.isArray(e)?e:[e]);pc[n]||(pc[n]=new WeakMap);var a=pc[n],i=[],s=new Set,c=new Set(o),u=function(p){!p||s.has(p)||(s.add(p),u(p.parentNode))};o.forEach(u);var d=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(s.has(m))d(m);else{var h=m.getAttribute(r),v=h!==null&&h!=="false",g=(Ia.get(m)||0)+1,x=(a.get(m)||0)+1;Ia.set(m,g),a.set(m,x),i.push(m),g===1&&v&&fc.set(m,!0),x===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}})};return d(t),s.clear(),lp++,function(){i.forEach(function(p){var m=Ia.get(p)-1,h=a.get(p)-1;Ia.set(p,m),a.set(p,h),m||(fc.has(p)||p.removeAttribute(r),fc.delete(p)),h||p.removeAttribute(n)}),lp--,lp||(Ia=new WeakMap,Ia=new WeakMap,fc=new WeakMap,pc={})}},S_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||YA(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),ZA(r,o,n,"aria-hidden")):function(){return null}},fr=function(){return fr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},fr.apply(this,arguments)};function k6(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function QA(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Hc="right-scroll-bar-position",Vc="width-before-scroll-bar",JA="with-scroll-bars-hidden",eI="--removed-body-scroll-bar-size";function cp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tI(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var ab=new WeakMap;function nI(e,t){var n=tI(t||null,function(r){return e.forEach(function(o){return cp(o,r)})});return f.useLayoutEffect(function(){var r=ab.get(n);if(r){var o=new Set(r),a=new Set(e),i=n.current;o.forEach(function(s){a.has(s)||cp(s,null)}),a.forEach(function(s){o.has(s)||cp(s,i)})}ab.set(n,e)},[e]),n}function rI(e){return e}function oI(e,t){t===void 0&&(t=rI);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(s){return s!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var s=n;n=[],s.forEach(a),i=n}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return o}function aI(e){e===void 0&&(e={});var t=oI(null);return t.options=fr({async:!0,ssr:!1},e),t}var N6=function(e){var t=e.sideCar,n=k6(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,fr({},n))};N6.isSideCarExport=!0;function iI(e,t){return e.useMedium(t),N6}var P6=aI(),up=function(){},hd=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:up,onWheelCapture:up,onTouchMoveCapture:up}),o=r[0],a=r[1],i=e.forwardProps,s=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,p=e.shards,m=e.sideCar,h=e.noIsolation,v=e.inert,g=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,_=k6(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=m,b=nI([n,t]),S=fr(fr({},_),o);return f.createElement(f.Fragment,null,d&&f.createElement(w,{sideCar:P6,removeScrollBar:u,shards:p,noIsolation:h,inert:v,setCallbacks:a,allowPinchZoom:!!g,lockRef:n}),i?f.cloneElement(f.Children.only(s),fr(fr({},S),{ref:b})):f.createElement(y,fr({},S,{className:c,ref:b}),s))});hd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hd.classNames={fullWidth:Vc,zeroRight:Hc};var sI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sI();return t&&e.setAttribute("nonce",t),e}function cI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dI=function(){var e=0,t=null;return{add:function(n){e==0&&(t=lI())&&(cI(t,n),uI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fI=function(){var e=dI();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},D6=function(){var e=fI(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},pI={left:0,top:0,right:0,gap:0},dp=function(e){return parseInt(e||"",10)||0},hI=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[dp(n),dp(r),dp(o)]},mI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pI;var t=hI(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},gI=D6(),$u="data-scroll-locked",vI=function(e,t,n,r){var o=e.left,a=e.top,i=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(JA,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat($u,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hc,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Vc,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Hc," .").concat(Hc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vc," .").concat(Vc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($u,`] {
    `).concat(eI,": ").concat(s,`px;
  }
`)},yI=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,a=f.useMemo(function(){return mI(o)},[o]);return f.useEffect(function(){return document.body.setAttribute($u,""),function(){document.body.removeAttribute($u)}},[]),f.createElement(gI,{styles:vI(a,!t,o,n?"":"!important")})},Ev=!1;if(typeof window<"u")try{var hc=Object.defineProperty({},"passive",{get:function(){return Ev=!0,!0}});window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{Ev=!1}var Ma=Ev?{passive:!1}:!1,_I=function(e){return e.tagName==="TEXTAREA"},A6=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!_I(e)&&n[t]==="visible")},xI=function(e){return A6(e,"overflowY")},wI=function(e){return A6(e,"overflowX")},ib=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=I6(e,n);if(r){var o=M6(e,n),a=o[1],i=o[2];if(a>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},bI=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},CI=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},I6=function(e,t){return e==="v"?xI(t):wI(t)},M6=function(e,t){return e==="v"?bI(t):CI(t)},SI=function(e,t){return e==="h"&&t==="rtl"?-1:1},EI=function(e,t,n,r,o){var a=SI(e,window.getComputedStyle(t).direction),i=a*r,s=n.target,c=t.contains(s),u=!1,d=i>0,p=0,m=0;do{var h=M6(e,s),v=h[0],g=h[1],x=h[2],y=g-x-a*v;(v||y)&&I6(e,s)&&(p+=y,m+=v),s=s.parentNode}while(!c&&s!==document.body||c&&(t.contains(s)||t===s));return(d&&(o&&p===0||!o&&i>p)||!d&&(o&&m===0||!o&&-i>m))&&(u=!0),u},mc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sb=function(e){return[e.deltaX,e.deltaY]},lb=function(e){return e&&"current"in e?e.current:e},jI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$I=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},TI=0,Oa=[];function RI(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(TI++)[0],a=f.useState(function(){return D6()})[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=QA([e.lockRef.current],(e.shards||[]).map(lb),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=f.useCallback(function(g,x){if("touches"in g&&g.touches.length===2)return!i.current.allowPinchZoom;var y=mc(g),_=n.current,w="deltaX"in g?g.deltaX:_[0]-y[0],b="deltaY"in g?g.deltaY:_[1]-y[1],S,k=g.target,j=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in g&&j==="h"&&k.type==="range")return!1;var $=ib(j,k);if(!$)return!0;if($?S=j:(S=j==="v"?"h":"v",$=ib(j,k)),!$)return!1;if(!r.current&&"changedTouches"in g&&(w||b)&&(r.current=S),!S)return!0;var C=r.current||S;return EI(C,x,g,C==="h"?w:b,!0)},[]),c=f.useCallback(function(g){var x=g;if(!(!Oa.length||Oa[Oa.length-1]!==a)){var y="deltaY"in x?sb(x):mc(x),_=t.current.filter(function(S){return S.name===x.type&&S.target===x.target&&jI(S.delta,y)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var w=(i.current.shards||[]).map(lb).filter(Boolean).filter(function(S){return S.contains(x.target)}),b=w.length>0?s(x,w[0]):!i.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),u=f.useCallback(function(g,x,y,_){var w={name:g,delta:x,target:y,should:_};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),d=f.useCallback(function(g){n.current=mc(g),r.current=void 0},[]),p=f.useCallback(function(g){u(g.type,sb(g),g.target,s(g,e.lockRef.current))},[]),m=f.useCallback(function(g){u(g.type,mc(g),g.target,s(g,e.lockRef.current))},[]);f.useEffect(function(){return Oa.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ma),document.addEventListener("touchmove",c,Ma),document.addEventListener("touchstart",d,Ma),function(){Oa=Oa.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Ma),document.removeEventListener("touchmove",c,Ma),document.removeEventListener("touchstart",d,Ma)}},[]);var h=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(a,{styles:$I(o)}):null,h?f.createElement(yI,{gapMode:"margin"}):null)}const kI=iI(P6,RI);var O6=f.forwardRef(function(e,t){return f.createElement(hd,fr({},e,{ref:t,sideCar:kI}))});O6.classNames=hd.classNames;const E_=O6,NI=[" ","Enter","ArrowUp","ArrowDown"],PI=[" ","Enter"],md="Select",[gd,j_,DI]=y_(md),[zi,Fee]=sn(md,[DI,Ii]),$_=Ii(),[AI,wa]=zi(md),[II,MI]=zi(md),OI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:i,defaultValue:s,onValueChange:c,dir:u,name:d,autoComplete:p,disabled:m,required:h}=e,v=$_(t),[g,x]=f.useState(null),[y,_]=f.useState(null),[w,b]=f.useState(!1),S=Mi(u),[k=!1,j]=wr({prop:r,defaultProp:o,onChange:a}),[$,C]=wr({prop:i,defaultProp:s,onChange:c}),R=f.useRef(null),D=g?!!g.closest("form"):!0,[q,F]=f.useState(new Set),A=Array.from(q).map(B=>B.props.value).join(";");return f.createElement(d_,v,f.createElement(AI,{required:h,scope:t,trigger:g,onTriggerChange:x,valueNode:y,onValueNodeChange:_,valueNodeHasChildren:w,onValueNodeHasChildrenChange:b,contentId:On(),value:$,onValueChange:C,open:k,onOpenChange:j,dir:S,triggerPointerDownPosRef:R,disabled:m},f.createElement(gd.Provider,{scope:t},f.createElement(II,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(B=>{F(E=>new Set(E).add(B))},[]),onNativeOptionRemove:f.useCallback(B=>{F(E=>{const L=new Set(E);return L.delete(B),L})},[])},n)),D?f.createElement(q6,{key:A,"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:p,value:$,onChange:B=>C(B.target.value),disabled:m},$===void 0?f.createElement("option",{value:""}):null,Array.from(q)):null))},LI="SelectTrigger",zI=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=$_(n),i=wa(LI,n),s=i.disabled||r,c=Ye(t,i.onTriggerChange),u=j_(n),[d,p,m]=B6(v=>{const g=u().filter(_=>!_.disabled),x=g.find(_=>_.value===i.value),y=H6(g,v,x);y!==void 0&&i.onValueChange(y.value)}),h=()=>{s||(i.onOpenChange(!0),m())};return f.createElement(o6,te({asChild:!0},a),f.createElement(ze.button,te({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":F6(i.value)?"":void 0},o,{ref:c,onClick:Ce(o.onClick,v=>{v.currentTarget.focus()}),onPointerDown:Ce(o.onPointerDown,v=>{const g=v.target;g.hasPointerCapture(v.pointerId)&&g.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(h(),i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)},v.preventDefault())}),onKeyDown:Ce(o.onKeyDown,v=>{const g=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(g&&v.key===" ")&&NI.includes(v.key)&&(h(),v.preventDefault())})})))}),FI="SelectValue",qI=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:i="",...s}=e,c=wa(FI,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,p=Ye(t,c.onValueNodeChange);return Hn(()=>{u(d)},[u,d]),f.createElement(ze.span,te({},s,{ref:p,style:{pointerEvents:"none"}}),F6(c.value)?f.createElement(f.Fragment,null,i):a)}),BI=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return f.createElement(ze.span,te({"aria-hidden":!0},o,{ref:t}),r||"")}),HI=e=>f.createElement(f_,te({asChild:!0},e)),wi="SelectContent",VI=f.forwardRef((e,t)=>{const n=wa(wi,e.__scopeSelect),[r,o]=f.useState();if(Hn(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?_a.createPortal(f.createElement(L6,{scope:e.__scopeSelect},f.createElement(gd.Slot,{scope:e.__scopeSelect},f.createElement("div",null,e.children))),a):null}return f.createElement(UI,te({},e,{ref:t}))}),Nr=10,[L6,vd]=zi(wi),UI=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:s,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:m,collisionPadding:h,sticky:v,hideWhenDetached:g,avoidCollisions:x,...y}=e,_=wa(wi,n),[w,b]=f.useState(null),[S,k]=f.useState(null),j=Ye(t,ie=>b(ie)),[$,C]=f.useState(null),[R,D]=f.useState(null),q=j_(n),[F,A]=f.useState(!1),B=f.useRef(!1);f.useEffect(()=>{if(w)return S_(w)},[w]),b_();const E=f.useCallback(ie=>{const[ge,...ve]=q().map(se=>se.ref.current),[ue]=ve.slice(-1),K=document.activeElement;for(const se of ie)if(se===K||(se==null||se.scrollIntoView({block:"nearest"}),se===ge&&S&&(S.scrollTop=0),se===ue&&S&&(S.scrollTop=S.scrollHeight),se==null||se.focus(),document.activeElement!==K))return},[q,S]),L=f.useCallback(()=>E([$,w]),[E,$,w]);f.useEffect(()=>{F&&L()},[F,L]);const{onOpenChange:I,triggerPointerDownPosRef:P}=_;f.useEffect(()=>{if(w){let ie={x:0,y:0};const ge=ue=>{var K,se,Se,Ee;ie={x:Math.abs(Math.round(ue.pageX)-((K=(se=P.current)===null||se===void 0?void 0:se.x)!==null&&K!==void 0?K:0)),y:Math.abs(Math.round(ue.pageY)-((Se=(Ee=P.current)===null||Ee===void 0?void 0:Ee.y)!==null&&Se!==void 0?Se:0))}},ve=ue=>{ie.x<=10&&ie.y<=10?ue.preventDefault():w.contains(ue.target)||I(!1),document.removeEventListener("pointermove",ge),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",ve,{capture:!0})}}},[w,I,P]),f.useEffect(()=>{const ie=()=>I(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[I]);const[z,H]=B6(ie=>{const ge=q().filter(K=>!K.disabled),ve=ge.find(K=>K.ref.current===document.activeElement),ue=H6(ge,ie,ve);ue&&setTimeout(()=>ue.ref.current.focus())}),W=f.useCallback((ie,ge,ve)=>{const ue=!B.current&&!ve;(_.value!==void 0&&_.value===ge||ue)&&(C(ie),ue&&(B.current=!0))},[_.value]),J=f.useCallback(()=>w==null?void 0:w.focus(),[w]),ce=f.useCallback((ie,ge,ve)=>{const ue=!B.current&&!ve;(_.value!==void 0&&_.value===ge||ue)&&D(ie)},[_.value]),fe=r==="popper"?cb:GI,pe=fe===cb?{side:s,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:m,collisionPadding:h,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return f.createElement(L6,{scope:n,content:w,viewport:S,onViewportChange:k,itemRefCallback:W,selectedItem:$,onItemLeave:J,itemTextRefCallback:ce,focusSelectedItem:L,selectedItemText:R,position:r,isPositioned:F,searchRef:z},f.createElement(E_,{as:rn,allowPinchZoom:!0},f.createElement(C_,{asChild:!0,trapped:_.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Ce(o,ie=>{var ge;(ge=_.trigger)===null||ge===void 0||ge.focus({preventScroll:!0}),ie.preventDefault()})},f.createElement(o_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>_.onOpenChange(!1)},f.createElement(fe,te({role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ie=>ie.preventDefault()},y,pe,{onPlaced:()=>A(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ce(y.onKeyDown,ie=>{const ge=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ge&&ie.key.length===1&&H(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let ue=q().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const K=ie.target,se=ue.indexOf(K);ue=ue.slice(se+1)}setTimeout(()=>E(ue)),ie.preventDefault()}})}))))))}),GI=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=wa(wi,n),i=vd(wi,n),[s,c]=f.useState(null),[u,d]=f.useState(null),p=Ye(t,j=>d(j)),m=j_(n),h=f.useRef(!1),v=f.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:_}=i,w=f.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&u&&g&&x&&y){const j=a.trigger.getBoundingClientRect(),$=u.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(a.dir!=="rtl"){const K=R.left-$.left,se=C.left-K,Se=j.left-se,Ee=j.width+Se,we=Math.max(Ee,$.width),T=window.innerWidth-Nr,V=Sv(se,[Nr,T-we]);s.style.minWidth=Ee+"px",s.style.left=V+"px"}else{const K=$.right-R.right,se=window.innerWidth-C.right-K,Se=window.innerWidth-j.right-se,Ee=j.width+Se,we=Math.max(Ee,$.width),T=window.innerWidth-Nr,V=Sv(se,[Nr,T-we]);s.style.minWidth=Ee+"px",s.style.right=V+"px"}const D=m(),q=window.innerHeight-Nr*2,F=g.scrollHeight,A=window.getComputedStyle(u),B=parseInt(A.borderTopWidth,10),E=parseInt(A.paddingTop,10),L=parseInt(A.borderBottomWidth,10),I=parseInt(A.paddingBottom,10),P=B+E+F+I+L,z=Math.min(x.offsetHeight*5,P),H=window.getComputedStyle(g),W=parseInt(H.paddingTop,10),J=parseInt(H.paddingBottom,10),ce=j.top+j.height/2-Nr,fe=q-ce,pe=x.offsetHeight/2,ie=x.offsetTop+pe,ge=B+E+ie,ve=P-ge;if(ge<=ce){const K=x===D[D.length-1].ref.current;s.style.bottom="0px";const se=u.clientHeight-g.offsetTop-g.offsetHeight,Se=Math.max(fe,pe+(K?J:0)+se+L),Ee=ge+Se;s.style.height=Ee+"px"}else{const K=x===D[0].ref.current;s.style.top="0px";const Se=Math.max(ce,B+g.offsetTop+(K?W:0)+pe)+ve;s.style.height=Se+"px",g.scrollTop=ge-ce+g.offsetTop}s.style.margin=`${Nr}px 0`,s.style.minHeight=z+"px",s.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[m,a.trigger,a.valueNode,s,u,g,x,y,a.dir,r]);Hn(()=>w(),[w]);const[b,S]=f.useState();Hn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=f.useCallback(j=>{j&&v.current===!0&&(w(),_==null||_(),v.current=!1)},[w,_]);return f.createElement(WI,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:k},f.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b}},f.createElement(ze.div,te({},o,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),cb=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Nr,...a}=e,i=$_(n);return f.createElement(a6,te({},i,a,{ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[WI,KI]=zi(wi,{}),ub="SelectViewport",YI=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=vd(ub,n),a=KI(ub,n),i=Ye(t,o.onViewportChange),s=f.useRef(0);return f.createElement(f.Fragment,null,f.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),f.createElement(gd.Slot,{scope:n},f.createElement(ze.div,te({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Ce(r.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&d){const m=Math.abs(s.current-u.scrollTop);if(m>0){const h=window.innerHeight-Nr*2,v=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),x=Math.max(v,g);if(x<h){const y=x+m,_=Math.min(h,y),w=y-_;d.style.height=_+"px",d.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,d.style.justifyContent="flex-end")}}}s.current=u.scrollTop})}))))}),XI="SelectGroup",[ZI,QI]=zi(XI),JI=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=On();return f.createElement(ZI,{scope:n,id:o},f.createElement(ze.div,te({role:"group","aria-labelledby":o},r,{ref:t})))}),eM="SelectLabel",tM=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=QI(eM,n);return f.createElement(ze.div,te({id:o.id},r,{ref:t}))}),jv="SelectItem",[nM,z6]=zi(jv),rM=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...i}=e,s=wa(jv,n),c=vd(jv,n),u=s.value===r,[d,p]=f.useState(a??""),[m,h]=f.useState(!1),v=Ye(t,y=>{var _;return(_=c.itemRefCallback)===null||_===void 0?void 0:_.call(c,y,r,o)}),g=On(),x=()=>{o||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.createElement(nM,{scope:n,value:r,disabled:o,textId:g,isSelected:u,onItemTextChange:f.useCallback(y=>{p(_=>{var w;return _||((w=y==null?void 0:y.textContent)!==null&&w!==void 0?w:"").trim()})},[])},f.createElement(gd.ItemSlot,{scope:n,value:r,disabled:o,textValue:d},f.createElement(ze.div,te({role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},i,{ref:v,onFocus:Ce(i.onFocus,()=>h(!0)),onBlur:Ce(i.onBlur,()=>h(!1)),onPointerUp:Ce(i.onPointerUp,x),onPointerMove:Ce(i.onPointerMove,y=>{if(o){var _;(_=c.onItemLeave)===null||_===void 0||_.call(c)}else y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(i.onPointerLeave,y=>{if(y.currentTarget===document.activeElement){var _;(_=c.onItemLeave)===null||_===void 0||_.call(c)}}),onKeyDown:Ce(i.onKeyDown,y=>{var _;((_=c.searchRef)===null||_===void 0?void 0:_.current)!==""&&y.key===" "||(PI.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})}))))}),gc="SelectItemText",oM=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,i=wa(gc,n),s=vd(gc,n),c=z6(gc,n),u=MI(gc,n),[d,p]=f.useState(null),m=Ye(t,y=>p(y),c.onItemTextChange,y=>{var _;return(_=s.itemTextRefCallback)===null||_===void 0?void 0:_.call(s,y,c.value,c.disabled)}),h=d==null?void 0:d.textContent,v=f.useMemo(()=>f.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},h),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return Hn(()=>(g(v),()=>x(v)),[g,x,v]),f.createElement(f.Fragment,null,f.createElement(ze.span,te({id:c.textId},a,{ref:m})),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?_a.createPortal(a.children,i.valueNode):null)}),aM="SelectItemIndicator",iM=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return z6(aM,n).isSelected?f.createElement(ze.span,te({"aria-hidden":!0},r,{ref:t})):null}),sM=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f.createElement(ze.div,te({"aria-hidden":!0},r,{ref:t}))});function F6(e){return e===""||e===void 0}const q6=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=f.useRef(null),a=Ye(t,o),i=pd(n);return f.useEffect(()=>{const s=o.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&d){const p=new Event("change",{bubbles:!0});d.call(s,n),s.dispatchEvent(p)}},[i,n]),f.createElement(lD,{asChild:!0},f.createElement("select",te({},r,{ref:a,defaultValue:n})))});q6.displayName="BubbleSelect";function B6(e){const t=Tt(e),n=f.useRef(""),r=f.useRef(0),o=f.useCallback(i=>{const s=n.current+i;t(s),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(s)},[t]),a=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function H6(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=lM(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function lM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const cM=OI,uM=zI,dM=qI,fM=BI,pM=HI,hM=VI,mM=YI,gM=JI,vM=tM,yM=rM,_M=oM,xM=iM,wM=sM;function bM(e,t){return f.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const V6="ScrollArea",[U6,qee]=sn(V6),[CM,Un]=U6(V6),SM=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:a=600,...i}=e,[s,c]=f.useState(null),[u,d]=f.useState(null),[p,m]=f.useState(null),[h,v]=f.useState(null),[g,x]=f.useState(null),[y,_]=f.useState(0),[w,b]=f.useState(0),[S,k]=f.useState(!1),[j,$]=f.useState(!1),C=Ye(t,D=>c(D)),R=Mi(o);return f.createElement(CM,{scope:n,type:r,dir:R,scrollHideDelay:a,scrollArea:s,viewport:u,onViewportChange:d,content:p,onContentChange:m,scrollbarX:h,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:j,onScrollbarYEnabledChange:$,onCornerWidthChange:_,onCornerHeightChange:b},f.createElement(ze.div,te({dir:R},i,{ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})))}),EM="ScrollAreaViewport",jM=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...o}=e,a=Un(EM,n),i=f.useRef(null),s=Ye(t,i,a.onViewportChange);return f.createElement(f.Fragment,null,f.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),f.createElement(ze.div,te({"data-radix-scroll-area-viewport":""},o,{ref:s,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style}}),f.createElement("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),to="ScrollAreaScrollbar",$M=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Un(to,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,s=e.orientation==="horizontal";return f.useEffect(()=>(s?a(!0):i(!0),()=>{s?a(!1):i(!1)}),[s,a,i]),o.type==="hover"?f.createElement(TM,te({},r,{ref:t,forceMount:n})):o.type==="scroll"?f.createElement(RM,te({},r,{ref:t,forceMount:n})):o.type==="auto"?f.createElement(G6,te({},r,{ref:t,forceMount:n})):o.type==="always"?f.createElement(T_,te({},r,{ref:t})):null}),TM=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Un(to,e.__scopeScrollArea),[a,i]=f.useState(!1);return f.useEffect(()=>{const s=o.scrollArea;let c=0;if(s){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),f.createElement(ln,{present:n||a},f.createElement(G6,te({"data-state":a?"visible":"hidden"},r,{ref:t})))}),RM=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Un(to,e.__scopeScrollArea),a=e.orientation==="horizontal",i=_d(()=>c("SCROLL_END"),100),[s,c]=bM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,o.scrollHideDelay,c]),f.useEffect(()=>{const u=o.viewport,d=a?"scrollLeft":"scrollTop";if(u){let p=u[d];const m=()=>{const h=u[d];p!==h&&(c("SCROLL"),i()),p=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[o.viewport,a,c,i]),f.createElement(ln,{present:n||s!=="hidden"},f.createElement(T_,te({"data-state":s==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:Ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})))}),G6=f.forwardRef((e,t)=>{const n=Un(to,e.__scopeScrollArea),{forceMount:r,...o}=e,[a,i]=f.useState(!1),s=e.orientation==="horizontal",c=_d(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(s?u:d)}},10);return bi(n.viewport,c),bi(n.content,c),f.createElement(ln,{present:r||a},f.createElement(T_,te({"data-state":a?"visible":"hidden"},o,{ref:t})))}),T_=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=Un(to,e.__scopeScrollArea),a=f.useRef(null),i=f.useRef(0),[s,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=X6(s.viewport,s.content),d={...r,sizes:s,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function p(m,h){return OM(m,i.current,s,h)}return n==="horizontal"?f.createElement(kM,te({},d,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollLeft,h=db(m,s,o.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=p(m,o.dir))}})):n==="vertical"?f.createElement(NM,te({},d,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollTop,h=db(m,s);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=p(m))}})):null}),kM=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,a=Un(to,e.__scopeScrollArea),[i,s]=f.useState(),c=f.useRef(null),u=Ye(t,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),f.createElement(K6,te({"data-orientation":"horizontal"},o,{ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),Q6(m,p)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Tu(i.paddingLeft),paddingEnd:Tu(i.paddingRight)}})}}))}),NM=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,a=Un(to,e.__scopeScrollArea),[i,s]=f.useState(),c=f.useRef(null),u=Ye(t,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),f.createElement(K6,te({"data-orientation":"vertical"},o,{ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),Q6(m,p)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Tu(i.paddingTop),paddingEnd:Tu(i.paddingBottom)}})}}))}),[PM,W6]=U6(to),K6=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:s,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:p,...m}=e,h=Un(to,n),[v,g]=f.useState(null),x=Ye(t,C=>g(C)),y=f.useRef(null),_=f.useRef(""),w=h.viewport,b=r.content-r.viewport,S=Tt(d),k=Tt(c),j=_d(p,10);function $(C){if(y.current){const R=C.clientX-y.current.left,D=C.clientY-y.current.top;u({x:R,y:D})}}return f.useEffect(()=>{const C=R=>{const D=R.target;(v==null?void 0:v.contains(D))&&S(R,b)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,v,b,S]),f.useEffect(k,[r,k]),bi(v,j),bi(h.content,j),f.createElement(PM,{scope:n,scrollbar:v,hasThumb:o,onThumbChange:Tt(a),onThumbPointerUp:Tt(i),onThumbPositionChange:k,onThumbPointerDown:Tt(s)},f.createElement(ze.div,te({},m,{ref:x,style:{position:"absolute",...m.style},onPointerDown:Ce(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=v.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),$(C))}),onPointerMove:Ce(e.onPointerMove,$),onPointerUp:Ce(e.onPointerUp,C=>{const R=C.target;R.hasPointerCapture(C.pointerId)&&R.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=_.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null})})))}),$v="ScrollAreaThumb",DM=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=W6($v,e.__scopeScrollArea);return f.createElement(ln,{present:n||o.hasThumb},f.createElement(AM,te({ref:t},r)))}),AM=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,a=Un($v,n),i=W6($v,n),{onThumbPositionChange:s}=i,c=Ye(t,p=>i.onThumbChange(p)),u=f.useRef(),d=_d(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const p=a.viewport;if(p){const m=()=>{if(d(),!u.current){const h=LM(p,s);u.current=h,s()}};return s(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[a.viewport,d,s]),f.createElement(ze.div,te({"data-state":i.hasThumb?"visible":"hidden"},o,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ce(e.onPointerDownCapture,p=>{const h=p.target.getBoundingClientRect(),v=p.clientX-h.left,g=p.clientY-h.top;i.onThumbPointerDown({x:v,y:g})}),onPointerUp:Ce(e.onPointerUp,i.onThumbPointerUp)}))}),Y6="ScrollAreaCorner",IM=f.forwardRef((e,t)=>{const n=Un(Y6,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.createElement(MM,te({},e,{ref:t})):null}),MM=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=Un(Y6,n),[a,i]=f.useState(0),[s,c]=f.useState(0),u=!!(a&&s);return bi(o.scrollbarX,()=>{var d;const p=((d=o.scrollbarX)===null||d===void 0?void 0:d.offsetHeight)||0;o.onCornerHeightChange(p),c(p)}),bi(o.scrollbarY,()=>{var d;const p=((d=o.scrollbarY)===null||d===void 0?void 0:d.offsetWidth)||0;o.onCornerWidthChange(p),i(p)}),u?f.createElement(ze.div,te({},r,{ref:t,style:{width:a,height:s,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function Tu(e){return e?parseInt(e,10):0}function X6(e,t){const n=e/t;return isNaN(n)?0:n}function yd(e){const t=X6(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function OM(e,t,n,r="ltr"){const o=yd(n),a=o/2,i=t||a,s=o-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-s,d=n.content-n.viewport,p=r==="ltr"?[0,d]:[d*-1,0];return Z6([c,u],p)(e)}function db(e,t,n="ltr"){const r=yd(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,s=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Sv(e,c);return Z6([0,i],[0,s])(u)}function Z6(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Q6(e,t){return e>0&&e<t}const LM=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,s=n.top!==a.top;(i||s)&&t(),n=a,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function _d(e,t){const n=Tt(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function bi(e,t){const n=Tt(t);Hn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const J6=SM,e4=jM,Tv=$M,Rv=DM,zM=IM,FM=["1","2","3"],qM={size:{type:"enum",values:FM,default:"2",responsive:!0}},BM=["classic","surface","soft","ghost"],fp={variant:{type:"enum",values:BM,default:"surface"},color:cn,radius:Oi},HM=["solid","soft"],pp={variant:{type:"enum",values:HM,default:"solid"},color:cn,highContrast:eo},R_=f.createContext({}),t4=e=>{const{children:t,size:n=qM.size.default,...r}=e;return f.createElement(cM,{...r},f.createElement(R_.Provider,{value:f.useMemo(()=>({size:n}),[n])},t))};t4.displayName="SelectRoot";const n4=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,variant:a=fp.variant.default,color:i=fp.color.default,radius:s=fp.radius.default,placeholder:c,...u}=n,{size:d}=f.useContext(R_);return f.createElement(uM,{asChild:!0},f.createElement("button",{"data-accent-color":i,"data-radius":s,...u,ref:t,className:Pe("rt-reset","rt-SelectTrigger",o,be(d,"rt-r-size"),`rt-variant-${a}`,It(r))},f.createElement("span",{className:"rt-SelectTriggerInner"},f.createElement(dM,{placeholder:c})),f.createElement(fM,{asChild:!0},f.createElement(g6,{className:"rt-SelectIcon"}))))});n4.displayName="SelectTrigger";const r4=f.forwardRef((e,t)=>{const{className:n,children:r,variant:o=pp.variant.default,highContrast:a=pp.highContrast.default,color:i=pp.color.default,container:s,...c}=e,{size:u}=f.useContext(R_),d=c6(),p=i??d.accentColor;return f.createElement(pM,{container:s},f.createElement(xa,{asChild:!0},f.createElement(hM,{"data-accent-color":p,sideOffset:4,...c,ref:t,className:Pe({"rt-PopperContent":c.position==="popper"},"rt-SelectContent",n,be(u,"rt-r-size"),`rt-variant-${o}`,{"rt-high-contrast":a})},f.createElement(J6,{type:"auto",className:"rt-ScrollAreaRoot"},f.createElement(mM,{asChild:!0,className:"rt-SelectViewport"},f.createElement(e4,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},r)),f.createElement(Tv,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},f.createElement(Rv,{className:"rt-ScrollAreaThumb"}))))))});r4.displayName="SelectContent";const o4=f.forwardRef((e,t)=>{const{className:n,children:r,...o}=e;return f.createElement(yM,{...o,ref:t,className:Pe("rt-SelectItem",n)},f.createElement(xM,{className:"rt-SelectItemIndicator"},f.createElement(bl,{className:"rt-SelectItemIndicatorIcon"})),f.createElement(_M,null,r))});o4.displayName="SelectItem";const a4=f.forwardRef((e,t)=>f.createElement(gM,{...e,ref:t,className:Pe("rt-SelectGroup",e.className)}));a4.displayName="SelectGroup";const i4=f.forwardRef((e,t)=>f.createElement(vM,{...e,ref:t,className:Pe("rt-SelectLabel",e.className)}));i4.displayName="SelectLabel";const s4=f.forwardRef((e,t)=>f.createElement(wM,{...e,ref:t,className:Pe("rt-SelectSeparator",e.className)}));s4.displayName="SelectSeparator";const U=Object.assign({},{Root:t4,Trigger:n4,Content:r4,Item:o4,Group:a4,Label:i4,Separator:s4}),l4="Switch",[VM,Bee]=sn(l4),[UM,GM]=VM(l4),WM=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:a,required:i,disabled:s,value:c="on",onCheckedChange:u,...d}=e,[p,m]=f.useState(null),h=Ye(t,_=>m(_)),v=f.useRef(!1),g=p?!!p.closest("form"):!0,[x=!1,y]=wr({prop:o,defaultProp:a,onChange:u});return f.createElement(UM,{scope:n,checked:x,disabled:s},f.createElement(ze.button,te({type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":c4(x),"data-disabled":s?"":void 0,disabled:s,value:c},d,{ref:h,onClick:Ce(e.onClick,_=>{y(w=>!w),g&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})})),g&&f.createElement(XM,{control:p,bubbles:!v.current,name:r,value:c,checked:x,required:i,disabled:s,style:{transform:"translateX(-100%)"}}))}),KM="SwitchThumb",YM=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=GM(KM,n);return f.createElement(ze.span,te({"data-state":c4(o.checked),"data-disabled":o.disabled?"":void 0},r,{ref:t}))}),XM=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=f.useRef(null),i=pd(n),s=dd(t);return f.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&p){const m=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(m)}},[i,n,r]),f.createElement("input",te({type:"checkbox","aria-hidden":!0,defaultChecked:n},o,{tabIndex:-1,ref:a,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function c4(e){return e?"checked":"unchecked"}const ZM=WM,QM=YM,JM=["1","2","3"],eO=["classic","surface","soft"],rs={size:{type:"enum",values:JM,default:"2",responsive:!0},variant:{type:"enum",values:eO,default:"surface"},color:cn,highContrast:eo,radius:Oi},kv=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,style:a,size:i=rs.size.default,variant:s=rs.variant.default,color:c=rs.color.default,highContrast:u=rs.highContrast.default,radius:d=rs.radius.default,...p}=n;return f.createElement("span",{"data-radius":d,className:Pe("rt-SwitchRoot",o,be(i,"rt-r-size"),`rt-variant-${s}`,{"rt-high-contrast":u},It(r)),style:a},f.createElement(ZM,{"data-accent-color":c,...p,ref:t,className:Pe("rt-reset","rt-SwitchButton",{"rt-high-contrast":u})},f.createElement(QM,{className:Pe("rt-SwitchThumb",{"rt-high-contrast":u})})))});kv.displayName="Switch";const tO=["1","2","3"],nO=["classic","surface","soft"],hp={size:{type:"enum",values:tO,default:"2",responsive:!0},variant:{type:"enum",values:nO,default:"surface"},color:cn},br=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,size:a=hp.size.default,variant:i=hp.variant.default,color:s=hp.color.default,style:c,...u}=n;return f.createElement("div",{"data-accent-color":s,style:c,className:Pe("rt-TextAreaRoot",o,be(a,"rt-r-size"),`rt-variant-${i}`,It(r))},f.createElement("textarea",{className:"rt-TextAreaInput",ref:t,...u}),f.createElement("div",{className:"rt-TextAreaChrome"}))});br.displayName="TextArea";const rO=["1","2","3"],oO=["classic","surface","soft"],wo={size:{type:"enum",values:rO,default:"2",responsive:!0},variant:{type:"enum",values:oO,default:"surface"},color:cn,radius:Oi},fb={color:cn,gap:Ko.gap},k_=f.createContext(void 0),N_=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{children:o,className:a,size:i=wo.size.default,variant:s=wo.variant.default,color:c=wo.color.default,radius:u=wo.radius.default,...d}=n;return f.createElement("div",{"data-radius":u,...d,ref:t,className:Pe("rt-TextFieldRoot",a,It(r)),onPointerDown:Ce(d.onPointerDown,p=>{const m=p.target;if(m.closest("input, button, a"))return;const h=p.currentTarget.querySelector(".rt-TextFieldInput");if(!h)return;const x=(h.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_PRECEDING)!==0?0:h.value.length;requestAnimationFrame(()=>{h.setSelectionRange(x,x),h.focus()})})},f.createElement(k_.Provider,{value:{size:i,variant:s,color:c,radius:u}},o))});N_.displayName="TextFieldRoot";const u4=f.forwardRef((e,t)=>{const{rest:n,...r}=h_(e),{className:o,color:a=fb.color.default,gap:i=fb.gap.default,...s}=n,c=f.useContext(k_);return f.createElement("div",{"data-accent-color":a,...s,ref:t,className:Pe("rt-TextFieldSlot",o,be(c==null?void 0:c.size,"rt-r-size"),be(i,"rt-r-gap"),m_(r))})});u4.displayName="TextFieldSlot";const d4=f.forwardRef((e,t)=>{var n,r,o,a;const{rest:i,...s}=kt(e),c=f.useContext(k_),u=c!==void 0,{className:d,size:p=(n=c==null?void 0:c.size)!==null&&n!==void 0?n:wo.size.default,variant:m=(r=c==null?void 0:c.variant)!==null&&r!==void 0?r:wo.variant.default,color:h=(o=c==null?void 0:c.color)!==null&&o!==void 0?o:wo.color.default,radius:v=(a=c==null?void 0:c.radius)!==null&&a!==void 0?a:wo.radius.default,...g}=i,x=f.createElement(f.Fragment,null,f.createElement("input",{"data-accent-color":h,spellCheck:"false",...g,ref:t,className:Pe("rt-TextFieldInput",d,be(p,"rt-r-size"),`rt-variant-${m}`)}),f.createElement("div",{"data-accent-color":h,"data-radius":c!=null&&c.radius?void 0:v,className:"rt-TextFieldChrome"}));return u?x:f.createElement(N_,{...s,size:p,variant:m,color:h,radius:v},x)});d4.displayName="TextFieldInput";const $e=Object.assign({},{Root:N_,Slot:u4,Input:d4}),f4="Dialog",[p4,h4]=sn(f4),[aO,ar]=p4(f4),iO=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,s=f.useRef(null),c=f.useRef(null),[u=!1,d]=wr({prop:r,defaultProp:o,onChange:a});return f.createElement(aO,{scope:t,triggerRef:s,contentRef:c,contentId:On(),titleId:On(),descriptionId:On(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(p=>!p),[d]),modal:i},n)},sO="DialogTrigger",lO=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=ar(sO,n),a=Ye(t,o.triggerRef);return f.createElement(ze.button,te({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":P_(o.open)},r,{ref:a,onClick:Ce(e.onClick,o.onOpenToggle)}))}),m4="DialogPortal",[cO,g4]=p4(m4,{forceMount:void 0}),uO=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=ar(m4,t);return f.createElement(cO,{scope:t,forceMount:n},f.Children.map(r,i=>f.createElement(ln,{present:n||a.open},f.createElement(f_,{asChild:!0,container:o},i))))},Nv="DialogOverlay",dO=f.forwardRef((e,t)=>{const n=g4(Nv,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=ar(Nv,e.__scopeDialog);return a.modal?f.createElement(ln,{present:r||a.open},f.createElement(fO,te({},o,{ref:t}))):null}),fO=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=ar(Nv,n);return f.createElement(E_,{as:rn,allowPinchZoom:!0,shards:[o.contentRef]},f.createElement(ze.div,te({"data-state":P_(o.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),Ci="DialogContent",pO=f.forwardRef((e,t)=>{const n=g4(Ci,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=ar(Ci,e.__scopeDialog);return f.createElement(ln,{present:r||a.open},a.modal?f.createElement(hO,te({},o,{ref:t})):f.createElement(mO,te({},o,{ref:t})))}),hO=f.forwardRef((e,t)=>{const n=ar(Ci,e.__scopeDialog),r=f.useRef(null),o=Ye(t,n.contentRef,r);return f.useEffect(()=>{const a=r.current;if(a)return S_(a)},[]),f.createElement(v4,te({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,s=i.button===0&&i.ctrlKey===!0;(i.button===2||s)&&a.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,a=>a.preventDefault())}))}),mO=f.forwardRef((e,t)=>{const n=ar(Ci,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return f.createElement(v4,te({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,a),!a.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),a.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:a=>{var i,s;(i=e.onInteractOutside)===null||i===void 0||i.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}}))}),v4=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,s=ar(Ci,n),c=f.useRef(null),u=Ye(t,c);return b_(),f.createElement(f.Fragment,null,f.createElement(C_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a},f.createElement(o_,te({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":P_(s.open)},i,{ref:u,onDismiss:()=>s.onOpenChange(!1)}))),!1)}),y4="DialogTitle",gO=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=ar(y4,n);return f.createElement(ze.h2,te({id:o.titleId},r,{ref:t}))}),vO="DialogDescription",yO=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=ar(vO,n);return f.createElement(ze.p,te({id:o.descriptionId},r,{ref:t}))}),_O="DialogClose",xO=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=ar(_O,n);return f.createElement(ze.button,te({type:"button"},r,{ref:t,onClick:Ce(e.onClick,()=>o.onOpenChange(!1))}))});function P_(e){return e?"open":"closed"}const wO="DialogTitleWarning",[bO,Hee]=KN(wO,{contentName:Ci,titleName:y4,docsSlug:"dialog"}),_4=iO,x4=lO,Cl=uO,Sl=dO,w4=pO,b4=gO,C4=yO,D_=xO,CO=["1","2","3","4"],S4={size:{type:"enum",values:CO,default:"3",responsive:!0}},E4=e=>f.createElement(_4,{...e,modal:!0});E4.displayName="DialogRoot";const j4=f.forwardRef((e,t)=>f.createElement(x4,{...e,ref:t,asChild:!0}));j4.displayName="DialogTrigger";const $4=f.forwardRef((e,t)=>{const{className:n,forceMount:r,container:o,size:a=S4.size.default,...i}=e;return f.createElement(Cl,{container:o,forceMount:r},f.createElement(xa,{asChild:!0},f.createElement(Sl,{className:"rt-DialogOverlay"},f.createElement(w4,{...i,ref:t,className:Pe("rt-DialogContent",n,be(a,"rt-r-size"))}))))});$4.displayName="DialogContent";const T4=f.forwardRef((e,t)=>f.createElement(b4,{asChild:!0},f.createElement(jt,{size:"5",mb:"3",trim:"start",...e,ref:t})));T4.displayName="DialogTitle";const R4=f.forwardRef((e,t)=>f.createElement(C4,{asChild:!0},f.createElement(N,{as:"p",size:"3",...e,ref:t})));R4.displayName="DialogDescription";const k4=f.forwardRef((e,t)=>f.createElement(D_,{...e,ref:t,asChild:!0}));k4.displayName="DialogClose";const ye=Object.assign({},{Root:E4,Trigger:j4,Content:$4,Title:T4,Description:R4,Close:k4}),SO="AlertDialog",[EO,Vee]=sn(SO,[h4]),no=h4(),jO=e=>{const{__scopeAlertDialog:t,...n}=e,r=no(t);return f.createElement(_4,te({},r,n,{modal:!0}))},$O=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=no(n);return f.createElement(x4,te({},o,r,{ref:t}))}),TO=e=>{const{__scopeAlertDialog:t,...n}=e,r=no(t);return f.createElement(Cl,te({},r,n))},RO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=no(n);return f.createElement(Sl,te({},o,r,{ref:t}))}),N4="AlertDialogContent",[kO,NO]=EO(N4),PO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,a=no(n),i=f.useRef(null),s=Ye(t,i),c=f.useRef(null);return f.createElement(bO,{contentName:N4,titleName:DO,docsSlug:"alert-dialog"},f.createElement(kO,{scope:n,cancelRef:c},f.createElement(w4,te({role:"alertdialog"},a,o,{ref:s,onOpenAutoFocus:Ce(o.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)===null||d===void 0||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault()}),f.createElement(Pi,null,r),!1)))}),DO="AlertDialogTitle",AO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=no(n);return f.createElement(b4,te({},o,r,{ref:t}))}),IO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=no(n);return f.createElement(C4,te({},o,r,{ref:t}))}),MO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=no(n);return f.createElement(D_,te({},o,r,{ref:t}))}),OO="AlertDialogCancel",LO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=NO(OO,n),a=no(n),i=Ye(t,o);return f.createElement(D_,te({},a,r,{ref:i}))}),zO=jO,FO=$O,qO=TO,BO=RO,HO=PO,VO=MO,UO=LO,GO=AO,WO=IO,P4=e=>f.createElement(zO,{...e});P4.displayName="AlertDialogRoot";const D4=f.forwardRef((e,t)=>f.createElement(FO,{...e,ref:t,asChild:!0}));D4.displayName="AlertDialogTrigger";const A4=f.forwardRef((e,t)=>{const{className:n,forceMount:r,container:o,size:a=S4.size.default,...i}=e;return f.createElement(qO,{container:o,forceMount:r},f.createElement(xa,{asChild:!0},f.createElement(BO,{className:"rt-DialogOverlay rt-AlertDialogOverlay"},f.createElement(HO,{...i,ref:t,className:Pe("rt-DialogContent","rt-AlertDialogContent",n,be(a,"rt-r-size"))}))))});A4.displayName="AlertDialogContent";const I4=f.forwardRef((e,t)=>f.createElement(GO,{asChild:!0},f.createElement(jt,{size:"5",mb:"3",trim:"start",...e,ref:t})));I4.displayName="AlertDialogTitle";const M4=f.forwardRef((e,t)=>f.createElement(WO,{asChild:!0},f.createElement(N,{as:"p",size:"3",...e,ref:t})));M4.displayName="AlertDialogDescription";const O4=f.forwardRef((e,t)=>f.createElement(VO,{...e,ref:t,asChild:!0}));O4.displayName="AlertDialogAction";const L4=f.forwardRef((e,t)=>f.createElement(UO,{...e,ref:t,asChild:!0}));L4.displayName="AlertDialogCancel";const vc=Object.assign({},{Root:P4,Trigger:D4,Content:A4,Title:I4,Description:M4,Action:O4,Cancel:L4}),Pv=["Enter"," "],KO=["ArrowDown","PageUp","Home"],z4=["ArrowUp","PageDown","End"],YO=[...KO,...z4],XO={ltr:[...Pv,"ArrowRight"],rtl:[...Pv,"ArrowLeft"]},ZO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xd="Menu",[el,QO,JO]=y_(xd),[ba,F4]=sn(xd,[JO,Ii,Li]),wd=Ii(),q4=Li(),[B4,qo]=ba(xd),[eL,El]=ba(xd),tL=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:a,modal:i=!0}=e,s=wd(t),[c,u]=f.useState(null),d=f.useRef(!1),p=Tt(a),m=Mi(o);return f.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),f.createElement(d_,s,f.createElement(B4,{scope:t,open:n,onOpenChange:p,content:c,onContentChange:u},f.createElement(eL,{scope:t,onClose:f.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:m,modal:i},r)))},H4=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=wd(n);return f.createElement(o6,te({},o,r,{ref:t}))}),V4="MenuPortal",[nL,U4]=ba(V4,{forceMount:void 0}),rL=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,a=qo(V4,t);return f.createElement(nL,{scope:t,forceMount:n},f.createElement(ln,{present:n||a.open},f.createElement(f_,{asChild:!0,container:o},r)))},nr="MenuContent",[oL,A_]=ba(nr),aL=f.forwardRef((e,t)=>{const n=U4(nr,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=qo(nr,e.__scopeMenu),i=El(nr,e.__scopeMenu);return f.createElement(el.Provider,{scope:e.__scopeMenu},f.createElement(ln,{present:r||a.open},f.createElement(el.Slot,{scope:e.__scopeMenu},i.modal?f.createElement(iL,te({},o,{ref:t})):f.createElement(sL,te({},o,{ref:t})))))}),iL=f.forwardRef((e,t)=>{const n=qo(nr,e.__scopeMenu),r=f.useRef(null),o=Ye(t,r);return f.useEffect(()=>{const a=r.current;if(a)return S_(a)},[]),f.createElement(I_,te({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ce(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),sL=f.forwardRef((e,t)=>{const n=qo(nr,e.__scopeMenu);return f.createElement(I_,te({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),I_=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:m,onDismiss:h,disableOutsideScroll:v,...g}=e,x=qo(nr,n),y=El(nr,n),_=wd(n),w=q4(n),b=QO(n),[S,k]=f.useState(null),j=f.useRef(null),$=Ye(t,j,x.onContentChange),C=f.useRef(0),R=f.useRef(""),D=f.useRef(0),q=f.useRef(null),F=f.useRef("right"),A=f.useRef(0),B=v?E_:f.Fragment,E=v?{as:rn,allowPinchZoom:!0}:void 0,L=P=>{var z,H;const W=R.current+P,J=b().filter(ve=>!ve.disabled),ce=document.activeElement,fe=(z=J.find(ve=>ve.ref.current===ce))===null||z===void 0?void 0:z.textValue,pe=J.map(ve=>ve.textValue),ie=jL(pe,W,fe),ge=(H=J.find(ve=>ve.textValue===ie))===null||H===void 0?void 0:H.ref.current;(function ve(ue){R.current=ue,window.clearTimeout(C.current),ue!==""&&(C.current=window.setTimeout(()=>ve(""),1e3))})(W),ge&&setTimeout(()=>ge.focus())};f.useEffect(()=>()=>window.clearTimeout(C.current),[]),b_();const I=f.useCallback(P=>{var z,H;return F.current===((z=q.current)===null||z===void 0?void 0:z.side)&&TL(P,(H=q.current)===null||H===void 0?void 0:H.area)},[]);return f.createElement(oL,{scope:n,searchRef:R,onItemEnter:f.useCallback(P=>{I(P)&&P.preventDefault()},[I]),onItemLeave:f.useCallback(P=>{var z;I(P)||((z=j.current)===null||z===void 0||z.focus(),k(null))},[I]),onTriggerLeave:f.useCallback(P=>{I(P)&&P.preventDefault()},[I]),pointerGraceTimerRef:D,onPointerGraceIntentChange:f.useCallback(P=>{q.current=P},[])},f.createElement(B,E,f.createElement(C_,{asChild:!0,trapped:o,onMountAutoFocus:Ce(a,P=>{var z;P.preventDefault(),(z=j.current)===null||z===void 0||z.focus()}),onUnmountAutoFocus:i},f.createElement(o_,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:m,onDismiss:h},f.createElement(x_,te({asChild:!0},w,{dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:Ce(c,P=>{y.isUsingKeyboardRef.current||P.preventDefault()})}),f.createElement(a6,te({role:"menu","aria-orientation":"vertical","data-state":Q4(x.open),"data-radix-menu-content":"",dir:y.dir},_,g,{ref:$,style:{outline:"none",...g.style},onKeyDown:Ce(g.onKeyDown,P=>{const H=P.target.closest("[data-radix-menu-content]")===P.currentTarget,W=P.ctrlKey||P.altKey||P.metaKey,J=P.key.length===1;H&&(P.key==="Tab"&&P.preventDefault(),!W&&J&&L(P.key));const ce=j.current;if(P.target!==ce||!YO.includes(P.key))return;P.preventDefault();const pe=b().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);z4.includes(P.key)&&pe.reverse(),SL(pe)}),onBlur:Ce(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(C.current),R.current="")}),onPointerMove:Ce(e.onPointerMove,tl(P=>{const z=P.target,H=A.current!==P.clientX;if(P.currentTarget.contains(z)&&H){const W=P.clientX>A.current?"right":"left";F.current=W,A.current=P.clientX}}))})))))))}),G4=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.createElement(ze.div,te({role:"group"},r,{ref:t}))}),lL=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.createElement(ze.div,te({},r,{ref:t}))}),Dv="MenuItem",pb="menu.itemSelect",M_=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,a=f.useRef(null),i=El(Dv,e.__scopeMenu),s=A_(Dv,e.__scopeMenu),c=Ye(t,a),u=f.useRef(!1),d=()=>{const p=a.current;if(!n&&p){const m=new CustomEvent(pb,{bubbles:!0,cancelable:!0});p.addEventListener(pb,h=>r==null?void 0:r(h),{once:!0}),q$(p,m),m.defaultPrevented?u.current=!1:i.onClose()}};return f.createElement(W4,te({},o,{ref:c,disabled:n,onClick:Ce(e.onClick,d),onPointerDown:p=>{var m;(m=e.onPointerDown)===null||m===void 0||m.call(e,p),u.current=!0},onPointerUp:Ce(e.onPointerUp,p=>{var m;u.current||(m=p.currentTarget)===null||m===void 0||m.click()}),onKeyDown:Ce(e.onKeyDown,p=>{const m=s.searchRef.current!=="";n||m&&p.key===" "||Pv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})}))}),W4=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=e,i=A_(Dv,n),s=q4(n),c=f.useRef(null),u=Ye(t,c),[d,p]=f.useState(!1),[m,h]=f.useState("");return f.useEffect(()=>{const v=c.current;if(v){var g;h(((g=v.textContent)!==null&&g!==void 0?g:"").trim())}},[a.children]),f.createElement(el.ItemSlot,{scope:n,disabled:r,textValue:o??m},f.createElement(w_,te({asChild:!0},s,{focusable:!r}),f.createElement(ze.div,te({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},a,{ref:u,onPointerMove:Ce(e.onPointerMove,tl(v=>{r?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus())})),onPointerLeave:Ce(e.onPointerLeave,tl(v=>i.onItemLeave(v))),onFocus:Ce(e.onFocus,()=>p(!0)),onBlur:Ce(e.onBlur,()=>p(!1))}))))}),cL=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return f.createElement(Y4,{scope:e.__scopeMenu,checked:n},f.createElement(M_,te({role:"menuitemcheckbox","aria-checked":Ru(n)?"mixed":n},o,{ref:t,"data-state":O_(n),onSelect:Ce(o.onSelect,()=>r==null?void 0:r(Ru(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),uL="MenuRadioGroup",[dL,fL]=ba(uL,{value:void 0,onValueChange:()=>{}}),pL=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,a=Tt(r);return f.createElement(dL,{scope:e.__scopeMenu,value:n,onValueChange:a},f.createElement(G4,te({},o,{ref:t})))}),hL="MenuRadioItem",mL=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=fL(hL,e.__scopeMenu),a=n===o.value;return f.createElement(Y4,{scope:e.__scopeMenu,checked:a},f.createElement(M_,te({role:"menuitemradio","aria-checked":a},r,{ref:t,"data-state":O_(a),onSelect:Ce(r.onSelect,()=>{var i;return(i=o.onValueChange)===null||i===void 0?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})))}),K4="MenuItemIndicator",[Y4,gL]=ba(K4,{checked:!1}),vL=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,a=gL(K4,n);return f.createElement(ln,{present:r||Ru(a.checked)||a.checked===!0},f.createElement(ze.span,te({},o,{ref:t,"data-state":O_(a.checked)})))}),yL=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.createElement(ze.div,te({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),X4="MenuSub",[_L,Z4]=ba(X4),xL=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:o}=e,a=qo(X4,t),i=wd(t),[s,c]=f.useState(null),[u,d]=f.useState(null),p=Tt(o);return f.useEffect(()=>(a.open===!1&&p(!1),()=>p(!1)),[a.open,p]),f.createElement(d_,i,f.createElement(B4,{scope:t,open:r,onOpenChange:p,content:u,onContentChange:d},f.createElement(_L,{scope:t,contentId:On(),triggerId:On(),trigger:s,onTriggerChange:c},n)))},yc="MenuSubTrigger",wL=f.forwardRef((e,t)=>{const n=qo(yc,e.__scopeMenu),r=El(yc,e.__scopeMenu),o=Z4(yc,e.__scopeMenu),a=A_(yc,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const p=s.current;return()=>{window.clearTimeout(p),c(null)}},[s,c]),f.createElement(H4,te({asChild:!0},u),f.createElement(W4,te({id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Q4(n.open)},e,{ref:ld(t,o.onTriggerChange),onClick:p=>{var m;(m=e.onClick)===null||m===void 0||m.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ce(e.onPointerMove,tl(p=>{a.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Ce(e.onPointerLeave,tl(p=>{var m;d();const h=(m=n.content)===null||m===void 0?void 0:m.getBoundingClientRect();if(h){var v;const g=(v=n.content)===null||v===void 0?void 0:v.dataset.side,x=g==="right",y=x?-5:5,_=h[x?"left":"right"],w=h[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:_,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:_,y:h.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(p),p.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(e.onKeyDown,p=>{const m=a.searchRef.current!=="";if(!(e.disabled||m&&p.key===" ")&&XO[r.dir].includes(p.key)){var h;n.onOpenChange(!0),(h=n.content)===null||h===void 0||h.focus(),p.preventDefault()}})})))}),bL="MenuSubContent",CL=f.forwardRef((e,t)=>{const n=U4(nr,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=qo(nr,e.__scopeMenu),i=El(nr,e.__scopeMenu),s=Z4(bL,e.__scopeMenu),c=f.useRef(null),u=Ye(t,c);return f.createElement(el.Provider,{scope:e.__scopeMenu},f.createElement(ln,{present:r||a.open},f.createElement(el.Slot,{scope:e.__scopeMenu},f.createElement(I_,te({id:s.contentId,"aria-labelledby":s.triggerId},o,{ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var p;i.isUsingKeyboardRef.current&&((p=c.current)===null||p===void 0||p.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ce(e.onFocusOutside,d=>{d.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ce(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Ce(e.onKeyDown,d=>{const p=d.currentTarget.contains(d.target),m=ZO[i.dir].includes(d.key);if(p&&m){var h;a.onOpenChange(!1),(h=s.trigger)===null||h===void 0||h.focus(),d.preventDefault()}})})))))});function Q4(e){return e?"open":"closed"}function Ru(e){return e==="indeterminate"}function O_(e){return Ru(e)?"indeterminate":e?"checked":"unchecked"}function SL(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function EL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function jL(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=EL(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function $L(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const s=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-s)*(r-c)/(d-c)+s&&(o=!o)}return o}function TL(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return $L(n,t)}function tl(e){return t=>t.pointerType==="mouse"?e(t):void 0}const RL=tL,kL=H4,NL=rL,PL=aL,DL=G4,AL=lL,IL=M_,ML=cL,OL=pL,LL=mL,zL=vL,FL=yL,qL=xL,BL=wL,HL=CL,J4="DropdownMenu",[VL,Uee]=sn(J4,[F4]),un=F4(),[UL,e8]=VL(J4),GL=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,c=un(t),u=f.useRef(null),[d=!1,p]=wr({prop:o,defaultProp:a,onChange:i});return f.createElement(UL,{scope:t,triggerId:On(),triggerRef:u,contentId:On(),open:d,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(m=>!m),[p]),modal:s},f.createElement(RL,te({},c,{open:d,onOpenChange:p,dir:r,modal:s}),n))},WL="DropdownMenuTrigger",KL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,a=e8(WL,n),i=un(n);return f.createElement(kL,te({asChild:!0},i),f.createElement(ze.button,te({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o,{ref:ld(t,a.triggerRef),onPointerDown:Ce(e.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:Ce(e.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})))}),YL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=un(t);return f.createElement(NL,te({},r,n))},XL="DropdownMenuContent",ZL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=e8(XL,n),a=un(n),i=f.useRef(!1);return f.createElement(PL,te({id:o.contentId,"aria-labelledby":o.triggerId},a,r,{ref:t,onCloseAutoFocus:Ce(e.onCloseAutoFocus,s=>{var c;i.current||(c=o.triggerRef.current)===null||c===void 0||c.focus(),i.current=!1,s.preventDefault()}),onInteractOutside:Ce(e.onInteractOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!o.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),QL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return f.createElement(DL,te({},o,r,{ref:t}))}),JL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return f.createElement(AL,te({},o,r,{ref:t}))}),ez=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return f.createElement(IL,te({},o,r,{ref:t}))}),tz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return f.createElement(ML,te({},o,r,{ref:t}))}),nz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return f.createElement(OL,te({},o,r,{ref:t}))}),rz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return f.createElement(LL,te({},o,r,{ref:t}))}),oz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return f.createElement(zL,te({},o,r,{ref:t}))}),az=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return f.createElement(FL,te({},o,r,{ref:t}))}),iz=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:o,defaultOpen:a}=e,i=un(t),[s=!1,c]=wr({prop:r,defaultProp:a,onChange:o});return f.createElement(qL,te({},i,{open:s,onOpenChange:c}),n)},sz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return f.createElement(BL,te({},o,r,{ref:t}))}),lz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=un(n);return f.createElement(HL,te({},o,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),cz=GL,uz=KL,t8=YL,dz=ZL,fz=QL,pz=JL,hz=ez,mz=tz,gz=nz,vz=rz,n8=oz,yz=az,_z=iz,xz=sz,wz=lz,bz=["1","2","3"],Cz=["vertical","horizontal","both"],mp={size:{type:"enum",values:bz,default:"1",responsive:!0},radius:Oi,scrollbars:{type:"enum",values:Cz,default:"both"}},Xt=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,style:a,type:i,scrollHideDelay:s=i!=="scroll"?0:void 0,dir:c,size:u=mp.size.default,radius:d=mp.radius.default,scrollbars:p=mp.scrollbars.default,...m}=n;return f.createElement(J6,{type:i,scrollHideDelay:s,className:Pe("rt-ScrollAreaRoot",o,It(r)),style:a},f.createElement(e4,{...m,ref:t,className:"rt-ScrollAreaViewport"}),f.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),p!=="vertical"?f.createElement(Tv,{"data-radius":d,orientation:"horizontal",className:Pe("rt-ScrollAreaScrollbar",be(u,"rt-r-size"))},f.createElement(Rv,{className:"rt-ScrollAreaThumb"})):null,p!=="horizontal"?f.createElement(Tv,{"data-radius":d,orientation:"vertical",className:Pe("rt-ScrollAreaScrollbar",be(u,"rt-r-size"))},f.createElement(Rv,{className:"rt-ScrollAreaThumb"})):null,p==="both"?f.createElement(zM,{className:"rt-ScrollAreaCorner"}):null)});Xt.displayName="ScrollArea";const Sz=["1","2"],Ez=["solid","soft"],gp={size:{type:"enum",values:Sz,default:"2",responsive:!0},variant:{type:"enum",values:Ez,default:"solid"},color:cn,highContrast:eo},r8={color:cn,shortcut:{type:"string",default:void 0}},o8=e=>f.createElement(cz,{...e});o8.displayName="DropdownMenuRoot";const a8=f.forwardRef((e,t)=>f.createElement(uz,{...e,ref:t,asChild:!0}));a8.displayName="DropdownMenuTrigger";const i8=f.createContext({}),s8=f.forwardRef((e,t)=>{const n=c6(),{className:r,children:o,size:a=gp.size.default,variant:i=gp.variant.default,highContrast:s=gp.highContrast.default,color:c=r8.color.default,container:u,forceMount:d,...p}=e,m=c??n.accentColor;return f.createElement(t8,{container:u,forceMount:d},f.createElement(xa,{asChild:!0},f.createElement(dz,{"data-accent-color":m,align:"start",sideOffset:4,collisionPadding:10,...p,ref:t,className:Pe("rt-PopperContent","rt-BaseMenuContent","rt-DropdownMenuContent",r,be(a,"rt-r-size"),`rt-variant-${i}`,{"rt-high-contrast":s})},f.createElement(Xt,{type:"auto"},f.createElement("div",{className:Pe("rt-BaseMenuViewport","rt-DropdownMenuViewport")},f.createElement(i8.Provider,{value:f.useMemo(()=>({size:a,variant:i,color:m,highContrast:s}),[a,i,m,s])},o))))))});s8.displayName="DropdownMenuContent";const l8=f.forwardRef((e,t)=>f.createElement(pz,{...e,ref:t,className:Pe("rt-BaseMenuLabel","rt-DropdownMenuLabel",e.className)}));l8.displayName="DropdownMenuLabel";const c8=f.forwardRef((e,t)=>{const{className:n,children:r,color:o=r8.color.default,shortcut:a,...i}=e;return f.createElement(hz,{"data-accent-color":o,...i,ref:t,className:Pe("rt-reset","rt-BaseMenuItem","rt-DropdownMenuItem",n)},f.createElement(Pi,null,r),a&&f.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},a))});c8.displayName="DropdownMenuItem";const u8=f.forwardRef((e,t)=>f.createElement(fz,{...e,ref:t,className:Pe("rt-BaseMenuGroup","rt-DropdownMenuGroup",e.className)}));u8.displayName="DropdownMenuGroup";const d8=f.forwardRef((e,t)=>f.createElement(gz,{...e,ref:t,className:Pe("rt-BaseMenuRadioGroup","rt-DropdownMenuRadioGroup",e.className)}));d8.displayName="DropdownMenuRadioGroup";const f8=f.forwardRef((e,t)=>{const{children:n,className:r,...o}=e;return f.createElement(vz,{...o,ref:t,className:Pe("rt-BaseMenuItem","rt-BaseMenuRadioItem","rt-DropdownMenuItem","rt-DropdownMenuRadioItem",r)},f.createElement(Pi,null,n),f.createElement(n8,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},f.createElement(bl,{className:"rt-BaseMenuItemIndicatorIcon rt-DropdownMenuItemIndicatorIcon"})))});f8.displayName="DropdownMenuRadioItem";const p8=f.forwardRef((e,t)=>{const{children:n,className:r,shortcut:o,...a}=e;return f.createElement(mz,{...a,ref:t,className:Pe("rt-BaseMenuItem","rt-BaseMenuCheckboxItem","rt-DropdownMenuItem","rt-DropdownMenuCheckboxItem",r)},f.createElement(Pi,null,n),f.createElement(n8,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},f.createElement(bl,{className:"rt-BaseMenuItemIndicatorIcon rt-ContextMenuItemIndicatorIcon"})),o&&f.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},o))});p8.displayName="DropdownMenuCheckboxItem";const h8=e=>f.createElement(_z,{...e});h8.displayName="DropdownMenuSub";const m8=f.forwardRef((e,t)=>{const{className:n,children:r,...o}=e;return f.createElement(xz,{...o,ref:t,className:Pe("rt-BaseMenuItem","rt-BaseMenuSubTrigger","rt-DropdownMenuItem","rt-DropdownMenuSubTrigger",n)},f.createElement(Pi,null,r),f.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},f.createElement(v6,{className:"rt-BaseMenuSubTriggerIcon rt-DropdownMenuSubtriggerIcon"})))});m8.displayName="DropdownMenuSubTrigger";const g8=f.forwardRef((e,t)=>{const{className:n,children:r,container:o,forceMount:a,...i}=e,{size:s,variant:c,color:u,highContrast:d}=f.useContext(i8);return f.createElement(t8,{container:o,forceMount:a},f.createElement(xa,{asChild:!0},f.createElement(wz,{"data-accent-color":u,alignOffset:-Number(s)*4,sideOffset:1,collisionPadding:10,...i,ref:t,className:Pe("rt-PopperContent","rt-BaseMenuContent","rt-BaseMenuSubContent","rt-DropdownMenuContent","rt-DropdownMenuSubContent",n,be(s,"rt-r-size"),`rt-variant-${c}`,{"rt-high-contrast":d})},f.createElement(Xt,{type:"auto"},f.createElement("div",{className:Pe("rt-BaseMenuViewport","rt-DropdownMenuViewport")},r)))))});g8.displayName="DropdownMenuSubContent";const v8=f.forwardRef((e,t)=>f.createElement(yz,{...e,ref:t,className:Pe("rt-BaseMenuSeparator","rt-DropdownMenuSeparator",e.className)}));v8.displayName="DropdownMenuSeparator";const Ae=Object.assign({},{Root:o8,Trigger:a8,Content:s8,Label:l8,Item:c8,Group:u8,RadioGroup:d8,RadioItem:f8,CheckboxItem:p8,Sub:h8,SubTrigger:m8,SubContent:g8,Separator:v8}),jz=["1","2"],$z=["solid","soft","surface","outline"],os={size:{type:"enum",values:jz,default:"1",responsive:!0},variant:{type:"enum",values:$z,default:"soft"},color:{...cn,default:void 0},highContrast:eo,radius:Oi},xe=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,size:a=os.size.default,variant:i=os.variant.default,color:s=os.color.default,highContrast:c=os.highContrast.default,radius:u=os.radius.default,...d}=n;return f.createElement("span",{"data-accent-color":s,"data-radius":u,...d,ref:t,className:Pe("rt-Badge",o,be(a,"rt-r-size"),`rt-variant-${i}`,{"rt-high-contrast":c},It(r))})});xe.displayName="Badge";const Tz=["1","2","3","4"],Rz=["classic","solid","soft","surface","outline","ghost"],as={size:{type:"enum",values:Tz,default:"2",responsive:!0},variant:{type:"enum",values:Rz,default:"solid"},color:cn,highContrast:eo,radius:Oi},L_=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,asChild:a=!1,size:i=as.size.default,variant:s=as.variant.default,color:c=as.color.default,highContrast:u=as.highContrast.default,radius:d=as.radius.default,...p}=n,m=a?rn:"button";return f.createElement(m,{"data-disabled":p.disabled||void 0,"data-accent-color":c,"data-radius":d,...p,ref:t,className:Pe("rt-reset","rt-BaseButton",o,be(i,"rt-r-size"),`rt-variant-${s}`,{"rt-high-contrast":u},It(r))})});L_.displayName="BaseButton";const me=f.forwardRef((e,t)=>f.createElement(L_,{...e,ref:t,className:Pe("rt-Button",e.className)}));me.displayName="Button";const kz=["1","2","3","4","5"],Nz=["surface","classic","ghost"],hb={size:{type:"enum",values:kz,default:"1",responsive:!0},variant:{type:"enum",values:Nz,default:"surface"}},Ke=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{asChild:o,children:a,className:i,size:s=hb.size.default,variant:c=hb.variant.default,...u}=n,d=o?rn:"div";function p(){const m=f.Children.only(a);return f.cloneElement(m,{children:f.createElement("div",{className:"rt-CardInner"},m.props.children)})}return f.createElement(d,{ref:t,...u,className:Pe("rt-reset","rt-Card",i,be(s,"rt-r-size"),`rt-variant-${c}`,It(r))},o?p():f.createElement("div",{className:"rt-CardInner"},a))});Ke.displayName="Card";const Cn=f.forwardRef((e,t)=>f.createElement(L_,{...e,ref:t,className:Pe("rt-IconButton",e.className)}));Cn.displayName="IconButton";const Av="horizontal",Pz=["horizontal","vertical"],y8=f.forwardRef((e,t)=>{const{decorative:n,orientation:r=Av,...o}=e,a=_8(r)?r:Av,s=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return f.createElement(ze.div,te({"data-orientation":a},s,o,{ref:t}))});y8.propTypes={orientation(e,t,n){const r=e[t],o=String(r);return r&&!_8(r)?new Error(Dz(o,n)):null}};function Dz(e,t){return`Invalid prop \`orientation\` of value \`${e}\` supplied to \`${t}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${Av}\`.`}function _8(e){return Pz.includes(e)}const Az=y8,Iz=["1","2","3","4"],mb={size:{type:"enum",values:Iz,default:"1",responsive:!0},color:{...cn,default:"gray"}},Ln=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,size:a=mb.size.default,color:i=mb.color.default,...s}=n;return f.createElement(Az,{"data-accent-color":i,...s,ref:t,className:Pe("rt-Separator",o,be(a,"rt-r-size"),It(r))})});Ln.displayName="Separator";const Mz=["1","2","3"],Oz=["surface","ghost"],gb={size:{type:"enum",values:Mz,default:"2",responsive:!0},variant:{type:"enum",values:Oz,default:"ghost"}},Lz=["start","center","end","baseline"],zz={align:{type:"enum",values:Lz,default:void 0,responsive:!0}},Fz=["start","center","end"],vb={justify:{type:"enum",values:Fz,default:void 0,responsive:!0},width:{type:"string | number",default:void 0}},x8=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,children:a,size:i=gb.size.default,variant:s=gb.variant.default,...c}=n;return f.createElement("div",{ref:t,className:Pe("rt-TableRoot",o,`rt-variant-${s}`,be(i,"rt-r-size"),It(r)),...c},f.createElement(Xt,null,f.createElement("table",{className:"rt-TableRootTable"},a)))});x8.displayName="Table";const w8=f.forwardRef((e,t)=>f.createElement("thead",{...e,ref:t,className:Pe("rt-TableHeader",e.className)}));w8.displayName="TableHeader";const b8=f.forwardRef((e,t)=>f.createElement("tbody",{...e,ref:t,className:Pe("rt-TableBody",e.className)}));b8.displayName="TableBody";const C8=f.forwardRef((e,t)=>{const{className:n,align:r=zz.align.default,...o}=e;return f.createElement("tr",{...o,ref:t,className:Pe("rt-TableRow",n,be(r,"rt-r-va",{baseline:"baseline",start:"top",center:"middle",end:"bottom"}))})});C8.displayName="TableRow";const bd=f.forwardRef((e,t)=>{const{rest:n,...r}=h_(e),{tag:o="td",className:a,style:i,justify:s=vb.justify.default,width:c=vb.width.default,...u}=n;return f.createElement(o,{...u,ref:t,className:Pe("rt-TableCell",a,m_(r),be(s,"rt-r-ta",{start:"left",center:"center",end:"right"})),style:{width:c,...i}})});bd.displayName="TableCellImpl";const S8=f.forwardRef((e,t)=>f.createElement(bd,{...e,tag:"td",ref:t}));S8.displayName="TableCell";const E8=f.forwardRef((e,t)=>f.createElement(bd,{scope:"col",...e,tag:"th",ref:t,className:Pe("rt-TableColumnHeaderCell",e.className)}));E8.displayName="TableColumnHeaderCell";const j8=f.forwardRef((e,t)=>f.createElement(bd,{scope:"row",...e,tag:"th",ref:t,className:Pe("rt-TableRowHeaderCell",e.className)}));j8.displayName="TableRowHeaderCell";const St=Object.assign({},{Root:x8,Header:w8,Body:b8,Row:C8,Cell:S8,ColumnHeaderCell:E8,RowHeaderCell:j8}),$8="Tabs",[qz,Gee]=sn($8,[Li]),T8=Li(),[Bz,z_]=qz($8),Hz=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:s,activationMode:c="automatic",...u}=e,d=Mi(s),[p,m]=wr({prop:r,onChange:o,defaultProp:a});return f.createElement(Bz,{scope:n,baseId:On(),value:p,onValueChange:m,orientation:i,dir:d,activationMode:c},f.createElement(ze.div,te({dir:d,"data-orientation":i},u,{ref:t})))}),Vz="TabsList",Uz=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,a=z_(Vz,n),i=T8(n);return f.createElement(x_,te({asChild:!0},i,{orientation:a.orientation,dir:a.dir,loop:r}),f.createElement(ze.div,te({role:"tablist","aria-orientation":a.orientation},o,{ref:t})))}),Gz="TabsTrigger",Wz=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=e,i=z_(Gz,n),s=T8(n),c=R8(i.baseId,r),u=k8(i.baseId,r),d=r===i.value;return f.createElement(w_,te({asChild:!0},s,{focusable:!o,active:d}),f.createElement(ze.button,te({type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c},a,{ref:t,onMouseDown:Ce(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?i.onValueChange(r):p.preventDefault()}),onKeyDown:Ce(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&i.onValueChange(r)}),onFocus:Ce(e.onFocus,()=>{const p=i.activationMode!=="manual";!d&&!o&&p&&i.onValueChange(r)})})))}),Kz="TabsContent",Yz=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...i}=e,s=z_(Kz,n),c=R8(s.baseId,r),u=k8(s.baseId,r),d=r===s.value,p=f.useRef(d);return f.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),f.createElement(ln,{present:o||d},({present:m})=>f.createElement(ze.div,te({"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0},i,{ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0}}),m&&a))});function R8(e,t){return`${e}-trigger-${t}`}function k8(e,t){return`${e}-content-${t}`}const Xz=Hz,Zz=Uz,Qz=Wz,Jz=Yz,eF=["1","2"],tF={size:{type:"enum",values:eF,default:"2",responsive:!0}},N8=f.forwardRef((e,t)=>{const{rest:n,...r}=kt(e),{className:o,...a}=n;return f.createElement(Xz,{...a,ref:t,className:Pe("rt-TabsRoot",o,It(r))})});N8.displayName="TabsRoot";const P8=f.forwardRef((e,t)=>{const{className:n,size:r=tF.size.default,...o}=e;return f.createElement(Zz,{...o,ref:t,className:Pe("rt-TabsList",n,be(r,"rt-r-size"))})});P8.displayName="TabsList";const D8=f.forwardRef((e,t)=>{const{className:n,children:r,...o}=e;return f.createElement(Qz,{...o,ref:t,className:Pe("rt-reset","rt-TabsTrigger",n)},f.createElement("span",{className:"rt-TabsTriggerInner"},r),f.createElement("span",{className:"rt-TabsTriggerInnerHidden"},r))});D8.displayName="TabsTrigger";const A8=f.forwardRef((e,t)=>f.createElement(Jz,{...e,ref:t,className:Pe("rt-TabsContent",e.className)}));A8.displayName="TabsContent";const We=Object.assign({},{Root:N8,List:P8,Trigger:D8,Content:A8});var nF={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const yb=e=>{let t;const n=new Set,r=(d,p)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(v=>v(t,h))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(nF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,c);return c},I8=e=>e?yb(e):yb;var M8={exports:{}},O8={},L8={exports:{}},z8={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=f;function rF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oF=typeof Object.is=="function"?Object.is:rF,aF=Si.useState,iF=Si.useEffect,sF=Si.useLayoutEffect,lF=Si.useDebugValue;function cF(e,t){var n=t(),r=aF({inst:{value:n,getSnapshot:t}}),o=r[0].inst,a=r[1];return sF(function(){o.value=n,o.getSnapshot=t,vp(o)&&a({inst:o})},[e,n,t]),iF(function(){return vp(o)&&a({inst:o}),e(function(){vp(o)&&a({inst:o})})},[e]),lF(n),n}function vp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oF(e,n)}catch{return!0}}function uF(e,t){return t()}var dF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uF:cF;z8.useSyncExternalStore=Si.useSyncExternalStore!==void 0?Si.useSyncExternalStore:dF;L8.exports=z8;var fF=L8.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=f,pF=fF;function hF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mF=typeof Object.is=="function"?Object.is:hF,gF=pF.useSyncExternalStore,vF=Cd.useRef,yF=Cd.useEffect,_F=Cd.useMemo,xF=Cd.useDebugValue;O8.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var a=vF(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=_F(function(){function c(h){if(!u){if(u=!0,d=h,h=r(h),o!==void 0&&i.hasValue){var v=i.value;if(o(v,h))return p=v}return p=h}if(v=p,mF(d,h))return v;var g=r(h);return o!==void 0&&o(v,g)?v:(d=h,p=g)}var u=!1,d,p,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,o]);var s=gF(e,a[0],a[1]);return yF(function(){i.hasValue=!0,i.value=s},[s]),xF(s),s};M8.exports=O8;var wF=M8.exports;const F8=ml(wF);var q8={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:bF}=X,{useSyncExternalStoreWithSelector:CF}=F8;let _b=!1;const SF=e=>e;function EF(e,t=SF,n){(q8?"production":void 0)!=="production"&&n&&!_b&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_b=!0);const r=CF(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return bF(r),r}const xb=e=>{(q8?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?I8(e):e,n=(r,o)=>EF(t,r,o);return Object.assign(n,t),n},jF=e=>e?xb(e):xb;function B8(e,t){return function(){return e.apply(t,arguments)}}const{toString:$F}=Object.prototype,{getPrototypeOf:F_}=Object,Sd=(e=>t=>{const n=$F.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cr=e=>(e=e.toLowerCase(),t=>Sd(t)===e),Ed=e=>t=>typeof t===e,{isArray:Fi}=Array,nl=Ed("undefined");function TF(e){return e!==null&&!nl(e)&&e.constructor!==null&&!nl(e.constructor)&&zn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const H8=Cr("ArrayBuffer");function RF(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&H8(e.buffer),t}const kF=Ed("string"),zn=Ed("function"),V8=Ed("number"),jd=e=>e!==null&&typeof e=="object",NF=e=>e===!0||e===!1,Uc=e=>{if(Sd(e)!=="object")return!1;const t=F_(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},PF=Cr("Date"),DF=Cr("File"),AF=Cr("Blob"),IF=Cr("FileList"),MF=e=>jd(e)&&zn(e.pipe),OF=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||zn(e.append)&&((t=Sd(e))==="formdata"||t==="object"&&zn(e.toString)&&e.toString()==="[object FormData]"))},LF=Cr("URLSearchParams"),zF=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Fi(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let s;for(r=0;r<i;r++)s=a[r],t.call(null,e[s],s,e)}}function U8(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const G8=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,W8=e=>!nl(e)&&e!==G8;function Iv(){const{caseless:e}=W8(this)&&this||{},t={},n=(r,o)=>{const a=e&&U8(t,o)||o;Uc(t[a])&&Uc(r)?t[a]=Iv(t[a],r):Uc(r)?t[a]=Iv({},r):Fi(r)?t[a]=r.slice():t[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&jl(arguments[r],n);return t}const FF=(e,t,n,{allOwnKeys:r}={})=>(jl(t,(o,a)=>{n&&zn(o)?e[a]=B8(o,n):e[a]=o},{allOwnKeys:r}),e),qF=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BF=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},HF=(e,t,n,r)=>{let o,a,i;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],(!r||r(i,e,t))&&!s[i]&&(t[i]=e[i],s[i]=!0);e=n!==!1&&F_(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},VF=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},UF=e=>{if(!e)return null;if(Fi(e))return e;let t=e.length;if(!V8(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},GF=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&F_(Uint8Array)),WF=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},KF=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},YF=Cr("HTMLFormElement"),XF=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),wb=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ZF=Cr("RegExp"),K8=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};jl(n,(o,a)=>{let i;(i=t(o,a,e))!==!1&&(r[a]=i||o)}),Object.defineProperties(e,r)},QF=e=>{K8(e,(t,n)=>{if(zn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(zn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JF=(e,t)=>{const n={},r=o=>{o.forEach(a=>{n[a]=!0})};return Fi(e)?r(e):r(String(e).split(t)),n},eq=()=>{},tq=(e,t)=>(e=+e,Number.isFinite(e)?e:t),yp="abcdefghijklmnopqrstuvwxyz",bb="0123456789",Y8={DIGIT:bb,ALPHA:yp,ALPHA_DIGIT:yp+yp.toUpperCase()+bb},nq=(e=16,t=Y8.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function rq(e){return!!(e&&zn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const oq=e=>{const t=new Array(10),n=(r,o)=>{if(jd(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const a=Fi(r)?[]:{};return jl(r,(i,s)=>{const c=n(i,o+1);!nl(c)&&(a[s]=c)}),t[o]=void 0,a}}return r};return n(e,0)},aq=Cr("AsyncFunction"),iq=e=>e&&(jd(e)||zn(e))&&zn(e.then)&&zn(e.catch),ae={isArray:Fi,isArrayBuffer:H8,isBuffer:TF,isFormData:OF,isArrayBufferView:RF,isString:kF,isNumber:V8,isBoolean:NF,isObject:jd,isPlainObject:Uc,isUndefined:nl,isDate:PF,isFile:DF,isBlob:AF,isRegExp:ZF,isFunction:zn,isStream:MF,isURLSearchParams:LF,isTypedArray:GF,isFileList:IF,forEach:jl,merge:Iv,extend:FF,trim:zF,stripBOM:qF,inherits:BF,toFlatObject:HF,kindOf:Sd,kindOfTest:Cr,endsWith:VF,toArray:UF,forEachEntry:WF,matchAll:KF,isHTMLForm:YF,hasOwnProperty:wb,hasOwnProp:wb,reduceDescriptors:K8,freezeMethods:QF,toObjectSet:JF,toCamelCase:XF,noop:eq,toFiniteNumber:tq,findKey:U8,global:G8,isContextDefined:W8,ALPHABET:Y8,generateString:nq,isSpecCompliantForm:rq,toJSONObject:oq,isAsyncFn:aq,isThenable:iq};function Qe(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}ae.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const X8=Qe.prototype,Z8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Z8[e]={value:e}});Object.defineProperties(Qe,Z8);Object.defineProperty(X8,"isAxiosError",{value:!0});Qe.from=(e,t,n,r,o,a)=>{const i=Object.create(X8);return ae.toFlatObject(e,i,function(c){return c!==Error.prototype},s=>s!=="isAxiosError"),Qe.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const sq=null;function Mv(e){return ae.isPlainObject(e)||ae.isArray(e)}function Q8(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function Cb(e,t,n){return e?e.concat(t).map(function(o,a){return o=Q8(o),!n&&a?"["+o+"]":o}).join(n?".":""):t}function lq(e){return ae.isArray(e)&&!e.some(Mv)}const cq=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function $d(e,t,n){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!ae.isUndefined(x[g])});const r=n.metaTokens,o=n.visitor||d,a=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(o))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(ae.isDate(v))return v.toISOString();if(!c&&ae.isBlob(v))throw new Qe("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(v)||ae.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,g,x){let y=v;if(v&&!x&&typeof v=="object"){if(ae.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(ae.isArray(v)&&lq(v)||(ae.isFileList(v)||ae.endsWith(g,"[]"))&&(y=ae.toArray(v)))return g=Q8(g),y.forEach(function(w,b){!(ae.isUndefined(w)||w===null)&&t.append(i===!0?Cb([g],b,a):i===null?g:g+"[]",u(w))}),!1}return Mv(v)?!0:(t.append(Cb(x,g,a),u(v)),!1)}const p=[],m=Object.assign(cq,{defaultVisitor:d,convertValue:u,isVisitable:Mv});function h(v,g){if(!ae.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(v),ae.forEach(v,function(y,_){(!(ae.isUndefined(y)||y===null)&&o.call(t,y,ae.isString(_)?_.trim():_,g,m))===!0&&h(y,g?g.concat(_):[_])}),p.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Sb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function q_(e,t){this._pairs=[],e&&$d(e,this,t)}const J8=q_.prototype;J8.append=function(t,n){this._pairs.push([t,n])};J8.toString=function(t){const n=t?function(r){return t.call(this,r,Sb)}:Sb;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function uq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function e7(e,t,n){if(!t)return e;const r=n&&n.encode||uq,o=n&&n.serialize;let a;if(o?a=o(t,n):a=ae.isURLSearchParams(t)?t.toString():new q_(t,n).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Eb{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(r){r!==null&&t(r)})}}const t7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dq=typeof URLSearchParams<"u"?URLSearchParams:q_,fq=typeof FormData<"u"?FormData:null,pq=typeof Blob<"u"?Blob:null,hq={isBrowser:!0,classes:{URLSearchParams:dq,FormData:fq,Blob:pq},protocols:["http","https","file","blob","url","data"]},n7=typeof window<"u"&&typeof document<"u",mq=(e=>n7&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),gq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:n7,hasStandardBrowserEnv:mq,hasStandardBrowserWebWorkerEnv:gq},Symbol.toStringTag,{value:"Module"})),pr={...vq,...hq};function yq(e,t){return $d(e,new pr.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,a){return pr.isNode&&ae.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function _q(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function xq(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}function r7(e){function t(n,r,o,a){let i=n[a++];if(i==="__proto__")return!0;const s=Number.isFinite(+i),c=a>=n.length;return i=!i&&ae.isArray(o)?o.length:i,c?(ae.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!s):((!o[i]||!ae.isObject(o[i]))&&(o[i]=[]),t(n,r,o[i],a)&&ae.isArray(o[i])&&(o[i]=xq(o[i])),!s)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const n={};return ae.forEachEntry(e,(r,o)=>{t(_q(r),o,n,0)}),n}return null}function wq(e,t,n){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const B_={transitional:t7,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,a=ae.isObject(t);if(a&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return o?JSON.stringify(r7(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yq(t,this.formSerializer).toString();if((s=ae.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return $d(s?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),wq(t)):t}],transformResponse:[function(t){const n=this.transitional||B_.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&ae.isString(t)&&(r&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(s){if(i)throw s.name==="SyntaxError"?Qe.from(s,Qe.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pr.classes.FormData,Blob:pr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{B_.headers[e]={}});const H_=B_,bq=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cq=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!n||t[n]&&bq[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},jb=Symbol("internals");function is(e){return e&&String(e).trim().toLowerCase()}function Gc(e){return e===!1||e==null?e:ae.isArray(e)?e.map(Gc):String(e)}function Sq(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Eq=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _p(e,t,n,r,o){if(ae.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!ae.isString(t)){if(ae.isString(r))return t.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(t)}}function jq(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function $q(e,t){const n=ae.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,a,i){return this[r].call(this,t,o,a,i)},configurable:!0})})}class Td{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function a(s,c,u){const d=is(c);if(!d)throw new Error("header name must be a non-empty string");const p=ae.findKey(o,d);(!p||o[p]===void 0||u===!0||u===void 0&&o[p]!==!1)&&(o[p||c]=Gc(s))}const i=(s,c)=>ae.forEach(s,(u,d)=>a(u,d,c));return ae.isPlainObject(t)||t instanceof this.constructor?i(t,n):ae.isString(t)&&(t=t.trim())&&!Eq(t)?i(Cq(t),n):t!=null&&a(n,t,r),this}get(t,n){if(t=is(t),t){const r=ae.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return Sq(o);if(ae.isFunction(n))return n.call(this,o,r);if(ae.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=is(t),t){const r=ae.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||_p(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function a(i){if(i=is(i),i){const s=ae.findKey(r,i);s&&(!n||_p(r,r[s],s,n))&&(delete r[s],o=!0)}}return ae.isArray(t)?t.forEach(a):a(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const a=n[r];(!t||_p(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const n=this,r={};return ae.forEach(this,(o,a)=>{const i=ae.findKey(r,a);if(i){n[i]=Gc(o),delete n[a];return}const s=t?jq(a):String(a).trim();s!==a&&delete n[a],n[s]=Gc(o),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ae.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&ae.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[jb]=this[jb]={accessors:{}}).accessors,o=this.prototype;function a(i){const s=is(i);r[s]||($q(o,i),r[s]=!0)}return ae.isArray(t)?t.forEach(a):a(t),this}}Td.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(Td.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ae.freezeMethods(Td);const Fr=Td;function xp(e,t){const n=this||H_,r=t||n,o=Fr.from(r.headers);let a=r.data;return ae.forEach(e,function(s){a=s.call(n,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function o7(e){return!!(e&&e.__CANCEL__)}function $l(e,t,n){Qe.call(this,e??"canceled",Qe.ERR_CANCELED,t,n),this.name="CanceledError"}ae.inherits($l,Qe,{__CANCEL__:!0});function Tq(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Qe("Request failed with status code "+n.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Rq=pr.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const i=[e+"="+encodeURIComponent(t)];ae.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),ae.isString(r)&&i.push("path="+r),ae.isString(o)&&i.push("domain="+o),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kq(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Nq(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function a7(e,t){return e&&!kq(t)?Nq(e,t):t}const Pq=pr.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(a){let i=a;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(i){const s=ae.isString(i)?o(i):i;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();function Dq(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Aq(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[a];i||(i=u),n[o]=c,r[o]=u;let p=a,m=0;for(;p!==o;)m+=n[p++],p=p%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),u-i<t)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function $b(e,t){let n=0;const r=Aq(50,250);return o=>{const a=o.loaded,i=o.lengthComputable?o.total:void 0,s=a-n,c=r(s),u=a<=i;n=a;const d={loaded:a,total:i,progress:i?a/i:void 0,bytes:s,rate:c||void 0,estimated:c&&i&&u?(i-a)/c:void 0,event:o};d[t?"download":"upload"]=!0,e(d)}}const Iq=typeof XMLHttpRequest<"u",Mq=Iq&&function(e){return new Promise(function(n,r){let o=e.data;const a=Fr.from(e.headers).normalize();let{responseType:i,withXSRFToken:s}=e,c;function u(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let d;if(ae.isFormData(o)){if(pr.hasStandardBrowserEnv||pr.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if((d=a.getContentType())!==!1){const[g,...x]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];a.setContentType([g||"multipart/form-data",...x].join("; "))}}let p=new XMLHttpRequest;if(e.auth){const g=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(g+":"+x))}const m=a7(e.baseURL,e.url);p.open(e.method.toUpperCase(),e7(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout;function h(){if(!p)return;const g=Fr.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),y={data:!i||i==="text"||i==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:g,config:e,request:p};Tq(function(w){n(w),u()},function(w){r(w),u()},y),p=null}if("onloadend"in p?p.onloadend=h:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(h)},p.onabort=function(){p&&(r(new Qe("Request aborted",Qe.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new Qe("Network Error",Qe.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let x=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const y=e.transitional||t7;e.timeoutErrorMessage&&(x=e.timeoutErrorMessage),r(new Qe(x,y.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,e,p)),p=null},pr.hasStandardBrowserEnv&&(s&&ae.isFunction(s)&&(s=s(e)),s||s!==!1&&Pq(m))){const g=e.xsrfHeaderName&&e.xsrfCookieName&&Rq.read(e.xsrfCookieName);g&&a.set(e.xsrfHeaderName,g)}o===void 0&&a.setContentType(null),"setRequestHeader"in p&&ae.forEach(a.toJSON(),function(x,y){p.setRequestHeader(y,x)}),ae.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),i&&i!=="json"&&(p.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&p.addEventListener("progress",$b(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",$b(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=g=>{p&&(r(!g||g.type?new $l(null,e,p):g),p.abort(),p=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const v=Dq(m);if(v&&pr.protocols.indexOf(v)===-1){r(new Qe("Unsupported protocol "+v+":",Qe.ERR_BAD_REQUEST,e));return}p.send(o||null)})},Ov={http:sq,xhr:Mq};ae.forEach(Ov,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Tb=e=>`- ${e}`,Oq=e=>ae.isFunction(e)||e===null||e===!1,i7={getAdapter:e=>{e=ae.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let a=0;a<t;a++){n=e[a];let i;if(r=n,!Oq(n)&&(r=Ov[(i=String(n)).toLowerCase()],r===void 0))throw new Qe(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+a]=r}if(!r){const a=Object.entries(o).map(([s,c])=>`adapter ${s} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(Tb).join(`
`):" "+Tb(a[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Ov};function wp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $l(null,e)}function Rb(e){return wp(e),e.headers=Fr.from(e.headers),e.data=xp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),i7.getAdapter(e.adapter||H_.adapter)(e).then(function(r){return wp(e),r.data=xp.call(e,e.transformResponse,r),r.headers=Fr.from(r.headers),r},function(r){return o7(r)||(wp(e),r&&r.response&&(r.response.data=xp.call(e,e.transformResponse,r.response),r.response.headers=Fr.from(r.response.headers))),Promise.reject(r)})}const kb=e=>e instanceof Fr?e.toJSON():e;function Ei(e,t){t=t||{};const n={};function r(u,d,p){return ae.isPlainObject(u)&&ae.isPlainObject(d)?ae.merge.call({caseless:p},u,d):ae.isPlainObject(d)?ae.merge({},d):ae.isArray(d)?d.slice():d}function o(u,d,p){if(ae.isUndefined(d)){if(!ae.isUndefined(u))return r(void 0,u,p)}else return r(u,d,p)}function a(u,d){if(!ae.isUndefined(d))return r(void 0,d)}function i(u,d){if(ae.isUndefined(d)){if(!ae.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function s(u,d,p){if(p in t)return r(u,d);if(p in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(u,d)=>o(kb(u),kb(d),!0)};return ae.forEach(Object.keys(Object.assign({},e,t)),function(d){const p=c[d]||o,m=p(e[d],t[d],d);ae.isUndefined(m)&&p!==s||(n[d]=m)}),n}const s7="1.6.7",V_={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{V_[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Nb={};V_.transitional=function(t,n,r){function o(a,i){return"[Axios v"+s7+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,s)=>{if(t===!1)throw new Qe(o(i," has been removed"+(n?" in "+n:"")),Qe.ERR_DEPRECATED);return n&&!Nb[i]&&(Nb[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,s):!0}};function Lq(e,t,n){if(typeof e!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=t[a];if(i){const s=e[a],c=s===void 0||i(s,a,e);if(c!==!0)throw new Qe("option "+a+" must be "+c,Qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Qe("Unknown option "+a,Qe.ERR_BAD_OPTION)}}const Lv={assertOptions:Lq,validators:V_},so=Lv.validators;class ku{constructor(t){this.defaults=t,this.interceptors={request:new Eb,response:new Eb}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ei(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:a}=n;r!==void 0&&Lv.assertOptions(r,{silentJSONParsing:so.transitional(so.boolean),forcedJSONParsing:so.transitional(so.boolean),clarifyTimeoutError:so.transitional(so.boolean)},!1),o!=null&&(ae.isFunction(o)?n.paramsSerializer={serialize:o}:Lv.assertOptions(o,{encode:so.function,serialize:so.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&ae.merge(a.common,a[n.method]);a&&ae.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),n.headers=Fr.concat(i,a);const s=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,p=0,m;if(!c){const v=[Rb.bind(this),void 0];for(v.unshift.apply(v,s),v.push.apply(v,u),m=v.length,d=Promise.resolve(n);p<m;)d=d.then(v[p++],v[p++]);return d}m=s.length;let h=n;for(p=0;p<m;){const v=s[p++],g=s[p++];try{h=v(h)}catch(x){g.call(this,x);break}}try{d=Rb.call(this,h)}catch(v){return Promise.reject(v)}for(p=0,m=u.length;p<m;)d=d.then(u[p++],u[p++]);return d}getUri(t){t=Ei(this.defaults,t);const n=a7(t.baseURL,t.url);return e7(n,t.params,t.paramsSerializer)}}ae.forEach(["delete","get","head","options"],function(t){ku.prototype[t]=function(n,r){return this.request(Ei(r||{},{method:t,url:n,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function n(r){return function(a,i,s){return this.request(Ei(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ku.prototype[t]=n(),ku.prototype[t+"Form"]=n(!0)});const Wc=ku;class U_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(s=>{r.subscribe(s),a=s}).then(o);return i.cancel=function(){r.unsubscribe(a)},i},t(function(a,i,s){r.reason||(r.reason=new $l(a,i,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new U_(function(o){t=o}),cancel:t}}}const zq=U_;function Fq(e){return function(n){return e.apply(null,n)}}function qq(e){return ae.isObject(e)&&e.isAxiosError===!0}const zv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zv).forEach(([e,t])=>{zv[t]=e});const Bq=zv;function l7(e){const t=new Wc(e),n=B8(Wc.prototype.request,t);return ae.extend(n,Wc.prototype,t,{allOwnKeys:!0}),ae.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return l7(Ei(e,o))},n}const Ge=l7(H_);Ge.Axios=Wc;Ge.CanceledError=$l;Ge.CancelToken=zq;Ge.isCancel=o7;Ge.VERSION=s7;Ge.toFormData=$d;Ge.AxiosError=Qe;Ge.Cancel=Ge.CanceledError;Ge.all=function(t){return Promise.all(t)};Ge.spread=Fq;Ge.isAxiosError=qq;Ge.mergeConfig=Ei;Ge.AxiosHeaders=Fr;Ge.formToJSON=e=>r7(ae.isHTMLForm(e)?new FormData(e):e);Ge.getAdapter=i7.getAdapter;Ge.HttpStatusCode=Bq;Ge.default=Ge;var Hq={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function st(){return typeof window<"u"&&window.location&&window.location.hostname.includes("databricksapps.com")?window.location.origin:Hq.VITE_BACKEND_HOST||"http://localhost:8080"}const ot=()=>"xxxx-xxxx-yxxx-yxxx-xxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)}),Vq=(e,t,n)=>{var a;if(!e.is_foreign_key||!e.foreign_key_reference)return!1;const r=t.find(i=>i.id===e.foreign_key_reference.referenced_table_id),o=(a=r==null?void 0:r.fields)==null?void 0:a.find(i=>i.id===e.foreign_key_reference.referenced_field_id);return e.name===(o==null?void 0:o.name)},Uq=(e,t,n,r,o)=>r.map(a=>a.id===n?{...a,fields:a.fields.map(i=>i.id===e.id?e:i)}:{...a,fields:a.fields.map(i=>{var s,c;if(i.is_foreign_key&&((s=i.foreign_key_reference)==null?void 0:s.referenced_table_id)===n&&((c=i.foreign_key_reference)==null?void 0:c.referenced_field_id)===e.id){const u=i.name===t.name;console.log(` Syncing ${u?"drag-and-drop":"manual"} FK field:`,i.name," PK:",e.name),console.log("    PK tags:",e.tags),console.log("    FK tags (before):",i.tags);const d={...e.tags||{},...i.tags||{}};return console.log("    Merged tags:",d),{...i,name:u?e.name:i.name,data_type:e.data_type,type_parameters:e.type_parameters,nullable:e.nullable,comment:e.comment,logical_name:i.logical_name||e.logical_name,tags:d,is_foreign_key:!0,foreign_key_reference:i.foreign_key_reference}}return i})}),Fv=e=>{const t=new WeakSet,n=r=>{if(r===null||typeof r!="object")return r;if(t.has(r))return null;try{if(r.constructor&&r.constructor.name){const o=r.constructor.name;if(o.startsWith("HTML")||o==="FiberNode"||o==="Element"||o==="Node")return null}}catch{return null}t.add(r);try{if(Array.isArray(r)){const a=r.map(n).filter(i=>i!==null);return t.delete(r),a}const o={};for(const a in r){if(a.startsWith("__react")||a.startsWith("_react")||a==="stateNode"||typeof r[a]=="function")continue;const i=n(r[a]);i!==null&&(o[a]=i)}return t.delete(r),o}catch{return t.delete(r),null}};return n(e)},La=e=>{const t=Fv(e);return t.map(n=>({...n,id:String(n.id),fields:n.fields.map(r=>{var a;let o={...r,id:String(r.id),type_parameters:(()=>{if(!r.type_parameters)return null;if(typeof r.type_parameters=="string")return r.type_parameters;if(typeof r.type_parameters=="object"&&Object.keys(r.type_parameters).length>0){const i=r.type_parameters;return i.precision!==void 0?i.scale!==void 0?`${i.precision},${i.scale}`:String(i.precision):JSON.stringify(i)}return null})()};if(r.is_foreign_key&&r.foreign_key_reference&&typeof r.foreign_key_reference=="string"&&r.foreign_key_reference.includes(".")){const[i,s]=r.foreign_key_reference.split("."),c=t.find(d=>d.name===i),u=(a=c==null?void 0:c.fields)==null?void 0:a.find(d=>d.name===s);c&&u&&(o.foreign_key_reference={referenced_table_id:c.id,referenced_field_id:u.id,constraint_name:`fk_${n.name}_${i}`,on_delete:"NO ACTION",on_update:"NO ACTION"})}return o}),created_at:(()=>{if(!n.created_at)return new Date().toISOString();if(typeof n.created_at=="string"){if(n.created_at.includes("GMT"))return new Date(n.created_at).toISOString();if(n.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return n.created_at}return new Date().toISOString()})(),updated_at:(()=>{if(!n.updated_at)return new Date().toISOString();if(typeof n.updated_at=="string"){if(n.updated_at.includes("GMT"))return new Date(n.updated_at).toISOString();if(n.updated_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return n.updated_at}return new Date().toISOString()})()}))},lt=jF((e,t)=>({currentProject:null,projectName:"",catalogName:"",schemaName:"",tables:[],metricViews:[],traditionalViews:[],relationships:[],metricRelationships:[],selectedTables:[],selectedMetricViews:[],selectedTraditionalViews:[],selectedRelationships:[],showTableDialog:!1,showFieldDialog:!1,showRelationshipDialog:!1,showMetricViewDialog:!1,showTraditionalViewDialog:!1,showFieldMappingDialog:!1,showImportDialog:!1,showProjectDialog:!1,showProjectStartupDialog:!0,projectStartupMode:"select",selectedTableForEditing:null,selectedFieldForEditing:null,selectedMetricViewForEditing:null,selectedTraditionalViewForEditing:null,editingTable:null,editingMetricView:null,editingTraditionalView:null,fieldMappingSourceTable:null,fieldMappingTargetMetricView:null,availableCatalogs:[],availableSchemas:[],availableTables:[],availableDatatypes:[],savedProjects:[],appState:{needs_project_selection:!0,has_existing_projects:!1,project_count:0},displayAlertDialog:!1,currentAlertDialogErrorType:null,errors:{loadCatalogs:null,loadSchemas:null,loadTables:null,importTables:null,saveProject:null,loadProject:null,generateDDL:null,applyChanges:null},isDragAndDropFK:(n,r)=>{const o=t();return Vq(n,o.tables,o.relationships)},getPKFieldForFK:n=>{var i;const r=t();if(!n.is_foreign_key||!n.foreign_key_reference)return null;const o=r.tables.find(s=>s.id===n.foreign_key_reference.referenced_table_id);return(i=o==null?void 0:o.fields)==null?void 0:i.find(s=>s.id===n.foreign_key_reference.referenced_field_id)},setCurrentProject:n=>e({currentProject:n}),setProjectMetadata:(n,r,o)=>{const a=t().currentProject;e({projectName:n,catalogName:r,schemaName:o,currentProject:a?{...a,catalog_name:r,schema_name:o}:null})},createNewProject:(n,r,o,a)=>{const i={id:ot(),name:n,description:r,catalog_name:o,schema_name:a,tables:[],relationships:[],version:"1.0",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),canvas_settings:{}};return e({currentProject:i,projectName:n,catalogName:o,schemaName:a,tables:[],relationships:[]}),i},addTable:n=>{const r={id:n.id||ot(),name:n.name,logical_name:n.logical_name,comment:n.comment,catalog_name:n.catalog_name,schema_name:n.schema_name,table_type:n.table_type||"MANAGED",file_format:n.file_format||"DELTA",tags:n.tags||{},position_x:n.position_x||100,position_y:n.position_y||100,width:n.width||200,height:n.height||150,fields:n.fields||[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e(o=>({tables:[...o.tables,r],currentProject:o.currentProject?{...o.currentProject,tables:[...o.currentProject.tables,r],updated_at:new Date().toISOString()}:null})),r},updateTable:(n,r)=>{e(o=>{let a=o.tables.map(i=>i.id===n?{...i,...r,updated_at:new Date().toISOString()}:i);if(r.fields){a.find(s=>s.id===n);const i=o.tables.find(s=>s.id===n);r.fields.forEach(s=>{var u;const c=(u=i==null?void 0:i.fields)==null?void 0:u.find(d=>d.id===s.id);if(s.is_primary_key&&c){const d=JSON.stringify(c.tags||{}),p=JSON.stringify(s.tags||{}),m=d!==p,h=c.data_type!==s.data_type||c.type_parameters!==s.type_parameters||c.nullable!==s.nullable||c.comment!==s.comment||c.logical_name!==s.logical_name||c.name!==s.name||m;console.log(" PK Change Detection:"),console.log("    Original tags:",c.tags),console.log("    Updated tags:",s.tags),console.log("    Tags changed:",m),h&&(console.log(" PK field changed, syncing to FK fields:",s.name),console.log(" Original PK field name:",c.name),console.log(" Before sync - tables count:",a.length),console.log(" Looking for FK fields that reference table:",n,"field:",s.id),a.forEach(v=>{const g=v.fields.filter(x=>{var y,_;return x.is_foreign_key&&((y=x.foreign_key_reference)==null?void 0:y.referenced_table_id)===n&&((_=x.foreign_key_reference)==null?void 0:_.referenced_field_id)===s.id});if(g.length>0){const x=g.filter(_=>_.name===c.name),y=g.filter(_=>_.name!==c.name);console.log(" Found FK fields to sync in table",v.name,":"),console.log("    Drag-and-drop FKs (same name):",x.map(_=>_.name)),console.log("    Manual FKs (different names):",y.map(_=>_.name))}}),a=Uq(s,c,n,a,o.relationships),console.log(" After sync - tables count:",a.length))}})}return{tables:a,currentProject:o.currentProject?{...o.currentProject,tables:a,updated_at:new Date().toISOString()}:null}})},deleteTable:n=>{e(r=>{console.log(" Deleting table with ID:",n);const o=r.relationships.filter(c=>c.source_table_id===n||c.target_table_id===n);console.log(" Found relationships to handle:",o.length);let a=[...r.tables];o.forEach(c=>{var m;if(console.log(" Processing relationship:",c.id),c.fk_table_id===n){console.log(" FK table is being deleted, skipping FK field handling");return}let u,d;if(c.fk_table_id&&c.fk_field_id?(u=c.fk_table_id,d=c.fk_field_id,console.log(" Using explicit FK tracking fields")):(u=c.target_table_id,d=c.target_field_id,console.log(" Using target table/field as FK location")),u===n){console.log(" FK table is being deleted, skipping FK field handling");return}console.log(" FK table ID (has FK):",u),console.log(" FK field ID (FK field):",d);const p=a.find(h=>h.id===u);if(p){console.log(" Found FK table:",p.name);const h=p.fields.find(v=>v.id===d);if(console.log(" FK field to modify:",h==null?void 0:h.name),h){const v=a.find(y=>y.id===c.source_table_id),g=(m=v==null?void 0:v.fields)==null?void 0:m.find(y=>y.id===c.source_field_id);if(console.log(" Referenced PK field name:",g==null?void 0:g.name),console.log(" FK field name:",h.name),h.name===(g==null?void 0:g.name)){console.log(" Drag-and-drop FK (same name as PK): Removing entire field");const y=p.fields.filter(_=>_.id!==d);a=a.map(_=>_.id===u?{..._,fields:y}:_),console.log(" Removed entire FK field from FK table:",p.name)}else{console.log(" Manual FK (different name from PK): Removing only FK reference, keeping field");const y=p.fields.map(_=>_.id===d?{..._,is_foreign_key:!1,foreign_key_reference:null}:_);a=a.map(_=>_.id===u?{..._,fields:y}:_),console.log(" Removed FK reference from field, kept field:",h.name)}}}});const i=a.filter(c=>c.id!==n),s=r.relationships.filter(c=>c.source_table_id!==n&&c.target_table_id!==n);return console.log(" Table deletion complete. Remaining tables:",i.length),console.log(" Remaining relationships:",s.length),{tables:i,relationships:s,currentProject:r.currentProject?{...r.currentProject,tables:i,relationships:s,updated_at:new Date().toISOString()}:null}})},addFieldToTable:(n,r)=>{var a;const o={id:ot(),name:r.name,data_type:r.data_type,type_parameters:r.type_parameters,nullable:r.nullable!==!1,default_value:r.default_value,comment:r.comment,logical_name:r.logical_name,tags:r.tags||{},is_primary_key:r.is_primary_key||!1,is_foreign_key:r.is_foreign_key||!1,foreign_key_reference:r.foreign_key_reference||null};return t().updateTable(n,{fields:[...((a=t().tables.find(i=>i.id===n))==null?void 0:a.fields)||[],o]}),o},updateField:(n,r,o)=>{const a=t().tables.find(i=>i.id===n);if(a){const i=a.fields.map(s=>s.id===r?{...s,...o}:s);t().updateTable(n,{fields:i})}},deleteField:(n,r)=>{const o=t().tables.find(a=>a.id===n);if(o){const a=o.fields.filter(i=>i.id!==r);t().updateTable(n,{fields:a}),e(i=>({relationships:i.relationships.filter(s=>s.source_field_id!==r&&s.target_field_id!==r)}))}},addRelationship:n=>{const r={id:ot(),source_table_id:n.source_table_id,target_table_id:n.target_table_id,source_field_id:n.source_field_id,target_field_id:n.target_field_id,relationship_type:n.relationship_type||"many_to_one",constraint_name:n.constraint_name,line_points:n.line_points||[],fk_table_id:n.fk_table_id,fk_field_id:n.fk_field_id,foreign_key_reference:n.foreign_key_reference};return e(o=>({relationships:[...o.relationships,r],currentProject:o.currentProject?{...o.currentProject,relationships:[...o.currentProject.relationships,r],updated_at:new Date().toISOString()}:null})),r},updateRelationship:(n,r)=>{e(o=>{const a=o.relationships.map(i=>i.id===n?{...i,...r}:i);return{relationships:a,currentProject:o.currentProject?{...o.currentProject,relationships:a,updated_at:new Date().toISOString()}:null}})},removeRelationshipLine:n=>{e(r=>{console.log(" Removing relationship line only (no FK field changes):",n);const o=r.relationships.filter(a=>a.id!==n);return{relationships:o,currentProject:r.currentProject?{...r.currentProject,relationships:o,updated_at:new Date().toISOString()}:null}})},deleteRelationship:n=>{e(r=>{var i;const o=r.relationships.find(s=>s.id===n),a=r.relationships.filter(s=>s.id!==n);if(o){console.log(" Deleting relationship:",o);let s,c;console.log(" Relationship fk_table_id:",o.fk_table_id),console.log(" Relationship fk_field_id:",o.fk_field_id),o.fk_table_id&&o.fk_field_id?(s=o.fk_table_id,c=o.fk_field_id,console.log(" Using explicit FK tracking fields (drag-and-drop)")):(s=o.target_table_id,c=o.target_field_id,console.log(" Using target table/field as FK location (manual)")),console.log(" FK table ID (has FK):",s),console.log(" FK field ID (FK field):",c);const u=r.tables.find(d=>d.id===s);if(u){console.log(" Found FK table:",u.name);const d=u.fields.find(g=>g.id===c);console.log(" FK field to modify:",d==null?void 0:d.name,"(is_foreign_key:",d==null?void 0:d.is_foreign_key,")");let p;const m=r.tables.find(g=>g.id===o.source_table_id),h=(i=m==null?void 0:m.fields)==null?void 0:i.find(g=>g.id===o.source_field_id);if(console.log(" Referenced PK field name:",h==null?void 0:h.name),console.log(" FK field name:",d.name),d.name===(h==null?void 0:h.name)){console.log(" Drag-and-drop FK (same name as PK): Removing entire field");const g=u.fields.filter(x=>x.id!==c);p=r.tables.map(x=>x.id===s?{...x,fields:g}:x),console.log(" Removed entire FK field from FK table:",u.name)}else{console.log(" Manual FK (different name from PK): Removing only FK reference, keeping field");const g=u.fields.map(x=>x.id===c?{...x,is_foreign_key:!1,foreign_key_reference:null}:x);p=r.tables.map(x=>x.id===s?{...x,fields:g}:x),console.log(" Removed FK reference from field, kept field:",d==null?void 0:d.name)}return{relationships:a,tables:p,currentProject:r.currentProject?{...r.currentProject,relationships:a,tables:p,updated_at:new Date().toISOString()}:null}}}return{relationships:a,currentProject:r.currentProject?{...r.currentProject,relationships:a,updated_at:new Date().toISOString()}:null}})},addMetricView:n=>{const r={id:n.id||ot(),name:n.name,description:n.description||"",version:n.version||"0.1",source_table_id:n.source_table_id,catalog_name:n.catalog_name,schema_name:n.schema_name,dimensions:n.dimensions||[],measures:n.measures||[],joins:n.joins||[],tags:n.tags||{},position_x:n.position_x||100,position_y:n.position_y||100,width:n.width||280,height:n.height||220,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e(o=>({metricViews:[...o.metricViews,r],currentProject:o.currentProject?{...o.currentProject,metric_views:[...o.currentProject.metric_views||[],r],updated_at:new Date().toISOString()}:null})),r},updateMetricView:(n,r)=>{e(o=>({metricViews:o.metricViews.map(a=>a.id===n?{...a,...r,updated_at:new Date().toISOString()}:a),currentProject:o.currentProject?{...o.currentProject,metric_views:(o.currentProject.metric_views||[]).map(a=>a.id===n?{...a,...r,updated_at:new Date().toISOString()}:a),updated_at:new Date().toISOString()}:null}))},deleteMetricView:n=>{e(r=>({metricViews:r.metricViews.filter(o=>o.id!==n),selectedMetricViews:r.selectedMetricViews.filter(o=>o!==n),currentProject:r.currentProject?{...r.currentProject,metric_views:(r.currentProject.metric_views||[]).filter(o=>o.id!==n),updated_at:new Date().toISOString()}:null}))},setSelectedTables:n=>e({selectedTables:n}),setSelectedRelationships:n=>e({selectedRelationships:n}),setShowTableDialog:(n,r=null)=>e({showTableDialog:n,selectedTableForEditing:r,editingTable:r}),setEditingTable:n=>e({editingTable:n}),setShowFieldDialog:(n,r=null)=>e({showFieldDialog:n,selectedFieldForEditing:r}),setShowRelationshipDialog:n=>e({showRelationshipDialog:n}),setShowImportDialog:n=>e({showImportDialog:n}),setShowProjectDialog:n=>e({showProjectDialog:n}),setShowProjectStartupDialog:(n,r="select")=>e({showProjectStartupDialog:n,projectStartupMode:r}),loadCatalogs:async()=>{var n;try{e({errors:{...t().errors,loadCatalogs:null}});const r=await Ge.get(`${st()}/api/data_modeling/catalogs`);return e({availableCatalogs:r.data}),r.data}catch(r){throw console.error("Error loading catalogs:",r),e({errors:{...t().errors,loadCatalogs:((n=r.response)==null?void 0:n.data)||r.message},currentAlertDialogErrorType:"loadCatalogs",displayAlertDialog:!0}),r}},loadSchemas:async n=>{var r;try{e({errors:{...t().errors,loadSchemas:null}});let a=(await Ge.get(`${st()}/api/data_modeling/schemas/${n}`)).data;const i=t(),s=new Set;return[...i.tables,...i.metricViews,...i.traditionalViews].forEach(c=>{c.catalog_name===n&&c.schema_name&&s.add(c.schema_name)}),s.forEach(c=>{a.some(u=>u.name===c)||a.push({name:c,comment:"Schema from imported project (not in database)",is_imported:!0})}),e({availableSchemas:a}),a}catch(o){throw console.error("Error loading schemas:",o),e({errors:{...t().errors,loadSchemas:((r=o.response)==null?void 0:r.data)||o.message},currentAlertDialogErrorType:"loadSchemas",displayAlertDialog:!0}),o}},loadTables:async(n,r)=>{var o;try{e({errors:{...t().errors,loadTables:null}});const a=await Ge.get(`${st()}/api/data_modeling/tables/${n}/${r}`);return e({availableTables:a.data}),a.data}catch(a){throw console.error("Error loading tables:",a),e({errors:{...t().errors,loadTables:((o=a.response)==null?void 0:o.data)||a.message},currentAlertDialogErrorType:"loadTables",displayAlertDialog:!0}),a}},loadDatatypes:async()=>{try{const n=await Ge.get(`${st()}/api/data_modeling/datatypes`);return e({availableDatatypes:n.data}),n.data}catch(n){return console.error("Error loading datatypes:",n),[]}},importExistingTables:async(n,r,o,a=null)=>{var i;try{e({errors:{...t().errors,importTables:null}});const c=t().tables.map(w=>({id:w.id,name:w.name,catalog_name:w.catalog_name,schema_name:w.schema_name,fields:w.fields||[]})),u={catalog_name:n,schema_name:r,table_names:o,include_constraints:!0,position_strategy:"auto_layout",existing_tables:c};a&&(u.session_id=a);const p=(await Ge.post(`${st()}/api/data_modeling/import_existing`,u)).data,m=t(),h=new Set(m.tables.map(w=>w.id)),v=new Set(m.tables.map(w=>w.name.toLowerCase())),g=[],x=p.tables.filter(w=>h.has(w.id)?!1:v.has(w.name.toLowerCase())?(g.push(w.name),!1):!0).map(w=>({...w,fields:(w.fields||[]).map(b=>{let S={...b};if(b.data_type==="DECIMAL"&&typeof b.type_parameters=="string"){const k=b.type_parameters;if(k&&k.trim()){const j=k.split(",");if(j.length>=1){const $=parseInt(j[0].trim()),C=j.length>1?parseInt(j[1].trim()):0;S.type_parameters={precision:isNaN($)?10:$,scale:isNaN(C)?0:C}}}}return S})}));if(g.length>0){const w=`The following tables were not imported because tables with the same names already exist in the canvas: ${g.join(", ")}`;if(console.warn(w),e({errors:{...t().errors,importTables:w}}),x.length===0)throw new Error(w)}const y=new Set(m.relationships.map(w=>`${w.source_table_id}-${w.target_table_id}-${w.source_field_id}-${w.target_field_id}`)),_=p.relationships.filter(w=>{const b=`${w.source_table_id}-${w.target_table_id}-${w.source_field_id}-${w.target_field_id}`;return!y.has(b)});return e({currentProject:{...m.currentProject,tables:[...m.tables,...x],relationships:[...m.relationships,..._]},tables:[...m.tables,...x],relationships:[...m.relationships,..._]}),p}catch(s){throw console.error("Error importing tables:",s),e({errors:{...t().errors,importTables:((i=s.response)==null?void 0:i.data)||s.message},currentAlertDialogErrorType:"importTables",displayAlertDialog:!0}),s}},importExistingTablesCrossCatalog:async(n,r)=>{try{e({errors:{...t().errors,importTables:null}});const o={table_groups:n,session_id:r};console.log(" Calling cross-catalog import endpoint with:",o);const a=await fetch(`${st()}/api/data_modeling/import_existing_cross_catalog`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),i=await a.json();if(!a.ok)throw new Error(i.error||`HTTP ${a.status}`);if(console.log(" Cross-catalog import endpoint response:",i),i.tables&&i.tables.length>0){const s=t(),c=new Set(s.tables.map(v=>v.id)),u=new Set(s.tables.map(v=>v.name.toLowerCase())),d=[],p=i.tables.filter(v=>c.has(v.id)?!1:u.has(v.name.toLowerCase())?(d.push(v.name),!1):!0).map(v=>({...v,fields:(v.fields||[]).map(g=>{let x={...g};if(g.data_type==="DECIMAL"&&typeof g.type_parameters=="string"){const y=g.type_parameters;if(y&&y.trim()){const _=y.split(",");if(_.length>=1){const w=parseInt(_[0].trim()),b=_.length>1?parseInt(_[1].trim()):0;x.type_parameters={precision:isNaN(w)?10:w,scale:isNaN(b)?0:b}}}}return x})})),m=new Set(s.relationships.map(v=>`${v.source_table_id}-${v.target_table_id}-${v.source_field_id}-${v.target_field_id}`)),h=(i.relationships||[]).filter(v=>{const g=`${v.source_table_id}-${v.target_table_id}-${v.source_field_id}-${v.target_field_id}`;return!m.has(g)});if(e({currentProject:{...s.currentProject,tables:[...s.tables,...p],relationships:[...s.relationships,...h]},tables:[...s.tables,...p],relationships:[...s.relationships,...h]}),console.log(` Added ${p.length} tables and ${h.length} relationships to store`),d.length>0){const v=`The following tables were not imported because tables with the same names already exist in the canvas: ${d.join(", ")}`;console.warn(v),e({errors:{...t().errors,importTables:v}})}}return i}catch(o){throw console.error(" Cross-catalog import failed:",o),e({errors:{...t().errors,importTables:o.message}}),o}},saveProject:async(n,r="yaml",o=!1)=>{var a,i,s,c,u;try{e({errors:{...t().errors,saveProject:null}});const d=t().currentProject;if(!d)throw new Error("No project to save");const p=La(t().tables),m=t().metricRelationships.map(_=>({..._,created_at:_.created_at&&typeof _.created_at=="string"?_.created_at.includes("GMT")?new Date(_.created_at).toISOString():_.created_at:new Date().toISOString(),updated_at:_.updated_at&&typeof _.updated_at=="string"?_.updated_at.includes("GMT")?new Date(_.updated_at).toISOString():_.updated_at:new Date().toISOString()})),h=Fv({...d,catalog_name:d.catalog_name||t().catalogName||"default",schema_name:d.schema_name||t().schemaName||"default",tables:p,relationships:t().relationships,metric_views:t().metricViews,traditional_views:t().traditionalViews,metric_relationships:m,created_at:d.created_at&&typeof d.created_at=="string"&&d.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?d.created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),v={name:n||d.name,format:r,overwrite:o,project:h};console.log("Saving project data:",v),console.log("Transformed tables:",p);const g=Fv(v);console.log("Final cleaned data:",g);const x=await Ge.post(`${st()}/api/data_modeling/project/save`,g),y=x.data.project||v.project;return e({currentProject:{...y,name:n||d.name},projectName:n||d.name}),console.log("Project saved successfully. Updated project name to:",n||d.name),x.data}catch(d){console.error("Error saving project:",d);const p=((i=(a=d.response)==null?void 0:a.data)==null?void 0:i.error)||((c=(s=d.response)==null?void 0:s.data)==null?void 0:c.validation_errors)||d.message||"Unknown error occurred while saving project";throw console.error("Save project error details:",(u=d.response)==null?void 0:u.data),e({errors:{...t().errors,saveProject:p},currentAlertDialogErrorType:"saveProject",displayAlertDialog:!0}),d}},loadProject:async n=>{var r;try{e({errors:{...t().errors,loadProject:null}});const a=(await Ge.get(`${st()}/api/data_modeling/project/load/${n}`)).data;let i=a.project;console.log(" LoadProject: Raw response data:",a),console.log(" LoadProject: Project name in response:",i==null?void 0:i.name),i={...i,created_at:i.created_at&&typeof i.created_at=="string"&&i.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?i.created_at:new Date().toISOString(),updated_at:i.updated_at&&typeof i.updated_at=="string"&&i.updated_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?i.updated_at:new Date().toISOString(),tables:(i.tables||[]).map(u=>({...u,created_at:u.created_at&&typeof u.created_at=="string"&&u.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?u.created_at:new Date().toISOString(),updated_at:u.updated_at&&typeof u.updated_at=="string"&&u.updated_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?u.updated_at:new Date().toISOString(),fields:(u.fields||[]).map(d=>{var m;let p={...d};if(d.data_type==="DECIMAL"&&typeof d.type_parameters=="string"){const h=d.type_parameters;if(h&&h.trim()){const v=h.split(",");if(v.length>=1){const g=parseInt(v[0].trim()),x=v.length>1?parseInt(v[1].trim()):0;p.type_parameters={precision:isNaN(g)?10:g,scale:isNaN(x)?0:x}}}}if(d.is_foreign_key&&d.foreign_key_reference&&typeof d.foreign_key_reference=="string"&&d.foreign_key_reference.includes(".")){const[h,v]=d.foreign_key_reference.split("."),g=(i.tables||[]).find(y=>y.name===h),x=(m=g==null?void 0:g.fields)==null?void 0:m.find(y=>y.name===v);g&&x?(p.foreign_key_reference={referenced_table_id:g.id,referenced_field_id:x.id,constraint_name:`fk_${u.name}_${h}`,on_delete:"NO ACTION",on_update:"NO ACTION"},console.log(" Converted string FK reference to object:",d.foreign_key_reference,"",p.foreign_key_reference)):(console.warn(" Could not resolve string FK reference:",d.foreign_key_reference),p.foreign_key_reference=null)}return p})})),metric_views:Array.isArray(i.metric_views)?i.metric_views.map(u=>({...u,created_at:u.created_at&&typeof u.created_at=="string"&&u.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?u.created_at:new Date().toISOString(),updated_at:u.updated_at&&typeof u.updated_at=="string"&&u.updated_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?u.updated_at:new Date().toISOString(),dimensions:Array.isArray(u.dimensions)?u.dimensions:[],measures:Array.isArray(u.measures)?u.measures:[],joins:Array.isArray(u.joins)?u.joins:[],tags:u.tags&&typeof u.tags=="object"?u.tags:{}})):[],traditional_views:Array.isArray(i.traditional_views)?i.traditional_views.map(u=>({...u,created_at:u.created_at&&typeof u.created_at=="string"&&u.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?u.created_at:new Date().toISOString(),updated_at:u.updated_at&&typeof u.updated_at=="string"&&u.updated_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?u.updated_at:new Date().toISOString(),tags:u.tags&&typeof u.tags=="object"?u.tags:{}})):[]};const s=a.name||i.name;console.log(" LoadProject: Setting project state"),console.log(" Correct project name (savedData.name):",a.name),console.log(" Project name from project object:",i.name),console.log(" Using project name:",s);const c={...i,name:s};return e({currentProject:c,projectName:s,catalogName:i.catalog_name,schemaName:i.schema_name,tables:i.tables,metricViews:Array.isArray(i.metric_views)?i.metric_views:[],traditionalViews:Array.isArray(i.traditional_views)?i.traditional_views:[],relationships:Array.isArray(i.relationships)?i.relationships:[],metricRelationships:Array.isArray(i.metric_relationships)?i.metric_relationships:[]}),console.log(" LoadProject: State updated successfully"),a}catch(o){throw console.error("Error loading project:",o),e({errors:{...t().errors,loadProject:((r=o.response)==null?void 0:r.data)||o.message},currentAlertDialogErrorType:"loadProject",displayAlertDialog:!0}),o}},getSavedProjects:async()=>{try{const n=await Ge.get(`${st()}/api/data_modeling/projects`);return console.log(" getSavedProjects response:",n.data),e({savedProjects:n.data}),n.data}catch(n){return console.error("Error getting saved projects:",n),e({savedProjects:[]}),[]}},deleteProject:async n=>{var r,o;try{e({errors:{...t().errors,deleteProject:null}}),console.log(" Deleting project with identifier:",n);const a=await Ge.delete(`${st()}/api/data_modeling/project/${n}`);await t().getSavedProjects();const i=t().currentProject;return i&&(i.id===n||i.name===n)&&e({currentProject:null,projectName:"",tables:[],relationships:[]}),a.data}catch(a){console.error("Error deleting project:",a);const i=((o=(r=a.response)==null?void 0:r.data)==null?void 0:o.error)||a.message||"Failed to delete project";throw e({errors:{...t().errors,deleteProject:i},currentAlertDialogErrorType:"deleteProject",displayAlertDialog:!0}),a}},downloadProject:async n=>{var r,o;try{e({errors:{...t().errors,downloadProject:null}}),console.log(" Downloading project with identifier:",n);const a=await Ge.get(`${st()}/api/data_modeling/project/${n}/download`,{responseType:"blob"}),i=new Blob([a.data],{type:"application/x-yaml"}),s=window.URL.createObjectURL(i),c=document.createElement("a");c.href=s;const u=a.headers["content-disposition"];let d=`${n}.yaml`;if(u){const p=u.match(/filename="(.+)"/);p&&(d=p[1])}return c.setAttribute("download",d),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(s),a.data}catch(a){console.error("Error downloading project:",a);const i=((o=(r=a.response)==null?void 0:r.data)==null?void 0:o.error)||a.message||"Failed to download project";throw e({errors:{...t().errors,downloadProject:i},currentAlertDialogErrorType:"downloadProject",displayAlertDialog:!0}),a}},importProject:async(n,r,o=!1,a="yaml")=>{var i,s,c,u,d;try{e({errors:{...t().errors,importProject:null}}),console.log(" Importing project:",r,"type:",a);let p;typeof n=="string"?p=n:n&&typeof n.toString=="function"?p=n.toString():p=String(n),typeof p=="string"&&p.includes("__reactFiber")&&(console.warn(" Detected React fiber references in content, attempting to clean..."),p=p.replace(/__reactFiber\$[^'"\s]*/g,""));const m={};m.project_name=String(r),m.overwrite=!!o,a==="json"?m.json_content=String(p):m.yaml_content=String(p);const h=await Ge.post(`${st()}/api/data_modeling/project/import`,m);return await t().getSavedProjects(),h.data}catch(p){console.error("Error importing project:",p),console.error("Error response status:",(i=p.response)==null?void 0:i.status),console.error("Error response data:",(s=p.response)==null?void 0:s.data),console.error("Error response headers:",(c=p.response)==null?void 0:c.headers);let m;throw p.response?m=((d=(u=p.response)==null?void 0:u.data)==null?void 0:d.error)||p.message||"Failed to import project":m="Network error: Unable to connect to the backend server. Please ensure the server is running on http://localhost:8080",e({errors:{...t().errors,importProject:m},currentAlertDialogErrorType:"importProject",displayAlertDialog:!0}),p}},getAppState:async()=>{try{const n=await Ge.get(`${st()}/api/data_modeling/app_state`);return e({appState:n.data}),n.data}catch(n){return console.error("Error getting app state:",n),t().appState}},generateDDL:async(n=[])=>{var r,o;try{e({errors:{...t().errors,generateDDL:null}});const a=t().currentProject;if(!a)throw new Error("No project available");console.log("Generating DDL for project ID:",a.id),console.log("Project data keys:",Object.keys(a)),console.log("Tables count:",t().tables.length);const i=La(t().tables);console.log("Project data being sent:",{project:{...a,catalog_name:a.catalog_name||t().catalogName||"default",schema_name:a.schema_name||t().schemaName||"default",tables:i,relationships:t().relationships,created_at:a.created_at&&typeof a.created_at=="string"&&a.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?a.created_at:new Date().toISOString(),updated_at:new Date().toISOString()},table_ids:n});const s=p=>{if(!p)return new Date().toISOString();if(typeof p=="string"){if(p.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return p;try{return new Date(p).toISOString()}catch{return new Date().toISOString()}}return p instanceof Date?p.toISOString():new Date().toISOString()},c=(t().metricRelationships||[]).map(p=>({...p,created_at:s(p.created_at),updated_at:s(p.updated_at)})),u=(t().metricViews||[]).map(p=>({...p,created_at:s(p.created_at),updated_at:s(p.updated_at)}));return(await Ge.post(`${st()}/api/data_modeling/project/${a.id}/generate_ddl`,{project:{...a,catalog_name:a.catalog_name||t().catalogName||"default",schema_name:a.schema_name||t().schemaName||"default",tables:i,relationships:t().relationships,metric_views:u,metric_relationships:c,created_at:s(a.created_at),updated_at:s(a.updated_at)},table_ids:n})).data}catch(a){console.error("Error generating DDL:",a);let i=a.message;if(((r=a.response)==null?void 0:r.status)===422&&((o=a.response)!=null&&o.data)){const s=a.response.data;s.validation_errors&&s.validation_errors.length>0?i=`Validation Error: ${s.error}

Details:
${s.validation_errors.map(c=>{var u;return`- ${(u=c.loc)==null?void 0:u.join(".")}: ${c.msg}`}).join(`
`)}`:i=s.error||i}throw e({errors:{...t().errors,generateDDL:i},currentAlertDialogErrorType:"generateDDL",displayAlertDialog:!0}),a}},applyChanges:async(n=[],r=!0,o=null,a=null)=>{var i,s;try{e({errors:{...t().errors,applyChanges:null}});const c=t().currentProject;if(!c)throw new Error("No project available");console.log("Applying changes for project ID:",c.id),console.log("Project data keys:",Object.keys(c)),console.log("Tables count:",t().tables.length);const u=La(t().tables),d=v=>{if(!v)return new Date().toISOString();if(typeof v=="string"){if(v.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return v;try{return new Date(v).toISOString()}catch{return new Date().toISOString()}}return v instanceof Date?v.toISOString():new Date().toISOString()},p=(t().metricRelationships||[]).map(v=>({...v,created_at:d(v.created_at),updated_at:d(v.updated_at)})),m=(t().metricViews||[]).map(v=>({...v,created_at:d(v.created_at),updated_at:d(v.updated_at)}));return(await Ge.post(`${st()}/api/data_modeling/project/${c.id}/apply_changes`,{project:{...c,catalog_name:c.catalog_name||t().catalogName||"default",schema_name:c.schema_name||t().schemaName||"default",tables:u,relationships:t().relationships,metric_views:m,metric_relationships:p,created_at:d(c.created_at),updated_at:d(c.updated_at)},table_ids:n,create_only:r,warehouse_id:o,session_id:a})).data}catch(c){console.error("Error applying changes:",c);let u=c.message;if(((i=c.response)==null?void 0:i.status)===422&&((s=c.response)!=null&&s.data)){const d=c.response.data;d.validation_errors&&d.validation_errors.length>0?u=`Validation Error: ${d.error}

Details:
${d.validation_errors.map(p=>{var m;return`- ${(m=p.loc)==null?void 0:m.join(".")}: ${p.msg}`}).join(`
`)}`:u=d.error||u}throw e({errors:{...t().errors,applyChanges:u},currentAlertDialogErrorType:"applyChanges",displayAlertDialog:!0}),c}},setShowMetricViewDialog:(n,r=null,o=null)=>{console.log(" Setting metric view dialog:",{show:n,metricView:r==null?void 0:r.name,sourceTableId:o}),e({showMetricViewDialog:n,editingMetricView:r,selectedMetricViewForEditing:r,fieldMappingSourceTable:o?t().tables.find(a=>a.id===o):null})},setShowFieldMappingDialog:(n,r=null,o=null)=>{console.log(" Setting field mapping dialog:",{show:n,sourceTable:r==null?void 0:r.name,targetMetricView:o==null?void 0:o.name}),e({showFieldMappingDialog:n,fieldMappingSourceTable:r,fieldMappingTargetMetricView:o})},createMetricView:n=>{console.log(" Creating metric view:",n);const r={...n,id:n.id||ot(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};e(o=>({metricViews:[...o.metricViews,r],showMetricViewDialog:!1,editingMetricView:null})),console.log(" Metric view created successfully:",r.name)},updateMetricView:(n,r)=>{console.log(" Updating metric view:",n,r),e(o=>({metricViews:o.metricViews.map(a=>a.id===n?{...a,...r,updated_at:new Date().toISOString()}:a),showMetricViewDialog:!1,editingMetricView:null})),console.log(" Metric view updated successfully")},deleteMetricView:n=>{console.log(" Deleting metric view:",n),e(r=>({metricViews:r.metricViews.filter(o=>o.id!==n),metricRelationships:r.metricRelationships.filter(o=>o.metric_view_id!==n),selectedMetricViews:r.selectedMetricViews.filter(o=>o!==n)})),console.log(" Metric view deleted successfully")},setSelectedMetricViews:n=>{console.log(" Setting selected metric views:",n),e({selectedMetricViews:n})},updateMetricViewPosition:(n,r,o)=>{e(a=>({metricViews:a.metricViews.map(i=>i.id===n?{...i,position_x:r,position_y:o}:i)}))},updateMetricViewSize:(n,r,o)=>{console.log(" Updating metric view size:",n,{width:r,height:o}),e(a=>({metricViews:a.metricViews.map(i=>i.id===n?{...i,width:r,height:o}:i)}))},createMetricRelationship:(n,r,o=[])=>{console.log(" Creating metric relationship:",{sourceTableId:n,metricViewId:r,fieldMappings:o});const a={id:ot(),source_table_id:n,metric_view_id:r,relationship_type:"source_to_metric",field_mappings:o,line_points:[],created_at:new Date().toISOString()};return e(i=>({metricRelationships:[...i.metricRelationships,a]})),console.log(" Metric relationship created successfully"),a},deleteMetricRelationship:n=>{console.log(" Deleting metric relationship:",n),e(r=>({metricRelationships:r.metricRelationships.filter(o=>o.id!==n)})),console.log(" Metric relationship deleted successfully")},loadProjectWithMetricViews:n=>{console.log(" Loading project with metric views and traditional views:",n),e({currentProject:n,projectName:n.name||"",catalogName:n.catalog_name||"",schemaName:n.schema_name||"",tables:n.tables||[],metricViews:n.metric_views||[],traditionalViews:n.traditional_views||[],relationships:n.relationships||[],metricRelationships:n.metric_relationships||[]}),console.log(" Project loaded with metric views")},saveProjectWithMetricViews:async()=>{try{const n=t(),r=n.currentProject;if(!r)throw new Error("No current project to save");console.log(" Saving project with metric views...");const o={...r,tables:n.tables,metric_views:n.metricViews,relationships:n.relationships,metric_relationships:n.metricRelationships,updated_at:new Date().toISOString()},a=await Ge.put(`${st()}/api/data_modeling/project/${r.id}`,o);return e({currentProject:a.data}),console.log(" Project saved with metric views successfully"),a.data}catch(n){throw console.error(" Error saving project with metric views:",n),n}},applyMetricView:async(n,r=!1,o=null)=>{const a=t(),{currentProject:i}=a;if(!i)throw new Error("No project loaded");try{console.log(" Applying metric view to Databricks:",n);const s=i.name||a.projectName||"Untitled Project",c=i.catalog_name||a.catalogName||"default",u=i.schema_name||a.schemaName||"default";console.log(" Project data for apply:",{name:s,catalog_name:c,schema_name:u,currentProject_catalog:i.catalog_name,state_catalog:a.catalogName,currentProject_schema:i.schema_name,state_schema:a.schemaName});const d=g=>{if(!g)return new Date().toISOString();if(typeof g=="string"){if(g.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return g;try{return new Date(g).toISOString()}catch{return new Date().toISOString()}}return g instanceof Date?g.toISOString():new Date().toISOString()},p=(i.metric_relationships||a.metricRelationships||[]).map(g=>({...g,created_at:d(g.created_at),updated_at:d(g.updated_at)})),m=La(i.tables||a.tables||[]),h={project:{...i,name:s,catalog_name:c,schema_name:u,tables:m,metric_views:i.metric_views||a.metricViews||[],traditional_views:i.traditional_views||a.traditionalViews||[],relationships:i.relationships||a.relationships||[],metric_relationships:p,version:i.version||"1.0",created_at:d(i.created_at),updated_at:d(i.updated_at)},create_only:r,warehouse_id:o},v=await Ge.post(`${st()}/api/data_modeling/project/${i.id}/metric_views/${n}/apply`,h);return console.log(" Metric view applied successfully:",v.data),v.data}catch(s){throw console.error(" Error applying metric view:",s),s}},setShowTraditionalViewDialog:(n,r=null)=>{console.log(" Setting traditional view dialog:",{show:n,traditionalView:r==null?void 0:r.name}),e({showTraditionalViewDialog:n,editingTraditionalView:r,selectedTraditionalViewForEditing:r})},createTraditionalView:n=>{console.log(" Creating traditional view:",n);const r={...n,id:n.id||ot(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e(o=>({traditionalViews:[...o.traditionalViews,r],showTraditionalViewDialog:!1,editingTraditionalView:null})),console.log(" Traditional view created successfully:",r.name),r},updateTraditionalView:(n,r)=>{console.log(" Updating traditional view:",n,r),e(o=>({traditionalViews:o.traditionalViews.map(a=>a.id===n?{...a,...r,updated_at:new Date().toISOString()}:a),showTraditionalViewDialog:!1,editingTraditionalView:null})),console.log(" Traditional view updated successfully")},deleteTraditionalView:n=>{console.log(" Deleting traditional view:",n),e(r=>({traditionalViews:r.traditionalViews.filter(o=>o.id!==n),selectedTraditionalViews:r.selectedTraditionalViews.filter(o=>o!==n)})),console.log(" Traditional view deleted successfully")},setSelectedTraditionalViews:n=>{console.log(" Setting selected traditional views:",n),e({selectedTraditionalViews:n})},updateTraditionalViewPosition:(n,r,o)=>{e(a=>({traditionalViews:a.traditionalViews.map(i=>i.id===n?{...i,position_x:r,position_y:o}:i)}))},updateTraditionalViewSize:(n,r,o)=>{console.log(" Updating traditional view size:",n,{width:r,height:o}),e(a=>({traditionalViews:a.traditionalViews.map(i=>i.id===n?{...i,width:r,height:o}:i)}))},applyTraditionalView:async(n,r=!1,o=null)=>{const a=t(),{currentProject:i}=a;if(!i)throw new Error("No project loaded");try{console.log(" Applying traditional view to Databricks:",n);const s=i.name||a.projectName||"Untitled Project",c=i.catalog_name||a.catalogName||"default",u=i.schema_name||a.schemaName||"default";console.log(" Project data for apply:",{name:s,catalog_name:c,schema_name:u});const d=g=>{if(!g)return new Date().toISOString();if(typeof g=="string"){if(g.includes("T")&&g.includes("Z"))return g;const x=new Date(g);if(!isNaN(x.getTime()))return x.toISOString()}return new Date().toISOString()},p=La(i.tables||a.tables||[]),m=(i.metric_relationships||a.metricRelationships||[]).map(g=>({...g,created_at:g.created_at&&typeof g.created_at=="string"?g.created_at.includes("GMT")?new Date(g.created_at).toISOString():g.created_at:new Date().toISOString(),updated_at:g.updated_at&&typeof g.updated_at=="string"?g.updated_at.includes("GMT")?new Date(g.updated_at).toISOString():g.updated_at:new Date().toISOString()})),h={project:{...i,name:s,catalog_name:c,schema_name:u,tables:p,metric_views:i.metric_views||a.metricViews||[],traditional_views:a.traditionalViews||i.traditional_views||[],relationships:i.relationships||a.relationships||[],metric_relationships:m,version:i.version||"1.0",created_at:d(i.created_at),updated_at:d(i.updated_at)},create_only:r,warehouse_id:o},v=await Ge.post(`${st()}/api/data_modeling/project/${i.id}/traditional_views/${n}/apply`,h);return console.log(" Traditional view applied successfully:",v.data),v.data}catch(s){throw console.error(" Error applying traditional view:",s),s}},generateTraditionalViewDDL:async n=>{const r=t(),{currentProject:o}=r;if(!o)throw new Error("No project loaded");try{console.log(" Generating DDL for traditional view:",n);const a=o.name||r.projectName||"Untitled Project",i=o.catalog_name||r.catalogName||"default",s=o.schema_name||r.schemaName||"default",c=h=>{if(!h)return new Date().toISOString();if(typeof h=="string"){if(h.includes("T")&&h.includes("Z"))return h;const v=new Date(h);if(!isNaN(v.getTime()))return v.toISOString()}return new Date().toISOString()},u=La(o.tables||r.tables||[]),d=(o.metric_relationships||r.metricRelationships||[]).map(h=>({...h,created_at:h.created_at&&typeof h.created_at=="string"?h.created_at.includes("GMT")?new Date(h.created_at).toISOString():h.created_at:new Date().toISOString(),updated_at:h.updated_at&&typeof h.updated_at=="string"?h.updated_at.includes("GMT")?new Date(h.updated_at).toISOString():h.updated_at:new Date().toISOString()})),p={project:{...o,name:a,catalog_name:i,schema_name:s,tables:u,metric_views:o.metric_views||r.metricViews||[],traditional_views:r.traditionalViews||o.traditional_views||[],relationships:o.relationships||r.relationships||[],metric_relationships:d,version:o.version||"1.0",created_at:c(o.created_at),updated_at:c(o.updated_at)}},m=await Ge.post(`${st()}/api/data_modeling/project/${o.id}/traditional_views/${n}/generate_ddl`,p);return console.log(" Traditional view DDL generated successfully:",m.data),m.data}catch(a){throw console.error(" Error generating traditional view DDL:",a),a}},toggleAlertDialog:()=>{e({displayAlertDialog:!t().displayAlertDialog})}}));function pt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var Gq=["color"],Wq=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,Gq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Kq=["color"],tn=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,Kq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Yq=["color"],c7=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,Yq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Xq=["color"],bp=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,Xq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Zq=["color"],u7=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,Zq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Qq=["color"],Jq=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,Qq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),eB=["color"],ea=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,eB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),tB=["color"],Nu=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,tB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M8.625 2.5C8.625 3.12132 8.12132 3.625 7.5 3.625C6.87868 3.625 6.375 3.12132 6.375 2.5C6.375 1.87868 6.87868 1.375 7.5 1.375C8.12132 1.375 8.625 1.87868 8.625 2.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM7.5 13.625C8.12132 13.625 8.625 13.1213 8.625 12.5C8.625 11.8787 8.12132 11.375 7.5 11.375C6.87868 11.375 6.375 11.8787 6.375 12.5C6.375 13.1213 6.87868 13.625 7.5 13.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),nB=["color"],rl=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,nB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M7.50005 1.04999C7.74858 1.04999 7.95005 1.25146 7.95005 1.49999V8.41359L10.1819 6.18179C10.3576 6.00605 10.6425 6.00605 10.8182 6.18179C10.994 6.35753 10.994 6.64245 10.8182 6.81819L7.81825 9.81819C7.64251 9.99392 7.35759 9.99392 7.18185 9.81819L4.18185 6.81819C4.00611 6.64245 4.00611 6.35753 4.18185 6.18179C4.35759 6.00605 4.64251 6.00605 4.81825 6.18179L7.05005 8.41359V1.49999C7.05005 1.25146 7.25152 1.04999 7.50005 1.04999ZM2.5 10C2.77614 10 3 10.2239 3 10.5V12C3 12.5539 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2239 12.2239 10 12.5 10C12.7761 10 13 10.2239 13 10.5V12C13 13.1041 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2239 2.22386 10 2.5 10Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),rB=["color"],Pb=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,rB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M5.5 4.625C6.12132 4.625 6.625 4.12132 6.625 3.5C6.625 2.87868 6.12132 2.375 5.5 2.375C4.87868 2.375 4.375 2.87868 4.375 3.5C4.375 4.12132 4.87868 4.625 5.5 4.625ZM9.5 4.625C10.1213 4.625 10.625 4.12132 10.625 3.5C10.625 2.87868 10.1213 2.375 9.5 2.375C8.87868 2.375 8.375 2.87868 8.375 3.5C8.375 4.12132 8.87868 4.625 9.5 4.625ZM10.625 7.5C10.625 8.12132 10.1213 8.625 9.5 8.625C8.87868 8.625 8.375 8.12132 8.375 7.5C8.375 6.87868 8.87868 6.375 9.5 6.375C10.1213 6.375 10.625 6.87868 10.625 7.5ZM5.5 8.625C6.12132 8.625 6.625 8.12132 6.625 7.5C6.625 6.87868 6.12132 6.375 5.5 6.375C4.87868 6.375 4.375 6.87868 4.375 7.5C4.375 8.12132 4.87868 8.625 5.5 8.625ZM10.625 11.5C10.625 12.1213 10.1213 12.625 9.5 12.625C8.87868 12.625 8.375 12.1213 8.375 11.5C8.375 10.8787 8.87868 10.375 9.5 10.375C10.1213 10.375 10.625 10.8787 10.625 11.5ZM5.5 12.625C6.12132 12.625 6.625 12.1213 6.625 11.5C6.625 10.8787 6.12132 10.375 5.5 10.375C4.87868 10.375 4.375 10.8787 4.375 11.5C4.375 12.1213 4.87868 12.625 5.5 12.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),oB=["color"],d7=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,oB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),aB=["color"],hr=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,aB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),iB=["color"],qv=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,iB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M3.5 2C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V6H8.5C8.22386 6 8 5.77614 8 5.5V2H3.5ZM9 2.70711L11.2929 5H9V2.70711ZM2 2.5C2 1.67157 2.67157 1 3.5 1H8.5C8.63261 1 8.75979 1.05268 8.85355 1.14645L12.8536 5.14645C12.9473 5.24021 13 5.36739 13 5.5V12.5C13 13.3284 12.3284 14 11.5 14H3.5C2.67157 14 2 13.3284 2 12.5V2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),sB=["color"],Pu=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,sB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M3 2.5C3 2.22386 3.22386 2 3.5 2H9.08579C9.21839 2 9.34557 2.05268 9.43934 2.14645L11.8536 4.56066C11.9473 4.65443 12 4.78161 12 4.91421V12.5C12 12.7761 11.7761 13 11.5 13H3.5C3.22386 13 3 12.7761 3 12.5V2.5ZM3.5 1C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V4.91421C13 4.51639 12.842 4.13486 12.5607 3.85355L10.1464 1.43934C9.86514 1.15804 9.48361 1 9.08579 1H3.5ZM4.5 4C4.22386 4 4 4.22386 4 4.5C4 4.77614 4.22386 5 4.5 5H7.5C7.77614 5 8 4.77614 8 4.5C8 4.22386 7.77614 4 7.5 4H4.5ZM4.5 7C4.22386 7 4 7.22386 4 7.5C4 7.77614 4.22386 8 4.5 8H10.5C10.7761 8 11 7.77614 11 7.5C11 7.22386 10.7761 7 10.5 7H4.5ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H10.5C10.7761 11 11 10.7761 11 10.5C11 10.2239 10.7761 10 10.5 10H4.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lB=["color"],ol=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,lB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M7.07095 0.650238C6.67391 0.650238 6.32977 0.925096 6.24198 1.31231L6.0039 2.36247C5.6249 2.47269 5.26335 2.62363 4.92436 2.81013L4.01335 2.23585C3.67748 2.02413 3.23978 2.07312 2.95903 2.35386L2.35294 2.95996C2.0722 3.2407 2.0232 3.6784 2.23493 4.01427L2.80942 4.92561C2.62307 5.2645 2.47227 5.62594 2.36216 6.00481L1.31209 6.24287C0.924883 6.33065 0.650024 6.6748 0.650024 7.07183V7.92897C0.650024 8.32601 0.924883 8.67015 1.31209 8.75794L2.36228 8.99603C2.47246 9.375 2.62335 9.73652 2.80979 10.0755L2.2354 10.9867C2.02367 11.3225 2.07267 11.7602 2.35341 12.041L2.95951 12.6471C3.24025 12.9278 3.67795 12.9768 4.01382 12.7651L4.92506 12.1907C5.26384 12.377 5.62516 12.5278 6.0039 12.6379L6.24198 13.6881C6.32977 14.0753 6.67391 14.3502 7.07095 14.3502H7.92809C8.32512 14.3502 8.66927 14.0753 8.75705 13.6881L8.99505 12.6383C9.37411 12.5282 9.73573 12.3773 10.0748 12.1909L10.986 12.7653C11.3218 12.977 11.7595 12.928 12.0403 12.6473L12.6464 12.0412C12.9271 11.7604 12.9761 11.3227 12.7644 10.9869L12.1902 10.076C12.3768 9.73688 12.5278 9.37515 12.638 8.99596L13.6879 8.75794C14.0751 8.67015 14.35 8.32601 14.35 7.92897V7.07183C14.35 6.6748 14.0751 6.33065 13.6879 6.24287L12.6381 6.00488C12.528 5.62578 12.3771 5.26414 12.1906 4.92507L12.7648 4.01407C12.9766 3.6782 12.9276 3.2405 12.6468 2.95975L12.0407 2.35366C11.76 2.07292 11.3223 2.02392 10.9864 2.23565L10.0755 2.80989C9.73622 2.62328 9.37437 2.47229 8.99505 2.36209L8.75705 1.31231C8.66927 0.925096 8.32512 0.650238 7.92809 0.650238H7.07095ZM4.92053 3.81251C5.44724 3.44339 6.05665 3.18424 6.71543 3.06839L7.07095 1.50024H7.92809L8.28355 3.06816C8.94267 3.18387 9.5524 3.44302 10.0794 3.81224L11.4397 2.9547L12.0458 3.56079L11.1882 4.92117C11.5573 5.44798 11.8164 6.0575 11.9321 6.71638L13.5 7.07183V7.92897L11.932 8.28444C11.8162 8.94342 11.557 9.55301 11.1878 10.0798L12.0453 11.4402L11.4392 12.0462L10.0787 11.1886C9.55192 11.5576 8.94241 11.8166 8.28355 11.9323L7.92809 13.5002H7.07095L6.71543 11.932C6.0569 11.8162 5.44772 11.5572 4.92116 11.1883L3.56055 12.046L2.95445 11.4399L3.81213 10.0794C3.4431 9.55266 3.18403 8.94326 3.06825 8.2845L1.50002 7.92897V7.07183L3.06818 6.71632C3.18388 6.05765 3.44283 5.44833 3.81171 4.92165L2.95398 3.561L3.56008 2.95491L4.92053 3.81251ZM9.02496 7.50008C9.02496 8.34226 8.34223 9.02499 7.50005 9.02499C6.65786 9.02499 5.97513 8.34226 5.97513 7.50008C5.97513 6.65789 6.65786 5.97516 7.50005 5.97516C8.34223 5.97516 9.02496 6.65789 9.02496 7.50008ZM9.92496 7.50008C9.92496 8.83932 8.83929 9.92499 7.50005 9.92499C6.1608 9.92499 5.07513 8.83932 5.07513 7.50008C5.07513 6.16084 6.1608 5.07516 7.50005 5.07516C8.83929 5.07516 9.92496 6.16084 9.92496 7.50008Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),cB=["color"],uB=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,cB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),dB=["color"],f7=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,dB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M8.51194 3.00541C9.18829 2.54594 10.0435 2.53694 10.6788 2.95419C10.8231 3.04893 10.9771 3.1993 11.389 3.61119C11.8009 4.02307 11.9513 4.17714 12.046 4.32141C12.4633 4.95675 12.4543 5.81192 11.9948 6.48827C11.8899 6.64264 11.7276 6.80811 11.3006 7.23511L10.6819 7.85383C10.4867 8.04909 10.4867 8.36567 10.6819 8.56093C10.8772 8.7562 11.1938 8.7562 11.389 8.56093L12.0077 7.94221L12.0507 7.89929C12.4203 7.52976 12.6568 7.2933 12.822 7.0502C13.4972 6.05623 13.5321 4.76252 12.8819 3.77248C12.7233 3.53102 12.4922 3.30001 12.1408 2.94871L12.0961 2.90408L12.0515 2.85942C11.7002 2.508 11.4692 2.27689 11.2277 2.11832C10.2377 1.46813 8.94398 1.50299 7.95001 2.17822C7.70691 2.34336 7.47044 2.57991 7.1009 2.94955L7.058 2.99247L6.43928 3.61119C6.24401 3.80645 6.24401 4.12303 6.43928 4.31829C6.63454 4.51355 6.95112 4.51355 7.14638 4.31829L7.7651 3.69957C8.1921 3.27257 8.35757 3.11027 8.51194 3.00541ZM4.31796 7.14672C4.51322 6.95146 4.51322 6.63487 4.31796 6.43961C4.12269 6.24435 3.80611 6.24435 3.61085 6.43961L2.99213 7.05833L2.94922 7.10124C2.57957 7.47077 2.34303 7.70724 2.17788 7.95035C1.50265 8.94432 1.4678 10.238 2.11799 11.2281C2.27656 11.4695 2.50766 11.7005 2.8591 12.0518L2.90374 12.0965L2.94837 12.1411C3.29967 12.4925 3.53068 12.7237 3.77214 12.8822C4.76219 13.5324 6.05589 13.4976 7.04986 12.8223C7.29296 12.6572 7.52943 12.4206 7.89896 12.051L7.89897 12.051L7.94188 12.0081L8.5606 11.3894C8.75586 11.1941 8.75586 10.8775 8.5606 10.6823C8.36533 10.487 8.04875 10.487 7.85349 10.6823L7.23477 11.301C6.80777 11.728 6.6423 11.8903 6.48794 11.9951C5.81158 12.4546 4.95642 12.4636 4.32107 12.0464C4.17681 11.9516 4.02274 11.8012 3.61085 11.3894C3.19896 10.9775 3.0486 10.8234 2.95385 10.6791C2.53661 10.0438 2.54561 9.18863 3.00507 8.51227C3.10993 8.35791 3.27224 8.19244 3.69924 7.76544L4.31796 7.14672ZM9.62172 6.08558C9.81698 5.89032 9.81698 5.57373 9.62172 5.37847C9.42646 5.18321 9.10988 5.18321 8.91461 5.37847L5.37908 8.91401C5.18382 9.10927 5.18382 9.42585 5.37908 9.62111C5.57434 9.81637 5.89092 9.81637 6.08619 9.62111L9.62172 6.08558Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fB=["color"],Bv=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,fB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M4.50021 0C4.77635 0 5.0002 0.223853 5.0002 0.49999V2.49995C5.0002 2.77609 4.77635 2.99994 4.50021 2.99994C4.22408 2.99994 4.00022 2.77609 4.00022 2.49995V0.49999C4.00022 0.223853 4.22408 0 4.50021 0ZM0.646451 0.64647C0.84171 0.451212 1.15829 0.451212 1.35354 0.64647L2.85351 2.14644C3.04877 2.3417 3.04877 2.65827 2.85351 2.85353C2.65826 3.04879 2.34168 3.04879 2.14642 2.85353L0.646452 1.35356C0.451193 1.1583 0.451193 0.841728 0.646451 0.64647ZM0.00030517 4.49991C0.00030517 4.22377 0.224158 3.99992 0.500295 3.99992H2.50025C2.77639 3.99992 3.00024 4.22377 3.00024 4.49991C3.00024 4.77605 2.77639 4.9999 2.50025 4.9999H0.500295C0.224158 4.9999 0.00030517 4.77605 0.00030517 4.49991ZM12.0001 10.4998C12.0001 10.2236 12.2239 9.9998 12.5001 9.9998H14.5C14.7761 9.9998 15 10.2236 15 10.4998C15 10.7759 14.7761 10.9998 14.5 10.9998H12.5001C12.2239 10.9998 12.0001 10.7759 12.0001 10.4998ZM10.5001 11.9998C10.7762 11.9998 11.0001 12.2236 11.0001 12.4997V14.4997C11.0001 14.7758 10.7762 14.9997 10.5001 14.9997C10.224 14.9997 10.0001 14.7758 10.0001 14.4997V12.4997C10.0001 12.2236 10.224 11.9998 10.5001 11.9998ZM12.1462 12.1462C12.3415 11.951 12.658 11.951 12.8533 12.1462L14.3533 13.6462C14.5485 13.8415 14.5485 14.158 14.3533 14.3533C14.158 14.5485 13.8414 14.5485 13.6462 14.3533L12.1462 12.8533C11.951 12.6581 11.951 12.3415 12.1462 12.1462ZM7.76478 3.69938C8.19177 3.27238 8.35724 3.11008 8.5116 3.00522C9.18794 2.54577 10.0431 2.53677 10.6784 2.95401C10.8227 3.04875 10.9767 3.19911 11.3886 3.61099C11.8005 4.02287 11.9509 4.17694 12.0456 4.3212C12.4628 4.95653 12.4539 5.81168 11.9944 6.48802C11.8895 6.64238 11.7272 6.80785 11.3002 7.23484L10.6815 7.85354C10.4863 8.0488 10.4863 8.36538 10.6815 8.56064C10.8768 8.75589 11.1934 8.75589 11.3886 8.56064L12.0073 7.94193L12.0502 7.89903C12.4199 7.5295 12.6564 7.29303 12.8216 7.04993C13.4968 6.05598 13.5316 4.7623 12.8815 3.77228C12.7229 3.53083 12.4918 3.29982 12.1404 2.94853L12.0957 2.9039L12.0511 2.85925C11.6998 2.50782 11.4688 2.27672 11.2273 2.11816C10.2373 1.46798 8.94364 1.50284 7.94968 2.17805C7.70659 2.34319 7.47012 2.57973 7.1006 2.94936L7.1006 2.94937L7.05769 2.99228L6.43898 3.61099C6.24372 3.80625 6.24372 4.12282 6.43898 4.31808C6.63424 4.51334 6.95081 4.51334 7.14607 4.31808L7.76478 3.69938ZM2.99191 7.05807L2.94899 7.10097C2.57935 7.4705 2.34282 7.70697 2.17767 7.95006C1.50246 8.94401 1.4676 10.2377 2.11778 11.2277C2.27634 11.4692 2.50744 11.7002 2.85886 12.0515L2.85888 12.0515L2.90352 12.0961L2.94815 12.1407L2.94815 12.1407L2.94817 12.1408C3.29945 12.4922 3.53045 12.7233 3.7719 12.8818C4.76193 13.532 6.0556 13.4972 7.04956 12.8219C7.29265 12.6568 7.52912 12.4203 7.89865 12.0506L7.94155 12.0077L8.56026 11.389C8.75552 11.1937 8.75552 10.8772 8.56026 10.6819C8.365 10.4867 8.04842 10.4867 7.85317 10.6819L7.23446 11.3006C6.80747 11.7276 6.642 11.8899 6.48764 11.9948C5.8113 12.4542 4.95615 12.4632 4.32082 12.046C4.17656 11.9512 4.02249 11.8009 3.61061 11.389C3.19873 10.9771 3.04837 10.8231 2.95363 10.6788C2.53639 10.0435 2.54539 9.18832 3.00484 8.51198C3.10971 8.35761 3.27201 8.19215 3.699 7.76516L4.3177 7.14645C4.51296 6.95119 4.51296 6.63462 4.3177 6.43936C4.12245 6.2441 3.80587 6.2441 3.61061 6.43936L2.99191 7.05807Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),pB=["color"],hB=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,pB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),mB=["color"],gs=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,mB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),gB=["color"],al=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,gB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),vB=["color"],Rd=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,vB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M3.24182 2.32181C3.3919 2.23132 3.5784 2.22601 3.73338 2.30781L12.7334 7.05781C12.8974 7.14436 13 7.31457 13 7.5C13 7.68543 12.8974 7.85564 12.7334 7.94219L3.73338 12.6922C3.5784 12.774 3.3919 12.7687 3.24182 12.6782C3.09175 12.5877 3 12.4252 3 12.25V2.75C3 2.57476 3.09175 2.4123 3.24182 2.32181ZM4 3.57925V11.4207L11.4288 7.5L4 3.57925Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),yB=["color"],yr=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,yB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),_B=["color"],Fn=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,_B);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),xB=["color"],wB=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=pt(e,xB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M7.81825 1.18188C7.64251 1.00615 7.35759 1.00615 7.18185 1.18188L4.18185 4.18188C4.00611 4.35762 4.00611 4.64254 4.18185 4.81828C4.35759 4.99401 4.64251 4.99401 4.81825 4.81828L7.05005 2.58648V9.49996C7.05005 9.74849 7.25152 9.94996 7.50005 9.94996C7.74858 9.94996 7.95005 9.74849 7.95005 9.49996V2.58648L10.1819 4.81828C10.3576 4.99401 10.6425 4.99401 10.8182 4.81828C10.994 4.64254 10.994 4.35762 10.8182 4.18188L7.81825 1.18188ZM2.5 9.99997C2.77614 9.99997 3 10.2238 3 10.5V12C3 12.5538 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2238 12.2239 9.99997 12.5 9.99997C12.7761 9.99997 13 10.2238 13 10.5V12C13 13.104 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2238 2.22386 9.99997 2.5 9.99997Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const bB=({isOpen:e,onClose:t,mode:n})=>{var $,C;const{currentProject:r,saveProject:o,loadProject:a,getSavedProjects:i}=lt(),[s,c]=f.useState(""),[u,d]=f.useState("yaml"),[p,m]=f.useState([]),[h,v]=f.useState(""),[g,x]=f.useState(!1);f.useEffect(()=>{e&&n==="load"&&y(),e&&n==="save"&&r&&(console.log(" Save dialog opened. Setting project name to:",r.name||""),c(r.name||""))},[e,n,r]);const y=async()=>{try{x(!0);const R=await i();m(R||[])}catch(R){console.error("Error loading saved projects:",R),m([])}finally{x(!1)}},_=async(R=!1)=>{var D,q,F;if(s.trim())try{x(!0),console.log(" Saving project with name:",s.trim()),console.log(" Current project name before save:",r==null?void 0:r.name),await o(s.trim(),u,R),console.log(" Project saved successfully"),t(),c("")}catch(A){if(console.error("Error saving project:",A),((D=A.response)==null?void 0:D.status)===409&&((F=(q=A.response)==null?void 0:q.data)==null?void 0:F.code)==="DUPLICATE_NAME"&&window.confirm(`A different project named "${s.trim()}" already exists. This will overwrite the existing project.

Are you sure you want to continue?`))return _(!0)}finally{x(!1)}},w=async R=>{try{x(!0),await a(R),t()}catch(D){console.error("Error loading project:",D)}finally{x(!1)}},b=p.filter(R=>R.name.toLowerCase().includes(h.toLowerCase())),S=R=>new Date(R).toLocaleDateString()+" "+new Date(R).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),k=R=>R==="yaml"?"blue":"green",j=()=>{c(""),v(""),t()};return l.jsx(ye.Root,{open:e,onOpenChange:j,children:l.jsxs(ye.Content,{style:{maxWidth:n==="load"?600:450},children:[l.jsx(ye.Title,{children:n==="save"?"Save Data Model Project":"Load Data Model Project"}),l.jsx(ye.Description,{size:"2",mb:"4",children:n==="save"?"Save your current data model project to a file.":"Load a previously saved data model project."}),n==="save"&&l.jsxs(O,{direction:"column",gap:"3",children:[l.jsxs("label",{children:[l.jsx(N,{as:"div",size:"2",mb:"1",weight:"bold",children:"Project Name"}),l.jsx($e.Input,{placeholder:"Enter project name...",value:s,onChange:R=>c(R.target.value),disabled:g})]}),l.jsxs("label",{children:[l.jsx(N,{as:"div",size:"2",mb:"1",weight:"bold",children:"File Format"}),l.jsx(op.Root,{value:u,onValueChange:d,disabled:g,children:l.jsxs(O,{gap:"4",children:[l.jsx("label",{children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(op.Item,{value:"yaml"}),l.jsx(N,{size:"2",children:"YAML (.yaml)"}),l.jsx(xe,{color:"blue",size:"1",children:"Recommended"})]})}),l.jsx("label",{children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(op.Item,{value:"json"}),l.jsx(N,{size:"2",children:"JSON (.json)"})]})})]})})]}),r&&l.jsxs(Z,{className:"project-summary",children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Project Summary:"}),l.jsxs(N,{size:"1",color:"gray",children:["Tables: ",(($=r.tables)==null?void 0:$.length)||0," | Relationships: ",((C=r.relationships)==null?void 0:C.length)||0," | Catalog: ",r.catalog_name," | Schema: ",r.schema_name]})]})]}),n==="load"&&l.jsxs(O,{direction:"column",gap:"3",children:[l.jsxs("label",{children:[l.jsx(N,{as:"div",size:"2",mb:"1",weight:"bold",children:"Search Projects"}),l.jsxs($e.Root,{children:[l.jsx($e.Slot,{children:l.jsx(gs,{height:"16",width:"16"})}),l.jsx($e.Input,{placeholder:"Search by project name...",value:h,onChange:R=>v(R.target.value)})]})]}),l.jsxs(Z,{children:[l.jsxs(N,{size:"2",weight:"bold",mb:"2",children:["Saved Projects (",b.length,")"]}),l.jsx(Xt,{style:{height:"300px"},children:l.jsx(Z,{className:"projects-list",children:g?l.jsx(Z,{className:"loading-state",children:l.jsx(N,{size:"2",color:"gray",children:"Loading projects..."})}):b.length>0?b.map((R,D)=>{var q;return l.jsx(Z,{className:"project-item",children:l.jsxs(O,{justify:"between",align:"start",children:[l.jsxs(Z,{className:"project-info",style:{flex:1},children:[l.jsxs(O,{align:"center",gap:"2",mb:"1",children:[l.jsx(qv,{size:"14"}),l.jsx(N,{size:"2",weight:"medium",children:R.name}),l.jsx(xe,{color:k(R.format),size:"1",children:((q=R.format)==null?void 0:q.toUpperCase())||"JSON"})]}),l.jsxs(N,{size:"1",color:"gray",children:["Saved: ",S(R.saved_at)]})]}),l.jsx(O,{gap:"1",children:l.jsxs(me,{size:"1",onClick:()=>w(R.name),disabled:g,children:[l.jsx(rl,{})," Load"]})})]})},D)}):l.jsx(Z,{className:"empty-state",children:l.jsx(N,{size:"2",color:"gray",align:"center",children:h?"No projects match your search.":"No saved projects found."})})})})]})]}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",disabled:g,children:"Cancel"})}),n==="save"&&l.jsx(me,{onClick:_,disabled:!s.trim()||g,children:g?"Saving...":"Save Project"}),n==="load"&&l.jsx(me,{variant:"soft",onClick:y,disabled:g,children:g?"Refreshing...":"Refresh List"})]})]})})},CB=({isOpen:e,onClose:t})=>{const{currentProject:n,catalogName:r,schemaName:o,availableCatalogs:a,availableSchemas:i,loadCatalogs:s,loadSchemas:c,setProjectMetadata:u,saveProject:d}=lt(),[p,m]=f.useState(""),[h,v]=f.useState(""),[g,x]=f.useState(!1),[y,_]=f.useState(!1),[w,b]=f.useState(!1);f.useEffect(()=>{if(e&&n){console.log(" ProjectSettings: Dialog opened",{availableCatalogs:(a==null?void 0:a.length)||0,availableSchemas:(i==null?void 0:i.length)||0});const R=r||n.catalog_name||"",D=o||n.schema_name||"";m(R),v(D),!a||a.length===0?(console.log(" ProjectSettings: Loading catalogs..."),S()):console.log(" ProjectSettings: Using existing catalogs:",a.length),R&&(console.log(" ProjectSettings: Loading schemas for current catalog:",R),k(R))}},[e,n,r,o,a]),f.useEffect(()=>{p&&p!==(r||(n==null?void 0:n.catalog_name))&&k(p)},[p]);const S=async()=>{x(!0);try{await s()}catch(R){console.error("Error loading catalogs:",R)}finally{x(!1)}},k=async R=>{if(R){console.log(" ProjectSettings: handleLoadSchemas called for catalog:",R),_(!0);try{const D=await c(R);console.log(" ProjectSettings: Schemas loaded:",(D==null?void 0:D.length)||0)}catch(D){console.error("Error loading schemas:",D)}finally{_(!1)}}},j=async(R=!1)=>{var D,q,F,A,B;if(!(!n||!p||!h)){b(!0);try{u(n.name,p,h),await d(n.name,"yaml",R),t()}catch(E){if(console.error("Error saving project settings:",E),((D=E.response)==null?void 0:D.status)===409&&((F=(q=E.response)==null?void 0:q.data)==null?void 0:F.code)==="DUPLICATE_NAME"){if(window.confirm(`A different project named "${n.name}" already exists. This will overwrite the existing project.

Are you sure you want to continue?`))return j(!0)}else alert("Error saving project settings: "+(((B=(A=E.response)==null?void 0:A.data)==null?void 0:B.error)||E.message))}finally{b(!1)}}},$=()=>{m(r||(n==null?void 0:n.catalog_name)||""),v(o||(n==null?void 0:n.schema_name)||""),t()},C=p!==(r||(n==null?void 0:n.catalog_name))||h!==(o||(n==null?void 0:n.schema_name));return l.jsx(ye.Root,{open:e,onOpenChange:t,children:l.jsxs(ye.Content,{style:{maxWidth:500},children:[l.jsx(ye.Title,{children:"Project Settings"}),l.jsx(ye.Description,{size:"2",mb:"4",children:"Change the catalog and schema for this project. This will affect where tables are created when applying changes."}),l.jsxs(O,{direction:"column",gap:"4",children:[l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(N,{as:"label",size:"2",weight:"bold",children:"Project Name"}),l.jsx(N,{size:"2",color:"gray",children:(n==null?void 0:n.name)||"Untitled Project"})]}),l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(N,{as:"label",size:"2",weight:"bold",children:"Catalog *"}),l.jsxs(O,{align:"center",gap:"2",children:[l.jsxs(U.Root,{value:p,onValueChange:m,disabled:g,children:[l.jsx(U.Trigger,{placeholder:"Select a catalog...",style:{width:"100%"}}),l.jsxs(U.Content,{children:[a==null?void 0:a.map(R=>l.jsx(U.Item,{value:R.name,children:R.name},R.name)),(!a||a.length===0)&&!g&&l.jsx(U.Item,{value:"no-catalogs",disabled:!0,children:"No catalogs available"})]})]}),g&&l.jsx(N,{size:"1",color:"gray",children:""})]})]}),l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(N,{as:"label",size:"2",weight:"bold",children:"Schema *"}),l.jsxs(O,{align:"center",gap:"2",children:[l.jsxs(U.Root,{value:h,onValueChange:v,disabled:!p||y,children:[l.jsx(U.Trigger,{placeholder:"Select a schema...",style:{width:"100%"}}),l.jsxs(U.Content,{children:[i==null?void 0:i.map(R=>l.jsx(U.Item,{value:R.name,children:l.jsxs(O,{align:"center",justify:"between",style:{width:"100%"},children:[l.jsx(N,{children:R.name}),R.is_imported&&l.jsx(xe,{color:"orange",size:"1",style:{marginLeft:"8px"},children:"imported"})]})},R.name)),(!i||i.length===0)&&!y&&p&&l.jsx(U.Item,{value:"no-schemas",disabled:!0,children:"No schemas available"})]})]}),y&&l.jsx(N,{size:"1",color:"gray",children:""})]})]}),C&&l.jsxs(O,{direction:"column",gap:"2",p:"3",style:{backgroundColor:"var(--gray-2)",borderRadius:"6px"},children:[l.jsx(N,{size:"2",weight:"bold",children:"Changes:"}),l.jsxs(N,{size:"1",color:"gray",children:["Current: ",r||(n==null?void 0:n.catalog_name)||"default",".",o||(n==null?void 0:n.schema_name)||"default"]}),l.jsxs(N,{size:"1",color:"blue",children:["New: ",p,".",h]})]})]}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",onClick:$,children:"Cancel"})}),l.jsx(me,{onClick:j,disabled:!p||!h||!C||w,children:w?" Saving...":"Save Changes"})]}),l.jsx(ye.Close,{children:l.jsx(me,{variant:"ghost",color:"gray",style:{position:"absolute",top:"10px",right:"10px"},children:l.jsx(ea,{})})})]})})},Hv=({isOpen:e,onClose:t,onApply:n,projectData:r})=>{const[o,a]=f.useState(!1),[i,s]=f.useState([]),[c,u]=f.useState(0),[d,p]=f.useState(""),[m,h]=f.useState(null),[v,g]=f.useState([]),[x,y]=f.useState(""),[_,w]=f.useState(!1),[b,S]=f.useState(!1),[k,j]=f.useState(null),$=f.useRef(!1);f.useEffect(()=>{e&&C()},[e]);const C=async()=>{try{const L=await fetch(`${st()}/api/data_modeling/warehouses`);if(L.ok){const I=await L.json();g(I);const P=I.find(z=>z.state==="RUNNING");P?y(P.id):I.length>0&&y(I[0].id),R(` Loaded ${I.length} warehouses`,"info")}else{const I=await L.text();console.error("Failed to load warehouses:",L.status,I),R(" Could not load warehouses from server","warning")}}catch(L){console.error("Error loading warehouses:",L),R(" Could not connect to server for warehouses","warning")}},R=(L,I="info")=>{const P=new Date().toLocaleTimeString();s(z=>[...z,{id:Date.now()+Math.random(),message:L,type:I,timestamp:P}])},D=async()=>{if(!(!k||b)){S(!0);try{(await fetch(`${st()}/api/data_modeling/cancel_apply/${k}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok?(R(" Apply operation cancellation requested...","warning"),a(!1),p("Cancelled")):(R(" Failed to cancel apply operation","error"),S(!1))}catch(L){console.error("Error cancelling apply operation:",L),R(" Error cancelling apply operation","error"),S(!1)}}},q=L=>{console.log("SSE Update received:",L);try{switch(L.type){case"connected":R(" Connected to progress stream","info");break;case"started":const I=L.table_names||[],P=L.total_tables||0;R(` Processing ${P} tables: ${I.join(", ")}`,"info"),p("Processing Tables");break;case"table_started":R(` Starting table ${L.table_name}...`,"info"),u(L.progress);break;case"table_completed":const z=L.result;if(z.success){if(R(` Table ${z.table_name}: created/updated successfully`,"success"),z.warnings&&z.warnings.length>0&&z.warnings.forEach(fe=>{R(`    Warning: ${fe}`,"warning")}),z.tags){const fe=z.tags,pe=fe.tag_changes_count||0;if(pe>0){const ie=fe.table_tags_count||0,ge=fe.column_tags_count||0;if(fe.tag_success){R(`    Applied ${pe} tags (${ie} table, ${ge} column)`,"success");const ve=fe.tag_details||[];ve.length>0&&ve.forEach(ue=>{if(ue&&ue.entity_type&&ue.tag_key){const K=ue.entity_type==="tables"?"table":`column ${ue.entity_name||"unknown"}`,se=ue.action==="CREATE"?"":ue.action==="UPDATE"?"":"";R(`     ${se} ${ue.action} ${K}.${ue.tag_key} = '${ue.tag_value||""}'`,"info")}})}else R(`    Tag processing failed for ${z.table_name}`,"warning")}else R(`    No tag changes needed for ${z.table_name}`,"info")}}else R(` Table ${z.table_name}: failed to create/update`,"error"),z.error&&R(`    Error: ${z.error}`,"error");u(L.progress);break;case"completed":console.log(" Processing completed message:",L),p("Completed"),u(100),w(!0),$.current=!0,console.log(" Progress set to 100%");const H=L.results||[],W=H.length,J=H.filter(fe=>fe&&fe.success).length,ce=W-J;console.log(` Results summary: ${W} total, ${J} success, ${ce} failure`),h({catalog_name:L.catalog_name||"Unknown",schema_name:L.schema_name||"Unknown",total:W,success:J,failure:ce}),J===W?R(` All ${W} tables processed successfully!`,"success"):R(` Completed with ${J} successes and ${ce} failures`,"warning"),console.log(" Setting isApplying to false"),a(!1);break;case"error":R(` SSE Error: ${L.message}`,"error"),a(!1);break;default:console.log("Unknown progress update type:",L.type,L)}}catch(I){console.error("Error processing SSE update:",I,"Update data:",L),R(` Error processing progress update: ${I.message}`,"warning")}},F=async()=>{if(!r){R(" No project data available","error");return}a(!0),s([]),u(0),h(null),w(!1),S(!1),$.current=!1;const L=`apply_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;j(L);let I=null;try{R(" Starting Apply Changes process...","info"),p("Initializing"),u(10);const P=`apply_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;I=new EventSource(`${st()}/api/data_modeling/project/${r.id}/apply_progress/${P}`),I.onmessage=H=>{try{console.log("Raw SSE data:",H.data);const W=JSON.parse(H.data);console.log("Parsed SSE update:",W),q(W)}catch(W){console.error("Error parsing SSE data:",W,"Raw data:",H.data),R(` Error parsing progress data: ${W.message}`,"warning")}},I.onerror=H=>{$.current?console.log("SSE connection closed after successful completion"):(console.error("SSE Error:",H),R(" Connection to progress stream lost","warning"),a(!1)),I&&(I.close(),I=null)},console.log(" About to call onApply with sessionId:",P),await n(r,x,P)||(R(" No response received from server","warning"),a(!1))}catch(P){R(` Apply Changes failed: ${P.message}`,"error"),p("Failed"),console.error("Apply Changes error:",P)}finally{I&&(I.close(),I=null),a(!1)}},A=()=>{o||(s([]),u(0),p(""),h(null),w(!1),$.current=!1,t())},B=L=>{switch(L){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}},E=L=>{switch(L){case"success":return"green";case"error":return"red";case"warning":return"orange";case"info":return"blue";default:return"gray"}};return l.jsx(ye.Root,{open:e,onOpenChange:A,children:l.jsxs(ye.Content,{className:"apply-progress-dialog",style:{maxWidth:"800px"},children:[l.jsx(ye.Title,{children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(N,{size:"5",weight:"bold",children:"Apply Changes to Databricks"}),o&&l.jsx(xe,{color:"blue",variant:"soft",children:d})]})}),l.jsx(ye.Description,{children:l.jsx(N,{color:"gray",children:r?`Applying changes to ${r.catalog_name}.${r.schema_name}`:"Ready to apply changes to Databricks"})}),l.jsxs(O,{direction:"column",gap:"4",mt:"4",children:[!o&&!m&&v.length>0&&l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(N,{weight:"bold",size:"2",children:"SQL Warehouse"}),l.jsxs(U.Root,{value:x,onValueChange:y,children:[l.jsx(U.Trigger,{placeholder:"Select a warehouse..."}),l.jsx(U.Content,{children:v.map(L=>l.jsx(U.Item,{value:L.id,children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(xe,{color:L.state==="RUNNING"?"green":"gray",variant:"soft",size:"1",children:L.state}),l.jsx(N,{children:L.name}),l.jsxs(N,{size:"1",color:"gray",children:["(",L.size,")"]})]})},L.id))})]}),l.jsx(N,{size:"1",color:"gray",children:"Choose the SQL warehouse to execute DDL statements"})]}),(o||c>0)&&l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx("div",{className:"progress-bar-container",children:l.jsx("div",{className:"progress-bar-fill",style:{width:`${c}%`}})}),l.jsxs(N,{size:"2",color:"gray",children:[c,"% complete ",d&&`- ${d}`]})]}),m&&l.jsxs(O,{direction:"column",gap:"2",p:"3",className:"results-summary",children:[l.jsx(N,{weight:"bold",children:"Results Summary"}),l.jsxs(O,{gap:"4",children:[l.jsxs(xe,{color:"green",variant:"soft",children:[" ",m.success," Success"]}),m.failure>0&&l.jsxs(xe,{color:"red",variant:"soft",children:[" ",m.failure," Failed"]}),l.jsxs(xe,{color:"gray",variant:"soft",children:[" ",m.total," Total"]})]}),l.jsxs(N,{size:"2",color:"gray",children:["Target: ",m.catalog_name,".",m.schema_name]})]}),l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(N,{weight:"bold",children:"Execution Logs"}),l.jsx(Xt,{className:"logs-container",style:{height:"300px",border:"1px solid var(--gray-6)",borderRadius:"6px"},children:l.jsx(O,{direction:"column",gap:"1",p:"3",children:i.length===0?l.jsx(N,{color:"gray",size:"2",children:o?"Initializing...":'Click "Start Apply" to begin'}):i.map(L=>l.jsxs(O,{gap:"2",align:"start",className:"log-entry",children:[l.jsx(N,{size:"1",color:"gray",style:{minWidth:"60px"},children:L.timestamp}),l.jsxs(N,{size:"2",color:E(L.type),style:{fontFamily:"monospace",wordBreak:"break-all"},children:[B(L.type)," ",L.message]})]},L.id))})})]}),l.jsxs(O,{gap:"3",justify:"end",mt:"4",children:[l.jsx(ye.Close,{asChild:!0,children:l.jsx(me,{variant:"soft",color:"gray",disabled:o,children:m?"Close":"Cancel"})}),o&&l.jsx(me,{variant:"soft",color:"red",onClick:D,disabled:b,children:b?"Cancelling...":" Stop Apply"}),!m&&l.jsx(me,{onClick:F,disabled:o||!r,color:"blue",children:o?"Applying...":"Start Apply"})]})]})]})})},Vv=({isOpen:e,onClose:t,onGenerateDDL:n,projectData:r,tableIds:o=null})=>{var F;const[a,i]=f.useState(!1),[s,c]=f.useState([]),[u,d]=f.useState(0),[p,m]=f.useState(""),[h,v]=f.useState(null),[g,x]=f.useState(""),[y,_]=f.useState(!1),[w,b]=f.useState(null);f.useEffect(()=>{e&&(c([]),d(0),m(""),v(null),x(""),i(!1))},[e]);const S=(A,B="info")=>{const E=new Date().toLocaleTimeString();c(L=>[...L,{id:Date.now()+Math.random(),message:A,type:B,timestamp:E}])},k=async()=>{if(!(!w||y)){_(!0);try{(await fetch(`${st()}/api/data_modeling/cancel_ddl/${w}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok?(S(" DDL generation cancellation requested...","warning"),i(!1),m("Cancelled")):(S(" Failed to cancel DDL generation","error"),_(!1))}catch(A){console.error("Error cancelling DDL generation:",A),S(" Error cancelling DDL generation","error"),_(!1)}}},j=async()=>{var B;if(!r){S(" No project data available","error");return}i(!0),c([]),d(0),v(null),x(""),_(!1);const A=`ddl_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;b(A);try{const E=o?o.length:((B=r.tables)==null?void 0:B.length)||0;S(` Starting DDL generation for ${o?"individual table":"all tables"}...`,"info"),m("Initializing"),d(10);const I=await n(o);if(I&&I.ddl_statements){m("Processing DDL Results"),d(70);const P=I.ddl_statements.length;let z=0,H=0,W="";I.ddl_statements.forEach((J,ce)=>{J.ddl&&J.ddl.trim()?(z++,S(` ${J.table_name}: DDL generated successfully`,"success"),W+=`-- DDL for ${J.table_name}
${J.ddl}

`,J.warnings&&J.warnings.length>0&&J.warnings.forEach(fe=>{S(`    Warning: ${fe}`,"warning")})):(H++,S(` ${J.table_name}: Failed to generate DDL`,"error"),J.error&&S(`   Error: ${J.error}`,"error"))}),d(90),m("Finalizing"),v({total:P,success:z,failure:H,ddl_statements:I.ddl_statements}),x(W),S(` DDL Generation Summary: ${z}/${P} successful`,"info"),H>0&&S(` ${H} table(s) failed DDL generation`,"warning"),d(100),m("Complete")}else throw new Error("Invalid response format from DDL generation")}catch(E){console.error("DDL Generation Error:",E),S(` DDL generation failed: ${E.message}`,"error"),m("Failed"),v({total:0,success:0,failure:1,error:E.message})}finally{i(!1)}},$=()=>{if(!g){S(" No DDL content to download","error");return}try{const A=new Blob([g],{type:"text/sql"}),B=URL.createObjectURL(A),E=document.createElement("a");E.href=B;const L=o&&o.length===1?`${r.name}_single_table_ddl.sql`:`${r.name}_ddl.sql`;E.download=L,E.click(),URL.revokeObjectURL(B),S(` DDL downloaded as ${L}`,"success")}catch(A){console.error("Download error:",A),S(` Failed to download DDL: ${A.message}`,"error")}},C=A=>{switch(A){case"success":return"";case"error":return"";case"warning":return"";default:return""}},R=A=>{switch(A){case"success":return"green";case"error":return"red";case"warning":return"orange";default:return"blue"}},D=o?o.length:((F=r==null?void 0:r.tables)==null?void 0:F.length)||0,q=o?"Individual Table":"All Tables";return l.jsx(ye.Root,{open:e,onOpenChange:t,children:l.jsxs(ye.Content,{className:"ddl-progress-dialog",style:{maxWidth:"900px",width:"90vw"},children:[l.jsxs(ye.Title,{children:["Generate ",q," DDL"]}),l.jsxs(ye.Description,{children:["Generate DDL statements for ",D,' table(s) in project "',r==null?void 0:r.name,'"']}),l.jsxs(O,{direction:"column",gap:"4",style:{minHeight:h&&g?"600px":"400px"},children:[l.jsxs(O,{direction:"column",gap:"2",children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(N,{size:"2",weight:"medium",children:p&&`Phase: ${p}`}),l.jsxs(N,{size:"2",color:"gray",children:[u,"%"]})]}),l.jsx("div",{className:"progress-bar",children:l.jsx("div",{className:"progress-fill",style:{width:`${u}%`}})})]}),h&&l.jsxs(O,{gap:"2",wrap:"wrap",children:[l.jsxs(xe,{color:"blue",size:"2",children:["Total: ",h.total]}),l.jsxs(xe,{color:"green",size:"2",children:["Success: ",h.success]}),h.failure>0&&l.jsxs(xe,{color:"red",size:"2",children:["Failed: ",h.failure]})]}),h&&g&&l.jsxs(O,{direction:"column",gap:"2",children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(N,{size:"3",weight:"medium",children:" Generated DDL Preview"}),l.jsxs(O,{gap:"2",align:"center",children:[l.jsx(Cn,{size:"1",variant:"soft",title:"Copy DDL to clipboard",onClick:()=>{navigator.clipboard.writeText(g).then(()=>{S(" DDL copied to clipboard","success")}).catch(()=>{S(" Failed to copy DDL to clipboard","error")})},children:l.jsx(Jq,{})}),l.jsx(xe,{color:"green",size:"1",children:"Ready to Download"})]})]}),l.jsx(Xt,{style:{height:"250px",border:"1px solid var(--gray-7)",borderRadius:"4px"},scrollbars:"both",children:l.jsx(Z,{p:"3",children:l.jsx("pre",{style:{margin:0,fontSize:"12px",fontFamily:'Monaco, "Lucida Console", monospace',whiteSpace:"pre-wrap",wordBreak:"break-word",color:"var(--gray-12)",backgroundColor:"var(--gray-2)",padding:"12px",borderRadius:"4px",lineHeight:"1.4"},children:g})})})]}),l.jsx(Xt,{style:{height:h&&g?"200px":"300px"},scrollbars:"vertical",children:l.jsxs(O,{direction:"column",gap:"1",p:"2",children:[s.map(A=>l.jsxs(O,{gap:"2",align:"start",children:[l.jsx(N,{size:"1",color:"gray",style:{minWidth:"60px"},children:A.timestamp}),l.jsxs(N,{size:"2",color:R(A.type),children:[C(A.type)," ",A.message]})]},A.id)),s.length===0&&l.jsx(N,{size:"2",color:"gray",style:{fontStyle:"italic"},children:'Click "Generate DDL" to start...'})]})}),l.jsxs(O,{gap:"3",justify:"end",children:[!a&&!h&&l.jsx(me,{onClick:j,disabled:!r||D===0,children:"Generate DDL"}),a&&l.jsx(me,{variant:"soft",color:"red",onClick:k,disabled:y,children:y?"Cancelling...":" Stop DDL"}),h&&g&&l.jsx(me,{onClick:$,variant:"solid",color:"green",children:" Download DDL"}),l.jsx(me,{variant:"soft",onClick:t,disabled:a,children:h?"Close":"Cancel"})]})]})]})})},SB=()=>{const{currentProject:e,tables:t,catalogName:n,schemaName:r,generateDDL:o,applyChanges:a,setShowProjectDialog:i,setShowProjectStartupDialog:s,setShowTableDialog:c,setShowImportDialog:u}=lt();X.useEffect(()=>{console.log(" NavigationBar: currentProject changed:",e==null?void 0:e.name)},[e==null?void 0:e.name]);const[d,p]=f.useState(!1),[m,h]=f.useState(!1),[v,g]=f.useState(!1),[x,y]=f.useState(!1),_=()=>{p(!0)},w=()=>{s(!0)},b=()=>{h(!0)},S=()=>{console.log(" NavigationBar: handleGenerateDDL called"),console.log(" Current project:",e),console.log(" Tables count:",(t==null?void 0:t.length)||0),y(!0)},k=async C=>(console.log(" NavigationBar: handleGenerateDDLWithProgress called"),console.log(" Table IDs:",C),await o(C||[])),j=()=>{console.log(" NavigationBar: handleApplyChanges called"),console.log(" Current project:",e),console.log(" Tables count:",(t==null?void 0:t.length)||0),g(!0)},$=async(C,R,D)=>{console.log(" NavigationBar: handleApplyChangesWithProgress called"),console.log(" Selected warehouse:",R),console.log(" Session ID:",D);try{console.log(" Calling applyChanges for all tables...");const q=await a([],!0,R,D);return console.log(" NavigationBar: Apply changes result:",q),q}catch(q){throw console.error(" NavigationBar: Error applying changes:",q),q}};return l.jsxs("div",{id:"navigation-bar-ctr",children:[l.jsxs(O,{gap:"3",justify:"between",align:"center",style:{width:"100%"},children:[l.jsx(O,{gap:"3",align:"center",children:l.jsx(Z,{className:"prevent-select",children:l.jsx(jt,{as:"h1",id:"navigation-bar-title",children:"Data Modeler App"})})}),e&&l.jsxs(O,{gap:"2",className:"project-info-center",children:[l.jsxs(xe,{color:"blue",size:"2",children:[e.name," (",(t==null?void 0:t.length)||0," tables)"]}),(n||r)&&l.jsxs(xe,{color:"gray",size:"2",variant:"soft",children:[n||e.catalog_name||"default",".",r||e.schema_name||"default"]})]}),l.jsxs(O,{gap:"2",className:"toolbar-buttons",children:[l.jsxs(Ae.Root,{children:[l.jsx(Ae.Trigger,{children:l.jsxs(me,{color:"gray",variant:"surface",children:[l.jsx(qv,{})," Project ",l.jsx(bp,{})]})}),l.jsxs(Ae.Content,{children:[l.jsxs(Ae.Item,{onClick:()=>s(!0,"create"),children:[l.jsx(yr,{})," New Project"]}),l.jsxs(Ae.Item,{onClick:w,children:[l.jsx(rl,{})," Load Project"]}),l.jsx(Ae.Separator,{}),l.jsxs(Ae.Item,{onClick:b,disabled:!e,children:[l.jsx(ol,{})," Project Settings"]}),l.jsxs(Ae.Item,{onClick:_,disabled:!e,children:[l.jsx(qv,{})," Save Project"]})]})]}),l.jsxs(Ae.Root,{children:[l.jsx(Ae.Trigger,{children:l.jsxs(me,{color:"green",variant:"surface",disabled:!e,children:[l.jsx(yr,{})," Tables ",l.jsx(bp,{})]})}),l.jsxs(Ae.Content,{children:[l.jsxs(Ae.Item,{onClick:()=>c(!0),disabled:!e,children:[l.jsx(yr,{})," Create New Table"]}),l.jsxs(Ae.Item,{onClick:()=>u(!0),disabled:!e,children:[l.jsx(rl,{})," Import Existing Tables"]})]})]}),l.jsxs(Ae.Root,{children:[l.jsx(Ae.Trigger,{children:l.jsxs(me,{color:"violet",variant:"surface",disabled:!e||((t==null?void 0:t.length)||0)===0,children:[l.jsx(ol,{})," Actions ",l.jsx(bp,{})]})}),l.jsxs(Ae.Content,{children:[l.jsx(Ae.Item,{onClick:S,children:"Generate All Tables DDL"}),l.jsxs(Ae.Item,{onClick:j,children:[l.jsx(Rd,{})," Apply All Tables to Databricks"]})]})]})]})]}),l.jsx(bB,{isOpen:d,onClose:()=>p(!1),mode:"save"}),l.jsx(CB,{isOpen:m,onClose:()=>h(!1)}),l.jsx(Hv,{isOpen:v,onClose:()=>g(!1),onApply:$,projectData:e}),l.jsx(Vv,{isOpen:x,onClose:()=>y(!1),onGenerateDDL:k,projectData:e,tableIds:null})]})};function Vt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Vt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const{useDebugValue:EB}=X,{useSyncExternalStoreWithSelector:jB}=F8,$B=e=>e;function p7(e,t=$B,n){const r=jB(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return EB(r),r}const Db=(e,t)=>{const n=I8(e),r=(o,a=t)=>p7(n,o,a);return Object.assign(r,n),r},TB=(e,t)=>e?Db(e,t):Db;function zt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var RB={value:()=>{}};function kd(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Kc(n)}function Kc(e){this._=e}function kB(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Kc.prototype=kd.prototype={constructor:Kc,on:function(e,t){var n=this._,r=kB(e+"",n),o,a=-1,i=r.length;if(arguments.length<2){for(;++a<i;)if((o=(e=r[a]).type)&&(o=NB(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<i;)if(o=(e=r[a]).type)n[o]=Ab(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Ab(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Kc(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,a;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,o=a.length;r<o;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,a=r.length;o<a;++o)r[o].value.apply(t,n)}};function NB(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Ab(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=RB,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Uv="http://www.w3.org/1999/xhtml";const Ib={svg:"http://www.w3.org/2000/svg",xhtml:Uv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nd(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ib.hasOwnProperty(t)?{space:Ib[t],local:e}:e}function PB(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Uv&&t.documentElement.namespaceURI===Uv?t.createElement(e):t.createElementNS(n,e)}}function DB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function h7(e){var t=Nd(e);return(t.local?DB:PB)(t)}function AB(){}function G_(e){return e==null?AB:function(){return this.querySelector(e)}}function IB(e){typeof e!="function"&&(e=G_(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,s=r[o]=new Array(i),c,u,d=0;d<i;++d)(c=a[d])&&(u=e.call(c,c.__data__,d,a))&&("__data__"in c&&(u.__data__=c.__data__),s[d]=u);return new $n(r,this._parents)}function MB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function OB(){return[]}function m7(e){return e==null?OB:function(){return this.querySelectorAll(e)}}function LB(e){return function(){return MB(e.apply(this,arguments))}}function zB(e){typeof e=="function"?e=LB(e):e=m7(e);for(var t=this._groups,n=t.length,r=[],o=[],a=0;a<n;++a)for(var i=t[a],s=i.length,c,u=0;u<s;++u)(c=i[u])&&(r.push(e.call(c,c.__data__,u,i)),o.push(c));return new $n(r,o)}function g7(e){return function(){return this.matches(e)}}function v7(e){return function(t){return t.matches(e)}}var FB=Array.prototype.find;function qB(e){return function(){return FB.call(this.children,e)}}function BB(){return this.firstElementChild}function HB(e){return this.select(e==null?BB:qB(typeof e=="function"?e:v7(e)))}var VB=Array.prototype.filter;function UB(){return Array.from(this.children)}function GB(e){return function(){return VB.call(this.children,e)}}function WB(e){return this.selectAll(e==null?UB:GB(typeof e=="function"?e:v7(e)))}function KB(e){typeof e!="function"&&(e=g7(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,s=r[o]=[],c,u=0;u<i;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&s.push(c);return new $n(r,this._parents)}function y7(e){return new Array(e.length)}function YB(){return new $n(this._enter||this._groups.map(y7),this._parents)}function Du(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Du.prototype={constructor:Du,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function XB(e){return function(){return e}}function ZB(e,t,n,r,o,a){for(var i=0,s,c=t.length,u=a.length;i<u;++i)(s=t[i])?(s.__data__=a[i],r[i]=s):n[i]=new Du(e,a[i]);for(;i<c;++i)(s=t[i])&&(o[i]=s)}function QB(e,t,n,r,o,a,i){var s,c,u=new Map,d=t.length,p=a.length,m=new Array(d),h;for(s=0;s<d;++s)(c=t[s])&&(m[s]=h=i.call(c,c.__data__,s,t)+"",u.has(h)?o[s]=c:u.set(h,c));for(s=0;s<p;++s)h=i.call(e,a[s],s,a)+"",(c=u.get(h))?(r[s]=c,c.__data__=a[s],u.delete(h)):n[s]=new Du(e,a[s]);for(s=0;s<d;++s)(c=t[s])&&u.get(m[s])===c&&(o[s]=c)}function JB(e){return e.__data__}function eH(e,t){if(!arguments.length)return Array.from(this,JB);var n=t?QB:ZB,r=this._parents,o=this._groups;typeof e!="function"&&(e=XB(e));for(var a=o.length,i=new Array(a),s=new Array(a),c=new Array(a),u=0;u<a;++u){var d=r[u],p=o[u],m=p.length,h=tH(e.call(d,d&&d.__data__,u,r)),v=h.length,g=s[u]=new Array(v),x=i[u]=new Array(v),y=c[u]=new Array(m);n(d,p,g,x,y,h,t);for(var _=0,w=0,b,S;_<v;++_)if(b=g[_]){for(_>=w&&(w=_+1);!(S=x[w])&&++w<v;);b._next=S||null}}return i=new $n(i,r),i._enter=s,i._exit=c,i}function tH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nH(){return new $n(this._exit||this._groups.map(y7),this._parents)}function rH(e,t,n){var r=this.enter(),o=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?a.remove():n(a),r&&o?r.merge(o).order():o}function oH(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,a=r.length,i=Math.min(o,a),s=new Array(o),c=0;c<i;++c)for(var u=n[c],d=r[c],p=u.length,m=s[c]=new Array(p),h,v=0;v<p;++v)(h=u[v]||d[v])&&(m[v]=h);for(;c<o;++c)s[c]=n[c];return new $n(s,this._parents)}function aH(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,a=r[o],i;--o>=0;)(i=r[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function iH(e){e||(e=sH);function t(p,m){return p&&m?e(p.__data__,m.__data__):!p-!m}for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a){for(var i=n[a],s=i.length,c=o[a]=new Array(s),u,d=0;d<s;++d)(u=i[d])&&(c[d]=u);c.sort(t)}return new $n(o,this._parents).order()}function sH(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function lH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cH(){return Array.from(this)}function uH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length;o<a;++o){var i=r[o];if(i)return i}return null}function dH(){let e=0;for(const t of this)++e;return e}function fH(){return!this.node()}function pH(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],a=0,i=o.length,s;a<i;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function hH(e){return function(){this.removeAttribute(e)}}function mH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gH(e,t){return function(){this.setAttribute(e,t)}}function vH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _H(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function xH(e,t){var n=Nd(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?mH:hH:typeof t=="function"?n.local?_H:yH:n.local?vH:gH)(n,t))}function _7(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wH(e){return function(){this.style.removeProperty(e)}}function bH(e,t,n){return function(){this.style.setProperty(e,t,n)}}function CH(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function SH(e,t,n){return arguments.length>1?this.each((t==null?wH:typeof t=="function"?CH:bH)(e,t,n??"")):ji(this.node(),e)}function ji(e,t){return e.style.getPropertyValue(t)||_7(e).getComputedStyle(e,null).getPropertyValue(t)}function EH(e){return function(){delete this[e]}}function jH(e,t){return function(){this[e]=t}}function $H(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function TH(e,t){return arguments.length>1?this.each((t==null?EH:typeof t=="function"?$H:jH)(e,t)):this.node()[e]}function x7(e){return e.trim().split(/^|\s+/)}function W_(e){return e.classList||new w7(e)}function w7(e){this._node=e,this._names=x7(e.getAttribute("class")||"")}w7.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function b7(e,t){for(var n=W_(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function C7(e,t){for(var n=W_(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function RH(e){return function(){b7(this,e)}}function kH(e){return function(){C7(this,e)}}function NH(e,t){return function(){(t.apply(this,arguments)?b7:C7)(this,e)}}function PH(e,t){var n=x7(e+"");if(arguments.length<2){for(var r=W_(this.node()),o=-1,a=n.length;++o<a;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?NH:t?RH:kH)(n,t))}function DH(){this.textContent=""}function AH(e){return function(){this.textContent=e}}function IH(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function MH(e){return arguments.length?this.each(e==null?DH:(typeof e=="function"?IH:AH)(e)):this.node().textContent}function OH(){this.innerHTML=""}function LH(e){return function(){this.innerHTML=e}}function zH(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function FH(e){return arguments.length?this.each(e==null?OH:(typeof e=="function"?zH:LH)(e)):this.node().innerHTML}function qH(){this.nextSibling&&this.parentNode.appendChild(this)}function BH(){return this.each(qH)}function HH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function VH(){return this.each(HH)}function UH(e){var t=typeof e=="function"?e:h7(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function GH(){return null}function WH(e,t){var n=typeof e=="function"?e:h7(e),r=t==null?GH:typeof t=="function"?t:G_(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function KH(){var e=this.parentNode;e&&e.removeChild(this)}function YH(){return this.each(KH)}function XH(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZH(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function QH(e){return this.select(e?ZH:XH)}function JH(e){return arguments.length?this.property("__data__",e):this.node().__data__}function eV(e){return function(t){e.call(this,t,this.__data__)}}function tV(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function nV(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,a;n<o;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function rV(e,t,n){return function(){var r=this.__on,o,a=eV(t);if(r){for(var i=0,s=r.length;i<s;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(o):this.__on=[o]}}function oV(e,t,n){var r=tV(e+""),o,a=r.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,d;c<u;++c)for(o=0,d=s[c];o<a;++o)if((i=r[o]).type===d.type&&i.name===d.name)return d.value}return}for(s=t?rV:nV,o=0;o<a;++o)this.each(s(r[o],t,n));return this}function S7(e,t,n){var r=_7(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function aV(e,t){return function(){return S7(this,e,t)}}function iV(e,t){return function(){return S7(this,e,t.apply(this,arguments))}}function sV(e,t){return this.each((typeof t=="function"?iV:aV)(e,t))}function*lV(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length,i;o<a;++o)(i=r[o])&&(yield i)}var E7=[null];function $n(e,t){this._groups=e,this._parents=t}function Tl(){return new $n([[document.documentElement]],E7)}function cV(){return this}$n.prototype=Tl.prototype={constructor:$n,select:IB,selectAll:zB,selectChild:HB,selectChildren:WB,filter:KB,data:eH,enter:YB,exit:nH,join:rH,merge:oH,selection:cV,order:aH,sort:iH,call:lH,nodes:cH,node:uH,size:dH,empty:fH,each:pH,attr:xH,style:SH,property:TH,classed:PH,text:MH,html:FH,raise:BH,lower:VH,append:UH,insert:WH,remove:YH,clone:QH,datum:JH,on:oV,dispatch:sV,[Symbol.iterator]:lV};function Pn(e){return typeof e=="string"?new $n([[document.querySelector(e)]],[document.documentElement]):new $n([[e]],E7)}function uV(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Zn(e,t){if(e=uV(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const dV={passive:!1},il={capture:!0,passive:!1};function Cp(e){e.stopImmediatePropagation()}function ui(e){e.preventDefault(),e.stopImmediatePropagation()}function j7(e){var t=e.document.documentElement,n=Pn(e).on("dragstart.drag",ui,il);"onselectstart"in t?n.on("selectstart.drag",ui,il):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $7(e,t){var n=e.document.documentElement,r=Pn(e).on("dragstart.drag",null);t&&(r.on("click.drag",ui,il),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const _c=e=>()=>e;function Gv(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:a,x:i,y:s,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Gv.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function fV(e){return!e.ctrlKey&&!e.button}function pV(){return this.parentNode}function hV(e,t){return t??{x:e.x,y:e.y}}function mV(){return navigator.maxTouchPoints||"ontouchstart"in this}function gV(){var e=fV,t=pV,n=hV,r=mV,o={},a=kd("start","drag","end"),i=0,s,c,u,d,p=0;function m(b){b.on("mousedown.drag",h).filter(r).on("touchstart.drag",x).on("touchmove.drag",y,dV).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,S){if(!(d||!e.call(this,b,S))){var k=w(this,t.call(this,b,S),b,S,"mouse");k&&(Pn(b.view).on("mousemove.drag",v,il).on("mouseup.drag",g,il),j7(b.view),Cp(b),u=!1,s=b.clientX,c=b.clientY,k("start",b))}}function v(b){if(ui(b),!u){var S=b.clientX-s,k=b.clientY-c;u=S*S+k*k>p}o.mouse("drag",b)}function g(b){Pn(b.view).on("mousemove.drag mouseup.drag",null),$7(b.view,u),ui(b),o.mouse("end",b)}function x(b,S){if(e.call(this,b,S)){var k=b.changedTouches,j=t.call(this,b,S),$=k.length,C,R;for(C=0;C<$;++C)(R=w(this,j,b,S,k[C].identifier,k[C]))&&(Cp(b),R("start",b,k[C]))}}function y(b){var S=b.changedTouches,k=S.length,j,$;for(j=0;j<k;++j)($=o[S[j].identifier])&&(ui(b),$("drag",b,S[j]))}function _(b){var S=b.changedTouches,k=S.length,j,$;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),j=0;j<k;++j)($=o[S[j].identifier])&&(Cp(b),$("end",b,S[j]))}function w(b,S,k,j,$,C){var R=a.copy(),D=Zn(C||k,S),q,F,A;if((A=n.call(b,new Gv("beforestart",{sourceEvent:k,target:m,identifier:$,active:i,x:D[0],y:D[1],dx:0,dy:0,dispatch:R}),j))!=null)return q=A.x-D[0]||0,F=A.y-D[1]||0,function B(E,L,I){var P=D,z;switch(E){case"start":o[$]=B,z=i++;break;case"end":delete o[$],--i;case"drag":D=Zn(I||L,S),z=i;break}R.call(E,b,new Gv(E,{sourceEvent:L,subject:A,target:m,identifier:$,active:z,x:D[0]+q,y:D[1]+F,dx:D[0]-P[0],dy:D[1]-P[1],dispatch:R}),j)}}return m.filter=function(b){return arguments.length?(e=typeof b=="function"?b:_c(!!b),m):e},m.container=function(b){return arguments.length?(t=typeof b=="function"?b:_c(b),m):t},m.subject=function(b){return arguments.length?(n=typeof b=="function"?b:_c(b),m):n},m.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:_c(!!b),m):r},m.on=function(){var b=a.on.apply(a,arguments);return b===a?m:b},m.clickDistance=function(b){return arguments.length?(p=(b=+b)*b,m):Math.sqrt(p)},m}function K_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function T7(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rl(){}var sl=.7,Au=1/sl,di="\\s*([+-]?\\d+)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vV=/^#([0-9a-f]{3,8})$/,yV=new RegExp(`^rgb\\(${di},${di},${di}\\)$`),_V=new RegExp(`^rgb\\(${_r},${_r},${_r}\\)$`),xV=new RegExp(`^rgba\\(${di},${di},${di},${ll}\\)$`),wV=new RegExp(`^rgba\\(${_r},${_r},${_r},${ll}\\)$`),bV=new RegExp(`^hsl\\(${ll},${_r},${_r}\\)$`),CV=new RegExp(`^hsla\\(${ll},${_r},${_r},${ll}\\)$`),Mb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K_(Rl,cl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ob,formatHex:Ob,formatHex8:SV,formatHsl:EV,formatRgb:Lb,toString:Lb});function Ob(){return this.rgb().formatHex()}function SV(){return this.rgb().formatHex8()}function EV(){return R7(this).formatHsl()}function Lb(){return this.rgb().formatRgb()}function cl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vV.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zb(t):n===3?new hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yV.exec(e))?new hn(t[1],t[2],t[3],1):(t=_V.exec(e))?new hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xV.exec(e))?xc(t[1],t[2],t[3],t[4]):(t=wV.exec(e))?xc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bV.exec(e))?Bb(t[1],t[2]/100,t[3]/100,1):(t=CV.exec(e))?Bb(t[1],t[2]/100,t[3]/100,t[4]):Mb.hasOwnProperty(e)?zb(Mb[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function zb(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function xc(e,t,n,r){return r<=0&&(e=t=n=NaN),new hn(e,t,n,r)}function jV(e){return e instanceof Rl||(e=cl(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function Wv(e,t,n,r){return arguments.length===1?jV(e):new hn(e,t,n,r??1)}function hn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}K_(hn,Wv,T7(Rl,{brighter(e){return e=e==null?Au:Math.pow(Au,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sl:Math.pow(sl,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(sa(this.r),sa(this.g),sa(this.b),Iu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fb,formatHex:Fb,formatHex8:$V,formatRgb:qb,toString:qb}));function Fb(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}`}function $V(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}${ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function qb(){const e=Iu(this.opacity);return`${e===1?"rgb(":"rgba("}${sa(this.r)}, ${sa(this.g)}, ${sa(this.b)}${e===1?")":`, ${e})`}`}function Iu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ta(e){return e=sa(e),(e<16?"0":"")+e.toString(16)}function Bb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Jn(e,t,n,r)}function R7(e){if(e instanceof Jn)return new Jn(e.h,e.s,e.l,e.opacity);if(e instanceof Rl||(e=cl(e)),!e)return new Jn;if(e instanceof Jn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,s=a-o,c=(a+o)/2;return s?(t===a?i=(n-r)/s+(n<r)*6:n===a?i=(r-t)/s+2:i=(t-n)/s+4,s/=c<.5?a+o:2-a-o,i*=60):s=c>0&&c<1?0:i,new Jn(i,s,c,e.opacity)}function TV(e,t,n,r){return arguments.length===1?R7(e):new Jn(e,t,n,r??1)}function Jn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}K_(Jn,TV,T7(Rl,{brighter(e){return e=e==null?Au:Math.pow(Au,e),new Jn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sl:Math.pow(sl,e),new Jn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new hn(Sp(e>=240?e-240:e+120,o,r),Sp(e,o,r),Sp(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Jn(Hb(this.h),wc(this.s),wc(this.l),Iu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Iu(this.opacity);return`${e===1?"hsl(":"hsla("}${Hb(this.h)}, ${wc(this.s)*100}%, ${wc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Hb(e){return e=(e||0)%360,e<0?e+360:e}function wc(e){return Math.max(0,Math.min(1,e||0))}function Sp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const k7=e=>()=>e;function RV(e,t){return function(n){return e+n*t}}function kV(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function NV(e){return(e=+e)==1?N7:function(t,n){return n-t?kV(t,n,e):k7(isNaN(t)?n:t)}}function N7(e,t){var n=t-e;return n?RV(e,n):k7(isNaN(e)?t:e)}const Vb=function e(t){var n=NV(t);function r(o,a){var i=n((o=Wv(o)).r,(a=Wv(a)).r),s=n(o.g,a.g),c=n(o.b,a.b),u=N7(o.opacity,a.opacity);return function(d){return o.r=i(d),o.g=s(d),o.b=c(d),o.opacity=u(d),o+""}}return r.gamma=e,r}(1);function ho(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Kv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ep=new RegExp(Kv.source,"g");function PV(e){return function(){return e}}function DV(e){return function(t){return e(t)+""}}function AV(e,t){var n=Kv.lastIndex=Ep.lastIndex=0,r,o,a,i=-1,s=[],c=[];for(e=e+"",t=t+"";(r=Kv.exec(e))&&(o=Ep.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),s[i]?s[i]+=a:s[++i]=a),(r=r[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,c.push({i,x:ho(r,o)})),n=Ep.lastIndex;return n<t.length&&(a=t.slice(n),s[i]?s[i]+=a:s[++i]=a),s.length<2?c[0]?DV(c[0].x):PV(t):(t=c.length,function(u){for(var d=0,p;d<t;++d)s[(p=c[d]).i]=p.x(u);return s.join("")})}var Ub=180/Math.PI,Yv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function P7(e,t,n,r,o,a){var i,s,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*Ub,skewX:Math.atan(c)*Ub,scaleX:i,scaleY:s}}var bc;function IV(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yv:P7(t.a,t.b,t.c,t.d,t.e,t.f)}function MV(e){return e==null||(bc||(bc=document.createElementNS("http://www.w3.org/2000/svg","g")),bc.setAttribute("transform",e),!(e=bc.transform.baseVal.consolidate()))?Yv:(e=e.matrix,P7(e.a,e.b,e.c,e.d,e.e,e.f))}function D7(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function a(u,d,p,m,h,v){if(u!==p||d!==m){var g=h.push("translate(",null,t,null,n);v.push({i:g-4,x:ho(u,p)},{i:g-2,x:ho(d,m)})}else(p||m)&&h.push("translate("+p+t+m+n)}function i(u,d,p,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:p.push(o(p)+"rotate(",null,r)-2,x:ho(u,d)})):d&&p.push(o(p)+"rotate("+d+r)}function s(u,d,p,m){u!==d?m.push({i:p.push(o(p)+"skewX(",null,r)-2,x:ho(u,d)}):d&&p.push(o(p)+"skewX("+d+r)}function c(u,d,p,m,h,v){if(u!==p||d!==m){var g=h.push(o(h)+"scale(",null,",",null,")");v.push({i:g-4,x:ho(u,p)},{i:g-2,x:ho(d,m)})}else(p!==1||m!==1)&&h.push(o(h)+"scale("+p+","+m+")")}return function(u,d){var p=[],m=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,p,m),i(u.rotate,d.rotate,p,m),s(u.skewX,d.skewX,p,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,p,m),u=d=null,function(h){for(var v=-1,g=m.length,x;++v<g;)p[(x=m[v]).i]=x.x(h);return p.join("")}}}var OV=D7(IV,"px, ","px)","deg)"),LV=D7(MV,", ",")",")"),zV=1e-12;function Gb(e){return((e=Math.exp(e))+1/e)/2}function FV(e){return((e=Math.exp(e))-1/e)/2}function qV(e){return((e=Math.exp(2*e))-1)/(e+1)}const BV=function e(t,n,r){function o(a,i){var s=a[0],c=a[1],u=a[2],d=i[0],p=i[1],m=i[2],h=d-s,v=p-c,g=h*h+v*v,x,y;if(g<zV)y=Math.log(m/u)/t,x=function(j){return[s+j*h,c+j*v,u*Math.exp(t*j*y)]};else{var _=Math.sqrt(g),w=(m*m-u*u+r*g)/(2*u*n*_),b=(m*m-u*u-r*g)/(2*m*n*_),S=Math.log(Math.sqrt(w*w+1)-w),k=Math.log(Math.sqrt(b*b+1)-b);y=(k-S)/t,x=function(j){var $=j*y,C=Gb(S),R=u/(n*_)*(C*qV(t*$+S)-FV(S));return[s+R*h,c+R*v,u*C/Gb(t*$+S)]}}return x.duration=y*1e3*t/Math.SQRT2,x}return o.rho=function(a){var i=Math.max(.001,+a),s=i*i,c=s*s;return e(i,s,c)},o}(Math.SQRT2,2,4);var $i=0,vs=0,ss=0,A7=1e3,Mu,ys,Ou=0,ma=0,Pd=0,ul=typeof performance=="object"&&performance.now?performance:Date,I7=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Y_(){return ma||(I7(HV),ma=ul.now()+Pd)}function HV(){ma=0}function Lu(){this._call=this._time=this._next=null}Lu.prototype=M7.prototype={constructor:Lu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Y_():+n)+(t==null?0:+t),!this._next&&ys!==this&&(ys?ys._next=this:Mu=this,ys=this),this._call=e,this._time=n,Xv()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xv())}};function M7(e,t,n){var r=new Lu;return r.restart(e,t,n),r}function VV(){Y_(),++$i;for(var e=Mu,t;e;)(t=ma-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$i}function Wb(){ma=(Ou=ul.now())+Pd,$i=vs=0;try{VV()}finally{$i=0,GV(),ma=0}}function UV(){var e=ul.now(),t=e-Ou;t>A7&&(Pd-=t,Ou=e)}function GV(){for(var e,t=Mu,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Mu=n);ys=e,Xv(r)}function Xv(e){if(!$i){vs&&(vs=clearTimeout(vs));var t=e-ma;t>24?(e<1/0&&(vs=setTimeout(Wb,e-ul.now()-Pd)),ss&&(ss=clearInterval(ss))):(ss||(Ou=ul.now(),ss=setInterval(UV,A7)),$i=1,I7(Wb))}}function Kb(e,t,n){var r=new Lu;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var WV=kd("start","end","cancel","interrupt"),KV=[],O7=0,Yb=1,Zv=2,Yc=3,Xb=4,Qv=5,Xc=6;function Dd(e,t,n,r,o,a){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;YV(e,n,{name:t,index:r,group:o,on:WV,tween:KV,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:O7})}function X_(e,t){var n=ir(e,t);if(n.state>O7)throw new Error("too late; already scheduled");return n}function Sr(e,t){var n=ir(e,t);if(n.state>Yc)throw new Error("too late; already running");return n}function ir(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function YV(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=M7(a,0,n.time);function a(u){n.state=Yb,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var d,p,m,h;if(n.state!==Yb)return c();for(d in r)if(h=r[d],h.name===n.name){if(h.state===Yc)return Kb(i);h.state===Xb?(h.state=Xc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[d]):+d<t&&(h.state=Xc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[d])}if(Kb(function(){n.state===Yc&&(n.state=Xb,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Zv,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Zv){for(n.state=Yc,o=new Array(m=n.tween.length),d=0,p=-1;d<m;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=h);o.length=p+1}}function s(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Qv,1),p=-1,m=o.length;++p<m;)o[p].call(e,d);n.state===Qv&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Xc,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Zc(e,t){var n=e.__transition,r,o,a=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){a=!1;continue}o=r.state>Zv&&r.state<Qv,r.state=Xc,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}a&&delete e.__transition}}function XV(e){return this.each(function(){Zc(this,e)})}function ZV(e,t){var n,r;return function(){var o=Sr(this,e),a=o.tween;if(a!==n){r=n=a;for(var i=0,s=r.length;i<s;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function QV(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var a=Sr(this,e),i=a.tween;if(i!==r){o=(r=i).slice();for(var s={name:t,value:n},c=0,u=o.length;c<u;++c)if(o[c].name===t){o[c]=s;break}c===u&&o.push(s)}a.tween=o}}function JV(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ir(this.node(),n).tween,o=0,a=r.length,i;o<a;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?ZV:QV)(n,e,t))}function Z_(e,t,n){var r=e._id;return e.each(function(){var o=Sr(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return ir(o,r).value[t]}}function L7(e,t){var n;return(typeof t=="number"?ho:t instanceof cl?Vb:(n=cl(t))?(t=n,Vb):AV)(e,t)}function eU(e){return function(){this.removeAttribute(e)}}function tU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nU(e,t,n){var r,o=n+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===r?a:a=t(r=i,n)}}function rU(e,t,n){var r,o=n+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?a:a=t(r=i,n)}}function oU(e,t,n){var r,o,a;return function(){var i,s=n(this),c;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=s+"",i===c?null:i===r&&c===o?a:(o=c,a=t(r=i,s)))}}function aU(e,t,n){var r,o,a;return function(){var i,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=s+"",i===c?null:i===r&&c===o?a:(o=c,a=t(r=i,s)))}}function iU(e,t){var n=Nd(e),r=n==="transform"?LV:L7;return this.attrTween(e,typeof t=="function"?(n.local?aU:oU)(n,r,Z_(this,"attr."+e,t)):t==null?(n.local?tU:eU)(n):(n.local?rU:nU)(n,r,t))}function sU(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function lU(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function cU(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&lU(e,a)),n}return o._value=t,o}function uU(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&sU(e,a)),n}return o._value=t,o}function dU(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Nd(e);return this.tween(n,(r.local?cU:uU)(r,t))}function fU(e,t){return function(){X_(this,e).delay=+t.apply(this,arguments)}}function pU(e,t){return t=+t,function(){X_(this,e).delay=t}}function hU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fU:pU)(t,e)):ir(this.node(),t).delay}function mU(e,t){return function(){Sr(this,e).duration=+t.apply(this,arguments)}}function gU(e,t){return t=+t,function(){Sr(this,e).duration=t}}function vU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?mU:gU)(t,e)):ir(this.node(),t).duration}function yU(e,t){if(typeof t!="function")throw new Error;return function(){Sr(this,e).ease=t}}function _U(e){var t=this._id;return arguments.length?this.each(yU(t,e)):ir(this.node(),t).ease}function xU(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Sr(this,e).ease=n}}function wU(e){if(typeof e!="function")throw new Error;return this.each(xU(this._id,e))}function bU(e){typeof e!="function"&&(e=g7(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,s=r[o]=[],c,u=0;u<i;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&s.push(c);return new Yr(r,this._parents,this._name,this._id)}function CU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),i=new Array(r),s=0;s<a;++s)for(var c=t[s],u=n[s],d=c.length,p=i[s]=new Array(d),m,h=0;h<d;++h)(m=c[h]||u[h])&&(p[h]=m);for(;s<r;++s)i[s]=t[s];return new Yr(i,this._parents,this._name,this._id)}function SU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function EU(e,t,n){var r,o,a=SU(t)?X_:Sr;return function(){var i=a(this,e),s=i.on;s!==r&&(o=(r=s).copy()).on(t,n),i.on=o}}function jU(e,t){var n=this._id;return arguments.length<2?ir(this.node(),n).on.on(e):this.each(EU(n,e,t))}function $U(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function TU(){return this.on("end.remove",$U(this._id))}function RU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=G_(e));for(var r=this._groups,o=r.length,a=new Array(o),i=0;i<o;++i)for(var s=r[i],c=s.length,u=a[i]=new Array(c),d,p,m=0;m<c;++m)(d=s[m])&&(p=e.call(d,d.__data__,m,s))&&("__data__"in d&&(p.__data__=d.__data__),u[m]=p,Dd(u[m],t,n,m,u,ir(d,n)));return new Yr(a,this._parents,t,n)}function kU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=m7(e));for(var r=this._groups,o=r.length,a=[],i=[],s=0;s<o;++s)for(var c=r[s],u=c.length,d,p=0;p<u;++p)if(d=c[p]){for(var m=e.call(d,d.__data__,p,c),h,v=ir(d,n),g=0,x=m.length;g<x;++g)(h=m[g])&&Dd(h,t,n,g,m,v);a.push(m),i.push(d)}return new Yr(a,i,t,n)}var NU=Tl.prototype.constructor;function PU(){return new NU(this._groups,this._parents)}function DU(e,t){var n,r,o;return function(){var a=ji(this,e),i=(this.style.removeProperty(e),ji(this,e));return a===i?null:a===n&&i===r?o:o=t(n=a,r=i)}}function z7(e){return function(){this.style.removeProperty(e)}}function AU(e,t,n){var r,o=n+"",a;return function(){var i=ji(this,e);return i===o?null:i===r?a:a=t(r=i,n)}}function IU(e,t,n){var r,o,a;return function(){var i=ji(this,e),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),ji(this,e))),i===c?null:i===r&&c===o?a:(o=c,a=t(r=i,s))}}function MU(e,t){var n,r,o,a="style."+t,i="end."+a,s;return function(){var c=Sr(this,e),u=c.on,d=c.value[a]==null?s||(s=z7(t)):void 0;(u!==n||o!==d)&&(r=(n=u).copy()).on(i,o=d),c.on=r}}function OU(e,t,n){var r=(e+="")=="transform"?OV:L7;return t==null?this.styleTween(e,DU(e,r)).on("end.style."+e,z7(e)):typeof t=="function"?this.styleTween(e,IU(e,r,Z_(this,"style."+e,t))).each(MU(this._id,e)):this.styleTween(e,AU(e,r,t),n).on("end.style."+e,null)}function LU(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function zU(e,t,n){var r,o;function a(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&LU(e,i,n)),r}return a._value=t,a}function FU(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,zU(e,t,n??""))}function qU(e){return function(){this.textContent=e}}function BU(e){return function(){var t=e(this);this.textContent=t??""}}function HU(e){return this.tween("text",typeof e=="function"?BU(Z_(this,"text",e)):qU(e==null?"":e+""))}function VU(e){return function(t){this.textContent=e.call(this,t)}}function UU(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&VU(o)),t}return r._value=e,r}function GU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,UU(e))}function WU(){for(var e=this._name,t=this._id,n=F7(),r=this._groups,o=r.length,a=0;a<o;++a)for(var i=r[a],s=i.length,c,u=0;u<s;++u)if(c=i[u]){var d=ir(c,t);Dd(c,e,n,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Yr(r,this._parents,e,n)}function KU(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(a,i){var s={value:i},c={value:function(){--o===0&&a()}};n.each(function(){var u=Sr(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),u.on=t}),o===0&&a()})}var YU=0;function Yr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function F7(){return++YU}var Tr=Tl.prototype;Yr.prototype={constructor:Yr,select:RU,selectAll:kU,selectChild:Tr.selectChild,selectChildren:Tr.selectChildren,filter:bU,merge:CU,selection:PU,transition:WU,call:Tr.call,nodes:Tr.nodes,node:Tr.node,size:Tr.size,empty:Tr.empty,each:Tr.each,on:jU,attr:iU,attrTween:dU,style:OU,styleTween:FU,text:HU,textTween:GU,remove:TU,tween:JV,delay:hU,duration:vU,ease:_U,easeVarying:wU,end:KU,[Symbol.iterator]:Tr[Symbol.iterator]};function XU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZU={time:null,delay:0,duration:250,ease:XU};function QU(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function JU(e){var t,n;e instanceof Yr?(t=e._id,e=e._name):(t=F7(),(n=ZU).time=Y_(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var i=r[a],s=i.length,c,u=0;u<s;++u)(c=i[u])&&Dd(c,e,t,u,i,n||QU(c,t));return new Yr(r,this._parents,e,t)}Tl.prototype.interrupt=XV;Tl.prototype.transition=JU;const Cc=e=>()=>e;function eG(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Mr(e,t,n){this.k=e,this.x=t,this.y=n}Mr.prototype={constructor:Mr,scale:function(e){return e===1?this:new Mr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Mr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qr=new Mr(1,0,0);Mr.prototype;function jp(e){e.stopImmediatePropagation()}function ls(e){e.preventDefault(),e.stopImmediatePropagation()}function tG(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function nG(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Zb(){return this.__zoom||qr}function rG(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function oG(){return navigator.maxTouchPoints||"ontouchstart"in this}function aG(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function q7(){var e=tG,t=nG,n=aG,r=rG,o=oG,a=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],s=250,c=BV,u=kd("start","zoom","end"),d,p,m,h=500,v=150,g=0,x=10;function y(A){A.property("__zoom",Zb).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",R).filter(o).on("touchstart.zoom",D).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(A,B,E,L){var I=A.selection?A.selection():A;I.property("__zoom",Zb),A!==I?S(A,B,E,L):I.interrupt().each(function(){k(this,arguments).event(L).start().zoom(null,typeof B=="function"?B.apply(this,arguments):B).end()})},y.scaleBy=function(A,B,E,L){y.scaleTo(A,function(){var I=this.__zoom.k,P=typeof B=="function"?B.apply(this,arguments):B;return I*P},E,L)},y.scaleTo=function(A,B,E,L){y.transform(A,function(){var I=t.apply(this,arguments),P=this.__zoom,z=E==null?b(I):typeof E=="function"?E.apply(this,arguments):E,H=P.invert(z),W=typeof B=="function"?B.apply(this,arguments):B;return n(w(_(P,W),z,H),I,i)},E,L)},y.translateBy=function(A,B,E,L){y.transform(A,function(){return n(this.__zoom.translate(typeof B=="function"?B.apply(this,arguments):B,typeof E=="function"?E.apply(this,arguments):E),t.apply(this,arguments),i)},null,L)},y.translateTo=function(A,B,E,L,I){y.transform(A,function(){var P=t.apply(this,arguments),z=this.__zoom,H=L==null?b(P):typeof L=="function"?L.apply(this,arguments):L;return n(qr.translate(H[0],H[1]).scale(z.k).translate(typeof B=="function"?-B.apply(this,arguments):-B,typeof E=="function"?-E.apply(this,arguments):-E),P,i)},L,I)};function _(A,B){return B=Math.max(a[0],Math.min(a[1],B)),B===A.k?A:new Mr(B,A.x,A.y)}function w(A,B,E){var L=B[0]-E[0]*A.k,I=B[1]-E[1]*A.k;return L===A.x&&I===A.y?A:new Mr(A.k,L,I)}function b(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function S(A,B,E,L){A.on("start.zoom",function(){k(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(L).end()}).tween("zoom",function(){var I=this,P=arguments,z=k(I,P).event(L),H=t.apply(I,P),W=E==null?b(H):typeof E=="function"?E.apply(I,P):E,J=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),ce=I.__zoom,fe=typeof B=="function"?B.apply(I,P):B,pe=c(ce.invert(W).concat(J/ce.k),fe.invert(W).concat(J/fe.k));return function(ie){if(ie===1)ie=fe;else{var ge=pe(ie),ve=J/ge[2];ie=new Mr(ve,W[0]-ge[0]*ve,W[1]-ge[1]*ve)}z.zoom(null,ie)}})}function k(A,B,E){return!E&&A.__zooming||new j(A,B)}function j(A,B){this.that=A,this.args=B,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,B),this.taps=0}j.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,B){return this.mouse&&A!=="mouse"&&(this.mouse[1]=B.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=B.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=B.invert(this.touch1[0])),this.that.__zoom=B,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var B=Pn(this.that).datum();u.call(A,this.that,new eG(A,{sourceEvent:this.sourceEvent,target:y,type:A,transform:this.that.__zoom,dispatch:u}),B)}};function $(A,...B){if(!e.apply(this,arguments))return;var E=k(this,B).event(A),L=this.__zoom,I=Math.max(a[0],Math.min(a[1],L.k*Math.pow(2,r.apply(this,arguments)))),P=Zn(A);if(E.wheel)(E.mouse[0][0]!==P[0]||E.mouse[0][1]!==P[1])&&(E.mouse[1]=L.invert(E.mouse[0]=P)),clearTimeout(E.wheel);else{if(L.k===I)return;E.mouse=[P,L.invert(P)],Zc(this),E.start()}ls(A),E.wheel=setTimeout(z,v),E.zoom("mouse",n(w(_(L,I),E.mouse[0],E.mouse[1]),E.extent,i));function z(){E.wheel=null,E.end()}}function C(A,...B){if(m||!e.apply(this,arguments))return;var E=A.currentTarget,L=k(this,B,!0).event(A),I=Pn(A.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",J,!0),P=Zn(A,E),z=A.clientX,H=A.clientY;j7(A.view),jp(A),L.mouse=[P,this.__zoom.invert(P)],Zc(this),L.start();function W(ce){if(ls(ce),!L.moved){var fe=ce.clientX-z,pe=ce.clientY-H;L.moved=fe*fe+pe*pe>g}L.event(ce).zoom("mouse",n(w(L.that.__zoom,L.mouse[0]=Zn(ce,E),L.mouse[1]),L.extent,i))}function J(ce){I.on("mousemove.zoom mouseup.zoom",null),$7(ce.view,L.moved),ls(ce),L.event(ce).end()}}function R(A,...B){if(e.apply(this,arguments)){var E=this.__zoom,L=Zn(A.changedTouches?A.changedTouches[0]:A,this),I=E.invert(L),P=E.k*(A.shiftKey?.5:2),z=n(w(_(E,P),L,I),t.apply(this,B),i);ls(A),s>0?Pn(this).transition().duration(s).call(S,z,L,A):Pn(this).call(y.transform,z,L,A)}}function D(A,...B){if(e.apply(this,arguments)){var E=A.touches,L=E.length,I=k(this,B,A.changedTouches.length===L).event(A),P,z,H,W;for(jp(A),z=0;z<L;++z)H=E[z],W=Zn(H,this),W=[W,this.__zoom.invert(W),H.identifier],I.touch0?!I.touch1&&I.touch0[2]!==W[2]&&(I.touch1=W,I.taps=0):(I.touch0=W,P=!0,I.taps=1+!!d);d&&(d=clearTimeout(d)),P&&(I.taps<2&&(p=W[0],d=setTimeout(function(){d=null},h)),Zc(this),I.start())}}function q(A,...B){if(this.__zooming){var E=k(this,B).event(A),L=A.changedTouches,I=L.length,P,z,H,W;for(ls(A),P=0;P<I;++P)z=L[P],H=Zn(z,this),E.touch0&&E.touch0[2]===z.identifier?E.touch0[0]=H:E.touch1&&E.touch1[2]===z.identifier&&(E.touch1[0]=H);if(z=E.that.__zoom,E.touch1){var J=E.touch0[0],ce=E.touch0[1],fe=E.touch1[0],pe=E.touch1[1],ie=(ie=fe[0]-J[0])*ie+(ie=fe[1]-J[1])*ie,ge=(ge=pe[0]-ce[0])*ge+(ge=pe[1]-ce[1])*ge;z=_(z,Math.sqrt(ie/ge)),H=[(J[0]+fe[0])/2,(J[1]+fe[1])/2],W=[(ce[0]+pe[0])/2,(ce[1]+pe[1])/2]}else if(E.touch0)H=E.touch0[0],W=E.touch0[1];else return;E.zoom("touch",n(w(z,H,W),E.extent,i))}}function F(A,...B){if(this.__zooming){var E=k(this,B).event(A),L=A.changedTouches,I=L.length,P,z;for(jp(A),m&&clearTimeout(m),m=setTimeout(function(){m=null},h),P=0;P<I;++P)z=L[P],E.touch0&&E.touch0[2]===z.identifier?delete E.touch0:E.touch1&&E.touch1[2]===z.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),E.taps===2&&(z=Zn(z,this),Math.hypot(p[0]-z[0],p[1]-z[1])<x)){var H=Pn(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return y.wheelDelta=function(A){return arguments.length?(r=typeof A=="function"?A:Cc(+A),y):r},y.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Cc(!!A),y):e},y.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:Cc(!!A),y):o},y.extent=function(A){return arguments.length?(t=typeof A=="function"?A:Cc([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),y):t},y.scaleExtent=function(A){return arguments.length?(a[0]=+A[0],a[1]=+A[1],y):[a[0],a[1]]},y.translateExtent=function(A){return arguments.length?(i[0][0]=+A[0][0],i[1][0]=+A[1][0],i[0][1]=+A[0][1],i[1][1]=+A[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(A){return arguments.length?(n=A,y):n},y.duration=function(A){return arguments.length?(s=+A,y):s},y.interpolate=function(A){return arguments.length?(c=A,y):c},y.on=function(){var A=u.on.apply(u,arguments);return A===u?y:A},y.clickDistance=function(A){return arguments.length?(g=(A=+A)*A,y):Math.sqrt(g)},y.tapDistance=function(A){return arguments.length?(x=+A,y):x},y}const Ad=f.createContext(null),iG=Ad.Provider,Xr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},B7=Xr.error001();function ut(e,t){const n=f.useContext(Ad);if(n===null)throw new Error(B7);return p7(n,e,t)}const Mt=()=>{const e=f.useContext(Ad);if(e===null)throw new Error(B7);return f.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},sG=e=>e.userSelectionActive?"none":"all";function dl({position:e,children:t,className:n,style:r,...o}){const a=ut(sG),i=`${e}`.split("-");return X.createElement("div",{className:Vt(["react-flow__panel",n,...i]),style:{...r,pointerEvents:a},...o},t)}function lG({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:X.createElement(dl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},X.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const cG=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:a={},labelBgPadding:i=[2,4],labelBgBorderRadius:s=2,children:c,className:u,...d})=>{const p=f.useRef(null),[m,h]=f.useState({x:0,y:0,width:0,height:0}),v=Vt(["react-flow__edge-textwrapper",u]);return f.useEffect(()=>{if(p.current){const g=p.current.getBBox();h({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:X.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:v,visibility:m.width?"visible":"hidden",...d},o&&X.createElement("rect",{width:m.width+2*i[0],x:-i[0],y:-i[1],height:m.height+2*i[1],className:"react-flow__edge-textbg",style:a,rx:s,ry:s}),X.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:p,style:r},n),c)};var uG=f.memo(cG);const Q_=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ti=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),J_=(e={x:0,y:0},t)=>({x:Ti(e.x,t[0][0],t[1][0]),y:Ti(e.y,t[0][1],t[1][1])}),Qb=(e,t,n)=>e<t?Ti(Math.abs(e-t),1,50)/50:e>n?-Ti(Math.abs(e-n),1,50)/50:0,H7=(e,t)=>{const n=Qb(e.x,35,t.width-35)*20,r=Qb(e.y,35,t.height-35)*20;return[n,r]},V7=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},U7=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),fl=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),G7=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Jb=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),dG=(e,t)=>G7(U7(fl(e),fl(t))),Jv=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},fG=e=>An(e.width)&&An(e.height)&&An(e.x)&&An(e.y),An=e=>!isNaN(e)&&isFinite(e),Rt=Symbol.for("internals"),W7=["Enter"," ","Escape"],pG=(e,t)=>{},hG=e=>"nativeEvent"in e;function ey(e){var o,a;const t=hG(e)?e.nativeEvent:e,n=((a=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const K7=e=>"clientX"in e,ko=(e,t)=>{var a,i;const n=K7(e),r=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,o=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},zu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},kl=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:m,interactionWidth:h=20})=>X.createElement(X.Fragment,null,X.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:p,markerStart:m}),h&&X.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),o&&An(n)&&An(r)?X.createElement(uG,{x:n,y:r,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u}):null);kl.displayName="BaseEdge";function cs(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(a=>a.id===e);o&&n(r,{...o})}}function Y7({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,a=n<e?n+o:n-o,i=Math.abs(r-t)/2,s=r<t?r+i:r-i;return[a,s,o,i]}function X7({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:a,targetControlX:i,targetControlY:s}){const c=e*.125+o*.375+i*.375+n*.125,u=t*.125+a*.375+s*.375+r*.125,d=Math.abs(c-e),p=Math.abs(u-t);return[c,u,d,p]}var ga;(function(e){e.Strict="strict",e.Loose="loose"})(ga||(ga={}));var na;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(na||(na={}));var pl;(function(e){e.Partial="partial",e.Full="full"})(pl||(pl={}));var Dr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Dr||(Dr={}));var Fu;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Fu||(Fu={}));var Re;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Re||(Re={}));function e2({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Re.Left||e===Re.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Z7({sourceX:e,sourceY:t,sourcePosition:n=Re.Bottom,targetX:r,targetY:o,targetPosition:a=Re.Top}){const[i,s]=e2({pos:n,x1:e,y1:t,x2:r,y2:o}),[c,u]=e2({pos:a,x1:r,y1:o,x2:e,y2:t}),[d,p,m,h]=X7({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:s,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${s} ${c},${u} ${r},${o}`,d,p,m,h]}const ex=f.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Re.Bottom,targetPosition:a=Re.Top,label:i,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:h,markerStart:v,interactionWidth:g})=>{const[x,y,_]=Z7({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:a});return X.createElement(kl,{path:x,labelX:y,labelY:_,label:i,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:h,markerStart:v,interactionWidth:g})});ex.displayName="SimpleBezierEdge";const t2={[Re.Left]:{x:-1,y:0},[Re.Right]:{x:1,y:0},[Re.Top]:{x:0,y:-1},[Re.Bottom]:{x:0,y:1}},mG=({source:e,sourcePosition:t=Re.Bottom,target:n})=>t===Re.Left||t===Re.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},n2=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function gG({source:e,sourcePosition:t=Re.Bottom,target:n,targetPosition:r=Re.Top,center:o,offset:a}){const i=t2[t],s=t2[r],c={x:e.x+i.x*a,y:e.y+i.y*a},u={x:n.x+s.x*a,y:n.y+s.y*a},d=mG({source:c,sourcePosition:t,target:u}),p=d.x!==0?"x":"y",m=d[p];let h=[],v,g;const x={x:0,y:0},y={x:0,y:0},[_,w,b,S]=Y7({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[p]*s[p]===-1){v=o.x||_,g=o.y||w;const j=[{x:v,y:c.y},{x:v,y:u.y}],$=[{x:c.x,y:g},{x:u.x,y:g}];i[p]===m?h=p==="x"?j:$:h=p==="x"?$:j}else{const j=[{x:c.x,y:u.y}],$=[{x:u.x,y:c.y}];if(p==="x"?h=i.x===m?$:j:h=i.y===m?j:$,t===r){const F=Math.abs(e[p]-n[p]);if(F<=a){const A=Math.min(a-1,a-F);i[p]===m?x[p]=(c[p]>e[p]?-1:1)*A:y[p]=(u[p]>n[p]?-1:1)*A}}if(t!==r){const F=p==="x"?"y":"x",A=i[p]===s[F],B=c[F]>u[F],E=c[F]<u[F];(i[p]===1&&(!A&&B||A&&E)||i[p]!==1&&(!A&&E||A&&B))&&(h=p==="x"?j:$)}const C={x:c.x+x.x,y:c.y+x.y},R={x:u.x+y.x,y:u.y+y.y},D=Math.max(Math.abs(C.x-h[0].x),Math.abs(R.x-h[0].x)),q=Math.max(Math.abs(C.y-h[0].y),Math.abs(R.y-h[0].y));D>=q?(v=(C.x+R.x)/2,g=h[0].y):(v=h[0].x,g=(C.y+R.y)/2)}return[[e,{x:c.x+x.x,y:c.y+x.y},...h,{x:u.x+y.x,y:u.y+y.y},n],v,g,b,S]}function vG(e,t,n,r){const o=Math.min(n2(e,t)/2,n2(t,n)/2,r),{x:a,y:i}=t;if(e.x===a&&a===n.x||e.y===i&&i===n.y)return`L${a} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${a+o*u},${i}Q ${a},${i} ${a},${i+o*d}`}const s=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${a},${i+o*c}Q ${a},${i} ${a+o*s},${i}`}function ty({sourceX:e,sourceY:t,sourcePosition:n=Re.Bottom,targetX:r,targetY:o,targetPosition:a=Re.Top,borderRadius:i=5,centerX:s,centerY:c,offset:u=20}){const[d,p,m,h,v]=gG({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:a,center:{x:s,y:c},offset:u});return[d.reduce((x,y,_)=>{let w="";return _>0&&_<d.length-1?w=vG(d[_-1],y,d[_+1],i):w=`${_===0?"M":"L"}${y.x} ${y.y}`,x+=w,x},""),p,m,h,v]}const Id=f.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:p=Re.Bottom,targetPosition:m=Re.Top,markerEnd:h,markerStart:v,pathOptions:g,interactionWidth:x})=>{const[y,_,w]=ty({sourceX:e,sourceY:t,sourcePosition:p,targetX:n,targetY:r,targetPosition:m,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return X.createElement(kl,{path:y,labelX:_,labelY:w,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:v,interactionWidth:x})});Id.displayName="SmoothStepEdge";const tx=f.memo(e=>{var t;return X.createElement(Id,{...e,pathOptions:f.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});tx.displayName="StepEdge";function yG({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,a,i,s]=Y7({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,a,i,s]}const nx=f.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:m,interactionWidth:h})=>{const[v,g,x]=yG({sourceX:e,sourceY:t,targetX:n,targetY:r});return X.createElement(kl,{path:v,labelX:g,labelY:x,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:m,interactionWidth:h})});nx.displayName="StraightEdge";function Sc(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function r2({pos:e,x1:t,y1:n,x2:r,y2:o,c:a}){switch(e){case Re.Left:return[t-Sc(t-r,a),n];case Re.Right:return[t+Sc(r-t,a),n];case Re.Top:return[t,n-Sc(n-o,a)];case Re.Bottom:return[t,n+Sc(o-n,a)]}}function Q7({sourceX:e,sourceY:t,sourcePosition:n=Re.Bottom,targetX:r,targetY:o,targetPosition:a=Re.Top,curvature:i=.25}){const[s,c]=r2({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[u,d]=r2({pos:a,x1:r,y1:o,x2:e,y2:t,c:i}),[p,m,h,v]=X7({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${s},${c} ${u},${d} ${r},${o}`,p,m,h,v]}const qu=f.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Re.Bottom,targetPosition:a=Re.Top,label:i,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:h,markerStart:v,pathOptions:g,interactionWidth:x})=>{const[y,_,w]=Q7({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:a,curvature:g==null?void 0:g.curvature});return X.createElement(kl,{path:y,labelX:_,labelY:w,label:i,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:h,markerStart:v,interactionWidth:x})});qu.displayName="BezierEdge";const rx=f.createContext(null),_G=rx.Provider;rx.Consumer;const xG=()=>f.useContext(rx),wG=e=>"id"in e&&"source"in e&&"target"in e,bG=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,ny=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,CG=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),SG=(e,t)=>{if(!e.source||!e.target)return t;let n;return wG(e)?n={...e}:n={...e,id:bG(e)},CG(n,t)?t:t.concat(n)},ry=({x:e,y:t},[n,r,o],a,[i,s])=>{const c={x:(e-n)/o,y:(t-r)/o};return a?{x:i*Math.round(c.x/i),y:s*Math.round(c.y/s)}:c},J7=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),la=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},Md=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:a,y:i}=la(o,t).positionAbsolute;return U7(r,fl({x:a,y:i,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return G7(n)},e9=(e,t,[n,r,o]=[0,0,1],a=!1,i=!1,s=[0,0])=>{const c={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(d=>{const{width:p,height:m,selectable:h=!0,hidden:v=!1}=d;if(i&&!h||v)return!1;const{positionAbsolute:g}=la(d,s),x={x:g.x,y:g.y,width:p||0,height:m||0},y=Jv(c,x),_=typeof p>"u"||typeof m>"u"||p===null||m===null,w=a&&y>0,b=(p||0)*(m||0);(_||w||y>=b||d.dragging)&&u.push(d)}),u},t9=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},n9=(e,t,n,r,o,a=.1)=>{const i=t/(e.width*(1+a)),s=n/(e.height*(1+a)),c=Math.min(i,s),u=Ti(c,r,o),d=e.x+e.width/2,p=e.y+e.height/2,m=t/2-d*u,h=n/2-p*u;return{x:m,y:h,zoom:u}},Yo=(e,t=0)=>e.transition().duration(t);function o2(e,t,n,r){return(t[n]||[]).reduce((o,a)=>{var i,s;return`${e.id}-${a.id}-${n}`!==r&&o.push({id:a.id||null,type:n,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+a.x+a.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+a.y+a.height/2}),o},[])}function EG(e,t,n,r,o,a){const{x:i,y:s}=ko(e),u=t.elementsFromPoint(i,s).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const g=ox(void 0,u),x=u.getAttribute("data-handleid"),y=a({nodeId:v,id:x,type:g});if(y){const _=o.find(w=>w.nodeId===v&&w.type===g&&w.id===x);return{handle:{id:x,type:g,nodeId:v,x:(_==null?void 0:_.x)||n.x,y:(_==null?void 0:_.y)||n.y},validHandleResult:y}}}}let d=[],p=1/0;if(o.forEach(v=>{const g=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(g<=r){const x=a(v);g<=p&&(g<p?d=[{handle:v,validHandleResult:x}]:g===p&&d.push({handle:v,validHandleResult:x}),p=g)}}),!d.length)return{handle:null,validHandleResult:r9()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:v})=>v.isValid),h=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:g})=>h?v.type==="target":m?g.isValid:!0)||d[0]}const jG={source:null,target:null,sourceHandle:null,targetHandle:null},r9=()=>({handleDomNode:null,isValid:!1,connection:jG,endHandle:null});function o9(e,t,n,r,o,a,i){const s=o==="target",c=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...r9(),handleDomNode:c};if(c){const d=ox(void 0,c),p=c.getAttribute("data-nodeid"),m=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),v=c.classList.contains("connectableend"),g={source:s?p:n,sourceHandle:s?m:r,target:s?n:p,targetHandle:s?r:m};u.connection=g,h&&v&&(t===ga.Strict?s&&d==="source"||!s&&d==="target":p!==n||m!==r)&&(u.endHandle={nodeId:p,handleId:m,type:d},u.isValid=a(g))}return u}function $G({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,a)=>{if(a[Rt]){const{handleBounds:i}=a[Rt];let s=[],c=[];i&&(s=o2(a,i,"source",`${t}-${n}-${r}`),c=o2(a,i,"target",`${t}-${n}-${r}`)),o.push(...s,...c)}return o},[])}function ox(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function $p(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function TG(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function a9({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:a,setState:i,isValidConnection:s,edgeUpdaterType:c,onEdgeUpdateEnd:u}){const d=V7(e.target),{connectionMode:p,domNode:m,autoPanOnConnect:h,connectionRadius:v,onConnectStart:g,panBy:x,getNodes:y,cancelConnection:_}=a();let w=0,b;const{x:S,y:k}=ko(e),j=d==null?void 0:d.elementFromPoint(S,k),$=ox(c,j),C=m==null?void 0:m.getBoundingClientRect();if(!C||!$)return;let R,D=ko(e,C),q=!1,F=null,A=!1,B=null;const E=$G({nodes:y(),nodeId:n,handleId:t,handleType:$}),L=()=>{if(!h)return;const[z,H]=H7(D,C);x({x:z,y:H}),w=requestAnimationFrame(L)};i({connectionPosition:D,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:$,connectionStartHandle:{nodeId:n,handleId:t,type:$},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:$});function I(z){const{transform:H}=a();D=ko(z,C);const{handle:W,validHandleResult:J}=EG(z,d,ry(D,H,!1,[1,1]),v,E,ce=>o9(ce,p,n,t,o?"target":"source",s,d));if(b=W,q||(L(),q=!0),B=J.handleDomNode,F=J.connection,A=J.isValid,i({connectionPosition:b&&A?J7({x:b.x,y:b.y},H):D,connectionStatus:TG(!!b,A),connectionEndHandle:J.endHandle}),!b&&!A&&!B)return $p(R);F.source!==F.target&&B&&($p(R),R=B,B.classList.add("connecting","react-flow__handle-connecting"),B.classList.toggle("valid",A),B.classList.toggle("react-flow__handle-valid",A))}function P(z){var H,W;(b||B)&&F&&A&&(r==null||r(F)),(W=(H=a()).onConnectEnd)==null||W.call(H,z),c&&(u==null||u(z)),$p(R),_(),cancelAnimationFrame(w),q=!1,A=!1,F=null,B=null,d.removeEventListener("mousemove",I),d.removeEventListener("mouseup",P),d.removeEventListener("touchmove",I),d.removeEventListener("touchend",P)}d.addEventListener("mousemove",I),d.addEventListener("mouseup",P),d.addEventListener("touchmove",I),d.addEventListener("touchend",P)}const a2=()=>!0,RG=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),kG=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:a,connectionClickStartHandle:i}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n}},i9=f.forwardRef(({type:e="source",position:t=Re.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:a=!0,id:i,onConnect:s,children:c,className:u,onMouseDown:d,onTouchStart:p,...m},h)=>{var C,R;const v=i||null,g=e==="target",x=Mt(),y=xG(),{connectOnClick:_,noPanClassName:w}=ut(RG,zt),{connecting:b,clickConnecting:S}=ut(kG(y,v,e),zt);y||(R=(C=x.getState()).onError)==null||R.call(C,"010",Xr.error010());const k=D=>{const{defaultEdgeOptions:q,onConnect:F,hasDefaultEdges:A}=x.getState(),B={...q,...D};if(A){const{edges:E,setEdges:L}=x.getState();L(SG(B,E))}F==null||F(B),s==null||s(B)},j=D=>{if(!y)return;const q=K7(D);o&&(q&&D.button===0||!q)&&a9({event:D,handleId:v,nodeId:y,onConnect:k,isTarget:g,getState:x.getState,setState:x.setState,isValidConnection:n||x.getState().isValidConnection||a2}),q?d==null||d(D):p==null||p(D)},$=D=>{const{onClickConnectStart:q,onClickConnectEnd:F,connectionClickStartHandle:A,connectionMode:B,isValidConnection:E}=x.getState();if(!y||!A&&!o)return;if(!A){q==null||q(D,{nodeId:y,handleId:v,handleType:e}),x.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:v}});return}const L=V7(D.target),I=n||E||a2,{connection:P,isValid:z}=o9({nodeId:y,id:v,type:e},B,A.nodeId,A.handleId||null,A.type,I,L);z&&k(P),F==null||F(D),x.setState({connectionClickStartHandle:null})};return X.createElement("div",{"data-handleid":v,"data-nodeid":y,"data-handlepos":t,"data-id":`${y}-${v}-${e}`,className:Vt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!g,target:g,connectable:r,connectablestart:o,connectableend:a,connecting:S,connectionindicator:r&&(o&&!b||a&&b)}]),onMouseDown:j,onTouchStart:j,onClick:_?$:void 0,ref:h,...m},c)});i9.displayName="Handle";var In=f.memo(i9);const s9=({data:e,isConnectable:t,targetPosition:n=Re.Top,sourcePosition:r=Re.Bottom})=>X.createElement(X.Fragment,null,X.createElement(In,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,X.createElement(In,{type:"source",position:r,isConnectable:t}));s9.displayName="DefaultNode";var oy=f.memo(s9);const l9=({data:e,isConnectable:t,sourcePosition:n=Re.Bottom})=>X.createElement(X.Fragment,null,e==null?void 0:e.label,X.createElement(In,{type:"source",position:n,isConnectable:t}));l9.displayName="InputNode";var c9=f.memo(l9);const u9=({data:e,isConnectable:t,targetPosition:n=Re.Top})=>X.createElement(X.Fragment,null,X.createElement(In,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);u9.displayName="OutputNode";var d9=f.memo(u9);const ax=()=>null;ax.displayName="GroupNode";const NG=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),Ec=e=>e.id;function PG(e,t){return zt(e.selectedNodes.map(Ec),t.selectedNodes.map(Ec))&&zt(e.selectedEdges.map(Ec),t.selectedEdges.map(Ec))}const f9=f.memo(({onSelectionChange:e})=>{const t=Mt(),{selectedNodes:n,selectedEdges:r}=ut(NG,PG);return f.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(a=>a(o))},[n,r,e]),null});f9.displayName="SelectionListener";const DG=e=>!!e.onSelectionChange;function AG({onSelectionChange:e}){const t=ut(DG);return e||t?X.createElement(f9,{onSelectionChange:e}):null}const IG=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function za(e,t){f.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ue(e,t,n){f.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const MG=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:a,onConnectEnd:i,onClickConnectStart:s,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:p,edgesFocusable:m,edgesUpdatable:h,elevateNodesOnSelect:v,minZoom:g,maxZoom:x,nodeExtent:y,onNodesChange:_,onEdgesChange:w,elementsSelectable:b,connectionMode:S,snapGrid:k,snapToGrid:j,translateExtent:$,connectOnClick:C,defaultEdgeOptions:R,fitView:D,fitViewOptions:q,onNodesDelete:F,onEdgesDelete:A,onNodeDrag:B,onNodeDragStart:E,onNodeDragStop:L,onSelectionDrag:I,onSelectionDragStart:P,onSelectionDragStop:z,noPanClassName:H,nodeOrigin:W,rfId:J,autoPanOnConnect:ce,autoPanOnNodeDrag:fe,onError:pe,connectionRadius:ie,isValidConnection:ge,nodeDragThreshold:ve})=>{const{setNodes:ue,setEdges:K,setDefaultNodesAndEdges:se,setMinZoom:Se,setMaxZoom:Ee,setTranslateExtent:we,setNodeExtent:T,reset:V}=ut(IG,zt),M=Mt();return f.useEffect(()=>{const G=r==null?void 0:r.map(ne=>({...ne,...R}));return se(n,G),()=>{V()}},[]),Ue("defaultEdgeOptions",R,M.setState),Ue("connectionMode",S,M.setState),Ue("onConnect",o,M.setState),Ue("onConnectStart",a,M.setState),Ue("onConnectEnd",i,M.setState),Ue("onClickConnectStart",s,M.setState),Ue("onClickConnectEnd",c,M.setState),Ue("nodesDraggable",u,M.setState),Ue("nodesConnectable",d,M.setState),Ue("nodesFocusable",p,M.setState),Ue("edgesFocusable",m,M.setState),Ue("edgesUpdatable",h,M.setState),Ue("elementsSelectable",b,M.setState),Ue("elevateNodesOnSelect",v,M.setState),Ue("snapToGrid",j,M.setState),Ue("snapGrid",k,M.setState),Ue("onNodesChange",_,M.setState),Ue("onEdgesChange",w,M.setState),Ue("connectOnClick",C,M.setState),Ue("fitViewOnInit",D,M.setState),Ue("fitViewOnInitOptions",q,M.setState),Ue("onNodesDelete",F,M.setState),Ue("onEdgesDelete",A,M.setState),Ue("onNodeDrag",B,M.setState),Ue("onNodeDragStart",E,M.setState),Ue("onNodeDragStop",L,M.setState),Ue("onSelectionDrag",I,M.setState),Ue("onSelectionDragStart",P,M.setState),Ue("onSelectionDragStop",z,M.setState),Ue("noPanClassName",H,M.setState),Ue("nodeOrigin",W,M.setState),Ue("rfId",J,M.setState),Ue("autoPanOnConnect",ce,M.setState),Ue("autoPanOnNodeDrag",fe,M.setState),Ue("onError",pe,M.setState),Ue("connectionRadius",ie,M.setState),Ue("isValidConnection",ge,M.setState),Ue("nodeDragThreshold",ve,M.setState),za(e,ue),za(t,K),za(g,Se),za(x,Ee),za($,we),za(y,T),null},i2={display:"none"},OG={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},p9="react-flow__node-desc",h9="react-flow__edge-desc",LG="react-flow__aria-live",zG=e=>e.ariaLiveMessage;function FG({rfId:e}){const t=ut(zG);return X.createElement("div",{id:`${LG}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:OG},t)}function qG({rfId:e,disableKeyboardA11y:t}){return X.createElement(X.Fragment,null,X.createElement("div",{id:`${p9}-${e}`,style:i2},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),X.createElement("div",{id:`${h9}-${e}`,style:i2},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&X.createElement(FG,{rfId:e}))}var hl=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=f.useState(!1),o=f.useRef(!1),a=f.useRef(new Set([])),[i,s]=f.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.split("+")),d=u.reduce((p,m)=>p.concat(...m),[]);return[u,d]}return[[],[]]},[e]);return f.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=h=>{if(o.current=h.ctrlKey||h.metaKey||h.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&ey(h))return!1;const g=l2(h.code,s);a.current.add(h[g]),s2(i,a.current,!1)&&(h.preventDefault(),r(!0))},p=h=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&ey(h))return!1;const g=l2(h.code,s);s2(i,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(h[g]),h.key==="Meta"&&a.current.clear(),o.current=!1},m=()=>{a.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",p),window.addEventListener("blur",m),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",p),window.removeEventListener("blur",m)}}},[e,r]),n};function s2(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function l2(e,t){return t.includes(e)?"code":"key"}function m9(e,t,n,r){var i,s;if(!e.parentNode)return n;const o=t.get(e.parentNode),a=la(o,r);return m9(o,t,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(((i=o[Rt])==null?void 0:i.z)??0)>(n.z??0)?((s=o[Rt])==null?void 0:s.z)??0:n.z??0},r)}function g9(e,t,n){e.forEach(r=>{var o;if(r.parentNode&&!e.has(r.parentNode))throw new Error(`Parent node ${r.parentNode} not found`);if(r.parentNode||n!=null&&n[r.id]){const{x:a,y:i,z:s}=m9(r,e,{...r.position,z:((o=r[Rt])==null?void 0:o.z)??0},t);r.positionAbsolute={x:a,y:i},r[Rt].z=s,n!=null&&n[r.id]&&(r[Rt].isParent=!0)}})}function Tp(e,t,n,r){const o=new Map,a={},i=r?1e3:0;return e.forEach(s=>{var m;const c=(An(s.zIndex)?s.zIndex:0)+(s.selected?i:0),u=t.get(s.id),d={...s,positionAbsolute:{x:s.position.x,y:s.position.y}};s.parentNode&&(a[s.parentNode]=!0);const p=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==s.type;Object.defineProperty(d,Rt,{enumerable:!1,value:{handleBounds:p||(m=u==null?void 0:u[Rt])==null?void 0:m.handleBounds,z:c}}),o.set(s.id,d)}),g9(o,n,a),o}function v9(e,t={}){const{getNodes:n,width:r,height:o,minZoom:a,maxZoom:i,d3Zoom:s,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:p}=e(),m=t.initial&&!u&&d;if(s&&c&&(m||!t.initial)){const v=n().filter(x=>{var _;const y=t.includeHiddenNodes?x.width&&x.height:!x.hidden;return(_=t.nodes)!=null&&_.length?y&&t.nodes.some(w=>w.id===x.id):y}),g=v.every(x=>x.width&&x.height);if(v.length>0&&g){const x=Md(v,p),{x:y,y:_,zoom:w}=n9(x,r,o,t.minZoom??a,t.maxZoom??i,t.padding??.1),b=qr.translate(y,_).scale(w);return typeof t.duration=="number"&&t.duration>0?s.transform(Yo(c,t.duration),b):s.transform(c,b),!0}}return!1}function BG(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Rt]:r[Rt],selected:n.selected})}),new Map(t)}function HG(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function jc({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:a,onNodesChange:i,onEdgesChange:s,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:BG(e,o)}),i==null||i(e)),t!=null&&t.length&&(u&&r({edges:HG(t,a)}),s==null||s(t))}const Fa=()=>{},VG={zoomIn:Fa,zoomOut:Fa,zoomTo:Fa,getZoom:()=>1,setViewport:Fa,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Fa,fitBounds:Fa,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},UG=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),GG=()=>{const e=Mt(),{d3Zoom:t,d3Selection:n}=ut(UG,zt);return f.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Yo(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Yo(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,a)=>t.scaleTo(Yo(n,a==null?void 0:a.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,a)=>{const[i,s,c]=e.getState().transform,u=qr.translate(o.x??i,o.y??s).scale(o.zoom??c);t.transform(Yo(n,a==null?void 0:a.duration),u)},getViewport:()=>{const[o,a,i]=e.getState().transform;return{x:o,y:a,zoom:i}},fitView:o=>v9(e.getState,o),setCenter:(o,a,i)=>{const{width:s,height:c,maxZoom:u}=e.getState(),d=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,p=s/2-o*d,m=c/2-a*d,h=qr.translate(p,m).scale(d);t.transform(Yo(n,i==null?void 0:i.duration),h)},fitBounds:(o,a)=>{const{width:i,height:s,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:p,zoom:m}=n9(o,i,s,c,u,(a==null?void 0:a.padding)??.1),h=qr.translate(d,p).scale(m);t.transform(Yo(n,a==null?void 0:a.duration),h)},project:o=>{const{transform:a,snapToGrid:i,snapGrid:s}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ry(o,a,i,s)},screenToFlowPosition:o=>{const{transform:a,snapToGrid:i,snapGrid:s,domNode:c}=e.getState();if(!c)return o;const{x:u,y:d}=c.getBoundingClientRect(),p={x:o.x-u,y:o.y-d};return ry(p,a,i,s)},flowToScreenPosition:o=>{const{transform:a,domNode:i}=e.getState();if(!i)return o;const{x:s,y:c}=i.getBoundingClientRect(),u=J7(o,a);return{x:u.x+s,y:u.y+c}},viewportInitialized:!0}:VG,[t,n])};function ix(){const e=GG(),t=Mt(),n=f.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=f.useCallback(g=>t.getState().nodeInternals.get(g),[]),o=f.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(x=>({...x}))},[]),a=f.useCallback(g=>{const{edges:x=[]}=t.getState();return x.find(y=>y.id===g)},[]),i=f.useCallback(g=>{const{getNodes:x,setNodes:y,hasDefaultNodes:_,onNodesChange:w}=t.getState(),b=x(),S=typeof g=="function"?g(b):g;if(_)y(S);else if(w){const k=S.length===0?b.map(j=>({type:"remove",id:j.id})):S.map(j=>({item:j,type:"reset"}));w(k)}},[]),s=f.useCallback(g=>{const{edges:x=[],setEdges:y,hasDefaultEdges:_,onEdgesChange:w}=t.getState(),b=typeof g=="function"?g(x):g;if(_)y(b);else if(w){const S=b.length===0?x.map(k=>({type:"remove",id:k.id})):b.map(k=>({item:k,type:"reset"}));w(S)}},[]),c=f.useCallback(g=>{const x=Array.isArray(g)?g:[g],{getNodes:y,setNodes:_,hasDefaultNodes:w,onNodesChange:b}=t.getState();if(w){const k=[...y(),...x];_(k)}else if(b){const S=x.map(k=>({item:k,type:"add"}));b(S)}},[]),u=f.useCallback(g=>{const x=Array.isArray(g)?g:[g],{edges:y=[],setEdges:_,hasDefaultEdges:w,onEdgesChange:b}=t.getState();if(w)_([...y,...x]);else if(b){const S=x.map(k=>({item:k,type:"add"}));b(S)}},[]),d=f.useCallback(()=>{const{getNodes:g,edges:x=[],transform:y}=t.getState(),[_,w,b]=y;return{nodes:g().map(S=>({...S})),edges:x.map(S=>({...S})),viewport:{x:_,y:w,zoom:b}}},[]),p=f.useCallback(({nodes:g,edges:x})=>{const{nodeInternals:y,getNodes:_,edges:w,hasDefaultNodes:b,hasDefaultEdges:S,onNodesDelete:k,onEdgesDelete:j,onNodesChange:$,onEdgesChange:C}=t.getState(),R=(g||[]).map(B=>B.id),D=(x||[]).map(B=>B.id),q=_().reduce((B,E)=>{const L=!R.includes(E.id)&&E.parentNode&&B.find(P=>P.id===E.parentNode);return(typeof E.deletable=="boolean"?E.deletable:!0)&&(R.includes(E.id)||L)&&B.push(E),B},[]),F=w.filter(B=>typeof B.deletable=="boolean"?B.deletable:!0),A=F.filter(B=>D.includes(B.id));if(q||A){const B=t9(q,F),E=[...A,...B],L=E.reduce((I,P)=>(I.includes(P.id)||I.push(P.id),I),[]);if((S||b)&&(S&&t.setState({edges:w.filter(I=>!L.includes(I.id))}),b&&(q.forEach(I=>{y.delete(I.id)}),t.setState({nodeInternals:new Map(y)}))),L.length>0&&(j==null||j(E),C&&C(L.map(I=>({id:I,type:"remove"})))),q.length>0&&(k==null||k(q),$)){const I=q.map(P=>({id:P.id,type:"remove"}));$(I)}}},[]),m=f.useCallback(g=>{const x=fG(g),y=x?null:t.getState().nodeInternals.get(g.id);return!x&&!y?[null,null,x]:[x?g:Jb(y),y,x]},[]),h=f.useCallback((g,x=!0,y)=>{const[_,w,b]=m(g);return _?(y||t.getState().getNodes()).filter(S=>{if(!b&&(S.id===w.id||!S.positionAbsolute))return!1;const k=Jb(S),j=Jv(k,_);return x&&j>0||j>=_.width*_.height}):[]},[]),v=f.useCallback((g,x,y=!0)=>{const[_]=m(g);if(!_)return!1;const w=Jv(_,x);return y&&w>0||w>=_.width*_.height},[]);return f.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:a,setNodes:i,setEdges:s,addNodes:c,addEdges:u,toObject:d,deleteElements:p,getIntersectingNodes:h,isNodeIntersecting:v}),[e,n,r,o,a,i,s,c,u,d,p,h,v])}const WG={actInsideInputWithModifier:!1};var KG=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Mt(),{deleteElements:r}=ix(),o=hl(e,WG),a=hl(t);f.useEffect(()=>{if(o){const{edges:i,getNodes:s}=n.getState(),c=s().filter(d=>d.selected),u=i.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),f.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function YG(e){const t=Mt();f.useEffect(()=>{let n;const r=()=>{var a,i;if(!e.current)return;const o=Q_(e.current);(o.height===0||o.width===0)&&((i=(a=t.getState()).onError)==null||i.call(a,"004",Xr.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const sx={position:"absolute",width:"100%",height:"100%",top:0,left:0},XG=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,$c=e=>({x:e.x,y:e.y,zoom:e.k}),qa=(e,t)=>e.target.closest(`.${t}`),c2=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),u2=e=>{const t=e.ctrlKey&&zu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},ZG=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),QG=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:a=!0,panOnScroll:i=!1,panOnScrollSpeed:s=.5,panOnScrollMode:c=na.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:p=!0,defaultViewport:m,translateExtent:h,minZoom:v,maxZoom:g,zoomActivationKeyCode:x,preventScrolling:y=!0,children:_,noWheelClassName:w,noPanClassName:b})=>{const S=f.useRef(),k=Mt(),j=f.useRef(!1),$=f.useRef(!1),C=f.useRef(null),R=f.useRef({x:0,y:0,zoom:0}),{d3Zoom:D,d3Selection:q,d3ZoomHandler:F,userSelectionActive:A}=ut(ZG,zt),B=hl(x),E=f.useRef(0),L=f.useRef(!1),I=f.useRef();return YG(C),f.useEffect(()=>{if(C.current){const P=C.current.getBoundingClientRect(),z=q7().scaleExtent([v,g]).translateExtent(h),H=Pn(C.current).call(z),W=qr.translate(m.x,m.y).scale(Ti(m.zoom,v,g)),J=[[0,0],[P.width,P.height]],ce=z.constrain()(W,J,h);z.transform(H,ce),z.wheelDelta(u2),k.setState({d3Zoom:z,d3Selection:H,d3ZoomHandler:H.on("wheel.zoom"),transform:[ce.x,ce.y,ce.k],domNode:C.current.closest(".react-flow")})}},[]),f.useEffect(()=>{q&&D&&(i&&!B&&!A?q.on("wheel.zoom",P=>{if(qa(P,w))return!1;P.preventDefault(),P.stopImmediatePropagation();const z=q.property("__zoom").k||1,H=zu();if(P.ctrlKey&&a&&H){const ve=Zn(P),ue=u2(P),K=z*Math.pow(2,ue);D.scaleTo(q,K,ve,P);return}const W=P.deltaMode===1?20:1;let J=c===na.Vertical?0:P.deltaX*W,ce=c===na.Horizontal?0:P.deltaY*W;!H&&P.shiftKey&&c!==na.Vertical&&(J=P.deltaY*W,ce=0),D.translateBy(q,-(J/z)*s,-(ce/z)*s,{internal:!0});const fe=$c(q.property("__zoom")),{onViewportChangeStart:pe,onViewportChange:ie,onViewportChangeEnd:ge}=k.getState();clearTimeout(I.current),L.current||(L.current=!0,t==null||t(P,fe),pe==null||pe(fe)),L.current&&(e==null||e(P,fe),ie==null||ie(fe),I.current=setTimeout(()=>{n==null||n(P,fe),ge==null||ge(fe),L.current=!1},150))},{passive:!1}):typeof F<"u"&&q.on("wheel.zoom",function(P,z){if(!y||qa(P,w))return null;P.preventDefault(),F.call(this,P,z)},{passive:!1}))},[A,i,c,q,D,F,B,a,y,w,t,e,n]),f.useEffect(()=>{D&&D.on("start",P=>{var W,J;if(!P.sourceEvent||P.sourceEvent.internal)return null;E.current=(W=P.sourceEvent)==null?void 0:W.button;const{onViewportChangeStart:z}=k.getState(),H=$c(P.transform);j.current=!0,R.current=H,((J=P.sourceEvent)==null?void 0:J.type)==="mousedown"&&k.setState({paneDragging:!0}),z==null||z(H),t==null||t(P.sourceEvent,H)})},[D,t]),f.useEffect(()=>{D&&(A&&!j.current?D.on("zoom",null):A||D.on("zoom",P=>{var H;const{onViewportChange:z}=k.getState();if(k.setState({transform:[P.transform.x,P.transform.y,P.transform.k]}),$.current=!!(r&&c2(p,E.current??0)),(e||z)&&!((H=P.sourceEvent)!=null&&H.internal)){const W=$c(P.transform);z==null||z(W),e==null||e(P.sourceEvent,W)}}))},[A,D,e,p,r]),f.useEffect(()=>{D&&D.on("end",P=>{if(!P.sourceEvent||P.sourceEvent.internal)return null;const{onViewportChangeEnd:z}=k.getState();if(j.current=!1,k.setState({paneDragging:!1}),r&&c2(p,E.current??0)&&!$.current&&r(P.sourceEvent),$.current=!1,(n||z)&&XG(R.current,P.transform)){const H=$c(P.transform);R.current=H,clearTimeout(S.current),S.current=setTimeout(()=>{z==null||z(H),n==null||n(P.sourceEvent,H)},i?150:0)}})},[D,i,p,n,r]),f.useEffect(()=>{D&&D.filter(P=>{const z=B||o,H=a&&P.ctrlKey;if((p===!0||Array.isArray(p)&&p.includes(1))&&P.button===1&&P.type==="mousedown"&&(qa(P,"react-flow__node")||qa(P,"react-flow__edge")))return!0;if(!p&&!z&&!i&&!u&&!a||A||!u&&P.type==="dblclick"||qa(P,w)&&P.type==="wheel"||qa(P,b)&&(P.type!=="wheel"||i&&P.type==="wheel"&&!B)||!a&&P.ctrlKey&&P.type==="wheel"||!z&&!i&&!H&&P.type==="wheel"||!p&&(P.type==="mousedown"||P.type==="touchstart")||Array.isArray(p)&&!p.includes(P.button)&&(P.type==="mousedown"||P.type==="touchstart"))return!1;const W=Array.isArray(p)&&p.includes(P.button)||!P.button||P.button<=1;return(!P.ctrlKey||P.type==="wheel")&&W})},[A,D,o,a,i,u,p,d,B]),X.createElement("div",{className:"react-flow__renderer",ref:C,style:sx},_)},JG=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eW(){const{userSelectionActive:e,userSelectionRect:t}=ut(JG,zt);return e&&t?X.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function d2(e,t){const n=e.find(r=>r.id===t.parentNode);if(n){const r=t.position.x+t.width-n.width,o=t.position.y+t.height-n.height;if(r>0||o>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,r>0&&(n.style.width+=r),o>0&&(n.style.height+=o),t.position.x<0){const a=Math.abs(t.position.x);n.position.x=n.position.x-a,n.style.width+=a,t.position.x=0}if(t.position.y<0){const a=Math.abs(t.position.y);n.position.y=n.position.y-a,n.style.height+=a,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function y9(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const a=e.filter(s=>s.id===o.id);if(a.length===0)return r.push(o),r;const i={...o};for(const s of a)if(s)switch(s.type){case"select":{i.selected=s.selected;break}case"position":{typeof s.position<"u"&&(i.position=s.position),typeof s.positionAbsolute<"u"&&(i.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(i.dragging=s.dragging),i.expandParent&&d2(r,i);break}case"dimensions":{typeof s.dimensions<"u"&&(i.width=s.dimensions.width,i.height=s.dimensions.height),typeof s.updateStyle<"u"&&(i.style={...i.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(i.resizing=s.resizing),i.expandParent&&d2(r,i);break}case"remove":return r}return r.push(i),r},n)}function _9(e,t){return y9(e,t)}function tW(e,t){return y9(e,t)}const mo=(e,t)=>({id:e,type:"select",selected:t});function ni(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(mo(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(mo(r.id,!1))),n},[])}const Rp=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},nW=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),x9=f.memo(({isSelecting:e,selectionMode:t=pl.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:i,onPaneScroll:s,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:p})=>{const m=f.useRef(null),h=Mt(),v=f.useRef(0),g=f.useRef(0),x=f.useRef(),{userSelectionActive:y,elementsSelectable:_,dragging:w}=ut(nW,zt),b=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,g.current=0},S=F=>{a==null||a(F),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},k=F=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){F.preventDefault();return}i==null||i(F)},j=s?F=>s(F):void 0,$=F=>{const{resetSelectedElements:A,domNode:B}=h.getState();if(x.current=B==null?void 0:B.getBoundingClientRect(),!_||!e||F.button!==0||F.target!==m.current||!x.current)return;const{x:E,y:L}=ko(F,x.current);A(),h.setState({userSelectionRect:{width:0,height:0,startX:E,startY:L,x:E,y:L}}),r==null||r(F)},C=F=>{const{userSelectionRect:A,nodeInternals:B,edges:E,transform:L,onNodesChange:I,onEdgesChange:P,nodeOrigin:z,getNodes:H}=h.getState();if(!e||!x.current||!A)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const W=ko(F,x.current),J=A.startX??0,ce=A.startY??0,fe={...A,x:W.x<J?W.x:J,y:W.y<ce?W.y:ce,width:Math.abs(W.x-J),height:Math.abs(W.y-ce)},pe=H(),ie=e9(B,fe,L,t===pl.Partial,!0,z),ge=t9(ie,E).map(ue=>ue.id),ve=ie.map(ue=>ue.id);if(v.current!==ve.length){v.current=ve.length;const ue=ni(pe,ve);ue.length&&(I==null||I(ue))}if(g.current!==ge.length){g.current=ge.length;const ue=ni(E,ge);ue.length&&(P==null||P(ue))}h.setState({userSelectionRect:fe})},R=F=>{if(F.button!==0)return;const{userSelectionRect:A}=h.getState();!y&&A&&F.target===m.current&&(S==null||S(F)),h.setState({nodesSelectionActive:v.current>0}),b(),o==null||o(F)},D=F=>{y&&(h.setState({nodesSelectionActive:v.current>0}),o==null||o(F)),b()},q=_&&(e||y);return X.createElement("div",{className:Vt(["react-flow__pane",{dragging:w,selection:e}]),onClick:q?void 0:Rp(S,m),onContextMenu:Rp(k,m),onWheel:Rp(j,m),onMouseEnter:q?void 0:c,onMouseDown:q?$:void 0,onMouseMove:q?C:u,onMouseUp:q?R:void 0,onMouseLeave:q?D:d,ref:m,style:sx},p,X.createElement(eW,null))});x9.displayName="Pane";function w9(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:w9(n,t):!1}function f2(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function rW(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||!w9(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var a,i;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=o.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((i=o.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,width:o.width,height:o.height,expandParent:o.expandParent}})}function oW(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function b9(e,t,n,r,o=[0,0],a){const i=oW(e,e.extent||r);let s=i;if(e.extent==="parent"&&!e.expandParent)if(e.parentNode&&e.width&&e.height){const d=n.get(e.parentNode),{x:p,y:m}=la(d,o).positionAbsolute;s=d&&An(p)&&An(m)&&An(d.width)&&An(d.height)?[[p+e.width*o[0],m+e.height*o[1]],[p+d.width-e.width+e.width*o[0],m+d.height-e.height+e.height*o[1]]]:s}else a==null||a("005",Xr.error005()),s=i;else if(e.extent&&e.parentNode&&e.extent!=="parent"){const d=n.get(e.parentNode),{x:p,y:m}=la(d,o).positionAbsolute;s=[[e.extent[0][0]+p,e.extent[0][1]+m],[e.extent[1][0]+p,e.extent[1][1]+m]]}let c={x:0,y:0};if(e.parentNode){const d=n.get(e.parentNode);c=la(d,o).positionAbsolute}const u=s&&s!=="parent"?J_(t,s):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function kp({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const p2=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const a=Array.from(o),i=t.getBoundingClientRect(),s={x:i.width*r[0],y:i.height*r[1]};return a.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-i.left-s.x)/n,y:(u.top-i.top-s.y)/n,...Q_(c)}})};function us(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function ay({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:i,nodeInternals:s,onError:c}=t.getState(),u=s.get(e);if(!u){c==null||c("012",Xr.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):o([e])}function aW(){const e=Mt();return f.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:a}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,c={x:(i-r[0])/r[2],y:(s-r[1])/r[2]};return{xSnapped:a?o[0]*Math.round(c.x/o[0]):c.x,ySnapped:a?o[1]*Math.round(c.y/o[1]):c.y,...c}},[])}function Np(e){return(t,n,r)=>e==null?void 0:e(t,r)}function C9({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:a,selectNodesOnDrag:i}){const s=Mt(),[c,u]=f.useState(!1),d=f.useRef([]),p=f.useRef({x:null,y:null}),m=f.useRef(0),h=f.useRef(null),v=f.useRef({x:0,y:0}),g=f.useRef(null),x=f.useRef(!1),y=f.useRef(!1),_=aW();return f.useEffect(()=>{if(e!=null&&e.current){const w=Pn(e.current),b=({x:j,y:$})=>{const{nodeInternals:C,onNodeDrag:R,onSelectionDrag:D,updateNodePositions:q,nodeExtent:F,snapGrid:A,snapToGrid:B,nodeOrigin:E,onError:L}=s.getState();p.current={x:j,y:$};let I=!1,P={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&F){const H=Md(d.current,E);P=fl(H)}if(d.current=d.current.map(H=>{const W={x:j-H.distance.x,y:$-H.distance.y};B&&(W.x=A[0]*Math.round(W.x/A[0]),W.y=A[1]*Math.round(W.y/A[1]));const J=[[F[0][0],F[0][1]],[F[1][0],F[1][1]]];d.current.length>1&&F&&!H.extent&&(J[0][0]=H.positionAbsolute.x-P.x+F[0][0],J[1][0]=H.positionAbsolute.x+(H.width??0)-P.x2+F[1][0],J[0][1]=H.positionAbsolute.y-P.y+F[0][1],J[1][1]=H.positionAbsolute.y+(H.height??0)-P.y2+F[1][1]);const ce=b9(H,W,C,J,E,L);return I=I||H.position.x!==ce.position.x||H.position.y!==ce.position.y,H.position=ce.position,H.positionAbsolute=ce.positionAbsolute,H}),!I)return;q(d.current,!0,!0),u(!0);const z=o?R:Np(D);if(z&&g.current){const[H,W]=kp({nodeId:o,dragItems:d.current,nodeInternals:C});z(g.current,H,W)}},S=()=>{if(!h.current)return;const[j,$]=H7(v.current,h.current);if(j!==0||$!==0){const{transform:C,panBy:R}=s.getState();p.current.x=(p.current.x??0)-j/C[2],p.current.y=(p.current.y??0)-$/C[2],R({x:j,y:$})&&b(p.current)}m.current=requestAnimationFrame(S)},k=j=>{var E;const{nodeInternals:$,multiSelectionActive:C,nodesDraggable:R,unselectNodesAndEdges:D,onNodeDragStart:q,onSelectionDragStart:F}=s.getState();y.current=!0;const A=o?q:Np(F);(!i||!a)&&!C&&o&&((E=$.get(o))!=null&&E.selected||D()),o&&a&&i&&ay({id:o,store:s,nodeRef:e});const B=_(j);if(p.current=B,d.current=rW($,R,B,o),A&&d.current){const[L,I]=kp({nodeId:o,dragItems:d.current,nodeInternals:$});A(j.sourceEvent,L,I)}};if(t)w.on(".drag",null);else{const j=gV().on("start",$=>{const{domNode:C,nodeDragThreshold:R}=s.getState();R===0&&k($);const D=_($);p.current=D,h.current=(C==null?void 0:C.getBoundingClientRect())||null,v.current=ko($.sourceEvent,h.current)}).on("drag",$=>{var q,F;const C=_($),{autoPanOnNodeDrag:R,nodeDragThreshold:D}=s.getState();if(!x.current&&y.current&&R&&(x.current=!0,S()),!y.current){const A=C.xSnapped-(((q=p==null?void 0:p.current)==null?void 0:q.x)??0),B=C.ySnapped-(((F=p==null?void 0:p.current)==null?void 0:F.y)??0);Math.sqrt(A*A+B*B)>D&&k($)}(p.current.x!==C.xSnapped||p.current.y!==C.ySnapped)&&d.current&&y.current&&(g.current=$.sourceEvent,v.current=ko($.sourceEvent,h.current),b(C))}).on("end",$=>{if(y.current&&(u(!1),x.current=!1,y.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:C,nodeInternals:R,onNodeDragStop:D,onSelectionDragStop:q}=s.getState(),F=o?D:Np(q);if(C(d.current,!1,!1),F){const[A,B]=kp({nodeId:o,dragItems:d.current,nodeInternals:R});F($.sourceEvent,A,B)}}}).filter($=>{const C=$.target;return!$.button&&(!n||!f2(C,`.${n}`,e))&&(!r||f2(C,r,e))});return w.call(j),()=>{w.on(".drag",null)}}}},[e,t,n,r,a,s,o,i,_]),c}function S9(){const e=Mt();return f.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:a,getNodes:i,snapToGrid:s,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),p=i().filter(_=>_.selected&&(_.draggable||d&&typeof _.draggable>"u")),m=s?c[0]:5,h=s?c[1]:5,v=n.isShiftPressed?4:1,g=n.x*m*v,x=n.y*h*v,y=p.map(_=>{if(_.positionAbsolute){const w={x:_.positionAbsolute.x+g,y:_.positionAbsolute.y+x};s&&(w.x=c[0]*Math.round(w.x/c[0]),w.y=c[1]*Math.round(w.y/c[1]));const{positionAbsolute:b,position:S}=b9(_,w,r,o,void 0,u);_.position=S,_.positionAbsolute=b}return _});a(y,!0,!1)},[])}const fi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ds=e=>{const t=({id:n,type:r,data:o,xPos:a,yPos:i,xPosOrigin:s,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:p,onMouseMove:m,onMouseLeave:h,onContextMenu:v,onDoubleClick:g,style:x,className:y,isDraggable:_,isSelectable:w,isConnectable:b,isFocusable:S,selectNodesOnDrag:k,sourcePosition:j,targetPosition:$,hidden:C,resizeObserver:R,dragHandle:D,zIndex:q,isParent:F,noDragClassName:A,noPanClassName:B,initialized:E,disableKeyboardA11y:L,ariaLabel:I,rfId:P,hasHandleBounds:z})=>{const H=Mt(),W=f.useRef(null),J=f.useRef(j),ce=f.useRef($),fe=f.useRef(r),pe=w||_||d||p||m||h,ie=S9(),ge=us(n,H.getState,p),ve=us(n,H.getState,m),ue=us(n,H.getState,h),K=us(n,H.getState,v),se=us(n,H.getState,g),Se=T=>{const{nodeDragThreshold:V}=H.getState();if(w&&(!k||!_||V>0)&&ay({id:n,store:H,nodeRef:W}),d){const M=H.getState().nodeInternals.get(n);M&&d(T,{...M})}},Ee=T=>{if(!ey(T))if(W7.includes(T.key)&&w){const V=T.key==="Escape";ay({id:n,store:H,unselect:V,nodeRef:W})}else!L&&_&&u&&Object.prototype.hasOwnProperty.call(fi,T.key)&&(H.setState({ariaLiveMessage:`Moved selected node ${T.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~i}`}),ie({x:fi[T.key].x,y:fi[T.key].y,isShiftPressed:T.shiftKey}))};f.useEffect(()=>()=>{W.current&&(R==null||R.unobserve(W.current))},[]),f.useEffect(()=>{if(W.current&&!C){const T=W.current;(!E||!z)&&(R==null||R.unobserve(T),R==null||R.observe(T))}},[C,E,z]),f.useEffect(()=>{const T=fe.current!==r,V=J.current!==j,M=ce.current!==$;W.current&&(T||V||M)&&(T&&(fe.current=r),V&&(J.current=j),M&&(ce.current=$),H.getState().updateNodeDimensions([{id:n,nodeElement:W.current,forceUpdate:!0}]))},[n,r,j,$]);const we=C9({nodeRef:W,disabled:C||!_,noDragClassName:A,handleSelector:D,nodeId:n,isSelectable:w,selectNodesOnDrag:k});return C?null:X.createElement("div",{className:Vt(["react-flow__node",`react-flow__node-${r}`,{[B]:_},y,{selected:u,selectable:w,parent:F,dragging:we}]),ref:W,style:{zIndex:q,transform:`translate(${s}px,${c}px)`,pointerEvents:pe?"all":"none",visibility:E?"visible":"hidden",...x},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ge,onMouseMove:ve,onMouseLeave:ue,onContextMenu:K,onClick:Se,onDoubleClick:se,onKeyDown:S?Ee:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":L?void 0:`${p9}-${P}`,"aria-label":I},X.createElement(_G,{value:n},X.createElement(e,{id:n,data:o,type:r,xPos:a,yPos:i,selected:u,isConnectable:b,sourcePosition:j,targetPosition:$,dragging:we,dragHandle:D,zIndex:q})))};return t.displayName="NodeWrapper",f.memo(t)};const iW=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Md(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function sW({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Mt(),{width:o,height:a,x:i,y:s,transformString:c,userSelectionActive:u}=ut(iW,zt),d=S9(),p=f.useRef(null);if(f.useEffect(()=>{var v;n||(v=p.current)==null||v.focus({preventScroll:!0})},[n]),C9({nodeRef:p}),u||!o||!a)return null;const m=e?v=>{const g=r.getState().getNodes().filter(x=>x.selected);e(v,g)}:void 0,h=v=>{Object.prototype.hasOwnProperty.call(fi,v.key)&&d({x:fi[v.key].x,y:fi[v.key].y,isShiftPressed:v.shiftKey})};return X.createElement("div",{className:Vt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},X.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:o,height:a,top:s,left:i}}))}var lW=f.memo(sW);const cW=e=>e.nodesSelectionActive,E9=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:i,deleteKeyCode:s,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:p,selectionOnDrag:m,selectionMode:h,onSelectionStart:v,onSelectionEnd:g,multiSelectionKeyCode:x,panActivationKeyCode:y,zoomActivationKeyCode:_,elementsSelectable:w,zoomOnScroll:b,zoomOnPinch:S,panOnScroll:k,panOnScrollSpeed:j,panOnScrollMode:$,zoomOnDoubleClick:C,panOnDrag:R,defaultViewport:D,translateExtent:q,minZoom:F,maxZoom:A,preventScrolling:B,onSelectionContextMenu:E,noWheelClassName:L,noPanClassName:I,disableKeyboardA11y:P})=>{const z=ut(cW),H=hl(p),W=hl(y),J=W||R,ce=W||k,fe=H||m&&J!==!0;return KG({deleteKeyCode:s,multiSelectionKeyCode:x}),X.createElement(QG,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:w,zoomOnScroll:b,zoomOnPinch:S,panOnScroll:ce,panOnScrollSpeed:j,panOnScrollMode:$,zoomOnDoubleClick:C,panOnDrag:!H&&J,defaultViewport:D,translateExtent:q,minZoom:F,maxZoom:A,zoomActivationKeyCode:_,preventScrolling:B,noWheelClassName:L,noPanClassName:I},X.createElement(x9,{onSelectionStart:v,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:i,panOnDrag:J,isSelecting:!!fe,selectionMode:h},e,z&&X.createElement(lW,{onSelectionContextMenu:E,noPanClassName:I,disableKeyboardA11y:P})))};E9.displayName="FlowRenderer";var uW=f.memo(E9);function dW(e){return ut(f.useCallback(n=>e?e9(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function fW(e){const t={input:ds(e.input||c9),default:ds(e.default||oy),output:ds(e.output||d9),group:ds(e.group||ax)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,a)=>(o[a]=ds(e[a]||oy),o),n);return{...t,...r}}const pW=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},hW=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),j9=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:a,onError:i}=ut(hW,zt),s=dW(e.onlyRenderVisibleElements),c=f.useRef(),u=f.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(p=>{const m=p.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));a(m)});return c.current=d,d},[]);return f.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),X.createElement("div",{className:"react-flow__nodes",style:sx},s.map(d=>{var S,k,j;let p=d.type||"default";e.nodeTypes[p]||(i==null||i("003",Xr.error003(p)),p="default");const m=e.nodeTypes[p]||e.nodeTypes.default,h=!!(d.draggable||t&&typeof d.draggable>"u"),v=!!(d.selectable||o&&typeof d.selectable>"u"),g=!!(d.connectable||n&&typeof d.connectable>"u"),x=!!(d.focusable||r&&typeof d.focusable>"u"),y=e.nodeExtent?J_(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,_=(y==null?void 0:y.x)??0,w=(y==null?void 0:y.y)??0,b=pW({x:_,y:w,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return X.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:p,data:d.data,sourcePosition:d.sourcePosition||Re.Bottom,targetPosition:d.targetPosition||Re.Top,hidden:d.hidden,xPos:_,yPos:w,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:h,isSelectable:v,isConnectable:g,isFocusable:x,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((S=d[Rt])==null?void 0:S.z)??0,isParent:!!((k=d[Rt])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((j=d[Rt])!=null&&j.handleBounds)})}))};j9.displayName="NodeRenderer";var mW=f.memo(j9);const gW=(e,t,n)=>n===Re.Left?e-t:n===Re.Right?e+t:e,vW=(e,t,n)=>n===Re.Top?e-t:n===Re.Bottom?e+t:e,h2="react-flow__edgeupdater",m2=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:a,onMouseOut:i,type:s})=>X.createElement("circle",{onMouseDown:o,onMouseEnter:a,onMouseOut:i,className:Vt([h2,`${h2}-${s}`]),cx:gW(t,r,e),cy:vW(n,r,e),r,stroke:"transparent",fill:"transparent"}),yW=()=>!0;var Ba=e=>{const t=({id:n,className:r,type:o,data:a,onClick:i,onEdgeDoubleClick:s,selected:c,animated:u,label:d,labelStyle:p,labelShowBg:m,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:g,style:x,source:y,target:_,sourceX:w,sourceY:b,targetX:S,targetY:k,sourcePosition:j,targetPosition:$,elementsSelectable:C,hidden:R,sourceHandleId:D,targetHandleId:q,onContextMenu:F,onMouseEnter:A,onMouseMove:B,onMouseLeave:E,edgeUpdaterRadius:L,onEdgeUpdate:I,onEdgeUpdateStart:P,onEdgeUpdateEnd:z,markerEnd:H,markerStart:W,rfId:J,ariaLabel:ce,isFocusable:fe,isUpdatable:pe,pathOptions:ie,interactionWidth:ge})=>{const ve=f.useRef(null),[ue,K]=f.useState(!1),[se,Se]=f.useState(!1),Ee=Mt(),we=f.useMemo(()=>`url('#${ny(W,J)}')`,[W,J]),T=f.useMemo(()=>`url('#${ny(H,J)}')`,[H,J]);if(R)return null;const V=_e=>{var Pt;const{edges:Ne,addSelectedEdges:et,unselectNodesAndEdges:Le,multiSelectionActive:Ze}=Ee.getState(),it=Ne.find(ht=>ht.id===n);it&&(C&&(Ee.setState({nodesSelectionActive:!1}),it.selected&&Ze?(Le({nodes:[],edges:[it]}),(Pt=ve.current)==null||Pt.blur()):et([n])),i&&i(_e,it))},M=cs(n,Ee.getState,s),G=cs(n,Ee.getState,F),ne=cs(n,Ee.getState,A),re=cs(n,Ee.getState,B),oe=cs(n,Ee.getState,E),De=(_e,Ne)=>{if(_e.button!==0)return;const{edges:et,isValidConnection:Le}=Ee.getState(),Ze=Ne?_:y,it=(Ne?q:D)||null,Pt=Ne?"target":"source",ht=Le||yW,Oe=Ne,vt=et.find(Qt=>Qt.id===n);Se(!0),P==null||P(_e,vt,Pt);const Ut=Qt=>{Se(!1),z==null||z(Qt,vt,Pt)};a9({event:_e,handleId:it,nodeId:Ze,onConnect:Qt=>I==null?void 0:I(vt,Qt),isTarget:Oe,getState:Ee.getState,setState:Ee.setState,isValidConnection:ht,edgeUpdaterType:Pt,onEdgeUpdateEnd:Ut})},He=_e=>De(_e,!0),Ie=_e=>De(_e,!1),Je=()=>K(!0),Be=()=>K(!1),ee=!C&&!i,ke=_e=>{var Ne;if(W7.includes(_e.key)&&C){const{unselectNodesAndEdges:et,addSelectedEdges:Le,edges:Ze}=Ee.getState();_e.key==="Escape"?((Ne=ve.current)==null||Ne.blur(),et({edges:[Ze.find(Pt=>Pt.id===n)]})):Le([n])}};return X.createElement("g",{className:Vt(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:c,animated:u,inactive:ee,updating:ue}]),onClick:V,onDoubleClick:M,onContextMenu:G,onMouseEnter:ne,onMouseMove:re,onMouseLeave:oe,onKeyDown:fe?ke:void 0,tabIndex:fe?0:void 0,role:fe?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ce===null?void 0:ce||`Edge from ${y} to ${_}`,"aria-describedby":fe?`${h9}-${J}`:void 0,ref:ve},!se&&X.createElement(e,{id:n,source:y,target:_,selected:c,animated:u,label:d,labelStyle:p,labelShowBg:m,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:g,data:a,style:x,sourceX:w,sourceY:b,targetX:S,targetY:k,sourcePosition:j,targetPosition:$,sourceHandleId:D,targetHandleId:q,markerStart:we,markerEnd:T,pathOptions:ie,interactionWidth:ge}),pe&&X.createElement(X.Fragment,null,(pe==="source"||pe===!0)&&X.createElement(m2,{position:j,centerX:w,centerY:b,radius:L,onMouseDown:He,onMouseEnter:Je,onMouseOut:Be,type:"source"}),(pe==="target"||pe===!0)&&X.createElement(m2,{position:$,centerX:S,centerY:k,radius:L,onMouseDown:Ie,onMouseEnter:Je,onMouseOut:Be,type:"target"})))};return t.displayName="EdgeWrapper",f.memo(t)};function _W(e){const t={default:Ba(e.default||qu),straight:Ba(e.bezier||nx),step:Ba(e.step||tx),smoothstep:Ba(e.step||Id),simplebezier:Ba(e.simplebezier||ex)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,a)=>(o[a]=Ba(e[a]||qu),o),n);return{...t,...r}}function g2(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,a=(n==null?void 0:n.width)||t.width,i=(n==null?void 0:n.height)||t.height;switch(e){case Re.Top:return{x:r+a/2,y:o};case Re.Right:return{x:r+a,y:o+i/2};case Re.Bottom:return{x:r+a/2,y:o+i};case Re.Left:return{x:r,y:o+i/2}}}function v2(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const xW=(e,t,n,r,o,a)=>{const i=g2(n,e,t),s=g2(a,r,o);return{sourceX:i.x,sourceY:i.y,targetX:s.x,targetY:s.y}};function wW({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:a,width:i,height:s,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=fl({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:i/c[2],height:s/c[2]}),p=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(p*m)>0}function y2(e){var r,o,a,i,s;const t=((r=e==null?void 0:e[Rt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const bW=[{level:0,isMaxLevel:!0,edges:[]}];function CW(e,t,n=!1){let r=-1;const o=e.reduce((i,s)=>{var d,p;const c=An(s.zIndex);let u=c?s.zIndex:0;if(n){const m=t.get(s.target),h=t.get(s.source),v=s.selected||(m==null?void 0:m.selected)||(h==null?void 0:h.selected),g=Math.max(((d=h==null?void 0:h[Rt])==null?void 0:d.z)||0,((p=m==null?void 0:m[Rt])==null?void 0:p.z)||0,1e3);u=(c?s.zIndex:0)+(v?g:0)}return i[u]?i[u].push(s):i[u]=[s],r=u>r?u:r,i},{}),a=Object.entries(o).map(([i,s])=>{const c=+i;return{edges:s,level:c,isMaxLevel:c===r}});return a.length===0?bW:a}function SW(e,t,n){const r=ut(f.useCallback(o=>e?o.edges.filter(a=>{const i=t.get(a.source),s=t.get(a.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&wW({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:s.width,targetHeight:s.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return CW(r,t,n)}const EW=({color:e="none",strokeWidth:t=1})=>X.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),jW=({color:e="none",strokeWidth:t=1})=>X.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),_2={[Fu.Arrow]:EW,[Fu.ArrowClosed]:jW};function $W(e){const t=Mt();return f.useMemo(()=>{var o,a;return Object.prototype.hasOwnProperty.call(_2,e)?_2[e]:((a=(o=t.getState()).onError)==null||a.call(o,"009",Xr.error009(e)),null)},[e])}const TW=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:a="strokeWidth",strokeWidth:i,orient:s="auto-start-reverse"})=>{const c=$W(t);return c?X.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:s,refX:"0",refY:"0"},X.createElement(c,{color:n,strokeWidth:i})):null},RW=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,a)=>([a.markerStart,a.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const s=ny(i,t);r.includes(s)||(o.push({id:s,color:i.color||e,...i}),r.push(s))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))},$9=({defaultColor:e,rfId:t})=>{const n=ut(f.useCallback(RW({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((a,i)=>a.id!==o[i].id)));return X.createElement("defs",null,n.map(r=>X.createElement(TW,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};$9.displayName="MarkerDefinitions";var kW=f.memo($9);const NW=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),T9=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:a,onEdgeUpdate:i,onEdgeContextMenu:s,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:p,edgeUpdaterRadius:m,onEdgeDoubleClick:h,onEdgeUpdateStart:v,onEdgeUpdateEnd:g,children:x})=>{const{edgesFocusable:y,edgesUpdatable:_,elementsSelectable:w,width:b,height:S,connectionMode:k,nodeInternals:j,onError:$}=ut(NW,zt),C=SW(t,j,n);return b?X.createElement(X.Fragment,null,C.map(({level:R,edges:D,isMaxLevel:q})=>X.createElement("svg",{key:R,style:{zIndex:R},width:b,height:S,className:"react-flow__edges react-flow__container"},q&&X.createElement(kW,{defaultColor:e,rfId:r}),X.createElement("g",null,D.map(F=>{const[A,B,E]=y2(j.get(F.source)),[L,I,P]=y2(j.get(F.target));if(!E||!P)return null;let z=F.type||"default";o[z]||($==null||$("011",Xr.error011(z)),z="default");const H=o[z]||o.default,W=k===ga.Strict?I.target:(I.target??[]).concat(I.source??[]),J=v2(B.source,F.sourceHandle),ce=v2(W,F.targetHandle),fe=(J==null?void 0:J.position)||Re.Bottom,pe=(ce==null?void 0:ce.position)||Re.Top,ie=!!(F.focusable||y&&typeof F.focusable>"u"),ge=typeof i<"u"&&(F.updatable||_&&typeof F.updatable>"u");if(!J||!ce)return $==null||$("008",Xr.error008(J,F)),null;const{sourceX:ve,sourceY:ue,targetX:K,targetY:se}=xW(A,J,fe,L,ce,pe);return X.createElement(H,{key:F.id,id:F.id,className:Vt([F.className,a]),type:z,data:F.data,selected:!!F.selected,animated:!!F.animated,hidden:!!F.hidden,label:F.label,labelStyle:F.labelStyle,labelShowBg:F.labelShowBg,labelBgStyle:F.labelBgStyle,labelBgPadding:F.labelBgPadding,labelBgBorderRadius:F.labelBgBorderRadius,style:F.style,source:F.source,target:F.target,sourceHandleId:F.sourceHandle,targetHandleId:F.targetHandle,markerEnd:F.markerEnd,markerStart:F.markerStart,sourceX:ve,sourceY:ue,targetX:K,targetY:se,sourcePosition:fe,targetPosition:pe,elementsSelectable:w,onEdgeUpdate:i,onContextMenu:s,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:p,edgeUpdaterRadius:m,onEdgeDoubleClick:h,onEdgeUpdateStart:v,onEdgeUpdateEnd:g,rfId:r,ariaLabel:F.ariaLabel,isFocusable:ie,isUpdatable:ge,pathOptions:"pathOptions"in F?F.pathOptions:void 0,interactionWidth:F.interactionWidth})})))),x):null};T9.displayName="EdgeRenderer";var PW=f.memo(T9);const DW=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function AW({children:e}){const t=ut(DW);return X.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function IW(e){const t=ix(),n=f.useRef(!1);f.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const MW={[Re.Left]:Re.Right,[Re.Right]:Re.Left,[Re.Top]:Re.Bottom,[Re.Bottom]:Re.Top},R9=({nodeId:e,handleType:t,style:n,type:r=Dr.Bezier,CustomComponent:o,connectionStatus:a})=>{var k,j,$;const{fromNode:i,handleId:s,toX:c,toY:u,connectionMode:d}=ut(f.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),zt),p=(k=i==null?void 0:i[Rt])==null?void 0:k.handleBounds;let m=p==null?void 0:p[t];if(d===ga.Loose&&(m=m||(p==null?void 0:p[t==="source"?"target":"source"])),!i||!m)return null;const h=s?m.find(C=>C.id===s):m[0],v=h?h.x+h.width/2:(i.width??0)/2,g=h?h.y+h.height/2:i.height??0,x=(((j=i.positionAbsolute)==null?void 0:j.x)??0)+v,y=((($=i.positionAbsolute)==null?void 0:$.y)??0)+g,_=h==null?void 0:h.position,w=_?MW[_]:null;if(!_||!w)return null;if(o)return X.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:h,fromX:x,fromY:y,toX:c,toY:u,fromPosition:_,toPosition:w,connectionStatus:a});let b="";const S={sourceX:x,sourceY:y,sourcePosition:_,targetX:c,targetY:u,targetPosition:w};return r===Dr.Bezier?[b]=Q7(S):r===Dr.Step?[b]=ty({...S,borderRadius:0}):r===Dr.SmoothStep?[b]=ty(S):r===Dr.SimpleBezier?[b]=Z7(S):b=`M${x},${y} ${c},${u}`,X.createElement("path",{d:b,fill:"none",className:"react-flow__connection-path",style:n})};R9.displayName="ConnectionLine";const OW=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function LW({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:a,nodesConnectable:i,width:s,height:c,connectionStatus:u}=ut(OW,zt);return!(o&&a&&s&&i)?null:X.createElement("svg",{style:e,width:s,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},X.createElement("g",{className:Vt(["react-flow__connection",u])},X.createElement(R9,{nodeId:o,handleType:a,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function x2(e,t){return f.useRef(null),Mt(),f.useMemo(()=>t(e),[e])}const k9=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:a,onNodeClick:i,onEdgeClick:s,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:p,onNodeMouseLeave:m,onNodeContextMenu:h,onSelectionContextMenu:v,onSelectionStart:g,onSelectionEnd:x,connectionLineType:y,connectionLineStyle:_,connectionLineComponent:w,connectionLineContainerStyle:b,selectionKeyCode:S,selectionOnDrag:k,selectionMode:j,multiSelectionKeyCode:$,panActivationKeyCode:C,zoomActivationKeyCode:R,deleteKeyCode:D,onlyRenderVisibleElements:q,elementsSelectable:F,selectNodesOnDrag:A,defaultViewport:B,translateExtent:E,minZoom:L,maxZoom:I,preventScrolling:P,defaultMarkerColor:z,zoomOnScroll:H,zoomOnPinch:W,panOnScroll:J,panOnScrollSpeed:ce,panOnScrollMode:fe,zoomOnDoubleClick:pe,panOnDrag:ie,onPaneClick:ge,onPaneMouseEnter:ve,onPaneMouseMove:ue,onPaneMouseLeave:K,onPaneScroll:se,onPaneContextMenu:Se,onEdgeUpdate:Ee,onEdgeContextMenu:we,onEdgeMouseEnter:T,onEdgeMouseMove:V,onEdgeMouseLeave:M,edgeUpdaterRadius:G,onEdgeUpdateStart:ne,onEdgeUpdateEnd:re,noDragClassName:oe,noWheelClassName:De,noPanClassName:He,elevateEdgesOnSelect:Ie,disableKeyboardA11y:Je,nodeOrigin:Be,nodeExtent:ee,rfId:ke})=>{const _e=x2(e,fW),Ne=x2(t,_W);return IW(a),X.createElement(uW,{onPaneClick:ge,onPaneMouseEnter:ve,onPaneMouseMove:ue,onPaneMouseLeave:K,onPaneContextMenu:Se,onPaneScroll:se,deleteKeyCode:D,selectionKeyCode:S,selectionOnDrag:k,selectionMode:j,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:$,panActivationKeyCode:C,zoomActivationKeyCode:R,elementsSelectable:F,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:H,zoomOnPinch:W,zoomOnDoubleClick:pe,panOnScroll:J,panOnScrollSpeed:ce,panOnScrollMode:fe,panOnDrag:ie,defaultViewport:B,translateExtent:E,minZoom:L,maxZoom:I,onSelectionContextMenu:v,preventScrolling:P,noDragClassName:oe,noWheelClassName:De,noPanClassName:He,disableKeyboardA11y:Je},X.createElement(AW,null,X.createElement(PW,{edgeTypes:Ne,onEdgeClick:s,onEdgeDoubleClick:u,onEdgeUpdate:Ee,onlyRenderVisibleElements:q,onEdgeContextMenu:we,onEdgeMouseEnter:T,onEdgeMouseMove:V,onEdgeMouseLeave:M,onEdgeUpdateStart:ne,onEdgeUpdateEnd:re,edgeUpdaterRadius:G,defaultMarkerColor:z,noPanClassName:He,elevateEdgesOnSelect:!!Ie,disableKeyboardA11y:Je,rfId:ke},X.createElement(LW,{style:_,type:y,component:w,containerStyle:b})),X.createElement("div",{className:"react-flow__edgelabel-renderer"}),X.createElement(mW,{nodeTypes:_e,onNodeClick:i,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:p,onNodeMouseLeave:m,onNodeContextMenu:h,selectNodesOnDrag:A,onlyRenderVisibleElements:q,noPanClassName:He,noDragClassName:oe,disableKeyboardA11y:Je,nodeOrigin:Be,nodeExtent:ee,rfId:ke})))};k9.displayName="GraphView";var zW=f.memo(k9);const iy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],lo={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:iy,nodeExtent:iy,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ga.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:pG,isValidConnection:void 0},FW=()=>TB((e,t)=>({...lo,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:a}=t();e({nodeInternals:Tp(n,r,o,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",a=typeof r<"u",i=o?Tp(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:a?r:[],hasDefaultNodes:o,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:a,fitViewOnInitDone:i,fitViewOnInitOptions:s,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const p=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(p.transform),h=n.reduce((g,x)=>{const y=o.get(x.id);if(y){const _=Q_(x.nodeElement);!!(_.width&&_.height&&(y.width!==_.width||y.height!==_.height||x.forceUpdate))&&(o.set(y.id,{...y,[Rt]:{...y[Rt],handleBounds:{source:p2(".source",x.nodeElement,m,u),target:p2(".target",x.nodeElement,m,u)}},..._}),g.push({id:y.id,type:"dimensions",dimensions:_}))}return g},[]);g9(o,u);const v=i||a&&!i&&v9(t,{initial:!0,...s});e({nodeInternals:new Map(o),fitViewOnInitDone:v}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:a}=t(),i=n.map(s=>{const c={id:s.id,type:"position",dragging:o};return r&&(c.positionAbsolute=s.positionAbsolute,c.position=s.position),c});a(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:a,nodeOrigin:i,getNodes:s,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(a){const u=_9(n,s()),d=Tp(u,o,i,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:a}=t();let i,s=null;r?i=n.map(c=>mo(c,!0)):(i=ni(a(),n),s=ni(o,[])),jc({changedNodes:i,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:a}=t();let i,s=null;r?i=n.map(c=>mo(c,!0)):(i=ni(o,n),s=ni(a(),[])),jc({changedNodes:s,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:a}=t(),i=n||a(),s=r||o,c=i.map(d=>(d.selected=!1,mo(d.id,!1))),u=s.map(d=>mo(d.id,!1));jc({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(s=>s.selected).map(s=>mo(s.id,!1)),i=n.filter(s=>s.selected).map(s=>mo(s.id,!1));jc({changedNodes:a,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=J_(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:a,d3Zoom:i,d3Selection:s,translateExtent:c}=t();if(!i||!s||!n.x&&!n.y)return!1;const u=qr.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[o,a]],p=i==null?void 0:i.constrain()(u,d,c);return i.transform(s,p),r[0]!==p.x||r[1]!==p.y||r[2]!==p.k},cancelConnection:()=>e({connectionNodeId:lo.connectionNodeId,connectionHandleId:lo.connectionHandleId,connectionHandleType:lo.connectionHandleType,connectionStatus:lo.connectionStatus,connectionStartHandle:lo.connectionStartHandle,connectionEndHandle:lo.connectionEndHandle}),reset:()=>e({...lo})}),Object.is),lx=({children:e})=>{const t=f.useRef(null);return t.current||(t.current=FW()),X.createElement(iG,{value:t.current},e)};lx.displayName="ReactFlowProvider";const N9=({children:e})=>f.useContext(Ad)?X.createElement(X.Fragment,null,e):X.createElement(lx,null,e);N9.displayName="ReactFlowWrapper";const qW={input:c9,default:oy,output:d9,group:ax},BW={default:qu,straight:nx,step:tx,smoothstep:Id,simplebezier:ex},HW=[0,0],VW=[15,15],UW={x:0,y:0,zoom:1},GW={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},P9=f.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:a=qW,edgeTypes:i=BW,onNodeClick:s,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:p,onMoveEnd:m,onConnect:h,onConnectStart:v,onConnectEnd:g,onClickConnectStart:x,onClickConnectEnd:y,onNodeMouseEnter:_,onNodeMouseMove:w,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:k,onNodeDragStart:j,onNodeDrag:$,onNodeDragStop:C,onNodesDelete:R,onEdgesDelete:D,onSelectionChange:q,onSelectionDragStart:F,onSelectionDrag:A,onSelectionDragStop:B,onSelectionContextMenu:E,onSelectionStart:L,onSelectionEnd:I,connectionMode:P=ga.Strict,connectionLineType:z=Dr.Bezier,connectionLineStyle:H,connectionLineComponent:W,connectionLineContainerStyle:J,deleteKeyCode:ce="Backspace",selectionKeyCode:fe="Shift",selectionOnDrag:pe=!1,selectionMode:ie=pl.Full,panActivationKeyCode:ge="Space",multiSelectionKeyCode:ve=zu()?"Meta":"Control",zoomActivationKeyCode:ue=zu()?"Meta":"Control",snapToGrid:K=!1,snapGrid:se=VW,onlyRenderVisibleElements:Se=!1,selectNodesOnDrag:Ee=!0,nodesDraggable:we,nodesConnectable:T,nodesFocusable:V,nodeOrigin:M=HW,edgesFocusable:G,edgesUpdatable:ne,elementsSelectable:re,defaultViewport:oe=UW,minZoom:De=.5,maxZoom:He=2,translateExtent:Ie=iy,preventScrolling:Je=!0,nodeExtent:Be,defaultMarkerColor:ee="#b1b1b7",zoomOnScroll:ke=!0,zoomOnPinch:_e=!0,panOnScroll:Ne=!1,panOnScrollSpeed:et=.5,panOnScrollMode:Le=na.Free,zoomOnDoubleClick:Ze=!0,panOnDrag:it=!0,onPaneClick:Pt,onPaneMouseEnter:ht,onPaneMouseMove:Oe,onPaneMouseLeave:vt,onPaneScroll:Ut,onPaneContextMenu:dn,children:Qt,onEdgeUpdate:nf,onEdgeContextMenu:Gi,onEdgeDoubleClick:rf,onEdgeMouseEnter:of,onEdgeMouseMove:af,onEdgeMouseLeave:sf,onEdgeUpdateStart:lf,onEdgeUpdateEnd:cf,edgeUpdaterRadius:uf=10,onNodesChange:Ml,onEdgesChange:df,noDragClassName:ff="nodrag",noWheelClassName:Ol="nowheel",noPanClassName:Ll="nopan",fitView:pf=!1,fitViewOptions:hf,connectOnClick:mf=!0,attributionPosition:gf,proOptions:vf,defaultEdgeOptions:yf,elevateNodesOnSelect:_f=!0,elevateEdgesOnSelect:xf=!1,disableKeyboardA11y:zl=!1,autoPanOnConnect:wf=!0,autoPanOnNodeDrag:bf=!0,connectionRadius:Cf=20,isValidConnection:Fl,onError:ql,style:Sf,id:Ta,nodeDragThreshold:Ra,...Ef},Wi)=>{const ao=Ta||"1";return X.createElement("div",{...Ef,style:{...Sf,...GW},ref:Wi,className:Vt(["react-flow",o]),"data-testid":"rf__wrapper",id:Ta},X.createElement(N9,null,X.createElement(zW,{onInit:u,onMove:d,onMoveStart:p,onMoveEnd:m,onNodeClick:s,onEdgeClick:c,onNodeMouseEnter:_,onNodeMouseMove:w,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:k,nodeTypes:a,edgeTypes:i,connectionLineType:z,connectionLineStyle:H,connectionLineComponent:W,connectionLineContainerStyle:J,selectionKeyCode:fe,selectionOnDrag:pe,selectionMode:ie,deleteKeyCode:ce,multiSelectionKeyCode:ve,panActivationKeyCode:ge,zoomActivationKeyCode:ue,onlyRenderVisibleElements:Se,selectNodesOnDrag:Ee,defaultViewport:oe,translateExtent:Ie,minZoom:De,maxZoom:He,preventScrolling:Je,zoomOnScroll:ke,zoomOnPinch:_e,zoomOnDoubleClick:Ze,panOnScroll:Ne,panOnScrollSpeed:et,panOnScrollMode:Le,panOnDrag:it,onPaneClick:Pt,onPaneMouseEnter:ht,onPaneMouseMove:Oe,onPaneMouseLeave:vt,onPaneScroll:Ut,onPaneContextMenu:dn,onSelectionContextMenu:E,onSelectionStart:L,onSelectionEnd:I,onEdgeUpdate:nf,onEdgeContextMenu:Gi,onEdgeDoubleClick:rf,onEdgeMouseEnter:of,onEdgeMouseMove:af,onEdgeMouseLeave:sf,onEdgeUpdateStart:lf,onEdgeUpdateEnd:cf,edgeUpdaterRadius:uf,defaultMarkerColor:ee,noDragClassName:ff,noWheelClassName:Ol,noPanClassName:Ll,elevateEdgesOnSelect:xf,rfId:ao,disableKeyboardA11y:zl,nodeOrigin:M,nodeExtent:Be}),X.createElement(MG,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:v,onConnectEnd:g,onClickConnectStart:x,onClickConnectEnd:y,nodesDraggable:we,nodesConnectable:T,nodesFocusable:V,edgesFocusable:G,edgesUpdatable:ne,elementsSelectable:re,elevateNodesOnSelect:_f,minZoom:De,maxZoom:He,nodeExtent:Be,onNodesChange:Ml,onEdgesChange:df,snapToGrid:K,snapGrid:se,connectionMode:P,translateExtent:Ie,connectOnClick:mf,defaultEdgeOptions:yf,fitView:pf,fitViewOptions:hf,onNodesDelete:R,onEdgesDelete:D,onNodeDragStart:j,onNodeDrag:$,onNodeDragStop:C,onSelectionDrag:A,onSelectionDragStart:F,onSelectionDragStop:B,noPanClassName:Ll,nodeOrigin:M,rfId:ao,autoPanOnConnect:wf,autoPanOnNodeDrag:bf,onError:ql,connectionRadius:Cf,isValidConnection:Fl,nodeDragThreshold:Ra}),X.createElement(AG,{onSelectionChange:q}),Qt,X.createElement(lG,{proOptions:vf,position:gf}),X.createElement(qG,{rfId:ao,disableKeyboardA11y:zl})))});P9.displayName="ReactFlow";function D9(e){return t=>{const[n,r]=f.useState(t),o=f.useCallback(a=>r(i=>e(a,i)),[]);return[n,r,o]}}const WW=D9(_9),KW=D9(tW),A9=({id:e,x:t,y:n,width:r,height:o,style:a,color:i,strokeColor:s,strokeWidth:c,className:u,borderRadius:d,shapeRendering:p,onClick:m,selected:h})=>{const{background:v,backgroundColor:g}=a||{},x=i||v||g;return X.createElement("rect",{className:Vt(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:d,ry:d,width:r,height:o,fill:x,stroke:s,strokeWidth:c,shapeRendering:p,onClick:m?y=>m(y,e):void 0})};A9.displayName="MiniMapNode";var YW=f.memo(A9);const XW=e=>e.nodeOrigin,ZW=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Pp=e=>e instanceof Function?e:()=>e;function QW({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:a=YW,onClick:i}){const s=ut(ZW,zt),c=ut(XW),u=Pp(t),d=Pp(e),p=Pp(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return X.createElement(X.Fragment,null,s.map(h=>{const{x:v,y:g}=la(h,c).positionAbsolute;return X.createElement(a,{key:h.id,x:v,y:g,width:h.width,height:h.height,style:h.style,selected:h.selected,className:p(h),color:u(h),borderRadius:r,strokeColor:d(h),strokeWidth:o,shapeRendering:m,onClick:i,id:h.id})}))}var JW=f.memo(QW);const eK=200,tK=150,nK=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?dG(Md(t,e.nodeOrigin),n):n,rfId:e.rfId}},rK="react-flow__minimap-desc";function I9({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:a=5,nodeStrokeWidth:i=2,nodeComponent:s,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:p="bottom-right",onClick:m,onNodeClick:h,pannable:v=!1,zoomable:g=!1,ariaLabel:x="React Flow mini map",inversePan:y=!1,zoomStep:_=10,offsetScale:w=5}){const b=Mt(),S=f.useRef(null),{boundingRect:k,viewBB:j,rfId:$}=ut(nK,zt),C=(e==null?void 0:e.width)??eK,R=(e==null?void 0:e.height)??tK,D=k.width/C,q=k.height/R,F=Math.max(D,q),A=F*C,B=F*R,E=w*F,L=k.x-(A-k.width)/2-E,I=k.y-(B-k.height)/2-E,P=A+E*2,z=B+E*2,H=`${rK}-${$}`,W=f.useRef(0);W.current=F,f.useEffect(()=>{if(S.current){const fe=Pn(S.current),pe=ve=>{const{transform:ue,d3Selection:K,d3Zoom:se}=b.getState();if(ve.sourceEvent.type!=="wheel"||!K||!se)return;const Se=-ve.sourceEvent.deltaY*(ve.sourceEvent.deltaMode===1?.05:ve.sourceEvent.deltaMode?1:.002)*_,Ee=ue[2]*Math.pow(2,Se);se.scaleTo(K,Ee)},ie=ve=>{const{transform:ue,d3Selection:K,d3Zoom:se,translateExtent:Se,width:Ee,height:we}=b.getState();if(ve.sourceEvent.type!=="mousemove"||!K||!se)return;const T=W.current*Math.max(1,ue[2])*(y?-1:1),V={x:ue[0]-ve.sourceEvent.movementX*T,y:ue[1]-ve.sourceEvent.movementY*T},M=[[0,0],[Ee,we]],G=qr.translate(V.x,V.y).scale(ue[2]),ne=se.constrain()(G,M,Se);se.transform(K,ne)},ge=q7().on("zoom",v?ie:null).on("zoom.wheel",g?pe:null);return fe.call(ge),()=>{fe.on("zoom",null)}}},[v,g,y,_]);const J=m?fe=>{const pe=Zn(fe);m(fe,{x:pe[0],y:pe[1]})}:void 0,ce=h?(fe,pe)=>{const ie=b.getState().nodeInternals.get(pe);h(fe,ie)}:void 0;return X.createElement(dl,{position:p,style:e,className:Vt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},X.createElement("svg",{width:C,height:R,viewBox:`${L} ${I} ${P} ${z}`,role:"img","aria-labelledby":H,ref:S,onClick:J},x&&X.createElement("title",{id:H},x),X.createElement(JW,{onClick:ce,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:s}),X.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-E},${I-E}h${P+E*2}v${z+E*2}h${-P-E*2}z
        M${j.x},${j.y}h${j.width}v${j.height}h${-j.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}I9.displayName="MiniMap";var oK=f.memo(I9);function aK(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},X.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function iK(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},X.createElement("path",{d:"M0 0h32v4.2H0z"}))}function sK(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},X.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function lK(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},X.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function cK(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},X.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const _s=({children:e,className:t,...n})=>X.createElement("button",{type:"button",className:Vt(["react-flow__controls-button",t]),...n},e);_s.displayName="ControlButton";const uK=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),M9=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:a,onZoomOut:i,onFitView:s,onInteractiveChange:c,className:u,children:d,position:p="bottom-left"})=>{const m=Mt(),[h,v]=f.useState(!1),{isInteractive:g,minZoomReached:x,maxZoomReached:y}=ut(uK,zt),{zoomIn:_,zoomOut:w,fitView:b}=ix();if(f.useEffect(()=>{v(!0)},[]),!h)return null;const S=()=>{_(),a==null||a()},k=()=>{w(),i==null||i()},j=()=>{b(o),s==null||s()},$=()=>{m.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)};return X.createElement(dl,{className:Vt(["react-flow__controls",u]),position:p,style:e,"data-testid":"rf__controls"},t&&X.createElement(X.Fragment,null,X.createElement(_s,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},X.createElement(aK,null)),X.createElement(_s,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x},X.createElement(iK,null))),n&&X.createElement(_s,{className:"react-flow__controls-fitview",onClick:j,title:"fit view","aria-label":"fit view"},X.createElement(sK,null)),r&&X.createElement(_s,{className:"react-flow__controls-interactive",onClick:$,title:"toggle interactivity","aria-label":"toggle interactivity"},g?X.createElement(cK,null):X.createElement(lK,null)),d)};M9.displayName="Controls";var dK=f.memo(M9),rr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(rr||(rr={}));function fK({color:e,dimensions:t,lineWidth:n}){return X.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function pK({color:e,radius:t}){return X.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const hK={[rr.Dots]:"#91919a",[rr.Lines]:"#eee",[rr.Cross]:"#e2e2e2"},mK={[rr.Dots]:1,[rr.Lines]:1,[rr.Cross]:6},gK=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function O9({id:e,variant:t=rr.Dots,gap:n=20,size:r,lineWidth:o=1,offset:a=2,color:i,style:s,className:c}){const u=f.useRef(null),{transform:d,patternId:p}=ut(gK,zt),m=i||hK[t],h=r||mK[t],v=t===rr.Dots,g=t===rr.Cross,x=Array.isArray(n)?n:[n,n],y=[x[0]*d[2]||1,x[1]*d[2]||1],_=h*d[2],w=g?[_,_]:y,b=v?[_/a,_/a]:[w[0]/a,w[1]/a];return X.createElement("svg",{className:Vt(["react-flow__background",c]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},X.createElement("pattern",{id:p+e,x:d[0]%y[0],y:d[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`},v?X.createElement(pK,{color:m,radius:_/a}):X.createElement(fK,{dimensions:w,color:m,lineWidth:o})),X.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${p+e})`}))}O9.displayName="Background";var vK=f.memo(O9);function cx(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dp,w2;function yK(){if(w2)return Dp;w2=1;function e(){this.__data__=[],this.size=0}return Dp=e,Dp}var Ap,b2;function qi(){if(b2)return Ap;b2=1;function e(t,n){return t===n||t!==t&&n!==n}return Ap=e,Ap}var Ip,C2;function Od(){if(C2)return Ip;C2=1;var e=qi();function t(n,r){for(var o=n.length;o--;)if(e(n[o][0],r))return o;return-1}return Ip=t,Ip}var Mp,S2;function _K(){if(S2)return Mp;S2=1;var e=Od(),t=Array.prototype,n=t.splice;function r(o){var a=this.__data__,i=e(a,o);if(i<0)return!1;var s=a.length-1;return i==s?a.pop():n.call(a,i,1),--this.size,!0}return Mp=r,Mp}var Op,E2;function xK(){if(E2)return Op;E2=1;var e=Od();function t(n){var r=this.__data__,o=e(r,n);return o<0?void 0:r[o][1]}return Op=t,Op}var Lp,j2;function wK(){if(j2)return Lp;j2=1;var e=Od();function t(n){return e(this.__data__,n)>-1}return Lp=t,Lp}var zp,$2;function bK(){if($2)return zp;$2=1;var e=Od();function t(n,r){var o=this.__data__,a=e(o,n);return a<0?(++this.size,o.push([n,r])):o[a][1]=r,this}return zp=t,zp}var Fp,T2;function Ld(){if(T2)return Fp;T2=1;var e=yK(),t=_K(),n=xK(),r=wK(),o=bK();function a(i){var s=-1,c=i==null?0:i.length;for(this.clear();++s<c;){var u=i[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=o,Fp=a,Fp}var qp,R2;function CK(){if(R2)return qp;R2=1;var e=Ld();function t(){this.__data__=new e,this.size=0}return qp=t,qp}var Bp,k2;function SK(){if(k2)return Bp;k2=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Bp=e,Bp}var Hp,N2;function EK(){if(N2)return Hp;N2=1;function e(t){return this.__data__.get(t)}return Hp=e,Hp}var Vp,P2;function jK(){if(P2)return Vp;P2=1;function e(t){return this.__data__.has(t)}return Vp=e,Vp}var Up,D2;function L9(){if(D2)return Up;D2=1;var e=typeof Hl=="object"&&Hl&&Hl.Object===Object&&Hl;return Up=e,Up}var Gp,A2;function sr(){if(A2)return Gp;A2=1;var e=L9(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Gp=n,Gp}var Wp,I2;function Bi(){if(I2)return Wp;I2=1;var e=sr(),t=e.Symbol;return Wp=t,Wp}var Kp,M2;function $K(){if(M2)return Kp;M2=1;var e=Bi(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;function a(i){var s=n.call(i,o),c=i[o];try{i[o]=void 0;var u=!0}catch{}var d=r.call(i);return u&&(s?i[o]=c:delete i[o]),d}return Kp=a,Kp}var Yp,O2;function TK(){if(O2)return Yp;O2=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Yp=n,Yp}var Xp,L2;function Ca(){if(L2)return Xp;L2=1;var e=Bi(),t=$K(),n=TK(),r="[object Null]",o="[object Undefined]",a=e?e.toStringTag:void 0;function i(s){return s==null?s===void 0?o:r:a&&a in Object(s)?t(s):n(s)}return Xp=i,Xp}var Zp,z2;function Gn(){if(z2)return Zp;z2=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Zp=e,Zp}var Qp,F2;function Nl(){if(F2)return Qp;F2=1;var e=Ca(),t=Gn(),n="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function i(s){if(!t(s))return!1;var c=e(s);return c==r||c==o||c==n||c==a}return Qp=i,Qp}var Jp,q2;function RK(){if(q2)return Jp;q2=1;var e=sr(),t=e["__core-js_shared__"];return Jp=t,Jp}var eh,B2;function kK(){if(B2)return eh;B2=1;var e=RK(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return eh=n,eh}var th,H2;function z9(){if(H2)return th;H2=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return th=n,th}var nh,V2;function NK(){if(V2)return nh;V2=1;var e=Nl(),t=kK(),n=Gn(),r=z9(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,i=Function.prototype,s=Object.prototype,c=i.toString,u=s.hasOwnProperty,d=RegExp("^"+c.call(u).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!n(m)||t(m))return!1;var h=e(m)?d:a;return h.test(r(m))}return nh=p,nh}var rh,U2;function PK(){if(U2)return rh;U2=1;function e(t,n){return t==null?void 0:t[n]}return rh=e,rh}var oh,G2;function Sa(){if(G2)return oh;G2=1;var e=NK(),t=PK();function n(r,o){var a=t(r,o);return e(a)?a:void 0}return oh=n,oh}var ah,W2;function ux(){if(W2)return ah;W2=1;var e=Sa(),t=sr(),n=e(t,"Map");return ah=n,ah}var ih,K2;function zd(){if(K2)return ih;K2=1;var e=Sa(),t=e(Object,"create");return ih=t,ih}var sh,Y2;function DK(){if(Y2)return sh;Y2=1;var e=zd();function t(){this.__data__=e?e(null):{},this.size=0}return sh=t,sh}var lh,X2;function AK(){if(X2)return lh;X2=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return lh=e,lh}var ch,Z2;function IK(){if(Z2)return ch;Z2=1;var e=zd(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function o(a){var i=this.__data__;if(e){var s=i[a];return s===t?void 0:s}return r.call(i,a)?i[a]:void 0}return ch=o,ch}var uh,Q2;function MK(){if(Q2)return uh;Q2=1;var e=zd(),t=Object.prototype,n=t.hasOwnProperty;function r(o){var a=this.__data__;return e?a[o]!==void 0:n.call(a,o)}return uh=r,uh}var dh,J2;function OK(){if(J2)return dh;J2=1;var e=zd(),t="__lodash_hash_undefined__";function n(r,o){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&o===void 0?t:o,this}return dh=n,dh}var fh,eC;function LK(){if(eC)return fh;eC=1;var e=DK(),t=AK(),n=IK(),r=MK(),o=OK();function a(i){var s=-1,c=i==null?0:i.length;for(this.clear();++s<c;){var u=i[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=o,fh=a,fh}var ph,tC;function zK(){if(tC)return ph;tC=1;var e=LK(),t=Ld(),n=ux();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return ph=r,ph}var hh,nC;function FK(){if(nC)return hh;nC=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return hh=e,hh}var mh,rC;function Fd(){if(rC)return mh;rC=1;var e=FK();function t(n,r){var o=n.__data__;return e(r)?o[typeof r=="string"?"string":"hash"]:o.map}return mh=t,mh}var gh,oC;function qK(){if(oC)return gh;oC=1;var e=Fd();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return gh=t,gh}var vh,aC;function BK(){if(aC)return vh;aC=1;var e=Fd();function t(n){return e(this,n).get(n)}return vh=t,vh}var yh,iC;function HK(){if(iC)return yh;iC=1;var e=Fd();function t(n){return e(this,n).has(n)}return yh=t,yh}var _h,sC;function VK(){if(sC)return _h;sC=1;var e=Fd();function t(n,r){var o=e(this,n),a=o.size;return o.set(n,r),this.size+=o.size==a?0:1,this}return _h=t,_h}var xh,lC;function dx(){if(lC)return xh;lC=1;var e=zK(),t=qK(),n=BK(),r=HK(),o=VK();function a(i){var s=-1,c=i==null?0:i.length;for(this.clear();++s<c;){var u=i[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=o,xh=a,xh}var wh,cC;function UK(){if(cC)return wh;cC=1;var e=Ld(),t=ux(),n=dx(),r=200;function o(a,i){var s=this.__data__;if(s instanceof e){var c=s.__data__;if(!t||c.length<r-1)return c.push([a,i]),this.size=++s.size,this;s=this.__data__=new n(c)}return s.set(a,i),this.size=s.size,this}return wh=o,wh}var bh,uC;function qd(){if(uC)return bh;uC=1;var e=Ld(),t=CK(),n=SK(),r=EK(),o=jK(),a=UK();function i(s){var c=this.__data__=new e(s);this.size=c.size}return i.prototype.clear=t,i.prototype.delete=n,i.prototype.get=r,i.prototype.has=o,i.prototype.set=a,bh=i,bh}var Ch,dC;function fx(){if(dC)return Ch;dC=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o&&n(t[r],r,t)!==!1;);return t}return Ch=e,Ch}var Sh,fC;function F9(){if(fC)return Sh;fC=1;var e=Sa(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Sh=t,Sh}var Eh,pC;function Bd(){if(pC)return Eh;pC=1;var e=F9();function t(n,r,o){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[r]=o}return Eh=t,Eh}var jh,hC;function Hd(){if(hC)return jh;hC=1;var e=Bd(),t=qi(),n=Object.prototype,r=n.hasOwnProperty;function o(a,i,s){var c=a[i];(!(r.call(a,i)&&t(c,s))||s===void 0&&!(i in a))&&e(a,i,s)}return jh=o,jh}var $h,mC;function Pl(){if(mC)return $h;mC=1;var e=Hd(),t=Bd();function n(r,o,a,i){var s=!a;a||(a={});for(var c=-1,u=o.length;++c<u;){var d=o[c],p=i?i(a[d],r[d],d,a,r):void 0;p===void 0&&(p=r[d]),s?t(a,d,p):e(a,d,p)}return a}return $h=n,$h}var Th,gC;function GK(){if(gC)return Th;gC=1;function e(t,n){for(var r=-1,o=Array(t);++r<t;)o[r]=n(r);return o}return Th=e,Th}var Rh,vC;function Er(){if(vC)return Rh;vC=1;function e(t){return t!=null&&typeof t=="object"}return Rh=e,Rh}var kh,yC;function WK(){if(yC)return kh;yC=1;var e=Ca(),t=Er(),n="[object Arguments]";function r(o){return t(o)&&e(o)==n}return kh=r,kh}var Nh,_C;function Dl(){if(_C)return Nh;_C=1;var e=WK(),t=Er(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(i){return t(i)&&r.call(i,"callee")&&!o.call(i,"callee")};return Nh=a,Nh}var Ph,xC;function Nt(){if(xC)return Ph;xC=1;var e=Array.isArray;return Ph=e,Ph}var xs={exports:{}},Dh,wC;function KK(){if(wC)return Dh;wC=1;function e(){return!1}return Dh=e,Dh}xs.exports;var bC;function Hi(){return bC||(bC=1,function(e,t){var n=sr(),r=KK(),o=t&&!t.nodeType&&t,a=o&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===o,s=i?n.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||r;e.exports=u}(xs,xs.exports)),xs.exports}var Ah,CC;function Vd(){if(CC)return Ah;CC=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,o){var a=typeof r;return o=o??e,!!o&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<o}return Ah=n,Ah}var Ih,SC;function px(){if(SC)return Ih;SC=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Ih=t,Ih}var Mh,EC;function YK(){if(EC)return Mh;EC=1;var e=Ca(),t=px(),n=Er(),r="[object Arguments]",o="[object Array]",a="[object Boolean]",i="[object Date]",s="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",p="[object Object]",m="[object RegExp]",h="[object Set]",v="[object String]",g="[object WeakMap]",x="[object ArrayBuffer]",y="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",b="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",j="[object Uint8Array]",$="[object Uint8ClampedArray]",C="[object Uint16Array]",R="[object Uint32Array]",D={};D[_]=D[w]=D[b]=D[S]=D[k]=D[j]=D[$]=D[C]=D[R]=!0,D[r]=D[o]=D[x]=D[a]=D[y]=D[i]=D[s]=D[c]=D[u]=D[d]=D[p]=D[m]=D[h]=D[v]=D[g]=!1;function q(F){return n(F)&&t(F.length)&&!!D[e(F)]}return Mh=q,Mh}var Oh,jC;function Ud(){if(jC)return Oh;jC=1;function e(t){return function(n){return t(n)}}return Oh=e,Oh}var ws={exports:{}};ws.exports;var $C;function hx(){return $C||($C=1,function(e,t){var n=L9(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===r,i=a&&n.process,s=function(){try{var c=o&&o.require&&o.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s}(ws,ws.exports)),ws.exports}var Lh,TC;function Al(){if(TC)return Lh;TC=1;var e=YK(),t=Ud(),n=hx(),r=n&&n.isTypedArray,o=r?t(r):e;return Lh=o,Lh}var zh,RC;function q9(){if(RC)return zh;RC=1;var e=GK(),t=Dl(),n=Nt(),r=Hi(),o=Vd(),a=Al(),i=Object.prototype,s=i.hasOwnProperty;function c(u,d){var p=n(u),m=!p&&t(u),h=!p&&!m&&r(u),v=!p&&!m&&!h&&a(u),g=p||m||h||v,x=g?e(u.length,String):[],y=x.length;for(var _ in u)(d||s.call(u,_))&&!(g&&(_=="length"||h&&(_=="offset"||_=="parent")||v&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||o(_,y)))&&x.push(_);return x}return zh=c,zh}var Fh,kC;function Gd(){if(kC)return Fh;kC=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,o=typeof r=="function"&&r.prototype||e;return n===o}return Fh=t,Fh}var qh,NC;function B9(){if(NC)return qh;NC=1;function e(t,n){return function(r){return t(n(r))}}return qh=e,qh}var Bh,PC;function XK(){if(PC)return Bh;PC=1;var e=B9(),t=e(Object.keys,Object);return Bh=t,Bh}var Hh,DC;function mx(){if(DC)return Hh;DC=1;var e=Gd(),t=XK(),n=Object.prototype,r=n.hasOwnProperty;function o(a){if(!e(a))return t(a);var i=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&i.push(s);return i}return Hh=o,Hh}var Vh,AC;function ro(){if(AC)return Vh;AC=1;var e=Nl(),t=px();function n(r){return r!=null&&t(r.length)&&!e(r)}return Vh=n,Vh}var Uh,IC;function Bo(){if(IC)return Uh;IC=1;var e=q9(),t=mx(),n=ro();function r(o){return n(o)?e(o):t(o)}return Uh=r,Uh}var Gh,MC;function ZK(){if(MC)return Gh;MC=1;var e=Pl(),t=Bo();function n(r,o){return r&&e(o,t(o),r)}return Gh=n,Gh}var Wh,OC;function QK(){if(OC)return Wh;OC=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Wh=e,Wh}var Kh,LC;function JK(){if(LC)return Kh;LC=1;var e=Gn(),t=Gd(),n=QK(),r=Object.prototype,o=r.hasOwnProperty;function a(i){if(!e(i))return n(i);var s=t(i),c=[];for(var u in i)u=="constructor"&&(s||!o.call(i,u))||c.push(u);return c}return Kh=a,Kh}var Yh,zC;function Ea(){if(zC)return Yh;zC=1;var e=q9(),t=JK(),n=ro();function r(o){return n(o)?e(o,!0):t(o)}return Yh=r,Yh}var Xh,FC;function eY(){if(FC)return Xh;FC=1;var e=Pl(),t=Ea();function n(r,o){return r&&e(o,t(o),r)}return Xh=n,Xh}var bs={exports:{}};bs.exports;var qC;function H9(){return qC||(qC=1,function(e,t){var n=sr(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===r,i=a?n.Buffer:void 0,s=i?i.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var p=u.length,m=s?s(p):new u.constructor(p);return u.copy(m),m}e.exports=c}(bs,bs.exports)),bs.exports}var Zh,BC;function V9(){if(BC)return Zh;BC=1;function e(t,n){var r=-1,o=t.length;for(n||(n=Array(o));++r<o;)n[r]=t[r];return n}return Zh=e,Zh}var Qh,HC;function U9(){if(HC)return Qh;HC=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,a=0,i=[];++r<o;){var s=t[r];n(s,r,t)&&(i[a++]=s)}return i}return Qh=e,Qh}var Jh,VC;function G9(){if(VC)return Jh;VC=1;function e(){return[]}return Jh=e,Jh}var em,UC;function gx(){if(UC)return em;UC=1;var e=U9(),t=G9(),n=Object.prototype,r=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(i){return i==null?[]:(i=Object(i),e(o(i),function(s){return r.call(i,s)}))}:t;return em=a,em}var tm,GC;function tY(){if(GC)return tm;GC=1;var e=Pl(),t=gx();function n(r,o){return e(r,t(r),o)}return tm=n,tm}var nm,WC;function vx(){if(WC)return nm;WC=1;function e(t,n){for(var r=-1,o=n.length,a=t.length;++r<o;)t[a+r]=n[r];return t}return nm=e,nm}var rm,KC;function Wd(){if(KC)return rm;KC=1;var e=B9(),t=e(Object.getPrototypeOf,Object);return rm=t,rm}var om,YC;function W9(){if(YC)return om;YC=1;var e=vx(),t=Wd(),n=gx(),r=G9(),o=Object.getOwnPropertySymbols,a=o?function(i){for(var s=[];i;)e(s,n(i)),i=t(i);return s}:r;return om=a,om}var am,XC;function nY(){if(XC)return am;XC=1;var e=Pl(),t=W9();function n(r,o){return e(r,t(r),o)}return am=n,am}var im,ZC;function K9(){if(ZC)return im;ZC=1;var e=vx(),t=Nt();function n(r,o,a){var i=o(r);return t(r)?i:e(i,a(r))}return im=n,im}var sm,QC;function Y9(){if(QC)return sm;QC=1;var e=K9(),t=gx(),n=Bo();function r(o){return e(o,n,t)}return sm=r,sm}var lm,JC;function rY(){if(JC)return lm;JC=1;var e=K9(),t=W9(),n=Ea();function r(o){return e(o,n,t)}return lm=r,lm}var cm,eS;function oY(){if(eS)return cm;eS=1;var e=Sa(),t=sr(),n=e(t,"DataView");return cm=n,cm}var um,tS;function aY(){if(tS)return um;tS=1;var e=Sa(),t=sr(),n=e(t,"Promise");return um=n,um}var dm,nS;function X9(){if(nS)return dm;nS=1;var e=Sa(),t=sr(),n=e(t,"Set");return dm=n,dm}var fm,rS;function iY(){if(rS)return fm;rS=1;var e=Sa(),t=sr(),n=e(t,"WeakMap");return fm=n,fm}var pm,oS;function Vi(){if(oS)return pm;oS=1;var e=oY(),t=ux(),n=aY(),r=X9(),o=iY(),a=Ca(),i=z9(),s="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",p="[object WeakMap]",m="[object DataView]",h=i(e),v=i(t),g=i(n),x=i(r),y=i(o),_=a;return(e&&_(new e(new ArrayBuffer(1)))!=m||t&&_(new t)!=s||n&&_(n.resolve())!=u||r&&_(new r)!=d||o&&_(new o)!=p)&&(_=function(w){var b=a(w),S=b==c?w.constructor:void 0,k=S?i(S):"";if(k)switch(k){case h:return m;case v:return s;case g:return u;case x:return d;case y:return p}return b}),pm=_,pm}var hm,aS;function sY(){if(aS)return hm;aS=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var o=r.length,a=new r.constructor(o);return o&&typeof r[0]=="string"&&t.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return hm=n,hm}var mm,iS;function Z9(){if(iS)return mm;iS=1;var e=sr(),t=e.Uint8Array;return mm=t,mm}var gm,sS;function yx(){if(sS)return gm;sS=1;var e=Z9();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return gm=t,gm}var vm,lS;function lY(){if(lS)return vm;lS=1;var e=yx();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return vm=t,vm}var ym,cS;function cY(){if(cS)return ym;cS=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return ym=t,ym}var _m,uS;function uY(){if(uS)return _m;uS=1;var e=Bi(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(o){return n?Object(n.call(o)):{}}return _m=r,_m}var xm,dS;function Q9(){if(dS)return xm;dS=1;var e=yx();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return xm=t,xm}var wm,fS;function dY(){if(fS)return wm;fS=1;var e=yx(),t=lY(),n=cY(),r=uY(),o=Q9(),a="[object Boolean]",i="[object Date]",s="[object Map]",c="[object Number]",u="[object RegExp]",d="[object Set]",p="[object String]",m="[object Symbol]",h="[object ArrayBuffer]",v="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",y="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",b="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",j="[object Uint32Array]";function $(C,R,D){var q=C.constructor;switch(R){case h:return e(C);case a:case i:return new q(+C);case v:return t(C,D);case g:case x:case y:case _:case w:case b:case S:case k:case j:return o(C,D);case s:return new q;case c:case p:return new q(C);case u:return n(C);case d:return new q;case m:return r(C)}}return wm=$,wm}var bm,pS;function J9(){if(pS)return bm;pS=1;var e=Gn(),t=Object.create,n=function(){function r(){}return function(o){if(!e(o))return{};if(t)return t(o);r.prototype=o;var a=new r;return r.prototype=void 0,a}}();return bm=n,bm}var Cm,hS;function eT(){if(hS)return Cm;hS=1;var e=J9(),t=Wd(),n=Gd();function r(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return Cm=r,Cm}var Sm,mS;function fY(){if(mS)return Sm;mS=1;var e=Vi(),t=Er(),n="[object Map]";function r(o){return t(o)&&e(o)==n}return Sm=r,Sm}var Em,gS;function pY(){if(gS)return Em;gS=1;var e=fY(),t=Ud(),n=hx(),r=n&&n.isMap,o=r?t(r):e;return Em=o,Em}var jm,vS;function hY(){if(vS)return jm;vS=1;var e=Vi(),t=Er(),n="[object Set]";function r(o){return t(o)&&e(o)==n}return jm=r,jm}var $m,yS;function mY(){if(yS)return $m;yS=1;var e=hY(),t=Ud(),n=hx(),r=n&&n.isSet,o=r?t(r):e;return $m=o,$m}var Tm,_S;function tT(){if(_S)return Tm;_S=1;var e=qd(),t=fx(),n=Hd(),r=ZK(),o=eY(),a=H9(),i=V9(),s=tY(),c=nY(),u=Y9(),d=rY(),p=Vi(),m=sY(),h=dY(),v=eT(),g=Nt(),x=Hi(),y=pY(),_=Gn(),w=mY(),b=Bo(),S=Ea(),k=1,j=2,$=4,C="[object Arguments]",R="[object Array]",D="[object Boolean]",q="[object Date]",F="[object Error]",A="[object Function]",B="[object GeneratorFunction]",E="[object Map]",L="[object Number]",I="[object Object]",P="[object RegExp]",z="[object Set]",H="[object String]",W="[object Symbol]",J="[object WeakMap]",ce="[object ArrayBuffer]",fe="[object DataView]",pe="[object Float32Array]",ie="[object Float64Array]",ge="[object Int8Array]",ve="[object Int16Array]",ue="[object Int32Array]",K="[object Uint8Array]",se="[object Uint8ClampedArray]",Se="[object Uint16Array]",Ee="[object Uint32Array]",we={};we[C]=we[R]=we[ce]=we[fe]=we[D]=we[q]=we[pe]=we[ie]=we[ge]=we[ve]=we[ue]=we[E]=we[L]=we[I]=we[P]=we[z]=we[H]=we[W]=we[K]=we[se]=we[Se]=we[Ee]=!0,we[F]=we[A]=we[J]=!1;function T(V,M,G,ne,re,oe){var De,He=M&k,Ie=M&j,Je=M&$;if(G&&(De=re?G(V,ne,re,oe):G(V)),De!==void 0)return De;if(!_(V))return V;var Be=g(V);if(Be){if(De=m(V),!He)return i(V,De)}else{var ee=p(V),ke=ee==A||ee==B;if(x(V))return a(V,He);if(ee==I||ee==C||ke&&!re){if(De=Ie||ke?{}:v(V),!He)return Ie?c(V,o(De,V)):s(V,r(De,V))}else{if(!we[ee])return re?V:{};De=h(V,ee,He)}}oe||(oe=new e);var _e=oe.get(V);if(_e)return _e;oe.set(V,De),w(V)?V.forEach(function(Le){De.add(T(Le,M,G,Le,V,oe))}):y(V)&&V.forEach(function(Le,Ze){De.set(Ze,T(Le,M,G,Ze,V,oe))});var Ne=Je?Ie?d:u:Ie?S:b,et=Be?void 0:Ne(V);return t(et||V,function(Le,Ze){et&&(Ze=Le,Le=V[Ze]),n(De,Ze,T(Le,M,G,Ze,V,oe))}),De}return Tm=T,Tm}var Rm,xS;function gY(){if(xS)return Rm;xS=1;var e=tT(),t=4;function n(r){return e(r,t)}return Rm=n,Rm}var km,wS;function _x(){if(wS)return km;wS=1;function e(t){return function(){return t}}return km=e,km}var Nm,bS;function vY(){if(bS)return Nm;bS=1;function e(t){return function(n,r,o){for(var a=-1,i=Object(n),s=o(n),c=s.length;c--;){var u=s[t?c:++a];if(r(i[u],u,i)===!1)break}return n}}return Nm=e,Nm}var Pm,CS;function xx(){if(CS)return Pm;CS=1;var e=vY(),t=e();return Pm=t,Pm}var Dm,SS;function wx(){if(SS)return Dm;SS=1;var e=xx(),t=Bo();function n(r,o){return r&&e(r,o,t)}return Dm=n,Dm}var Am,ES;function yY(){if(ES)return Am;ES=1;var e=ro();function t(n,r){return function(o,a){if(o==null)return o;if(!e(o))return n(o,a);for(var i=o.length,s=r?i:-1,c=Object(o);(r?s--:++s<i)&&a(c[s],s,c)!==!1;);return o}}return Am=t,Am}var Im,jS;function Kd(){if(jS)return Im;jS=1;var e=wx(),t=yY(),n=t(e);return Im=n,Im}var Mm,$S;function ja(){if($S)return Mm;$S=1;function e(t){return t}return Mm=e,Mm}var Om,TS;function nT(){if(TS)return Om;TS=1;var e=ja();function t(n){return typeof n=="function"?n:e}return Om=t,Om}var Lm,RS;function rT(){if(RS)return Lm;RS=1;var e=fx(),t=Kd(),n=nT(),r=Nt();function o(a,i){var s=r(a)?e:t;return s(a,n(i))}return Lm=o,Lm}var zm,kS;function oT(){return kS||(kS=1,zm=rT()),zm}var Fm,NS;function _Y(){if(NS)return Fm;NS=1;var e=Kd();function t(n,r){var o=[];return e(n,function(a,i,s){r(a,i,s)&&o.push(a)}),o}return Fm=t,Fm}var qm,PS;function xY(){if(PS)return qm;PS=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return qm=t,qm}var Bm,DS;function wY(){if(DS)return Bm;DS=1;function e(t){return this.__data__.has(t)}return Bm=e,Bm}var Hm,AS;function aT(){if(AS)return Hm;AS=1;var e=dx(),t=xY(),n=wY();function r(o){var a=-1,i=o==null?0:o.length;for(this.__data__=new e;++a<i;)this.add(o[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Hm=r,Hm}var Vm,IS;function bY(){if(IS)return Vm;IS=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o;)if(n(t[r],r,t))return!0;return!1}return Vm=e,Vm}var Um,MS;function iT(){if(MS)return Um;MS=1;function e(t,n){return t.has(n)}return Um=e,Um}var Gm,OS;function sT(){if(OS)return Gm;OS=1;var e=aT(),t=bY(),n=iT(),r=1,o=2;function a(i,s,c,u,d,p){var m=c&r,h=i.length,v=s.length;if(h!=v&&!(m&&v>h))return!1;var g=p.get(i),x=p.get(s);if(g&&x)return g==s&&x==i;var y=-1,_=!0,w=c&o?new e:void 0;for(p.set(i,s),p.set(s,i);++y<h;){var b=i[y],S=s[y];if(u)var k=m?u(S,b,y,s,i,p):u(b,S,y,i,s,p);if(k!==void 0){if(k)continue;_=!1;break}if(w){if(!t(s,function(j,$){if(!n(w,$)&&(b===j||d(b,j,c,u,p)))return w.push($)})){_=!1;break}}else if(!(b===S||d(b,S,c,u,p))){_=!1;break}}return p.delete(i),p.delete(s),_}return Gm=a,Gm}var Wm,LS;function CY(){if(LS)return Wm;LS=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(o,a){r[++n]=[a,o]}),r}return Wm=e,Wm}var Km,zS;function bx(){if(zS)return Km;zS=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(o){r[++n]=o}),r}return Km=e,Km}var Ym,FS;function SY(){if(FS)return Ym;FS=1;var e=Bi(),t=Z9(),n=qi(),r=sT(),o=CY(),a=bx(),i=1,s=2,c="[object Boolean]",u="[object Date]",d="[object Error]",p="[object Map]",m="[object Number]",h="[object RegExp]",v="[object Set]",g="[object String]",x="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",w=e?e.prototype:void 0,b=w?w.valueOf:void 0;function S(k,j,$,C,R,D,q){switch($){case _:if(k.byteLength!=j.byteLength||k.byteOffset!=j.byteOffset)return!1;k=k.buffer,j=j.buffer;case y:return!(k.byteLength!=j.byteLength||!D(new t(k),new t(j)));case c:case u:case m:return n(+k,+j);case d:return k.name==j.name&&k.message==j.message;case h:case g:return k==j+"";case p:var F=o;case v:var A=C&i;if(F||(F=a),k.size!=j.size&&!A)return!1;var B=q.get(k);if(B)return B==j;C|=s,q.set(k,j);var E=r(F(k),F(j),C,R,D,q);return q.delete(k),E;case x:if(b)return b.call(k)==b.call(j)}return!1}return Ym=S,Ym}var Xm,qS;function EY(){if(qS)return Xm;qS=1;var e=Y9(),t=1,n=Object.prototype,r=n.hasOwnProperty;function o(a,i,s,c,u,d){var p=s&t,m=e(a),h=m.length,v=e(i),g=v.length;if(h!=g&&!p)return!1;for(var x=h;x--;){var y=m[x];if(!(p?y in i:r.call(i,y)))return!1}var _=d.get(a),w=d.get(i);if(_&&w)return _==i&&w==a;var b=!0;d.set(a,i),d.set(i,a);for(var S=p;++x<h;){y=m[x];var k=a[y],j=i[y];if(c)var $=p?c(j,k,y,i,a,d):c(k,j,y,a,i,d);if(!($===void 0?k===j||u(k,j,s,c,d):$)){b=!1;break}S||(S=y=="constructor")}if(b&&!S){var C=a.constructor,R=i.constructor;C!=R&&"constructor"in a&&"constructor"in i&&!(typeof C=="function"&&C instanceof C&&typeof R=="function"&&R instanceof R)&&(b=!1)}return d.delete(a),d.delete(i),b}return Xm=o,Xm}var Zm,BS;function jY(){if(BS)return Zm;BS=1;var e=qd(),t=sT(),n=SY(),r=EY(),o=Vi(),a=Nt(),i=Hi(),s=Al(),c=1,u="[object Arguments]",d="[object Array]",p="[object Object]",m=Object.prototype,h=m.hasOwnProperty;function v(g,x,y,_,w,b){var S=a(g),k=a(x),j=S?d:o(g),$=k?d:o(x);j=j==u?p:j,$=$==u?p:$;var C=j==p,R=$==p,D=j==$;if(D&&i(g)){if(!i(x))return!1;S=!0,C=!1}if(D&&!C)return b||(b=new e),S||s(g)?t(g,x,y,_,w,b):n(g,x,j,y,_,w,b);if(!(y&c)){var q=C&&h.call(g,"__wrapped__"),F=R&&h.call(x,"__wrapped__");if(q||F){var A=q?g.value():g,B=F?x.value():x;return b||(b=new e),w(A,B,y,_,b)}}return D?(b||(b=new e),r(g,x,y,_,w,b)):!1}return Zm=v,Zm}var Qm,HS;function lT(){if(HS)return Qm;HS=1;var e=jY(),t=Er();function n(r,o,a,i,s){return r===o?!0:r==null||o==null||!t(r)&&!t(o)?r!==r&&o!==o:e(r,o,a,i,n,s)}return Qm=n,Qm}var Jm,VS;function $Y(){if(VS)return Jm;VS=1;var e=qd(),t=lT(),n=1,r=2;function o(a,i,s,c){var u=s.length,d=u,p=!c;if(a==null)return!d;for(a=Object(a);u--;){var m=s[u];if(p&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++u<d;){m=s[u];var h=m[0],v=a[h],g=m[1];if(p&&m[2]){if(v===void 0&&!(h in a))return!1}else{var x=new e;if(c)var y=c(v,g,h,a,i,x);if(!(y===void 0?t(g,v,n|r,c,x):y))return!1}}return!0}return Jm=o,Jm}var eg,US;function cT(){if(US)return eg;US=1;var e=Gn();function t(n){return n===n&&!e(n)}return eg=t,eg}var tg,GS;function TY(){if(GS)return tg;GS=1;var e=cT(),t=Bo();function n(r){for(var o=t(r),a=o.length;a--;){var i=o[a],s=r[i];o[a]=[i,s,e(s)]}return o}return tg=n,tg}var ng,WS;function uT(){if(WS)return ng;WS=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return ng=e,ng}var rg,KS;function RY(){if(KS)return rg;KS=1;var e=$Y(),t=TY(),n=uT();function r(o){var a=t(o);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(i){return i===o||e(i,o,a)}}return rg=r,rg}var og,YS;function Ui(){if(YS)return og;YS=1;var e=Ca(),t=Er(),n="[object Symbol]";function r(o){return typeof o=="symbol"||t(o)&&e(o)==n}return og=r,og}var ag,XS;function Cx(){if(XS)return ag;XS=1;var e=Nt(),t=Ui(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function o(a,i){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||i!=null&&a in Object(i)}return ag=o,ag}var ig,ZS;function kY(){if(ZS)return ig;ZS=1;var e=dx(),t="Expected a function";function n(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var a=function(){var i=arguments,s=o?o.apply(this,i):i[0],c=a.cache;if(c.has(s))return c.get(s);var u=r.apply(this,i);return a.cache=c.set(s,u)||c,u};return a.cache=new(n.Cache||e),a}return n.Cache=e,ig=n,ig}var sg,QS;function NY(){if(QS)return sg;QS=1;var e=kY(),t=500;function n(r){var o=e(r,function(i){return a.size===t&&a.clear(),i}),a=o.cache;return o}return sg=n,sg}var lg,JS;function PY(){if(JS)return lg;JS=1;var e=NY(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(t,function(i,s,c,u){a.push(c?u.replace(n,"$1"):s||i)}),a});return lg=r,lg}var cg,e3;function Yd(){if(e3)return cg;e3=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,a=Array(o);++r<o;)a[r]=n(t[r],r,t);return a}return cg=e,cg}var ug,t3;function DY(){if(t3)return ug;t3=1;var e=Bi(),t=Yd(),n=Nt(),r=Ui(),o=1/0,a=e?e.prototype:void 0,i=a?a.toString:void 0;function s(c){if(typeof c=="string")return c;if(n(c))return t(c,s)+"";if(r(c))return i?i.call(c):"";var u=c+"";return u=="0"&&1/c==-o?"-0":u}return ug=s,ug}var dg,n3;function dT(){if(n3)return dg;n3=1;var e=DY();function t(n){return n==null?"":e(n)}return dg=t,dg}var fg,r3;function Xd(){if(r3)return fg;r3=1;var e=Nt(),t=Cx(),n=PY(),r=dT();function o(a,i){return e(a)?a:t(a,i)?[a]:n(r(a))}return fg=o,fg}var pg,o3;function Il(){if(o3)return pg;o3=1;var e=Ui(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var o=r+"";return o=="0"&&1/r==-t?"-0":o}return pg=n,pg}var hg,a3;function Zd(){if(a3)return hg;a3=1;var e=Xd(),t=Il();function n(r,o){o=e(o,r);for(var a=0,i=o.length;r!=null&&a<i;)r=r[t(o[a++])];return a&&a==i?r:void 0}return hg=n,hg}var mg,i3;function AY(){if(i3)return mg;i3=1;var e=Zd();function t(n,r,o){var a=n==null?void 0:e(n,r);return a===void 0?o:a}return mg=t,mg}var gg,s3;function IY(){if(s3)return gg;s3=1;function e(t,n){return t!=null&&n in Object(t)}return gg=e,gg}var vg,l3;function fT(){if(l3)return vg;l3=1;var e=Xd(),t=Dl(),n=Nt(),r=Vd(),o=px(),a=Il();function i(s,c,u){c=e(c,s);for(var d=-1,p=c.length,m=!1;++d<p;){var h=a(c[d]);if(!(m=s!=null&&u(s,h)))break;s=s[h]}return m||++d!=p?m:(p=s==null?0:s.length,!!p&&o(p)&&r(h,p)&&(n(s)||t(s)))}return vg=i,vg}var yg,c3;function pT(){if(c3)return yg;c3=1;var e=IY(),t=fT();function n(r,o){return r!=null&&t(r,o,e)}return yg=n,yg}var _g,u3;function MY(){if(u3)return _g;u3=1;var e=lT(),t=AY(),n=pT(),r=Cx(),o=cT(),a=uT(),i=Il(),s=1,c=2;function u(d,p){return r(d)&&o(p)?a(i(d),p):function(m){var h=t(m,d);return h===void 0&&h===p?n(m,d):e(p,h,s|c)}}return _g=u,_g}var xg,d3;function hT(){if(d3)return xg;d3=1;function e(t){return function(n){return n==null?void 0:n[t]}}return xg=e,xg}var wg,f3;function OY(){if(f3)return wg;f3=1;var e=Zd();function t(n){return function(r){return e(r,n)}}return wg=t,wg}var bg,p3;function LY(){if(p3)return bg;p3=1;var e=hT(),t=OY(),n=Cx(),r=Il();function o(a){return n(a)?e(r(a)):t(a)}return bg=o,bg}var Cg,h3;function oo(){if(h3)return Cg;h3=1;var e=RY(),t=MY(),n=ja(),r=Nt(),o=LY();function a(i){return typeof i=="function"?i:i==null?n:typeof i=="object"?r(i)?t(i[0],i[1]):e(i):o(i)}return Cg=a,Cg}var Sg,m3;function mT(){if(m3)return Sg;m3=1;var e=U9(),t=_Y(),n=oo(),r=Nt();function o(a,i){var s=r(a)?e:t;return s(a,n(i,3))}return Sg=o,Sg}var Eg,g3;function zY(){if(g3)return Eg;g3=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,o){return r!=null&&t.call(r,o)}return Eg=n,Eg}var jg,v3;function gT(){if(v3)return jg;v3=1;var e=zY(),t=fT();function n(r,o){return r!=null&&t(r,o,e)}return jg=n,jg}var $g,y3;function FY(){if(y3)return $g;y3=1;var e=mx(),t=Vi(),n=Dl(),r=Nt(),o=ro(),a=Hi(),i=Gd(),s=Al(),c="[object Map]",u="[object Set]",d=Object.prototype,p=d.hasOwnProperty;function m(h){if(h==null)return!0;if(o(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||a(h)||s(h)||n(h)))return!h.length;var v=t(h);if(v==c||v==u)return!h.size;if(i(h))return!e(h).length;for(var g in h)if(p.call(h,g))return!1;return!0}return $g=m,$g}var Tg,_3;function vT(){if(_3)return Tg;_3=1;function e(t){return t===void 0}return Tg=e,Tg}var Rg,x3;function yT(){if(x3)return Rg;x3=1;var e=Kd(),t=ro();function n(r,o){var a=-1,i=t(r)?Array(r.length):[];return e(r,function(s,c,u){i[++a]=o(s,c,u)}),i}return Rg=n,Rg}var kg,w3;function _T(){if(w3)return kg;w3=1;var e=Yd(),t=oo(),n=yT(),r=Nt();function o(a,i){var s=r(a)?e:n;return s(a,t(i,3))}return kg=o,kg}var Ng,b3;function qY(){if(b3)return Ng;b3=1;function e(t,n,r,o){var a=-1,i=t==null?0:t.length;for(o&&i&&(r=t[++a]);++a<i;)r=n(r,t[a],a,t);return r}return Ng=e,Ng}var Pg,C3;function BY(){if(C3)return Pg;C3=1;function e(t,n,r,o,a){return a(t,function(i,s,c){r=o?(o=!1,i):n(r,i,s,c)}),r}return Pg=e,Pg}var Dg,S3;function xT(){if(S3)return Dg;S3=1;var e=qY(),t=Kd(),n=oo(),r=BY(),o=Nt();function a(i,s,c){var u=o(i)?e:r,d=arguments.length<3;return u(i,n(s,4),c,d,t)}return Dg=a,Dg}var Ag,E3;function HY(){if(E3)return Ag;E3=1;var e=Ca(),t=Nt(),n=Er(),r="[object String]";function o(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return Ag=o,Ag}var Ig,j3;function VY(){if(j3)return Ig;j3=1;var e=hT(),t=e("length");return Ig=t,Ig}var Mg,$3;function UY(){if($3)return Mg;$3=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,a="\\ufe0e\\ufe0f",i="\\u200d",s=RegExp("["+i+e+o+a+"]");function c(u){return s.test(u)}return Mg=c,Mg}var Og,T3;function GY(){if(T3)return Og;T3=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,a="\\ufe0e\\ufe0f",i="["+e+"]",s="["+o+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+c+")",d="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=u+"?",g="["+a+"]?",x="(?:"+h+"(?:"+[d,p,m].join("|")+")"+g+v+")*",y=g+v+x,_="(?:"+[d+s+"?",s,p,m,i].join("|")+")",w=RegExp(c+"(?="+c+")|"+_+y,"g");function b(S){for(var k=w.lastIndex=0;w.test(S);)++k;return k}return Og=b,Og}var Lg,R3;function WY(){if(R3)return Lg;R3=1;var e=VY(),t=UY(),n=GY();function r(o){return t(o)?n(o):e(o)}return Lg=r,Lg}var zg,k3;function KY(){if(k3)return zg;k3=1;var e=mx(),t=Vi(),n=ro(),r=HY(),o=WY(),a="[object Map]",i="[object Set]";function s(c){if(c==null)return 0;if(n(c))return r(c)?o(c):c.length;var u=t(c);return u==a||u==i?c.size:e(c).length}return zg=s,zg}var Fg,N3;function YY(){if(N3)return Fg;N3=1;var e=fx(),t=J9(),n=wx(),r=oo(),o=Wd(),a=Nt(),i=Hi(),s=Nl(),c=Gn(),u=Al();function d(p,m,h){var v=a(p),g=v||i(p)||u(p);if(m=r(m,4),h==null){var x=p&&p.constructor;g?h=v?new x:[]:c(p)?h=s(x)?t(o(p)):{}:h={}}return(g?e:n)(p,function(y,_,w){return m(h,y,_,w)}),h}return Fg=d,Fg}var qg,P3;function XY(){if(P3)return qg;P3=1;var e=Bi(),t=Dl(),n=Nt(),r=e?e.isConcatSpreadable:void 0;function o(a){return n(a)||t(a)||!!(r&&a&&a[r])}return qg=o,qg}var Bg,D3;function Sx(){if(D3)return Bg;D3=1;var e=vx(),t=XY();function n(r,o,a,i,s){var c=-1,u=r.length;for(a||(a=t),s||(s=[]);++c<u;){var d=r[c];o>0&&a(d)?o>1?n(d,o-1,a,i,s):e(s,d):i||(s[s.length]=d)}return s}return Bg=n,Bg}var Hg,A3;function ZY(){if(A3)return Hg;A3=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Hg=e,Hg}var Vg,I3;function wT(){if(I3)return Vg;I3=1;var e=ZY(),t=Math.max;function n(r,o,a){return o=t(o===void 0?r.length-1:o,0),function(){for(var i=arguments,s=-1,c=t(i.length-o,0),u=Array(c);++s<c;)u[s]=i[o+s];s=-1;for(var d=Array(o+1);++s<o;)d[s]=i[s];return d[o]=a(u),e(r,this,d)}}return Vg=n,Vg}var Ug,M3;function QY(){if(M3)return Ug;M3=1;var e=_x(),t=F9(),n=ja(),r=t?function(o,a){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return Ug=r,Ug}var Gg,O3;function JY(){if(O3)return Gg;O3=1;var e=800,t=16,n=Date.now;function r(o){var a=0,i=0;return function(){var s=n(),c=t-(s-i);if(i=s,c>0){if(++a>=e)return arguments[0]}else a=0;return o.apply(void 0,arguments)}}return Gg=r,Gg}var Wg,L3;function bT(){if(L3)return Wg;L3=1;var e=QY(),t=JY(),n=t(e);return Wg=n,Wg}var Kg,z3;function Qd(){if(z3)return Kg;z3=1;var e=ja(),t=wT(),n=bT();function r(o,a){return n(t(o,a,e),o+"")}return Kg=r,Kg}var Yg,F3;function CT(){if(F3)return Yg;F3=1;function e(t,n,r,o){for(var a=t.length,i=r+(o?1:-1);o?i--:++i<a;)if(n(t[i],i,t))return i;return-1}return Yg=e,Yg}var Xg,q3;function eX(){if(q3)return Xg;q3=1;function e(t){return t!==t}return Xg=e,Xg}var Zg,B3;function tX(){if(B3)return Zg;B3=1;function e(t,n,r){for(var o=r-1,a=t.length;++o<a;)if(t[o]===n)return o;return-1}return Zg=e,Zg}var Qg,H3;function nX(){if(H3)return Qg;H3=1;var e=CT(),t=eX(),n=tX();function r(o,a,i){return a===a?n(o,a,i):e(o,t,i)}return Qg=r,Qg}var Jg,V3;function rX(){if(V3)return Jg;V3=1;var e=nX();function t(n,r){var o=n==null?0:n.length;return!!o&&e(n,r,0)>-1}return Jg=t,Jg}var e0,U3;function oX(){if(U3)return e0;U3=1;function e(t,n,r){for(var o=-1,a=t==null?0:t.length;++o<a;)if(r(n,t[o]))return!0;return!1}return e0=e,e0}var t0,G3;function aX(){if(G3)return t0;G3=1;function e(){}return t0=e,t0}var n0,W3;function iX(){if(W3)return n0;W3=1;var e=X9(),t=aX(),n=bx(),r=1/0,o=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return n0=o,n0}var r0,K3;function sX(){if(K3)return r0;K3=1;var e=aT(),t=rX(),n=oX(),r=iT(),o=iX(),a=bx(),i=200;function s(c,u,d){var p=-1,m=t,h=c.length,v=!0,g=[],x=g;if(d)v=!1,m=n;else if(h>=i){var y=u?null:o(c);if(y)return a(y);v=!1,m=r,x=new e}else x=u?[]:g;e:for(;++p<h;){var _=c[p],w=u?u(_):_;if(_=d||_!==0?_:0,v&&w===w){for(var b=x.length;b--;)if(x[b]===w)continue e;u&&x.push(w),g.push(_)}else m(x,w,d)||(x!==g&&x.push(w),g.push(_))}return g}return r0=s,r0}var o0,Y3;function ST(){if(Y3)return o0;Y3=1;var e=ro(),t=Er();function n(r){return t(r)&&e(r)}return o0=n,o0}var a0,X3;function lX(){if(X3)return a0;X3=1;var e=Sx(),t=Qd(),n=sX(),r=ST(),o=t(function(a){return n(e(a,1,r,!0))});return a0=o,a0}var i0,Z3;function cX(){if(Z3)return i0;Z3=1;var e=Yd();function t(n,r){return e(r,function(o){return n[o]})}return i0=t,i0}var s0,Q3;function ET(){if(Q3)return s0;Q3=1;var e=cX(),t=Bo();function n(r){return r==null?[]:e(r,t(r))}return s0=n,s0}var l0,J3;function Wn(){if(J3)return l0;J3=1;var e;if(typeof cx=="function")try{e={clone:gY(),constant:_x(),each:oT(),filter:mT(),has:gT(),isArray:Nt(),isEmpty:FY(),isFunction:Nl(),isUndefined:vT(),keys:Bo(),map:_T(),reduce:xT(),size:KY(),transform:YY(),union:lX(),values:ET()}}catch{}return e||(e=window._),l0=e,l0}var c0,e5;function Ex(){if(e5)return c0;e5=1;var e=Wn();c0=o;var t="\0",n="\0",r="";function o(d){this._isDirected=e.has(d,"directed")?d.directed:!0,this._isMultigraph=e.has(d,"multigraph")?d.multigraph:!1,this._isCompound=e.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(d){return this._label=d,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultNodeLabelFn=d,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return e.keys(this._nodes)},o.prototype.sources=function(){var d=this;return e.filter(this.nodes(),function(p){return e.isEmpty(d._in[p])})},o.prototype.sinks=function(){var d=this;return e.filter(this.nodes(),function(p){return e.isEmpty(d._out[p])})},o.prototype.setNodes=function(d,p){var m=arguments,h=this;return e.each(d,function(v){m.length>1?h.setNode(v,p):h.setNode(v)}),this},o.prototype.setNode=function(d,p){return e.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=p),this):(this._nodes[d]=arguments.length>1?p:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},o.prototype.node=function(d){return this._nodes[d]},o.prototype.hasNode=function(d){return e.has(this._nodes,d)},o.prototype.removeNode=function(d){var p=this;if(e.has(this._nodes,d)){var m=function(h){p.removeEdge(p._edgeObjs[h])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],e.each(this.children(d),function(h){p.setParent(h)}),delete this._children[d]),e.each(e.keys(this._in[d]),m),delete this._in[d],delete this._preds[d],e.each(e.keys(this._out[d]),m),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},o.prototype.setParent=function(d,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(p))p=n;else{p+="";for(var m=p;!e.isUndefined(m);m=this.parent(m))if(m===d)throw new Error("Setting "+p+" as parent of "+d+" would create a cycle");this.setNode(p)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=p,this._children[p][d]=!0,this},o.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},o.prototype.parent=function(d){if(this._isCompound){var p=this._parent[d];if(p!==n)return p}},o.prototype.children=function(d){if(e.isUndefined(d)&&(d=n),this._isCompound){var p=this._children[d];if(p)return e.keys(p)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},o.prototype.predecessors=function(d){var p=this._preds[d];if(p)return e.keys(p)},o.prototype.successors=function(d){var p=this._sucs[d];if(p)return e.keys(p)},o.prototype.neighbors=function(d){var p=this.predecessors(d);if(p)return e.union(p,this.successors(d))},o.prototype.isLeaf=function(d){var p;return this.isDirected()?p=this.successors(d):p=this.neighbors(d),p.length===0},o.prototype.filterNodes=function(d){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var m=this;e.each(this._nodes,function(g,x){d(x)&&p.setNode(x,g)}),e.each(this._edgeObjs,function(g){p.hasNode(g.v)&&p.hasNode(g.w)&&p.setEdge(g,m.edge(g))});var h={};function v(g){var x=m.parent(g);return x===void 0||p.hasNode(x)?(h[g]=x,x):x in h?h[x]:v(x)}return this._isCompound&&e.each(p.nodes(),function(g){p.setParent(g,v(g))}),p},o.prototype.setDefaultEdgeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultEdgeLabelFn=d,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return e.values(this._edgeObjs)},o.prototype.setPath=function(d,p){var m=this,h=arguments;return e.reduce(d,function(v,g){return h.length>1?m.setEdge(v,g,p):m.setEdge(v,g),g}),this},o.prototype.setEdge=function(){var d,p,m,h,v=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(d=g.v,p=g.w,m=g.name,arguments.length===2&&(h=arguments[1],v=!0)):(d=g,p=arguments[1],m=arguments[3],arguments.length>2&&(h=arguments[2],v=!0)),d=""+d,p=""+p,e.isUndefined(m)||(m=""+m);var x=s(this._isDirected,d,p,m);if(e.has(this._edgeLabels,x))return v&&(this._edgeLabels[x]=h),this;if(!e.isUndefined(m)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(p),this._edgeLabels[x]=v?h:this._defaultEdgeLabelFn(d,p,m);var y=c(this._isDirected,d,p,m);return d=y.v,p=y.w,Object.freeze(y),this._edgeObjs[x]=y,a(this._preds[p],d),a(this._sucs[d],p),this._in[p][x]=y,this._out[d][x]=y,this._edgeCount++,this},o.prototype.edge=function(d,p,m){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,p,m);return this._edgeLabels[h]},o.prototype.hasEdge=function(d,p,m){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,p,m);return e.has(this._edgeLabels,h)},o.prototype.removeEdge=function(d,p,m){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,p,m),v=this._edgeObjs[h];return v&&(d=v.v,p=v.w,delete this._edgeLabels[h],delete this._edgeObjs[h],i(this._preds[p],d),i(this._sucs[d],p),delete this._in[p][h],delete this._out[d][h],this._edgeCount--),this},o.prototype.inEdges=function(d,p){var m=this._in[d];if(m){var h=e.values(m);return p?e.filter(h,function(v){return v.v===p}):h}},o.prototype.outEdges=function(d,p){var m=this._out[d];if(m){var h=e.values(m);return p?e.filter(h,function(v){return v.w===p}):h}},o.prototype.nodeEdges=function(d,p){var m=this.inEdges(d,p);if(m)return m.concat(this.outEdges(d,p))};function a(d,p){d[p]?d[p]++:d[p]=1}function i(d,p){--d[p]||delete d[p]}function s(d,p,m,h){var v=""+p,g=""+m;if(!d&&v>g){var x=v;v=g,g=x}return v+r+g+r+(e.isUndefined(h)?t:h)}function c(d,p,m,h){var v=""+p,g=""+m;if(!d&&v>g){var x=v;v=g,g=x}var y={v,w:g};return h&&(y.name=h),y}function u(d,p){return s(d,p.v,p.w,p.name)}return c0}var u0,t5;function uX(){return t5||(t5=1,u0="2.1.8"),u0}var d0,n5;function dX(){return n5||(n5=1,d0={Graph:Ex(),version:uX()}),d0}var f0,r5;function fX(){if(r5)return f0;r5=1;var e=Wn(),t=Ex();f0={write:n,read:a};function n(i){var s={options:{directed:i.isDirected(),multigraph:i.isMultigraph(),compound:i.isCompound()},nodes:r(i),edges:o(i)};return e.isUndefined(i.graph())||(s.value=e.clone(i.graph())),s}function r(i){return e.map(i.nodes(),function(s){var c=i.node(s),u=i.parent(s),d={v:s};return e.isUndefined(c)||(d.value=c),e.isUndefined(u)||(d.parent=u),d})}function o(i){return e.map(i.edges(),function(s){var c=i.edge(s),u={v:s.v,w:s.w};return e.isUndefined(s.name)||(u.name=s.name),e.isUndefined(c)||(u.value=c),u})}function a(i){var s=new t(i.options).setGraph(i.value);return e.each(i.nodes,function(c){s.setNode(c.v,c.value),c.parent&&s.setParent(c.v,c.parent)}),e.each(i.edges,function(c){s.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),s}return f0}var p0,o5;function pX(){if(o5)return p0;o5=1;var e=Wn();p0=t;function t(n){var r={},o=[],a;function i(s){e.has(r,s)||(r[s]=!0,a.push(s),e.each(n.successors(s),i),e.each(n.predecessors(s),i))}return e.each(n.nodes(),function(s){a=[],i(s),a.length&&o.push(a)}),o}return p0}var h0,a5;function jT(){if(a5)return h0;a5=1;var e=Wn();h0=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var o=this._keyIndices;if(n=String(n),!e.has(o,n)){var a=this._arr,i=a.length;return o[n]=i,a.push({key:n,priority:r}),this._decrease(i),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var o=this._keyIndices[n];if(r>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[o].priority+" New: "+r);this._arr[o].priority=r,this._decrease(o)},t.prototype._heapify=function(n){var r=this._arr,o=2*n,a=o+1,i=n;o<r.length&&(i=r[o].priority<r[i].priority?o:i,a<r.length&&(i=r[a].priority<r[i].priority?a:i),i!==n&&(this._swap(n,i),this._heapify(i)))},t.prototype._decrease=function(n){for(var r=this._arr,o=r[n].priority,a;n!==0&&(a=n>>1,!(r[a].priority<o));)this._swap(n,a),n=a},t.prototype._swap=function(n,r){var o=this._arr,a=this._keyIndices,i=o[n],s=o[r];o[n]=s,o[r]=i,a[s.key]=n,a[i.key]=r},h0}var m0,i5;function $T(){if(i5)return m0;i5=1;var e=Wn(),t=jT();m0=r;var n=e.constant(1);function r(a,i,s,c){return o(a,String(i),s||n,c||function(u){return a.outEdges(u)})}function o(a,i,s,c){var u={},d=new t,p,m,h=function(v){var g=v.v!==p?v.v:v.w,x=u[g],y=s(v),_=m.distance+y;if(y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+y);_<x.distance&&(x.distance=_,x.predecessor=p,d.decrease(g,_))};for(a.nodes().forEach(function(v){var g=v===i?0:Number.POSITIVE_INFINITY;u[v]={distance:g},d.add(v,g)});d.size()>0&&(p=d.removeMin(),m=u[p],m.distance!==Number.POSITIVE_INFINITY);)c(p).forEach(h);return u}return m0}var g0,s5;function hX(){if(s5)return g0;s5=1;var e=$T(),t=Wn();g0=n;function n(r,o,a){return t.transform(r.nodes(),function(i,s){i[s]=e(r,s,o,a)},{})}return g0}var v0,l5;function TT(){if(l5)return v0;l5=1;var e=Wn();v0=t;function t(n){var r=0,o=[],a={},i=[];function s(c){var u=a[c]={onStack:!0,lowlink:r,index:r++};if(o.push(c),n.successors(c).forEach(function(m){e.has(a,m)?a[m].onStack&&(u.lowlink=Math.min(u.lowlink,a[m].index)):(s(m),u.lowlink=Math.min(u.lowlink,a[m].lowlink))}),u.lowlink===u.index){var d=[],p;do p=o.pop(),a[p].onStack=!1,d.push(p);while(c!==p);i.push(d)}}return n.nodes().forEach(function(c){e.has(a,c)||s(c)}),i}return v0}var y0,c5;function mX(){if(c5)return y0;c5=1;var e=Wn(),t=TT();y0=n;function n(r){return e.filter(t(r),function(o){return o.length>1||o.length===1&&r.hasEdge(o[0],o[0])})}return y0}var _0,u5;function gX(){if(u5)return _0;u5=1;var e=Wn();_0=n;var t=e.constant(1);function n(o,a,i){return r(o,a||t,i||function(s){return o.outEdges(s)})}function r(o,a,i){var s={},c=o.nodes();return c.forEach(function(u){s[u]={},s[u][u]={distance:0},c.forEach(function(d){u!==d&&(s[u][d]={distance:Number.POSITIVE_INFINITY})}),i(u).forEach(function(d){var p=d.v===u?d.w:d.v,m=a(d);s[u][p]={distance:m,predecessor:u}})}),c.forEach(function(u){var d=s[u];c.forEach(function(p){var m=s[p];c.forEach(function(h){var v=m[u],g=d[h],x=m[h],y=v.distance+g.distance;y<x.distance&&(x.distance=y,x.predecessor=g.predecessor)})})}),s}return _0}var x0,d5;function RT(){if(d5)return x0;d5=1;var e=Wn();x0=t,t.CycleException=n;function t(r){var o={},a={},i=[];function s(c){if(e.has(a,c))throw new n;e.has(o,c)||(a[c]=!0,o[c]=!0,e.each(r.predecessors(c),s),delete a[c],i.push(c))}if(e.each(r.sinks(),s),e.size(o)!==r.nodeCount())throw new n;return i}function n(){}return n.prototype=new Error,x0}var w0,f5;function vX(){if(f5)return w0;f5=1;var e=RT();w0=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return w0}var b0,p5;function kT(){if(p5)return b0;p5=1;var e=Wn();b0=t;function t(r,o,a){e.isArray(o)||(o=[o]);var i=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],c={};return e.each(o,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,a==="post",c,i,s)}),s}function n(r,o,a,i,s,c){e.has(i,o)||(i[o]=!0,a||c.push(o),e.each(s(o),function(u){n(r,u,a,i,s,c)}),a&&c.push(o))}return b0}var C0,h5;function yX(){if(h5)return C0;h5=1;var e=kT();C0=t;function t(n,r){return e(n,r,"post")}return C0}var S0,m5;function _X(){if(m5)return S0;m5=1;var e=kT();S0=t;function t(n,r){return e(n,r,"pre")}return S0}var E0,g5;function xX(){if(g5)return E0;g5=1;var e=Wn(),t=Ex(),n=jT();E0=r;function r(o,a){var i=new t,s={},c=new n,u;function d(m){var h=m.v===u?m.w:m.v,v=c.priority(h);if(v!==void 0){var g=a(m);g<v&&(s[h]=u,c.decrease(h,g))}}if(o.nodeCount()===0)return i;e.each(o.nodes(),function(m){c.add(m,Number.POSITIVE_INFINITY),i.setNode(m)}),c.decrease(o.nodes()[0],0);for(var p=!1;c.size()>0;){if(u=c.removeMin(),e.has(s,u))i.setEdge(u,s[u]);else{if(p)throw new Error("Input graph is not connected: "+o);p=!0}o.nodeEdges(u).forEach(d)}return i}return E0}var j0,v5;function wX(){return v5||(v5=1,j0={components:pX(),dijkstra:$T(),dijkstraAll:hX(),findCycles:mX(),floydWarshall:gX(),isAcyclic:vX(),postorder:yX(),preorder:_X(),prim:xX(),tarjan:TT(),topsort:RT()}),j0}var $0,y5;function bX(){if(y5)return $0;y5=1;var e=dX();return $0={Graph:e.Graph,json:fX(),alg:wX(),version:e.version},$0}var Bu;if(typeof cx=="function")try{Bu=bX()}catch{}Bu||(Bu=window.graphlib);var lr=Bu,T0,_5;function CX(){if(_5)return T0;_5=1;var e=tT(),t=1,n=4;function r(o){return e(o,t|n)}return T0=r,T0}var R0,x5;function Jd(){if(x5)return R0;x5=1;var e=qi(),t=ro(),n=Vd(),r=Gn();function o(a,i,s){if(!r(s))return!1;var c=typeof i;return(c=="number"?t(s)&&n(i,s.length):c=="string"&&i in s)?e(s[i],a):!1}return R0=o,R0}var k0,w5;function SX(){if(w5)return k0;w5=1;var e=Qd(),t=qi(),n=Jd(),r=Ea(),o=Object.prototype,a=o.hasOwnProperty,i=e(function(s,c){s=Object(s);var u=-1,d=c.length,p=d>2?c[2]:void 0;for(p&&n(c[0],c[1],p)&&(d=1);++u<d;)for(var m=c[u],h=r(m),v=-1,g=h.length;++v<g;){var x=h[v],y=s[x];(y===void 0||t(y,o[x])&&!a.call(s,x))&&(s[x]=m[x])}return s});return k0=i,k0}var N0,b5;function EX(){if(b5)return N0;b5=1;var e=oo(),t=ro(),n=Bo();function r(o){return function(a,i,s){var c=Object(a);if(!t(a)){var u=e(i,3);a=n(a),i=function(p){return u(c[p],p,c)}}var d=o(a,i,s);return d>-1?c[u?a[d]:d]:void 0}}return N0=r,N0}var P0,C5;function jX(){if(C5)return P0;C5=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return P0=t,P0}var D0,S5;function $X(){if(S5)return D0;S5=1;var e=jX(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return D0=n,D0}var A0,E5;function TX(){if(E5)return A0;E5=1;var e=$X(),t=Gn(),n=Ui(),r=NaN,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var p=a.test(u);return p||i.test(u)?s(u.slice(2),p?2:8):o.test(u)?r:+u}return A0=c,A0}var I0,j5;function NT(){if(j5)return I0;j5=1;var e=TX(),t=1/0,n=17976931348623157e292;function r(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-t){var a=o<0?-1:1;return a*n}return o===o?o:0}return I0=r,I0}var M0,$5;function RX(){if($5)return M0;$5=1;var e=NT();function t(n){var r=e(n),o=r%1;return r===r?o?r-o:r:0}return M0=t,M0}var O0,T5;function kX(){if(T5)return O0;T5=1;var e=CT(),t=oo(),n=RX(),r=Math.max;function o(a,i,s){var c=a==null?0:a.length;if(!c)return-1;var u=s==null?0:n(s);return u<0&&(u=r(c+u,0)),e(a,t(i,3),u)}return O0=o,O0}var L0,R5;function NX(){if(R5)return L0;R5=1;var e=EX(),t=kX(),n=e(t);return L0=n,L0}var z0,k5;function PT(){if(k5)return z0;k5=1;var e=Sx();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return z0=t,z0}var F0,N5;function PX(){if(N5)return F0;N5=1;var e=xx(),t=nT(),n=Ea();function r(o,a){return o==null?o:e(o,t(a),n)}return F0=r,F0}var q0,P5;function DX(){if(P5)return q0;P5=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return q0=e,q0}var B0,D5;function AX(){if(D5)return B0;D5=1;var e=Bd(),t=wx(),n=oo();function r(o,a){var i={};return a=n(a,3),t(o,function(s,c,u){e(i,c,a(s,c,u))}),i}return B0=r,B0}var H0,A5;function jx(){if(A5)return H0;A5=1;var e=Ui();function t(n,r,o){for(var a=-1,i=n.length;++a<i;){var s=n[a],c=r(s);if(c!=null&&(u===void 0?c===c&&!e(c):o(c,u)))var u=c,d=s}return d}return H0=t,H0}var V0,I5;function IX(){if(I5)return V0;I5=1;function e(t,n){return t>n}return V0=e,V0}var U0,M5;function MX(){if(M5)return U0;M5=1;var e=jx(),t=IX(),n=ja();function r(o){return o&&o.length?e(o,n,t):void 0}return U0=r,U0}var G0,O5;function DT(){if(O5)return G0;O5=1;var e=Bd(),t=qi();function n(r,o,a){(a!==void 0&&!t(r[o],a)||a===void 0&&!(o in r))&&e(r,o,a)}return G0=n,G0}var W0,L5;function OX(){if(L5)return W0;L5=1;var e=Ca(),t=Wd(),n=Er(),r="[object Object]",o=Function.prototype,a=Object.prototype,i=o.toString,s=a.hasOwnProperty,c=i.call(Object);function u(d){if(!n(d)||e(d)!=r)return!1;var p=t(d);if(p===null)return!0;var m=s.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&i.call(m)==c}return W0=u,W0}var K0,z5;function AT(){if(z5)return K0;z5=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return K0=e,K0}var Y0,F5;function LX(){if(F5)return Y0;F5=1;var e=Pl(),t=Ea();function n(r){return e(r,t(r))}return Y0=n,Y0}var X0,q5;function zX(){if(q5)return X0;q5=1;var e=DT(),t=H9(),n=Q9(),r=V9(),o=eT(),a=Dl(),i=Nt(),s=ST(),c=Hi(),u=Nl(),d=Gn(),p=OX(),m=Al(),h=AT(),v=LX();function g(x,y,_,w,b,S,k){var j=h(x,_),$=h(y,_),C=k.get($);if(C){e(x,_,C);return}var R=S?S(j,$,_+"",x,y,k):void 0,D=R===void 0;if(D){var q=i($),F=!q&&c($),A=!q&&!F&&m($);R=$,q||F||A?i(j)?R=j:s(j)?R=r(j):F?(D=!1,R=t($,!0)):A?(D=!1,R=n($,!0)):R=[]:p($)||a($)?(R=j,a(j)?R=v(j):(!d(j)||u(j))&&(R=o($))):D=!1}D&&(k.set($,R),b(R,$,w,S,k),k.delete($)),e(x,_,R)}return X0=g,X0}var Z0,B5;function FX(){if(B5)return Z0;B5=1;var e=qd(),t=DT(),n=xx(),r=zX(),o=Gn(),a=Ea(),i=AT();function s(c,u,d,p,m){c!==u&&n(u,function(h,v){if(m||(m=new e),o(h))r(c,u,v,d,s,p,m);else{var g=p?p(i(c,v),h,v+"",c,u,m):void 0;g===void 0&&(g=h),t(c,v,g)}},a)}return Z0=s,Z0}var Q0,H5;function qX(){if(H5)return Q0;H5=1;var e=Qd(),t=Jd();function n(r){return e(function(o,a){var i=-1,s=a.length,c=s>1?a[s-1]:void 0,u=s>2?a[2]:void 0;for(c=r.length>3&&typeof c=="function"?(s--,c):void 0,u&&t(a[0],a[1],u)&&(c=s<3?void 0:c,s=1),o=Object(o);++i<s;){var d=a[i];d&&r(o,d,i,c)}return o})}return Q0=n,Q0}var J0,V5;function BX(){if(V5)return J0;V5=1;var e=FX(),t=qX(),n=t(function(r,o,a){e(r,o,a)});return J0=n,J0}var e1,U5;function IT(){if(U5)return e1;U5=1;function e(t,n){return t<n}return e1=e,e1}var t1,G5;function HX(){if(G5)return t1;G5=1;var e=jx(),t=IT(),n=ja();function r(o){return o&&o.length?e(o,n,t):void 0}return t1=r,t1}var n1,W5;function VX(){if(W5)return n1;W5=1;var e=jx(),t=oo(),n=IT();function r(o,a){return o&&o.length?e(o,t(a,2),n):void 0}return n1=r,n1}var r1,K5;function UX(){if(K5)return r1;K5=1;var e=sr(),t=function(){return e.Date.now()};return r1=t,r1}var o1,Y5;function GX(){if(Y5)return o1;Y5=1;var e=Hd(),t=Xd(),n=Vd(),r=Gn(),o=Il();function a(i,s,c,u){if(!r(i))return i;s=t(s,i);for(var d=-1,p=s.length,m=p-1,h=i;h!=null&&++d<p;){var v=o(s[d]),g=c;if(v==="__proto__"||v==="constructor"||v==="prototype")return i;if(d!=m){var x=h[v];g=u?u(x,v,h):void 0,g===void 0&&(g=r(x)?x:n(s[d+1])?[]:{})}e(h,v,g),h=h[v]}return i}return o1=a,o1}var a1,X5;function WX(){if(X5)return a1;X5=1;var e=Zd(),t=GX(),n=Xd();function r(o,a,i){for(var s=-1,c=a.length,u={};++s<c;){var d=a[s],p=e(o,d);i(p,d)&&t(u,n(d,o),p)}return u}return a1=r,a1}var i1,Z5;function KX(){if(Z5)return i1;Z5=1;var e=WX(),t=pT();function n(r,o){return e(r,o,function(a,i){return t(r,i)})}return i1=n,i1}var s1,Q5;function YX(){if(Q5)return s1;Q5=1;var e=PT(),t=wT(),n=bT();function r(o){return n(t(o,void 0,e),o+"")}return s1=r,s1}var l1,J5;function XX(){if(J5)return l1;J5=1;var e=KX(),t=YX(),n=t(function(r,o){return r==null?{}:e(r,o)});return l1=n,l1}var c1,eE;function ZX(){if(eE)return c1;eE=1;var e=Math.ceil,t=Math.max;function n(r,o,a,i){for(var s=-1,c=t(e((o-r)/(a||1)),0),u=Array(c);c--;)u[i?c:++s]=r,r+=a;return u}return c1=n,c1}var u1,tE;function QX(){if(tE)return u1;tE=1;var e=ZX(),t=Jd(),n=NT();function r(o){return function(a,i,s){return s&&typeof s!="number"&&t(a,i,s)&&(i=s=void 0),a=n(a),i===void 0?(i=a,a=0):i=n(i),s=s===void 0?a<i?1:-1:n(s),e(a,i,s,o)}}return u1=r,u1}var d1,nE;function JX(){if(nE)return d1;nE=1;var e=QX(),t=e();return d1=t,d1}var f1,rE;function eZ(){if(rE)return f1;rE=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return f1=e,f1}var p1,oE;function tZ(){if(oE)return p1;oE=1;var e=Ui();function t(n,r){if(n!==r){var o=n!==void 0,a=n===null,i=n===n,s=e(n),c=r!==void 0,u=r===null,d=r===r,p=e(r);if(!u&&!p&&!s&&n>r||s&&c&&d&&!u&&!p||a&&c&&d||!o&&d||!i)return 1;if(!a&&!s&&!p&&n<r||p&&o&&i&&!a&&!s||u&&o&&i||!c&&i||!d)return-1}return 0}return p1=t,p1}var h1,aE;function nZ(){if(aE)return h1;aE=1;var e=tZ();function t(n,r,o){for(var a=-1,i=n.criteria,s=r.criteria,c=i.length,u=o.length;++a<c;){var d=e(i[a],s[a]);if(d){if(a>=u)return d;var p=o[a];return d*(p=="desc"?-1:1)}}return n.index-r.index}return h1=t,h1}var m1,iE;function rZ(){if(iE)return m1;iE=1;var e=Yd(),t=Zd(),n=oo(),r=yT(),o=eZ(),a=Ud(),i=nZ(),s=ja(),c=Nt();function u(d,p,m){p.length?p=e(p,function(g){return c(g)?function(x){return t(x,g.length===1?g[0]:g)}:g}):p=[s];var h=-1;p=e(p,a(n));var v=r(d,function(g,x,y){var _=e(p,function(w){return w(g)});return{criteria:_,index:++h,value:g}});return o(v,function(g,x){return i(g,x,m)})}return m1=u,m1}var g1,sE;function oZ(){if(sE)return g1;sE=1;var e=Sx(),t=rZ(),n=Qd(),r=Jd(),o=n(function(a,i){if(a==null)return[];var s=i.length;return s>1&&r(a,i[0],i[1])?i=[]:s>2&&r(i[0],i[1],i[2])&&(i=[i[0]]),t(a,e(i,1),[])});return g1=o,g1}var v1,lE;function aZ(){if(lE)return v1;lE=1;var e=dT(),t=0;function n(r){var o=++t;return e(r)+o}return v1=n,v1}var y1,cE;function iZ(){if(cE)return y1;cE=1;function e(t,n,r){for(var o=-1,a=t.length,i=n.length,s={};++o<a;){var c=o<i?n[o]:void 0;r(s,t[o],c)}return s}return y1=e,y1}var _1,uE;function sZ(){if(uE)return _1;uE=1;var e=Hd(),t=iZ();function n(r,o){return t(r||[],o||[],e)}return _1=n,_1}var Hu;if(typeof cx=="function")try{Hu={cloneDeep:CX(),constant:_x(),defaults:SX(),each:oT(),filter:mT(),find:NX(),flatten:PT(),forEach:rT(),forIn:PX(),has:gT(),isUndefined:vT(),last:DX(),map:_T(),mapValues:AX(),max:MX(),merge:BX(),min:HX(),minBy:VX(),now:UX(),pick:XX(),range:JX(),reduce:xT(),sortBy:oZ(),uniqueId:aZ(),values:ET(),zipObject:sZ()}}catch{}Hu||(Hu=window._);var gt=Hu,lZ=ef;function ef(){var e={};e._next=e._prev=e,this._sentinel=e}ef.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return MT(t),t};ef.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&MT(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};ef.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,cZ)),n=n._prev;return"["+e.join(", ")+"]"};function MT(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function cZ(e,t){if(e!=="_next"&&e!=="_prev")return t}var Or=gt,uZ=lr.Graph,dZ=lZ,fZ=hZ,pZ=Or.constant(1);function hZ(e,t){if(e.nodeCount()<=1)return[];var n=gZ(e,t||pZ),r=mZ(n.graph,n.buckets,n.zeroIdx);return Or.flatten(Or.map(r,function(o){return e.outEdges(o.v,o.w)}),!0)}function mZ(e,t,n){for(var r=[],o=t[t.length-1],a=t[0],i;e.nodeCount();){for(;i=a.dequeue();)x1(e,t,n,i);for(;i=o.dequeue();)x1(e,t,n,i);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(i=t[s].dequeue(),i){r=r.concat(x1(e,t,n,i,!0));break}}}return r}function x1(e,t,n,r,o){var a=o?[]:void 0;return Or.forEach(e.inEdges(r.v),function(i){var s=e.edge(i),c=e.node(i.v);o&&a.push({v:i.v,w:i.w}),c.out-=s,sy(t,n,c)}),Or.forEach(e.outEdges(r.v),function(i){var s=e.edge(i),c=i.w,u=e.node(c);u.in-=s,sy(t,n,u)}),e.removeNode(r.v),a}function gZ(e,t){var n=new uZ,r=0,o=0;Or.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),Or.forEach(e.edges(),function(s){var c=n.edge(s.v,s.w)||0,u=t(s),d=c+u;n.setEdge(s.v,s.w,d),o=Math.max(o,n.node(s.v).out+=u),r=Math.max(r,n.node(s.w).in+=u)});var a=Or.range(o+r+3).map(function(){return new dZ}),i=r+1;return Or.forEach(n.nodes(),function(s){sy(a,i,n.node(s))}),{graph:n,buckets:a,zeroIdx:i}}function sy(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var ra=gt,vZ=fZ,yZ={run:_Z,undo:wZ};function _Z(e){var t=e.graph().acyclicer==="greedy"?vZ(e,n(e)):xZ(e);ra.forEach(t,function(r){var o=e.edge(r);e.removeEdge(r),o.forwardName=r.name,o.reversed=!0,e.setEdge(r.w,r.v,o,ra.uniqueId("rev"))});function n(r){return function(o){return r.edge(o).weight}}}function xZ(e){var t=[],n={},r={};function o(a){ra.has(r,a)||(r[a]=!0,n[a]=!0,ra.forEach(e.outEdges(a),function(i){ra.has(n,i.w)?t.push(i):o(i.w)}),delete n[a])}return ra.forEach(e.nodes(),o),t}function wZ(e){ra.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var rt=gt,OT=lr.Graph,yn={addDummyNode:LT,simplify:bZ,asNonCompoundGraph:CZ,successorWeights:SZ,predecessorWeights:EZ,intersectRect:jZ,buildLayerMatrix:$Z,normalizeRanks:TZ,removeEmptyRanks:RZ,addBorderNode:kZ,maxRank:zT,partition:NZ,time:PZ,notime:DZ};function LT(e,t,n,r){var o;do o=rt.uniqueId(r);while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function bZ(e){var t=new OT().setGraph(e.graph());return rt.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),rt.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),t}function CZ(e){var t=new OT({multigraph:e.isMultigraph()}).setGraph(e.graph());return rt.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),rt.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function SZ(e){var t=rt.map(e.nodes(),function(n){var r={};return rt.forEach(e.outEdges(n),function(o){r[o.w]=(r[o.w]||0)+e.edge(o).weight}),r});return rt.zipObject(e.nodes(),t)}function EZ(e){var t=rt.map(e.nodes(),function(n){var r={};return rt.forEach(e.inEdges(n),function(o){r[o.v]=(r[o.v]||0)+e.edge(o).weight}),r});return rt.zipObject(e.nodes(),t)}function jZ(e,t){var n=e.x,r=e.y,o=t.x-n,a=t.y-r,i=e.width/2,s=e.height/2;if(!o&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var c,u;return Math.abs(a)*i>Math.abs(o)*s?(a<0&&(s=-s),c=s*o/a,u=s):(o<0&&(i=-i),c=i,u=i*a/o),{x:n+c,y:r+u}}function $Z(e){var t=rt.map(rt.range(zT(e)+1),function(){return[]});return rt.forEach(e.nodes(),function(n){var r=e.node(n),o=r.rank;rt.isUndefined(o)||(t[o][r.order]=n)}),t}function TZ(e){var t=rt.min(rt.map(e.nodes(),function(n){return e.node(n).rank}));rt.forEach(e.nodes(),function(n){var r=e.node(n);rt.has(r,"rank")&&(r.rank-=t)})}function RZ(e){var t=rt.min(rt.map(e.nodes(),function(a){return e.node(a).rank})),n=[];rt.forEach(e.nodes(),function(a){var i=e.node(a).rank-t;n[i]||(n[i]=[]),n[i].push(a)});var r=0,o=e.graph().nodeRankFactor;rt.forEach(n,function(a,i){rt.isUndefined(a)&&i%o!==0?--r:r&&rt.forEach(a,function(s){e.node(s).rank+=r})})}function kZ(e,t,n,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),LT(e,"border",o,t)}function zT(e){return rt.max(rt.map(e.nodes(),function(t){var n=e.node(t).rank;if(!rt.isUndefined(n))return n}))}function NZ(e,t){var n={lhs:[],rhs:[]};return rt.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function PZ(e,t){var n=rt.now();try{return t()}finally{console.log(e+" time: "+(rt.now()-n)+"ms")}}function DZ(e,t){return t()}var FT=gt,AZ=yn,IZ={run:MZ,undo:LZ};function MZ(e){e.graph().dummyChains=[],FT.forEach(e.edges(),function(t){OZ(e,t)})}function OZ(e,t){var n=t.v,r=e.node(n).rank,o=t.w,a=e.node(o).rank,i=t.name,s=e.edge(t),c=s.labelRank;if(a!==r+1){e.removeEdge(t);var u,d,p;for(p=0,++r;r<a;++p,++r)s.points=[],d={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},u=AZ.addDummyNode(e,"edge",d,"_d"),r===c&&(d.width=s.width,d.height=s.height,d.dummy="edge-label",d.labelpos=s.labelpos),e.setEdge(n,u,{weight:s.weight},i),p===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,o,{weight:s.weight},i)}}function LZ(e){FT.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,o;for(e.setEdge(n.edgeObj,r);n.dummy;)o=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=o,n=e.node(t)})}var Tc=gt,tf={longestPath:zZ,slack:FZ};function zZ(e){var t={};function n(r){var o=e.node(r);if(Tc.has(t,r))return o.rank;t[r]=!0;var a=Tc.min(Tc.map(e.outEdges(r),function(i){return n(i.w)-e.edge(i).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),o.rank=a}Tc.forEach(e.sources(),n)}function FZ(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Vu=gt,qZ=lr.Graph,Uu=tf.slack,qT=BZ;function BZ(e){var t=new qZ({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var o,a;HZ(t,e)<r;)o=VZ(t,e),a=t.hasNode(o.v)?Uu(e,o):-Uu(e,o),UZ(t,e,a);return t}function HZ(e,t){function n(r){Vu.forEach(t.nodeEdges(r),function(o){var a=o.v,i=r===a?o.w:a;!e.hasNode(i)&&!Uu(t,o)&&(e.setNode(i,{}),e.setEdge(r,i,{}),n(i))})}return Vu.forEach(e.nodes(),n),e.nodeCount()}function VZ(e,t){return Vu.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Uu(t,n)})}function UZ(e,t,n){Vu.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Zr=gt,GZ=qT,WZ=tf.slack,KZ=tf.longestPath,YZ=lr.alg.preorder,XZ=lr.alg.postorder,ZZ=yn.simplify,QZ=$a;$a.initLowLimValues=Tx;$a.initCutValues=$x;$a.calcCutValue=BT;$a.leaveEdge=VT;$a.enterEdge=UT;$a.exchangeEdges=GT;function $a(e){e=ZZ(e),KZ(e);var t=GZ(e);Tx(t),$x(t,e);for(var n,r;n=VT(t);)r=UT(t,e,n),GT(t,e,n,r)}function $x(e,t){var n=XZ(e,e.nodes());n=n.slice(0,n.length-1),Zr.forEach(n,function(r){JZ(e,t,r)})}function JZ(e,t,n){var r=e.node(n),o=r.parent;e.edge(n,o).cutvalue=BT(e,t,n)}function BT(e,t,n){var r=e.node(n),o=r.parent,a=!0,i=t.edge(n,o),s=0;return i||(a=!1,i=t.edge(o,n)),s=i.weight,Zr.forEach(t.nodeEdges(n),function(c){var u=c.v===n,d=u?c.w:c.v;if(d!==o){var p=u===a,m=t.edge(c).weight;if(s+=p?m:-m,tQ(e,n,d)){var h=e.edge(n,d).cutvalue;s+=p?-h:h}}}),s}function Tx(e,t){arguments.length<2&&(t=e.nodes()[0]),HT(e,{},1,t)}function HT(e,t,n,r,o){var a=n,i=e.node(r);return t[r]=!0,Zr.forEach(e.neighbors(r),function(s){Zr.has(t,s)||(n=HT(e,t,n,s,r))}),i.low=a,i.lim=n++,o?i.parent=o:delete i.parent,n}function VT(e){return Zr.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function UT(e,t,n){var r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);var a=e.node(r),i=e.node(o),s=a,c=!1;a.lim>i.lim&&(s=i,c=!0);var u=Zr.filter(t.edges(),function(d){return c===dE(e,e.node(d.v),s)&&c!==dE(e,e.node(d.w),s)});return Zr.minBy(u,function(d){return WZ(t,d)})}function GT(e,t,n,r){var o=n.v,a=n.w;e.removeEdge(o,a),e.setEdge(r.v,r.w,{}),Tx(e),$x(e,t),eQ(e,t)}function eQ(e,t){var n=Zr.find(e.nodes(),function(o){return!t.node(o).parent}),r=YZ(e,n);r=r.slice(1),Zr.forEach(r,function(o){var a=e.node(o).parent,i=t.edge(o,a),s=!1;i||(i=t.edge(a,o),s=!0),t.node(o).rank=t.node(a).rank+(s?i.minlen:-i.minlen)})}function tQ(e,t,n){return e.hasEdge(t,n)}function dE(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var nQ=tf,WT=nQ.longestPath,rQ=qT,oQ=QZ,aQ=iQ;function iQ(e){switch(e.graph().ranker){case"network-simplex":fE(e);break;case"tight-tree":lQ(e);break;case"longest-path":sQ(e);break;default:fE(e)}}var sQ=WT;function lQ(e){WT(e),rQ(e)}function fE(e){oQ(e)}var ly=gt,cQ=uQ;function uQ(e){var t=fQ(e);ly.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),o=r.edgeObj,a=dQ(e,t,o.v,o.w),i=a.path,s=a.lca,c=0,u=i[c],d=!0;n!==o.w;){if(r=e.node(n),d){for(;(u=i[c])!==s&&e.node(u).maxRank<r.rank;)c++;u===s&&(d=!1)}if(!d){for(;c<i.length-1&&e.node(u=i[c+1]).minRank<=r.rank;)c++;u=i[c]}e.setParent(n,u),n=e.successors(n)[0]}})}function dQ(e,t,n,r){var o=[],a=[],i=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),c,u;c=n;do c=e.parent(c),o.push(c);while(c&&(t[c].low>i||s>t[c].lim));for(u=c,c=r;(c=e.parent(c))!==u;)a.push(c);return{path:o.concat(a.reverse()),lca:u}}function fQ(e){var t={},n=0;function r(o){var a=n;ly.forEach(e.children(o),r),t[o]={low:a,lim:n++}}return ly.forEach(e.children(),r),t}var Lr=gt,cy=yn,pQ={run:hQ,cleanup:vQ};function hQ(e){var t=cy.addDummyNode(e,"root",{},"_root"),n=mQ(e),r=Lr.max(Lr.values(n))-1,o=2*r+1;e.graph().nestingRoot=t,Lr.forEach(e.edges(),function(i){e.edge(i).minlen*=o});var a=gQ(e)+1;Lr.forEach(e.children(),function(i){KT(e,t,o,a,r,n,i)}),e.graph().nodeRankFactor=o}function KT(e,t,n,r,o,a,i){var s=e.children(i);if(!s.length){i!==t&&e.setEdge(t,i,{weight:0,minlen:n});return}var c=cy.addBorderNode(e,"_bt"),u=cy.addBorderNode(e,"_bb"),d=e.node(i);e.setParent(c,i),d.borderTop=c,e.setParent(u,i),d.borderBottom=u,Lr.forEach(s,function(p){KT(e,t,n,r,o,a,p);var m=e.node(p),h=m.borderTop?m.borderTop:p,v=m.borderBottom?m.borderBottom:p,g=m.borderTop?r:2*r,x=h!==v?1:o-a[i]+1;e.setEdge(c,h,{weight:g,minlen:x,nestingEdge:!0}),e.setEdge(v,u,{weight:g,minlen:x,nestingEdge:!0})}),e.parent(i)||e.setEdge(t,c,{weight:0,minlen:o+a[i]})}function mQ(e){var t={};function n(r,o){var a=e.children(r);a&&a.length&&Lr.forEach(a,function(i){n(i,o+1)}),t[r]=o}return Lr.forEach(e.children(),function(r){n(r,1)}),t}function gQ(e){return Lr.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function vQ(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Lr.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var w1=gt,yQ=yn,_Q=xQ;function xQ(e){function t(n){var r=e.children(n),o=e.node(n);if(r.length&&w1.forEach(r,t),w1.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var a=o.minRank,i=o.maxRank+1;a<i;++a)pE(e,"borderLeft","_bl",n,o,a),pE(e,"borderRight","_br",n,o,a)}}w1.forEach(e.children(),t)}function pE(e,t,n,r,o,a){var i={width:0,height:0,rank:a,borderType:t},s=o[t][a-1],c=yQ.addDummyNode(e,"border",i,n);o[t][a]=c,e.setParent(c,r),s&&e.setEdge(s,c,{weight:1})}var mr=gt,wQ={adjust:bQ,undo:CQ};function bQ(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&YT(e)}function CQ(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&SQ(e),(t==="lr"||t==="rl")&&(EQ(e),YT(e))}function YT(e){mr.forEach(e.nodes(),function(t){hE(e.node(t))}),mr.forEach(e.edges(),function(t){hE(e.edge(t))})}function hE(e){var t=e.width;e.width=e.height,e.height=t}function SQ(e){mr.forEach(e.nodes(),function(t){b1(e.node(t))}),mr.forEach(e.edges(),function(t){var n=e.edge(t);mr.forEach(n.points,b1),mr.has(n,"y")&&b1(n)})}function b1(e){e.y=-e.y}function EQ(e){mr.forEach(e.nodes(),function(t){C1(e.node(t))}),mr.forEach(e.edges(),function(t){var n=e.edge(t);mr.forEach(n.points,C1),mr.has(n,"x")&&C1(n)})}function C1(e){var t=e.x;e.x=e.y,e.y=t}var Rr=gt,jQ=$Q;function $Q(e){var t={},n=Rr.filter(e.nodes(),function(s){return!e.children(s).length}),r=Rr.max(Rr.map(n,function(s){return e.node(s).rank})),o=Rr.map(Rr.range(r+1),function(){return[]});function a(s){if(!Rr.has(t,s)){t[s]=!0;var c=e.node(s);o[c.rank].push(s),Rr.forEach(e.successors(s),a)}}var i=Rr.sortBy(n,function(s){return e.node(s).rank});return Rr.forEach(i,a),o}var co=gt,TQ=RQ;function RQ(e,t){for(var n=0,r=1;r<t.length;++r)n+=kQ(e,t[r-1],t[r]);return n}function kQ(e,t,n){for(var r=co.zipObject(n,co.map(n,function(u,d){return d})),o=co.flatten(co.map(t,function(u){return co.sortBy(co.map(e.outEdges(u),function(d){return{pos:r[d.w],weight:e.edge(d).weight}}),"pos")}),!0),a=1;a<n.length;)a<<=1;var i=2*a-1;a-=1;var s=co.map(new Array(i),function(){return 0}),c=0;return co.forEach(o.forEach(function(u){var d=u.pos+a;s[d]+=u.weight;for(var p=0;d>0;)d%2&&(p+=s[d+1]),d=d-1>>1,s[d]+=u.weight;c+=u.weight*p})),c}var mE=gt,NQ=PQ;function PQ(e,t){return mE.map(t,function(n){var r=e.inEdges(n);if(r.length){var o=mE.reduce(r,function(a,i){var s=e.edge(i),c=e.node(i.v);return{sum:a.sum+s.weight*c.order,weight:a.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:n}})}var xn=gt,DQ=AQ;function AQ(e,t){var n={};xn.forEach(e,function(o,a){var i=n[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:a};xn.isUndefined(o.barycenter)||(i.barycenter=o.barycenter,i.weight=o.weight)}),xn.forEach(t.edges(),function(o){var a=n[o.v],i=n[o.w];!xn.isUndefined(a)&&!xn.isUndefined(i)&&(i.indegree++,a.out.push(n[o.w]))});var r=xn.filter(n,function(o){return!o.indegree});return IQ(r)}function IQ(e){var t=[];function n(a){return function(i){i.merged||(xn.isUndefined(i.barycenter)||xn.isUndefined(a.barycenter)||i.barycenter>=a.barycenter)&&MQ(a,i)}}function r(a){return function(i){i.in.push(a),--i.indegree===0&&e.push(i)}}for(;e.length;){var o=e.pop();t.push(o),xn.forEach(o.in.reverse(),n(o)),xn.forEach(o.out,r(o))}return xn.map(xn.filter(t,function(a){return!a.merged}),function(a){return xn.pick(a,["vs","i","barycenter","weight"])})}function MQ(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Cs=gt,OQ=yn,LQ=zQ;function zQ(e,t){var n=OQ.partition(e,function(d){return Cs.has(d,"barycenter")}),r=n.lhs,o=Cs.sortBy(n.rhs,function(d){return-d.i}),a=[],i=0,s=0,c=0;r.sort(FQ(!!t)),c=gE(a,o,c),Cs.forEach(r,function(d){c+=d.vs.length,a.push(d.vs),i+=d.barycenter*d.weight,s+=d.weight,c=gE(a,o,c)});var u={vs:Cs.flatten(a,!0)};return s&&(u.barycenter=i/s,u.weight=s),u}function gE(e,t,n){for(var r;t.length&&(r=Cs.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function FQ(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var yo=gt,qQ=NQ,BQ=DQ,HQ=LQ,VQ=XT;function XT(e,t,n,r){var o=e.children(t),a=e.node(t),i=a?a.borderLeft:void 0,s=a?a.borderRight:void 0,c={};i&&(o=yo.filter(o,function(v){return v!==i&&v!==s}));var u=qQ(e,o);yo.forEach(u,function(v){if(e.children(v.v).length){var g=XT(e,v.v,n,r);c[v.v]=g,yo.has(g,"barycenter")&&GQ(v,g)}});var d=BQ(u,n);UQ(d,c);var p=HQ(d,r);if(i&&(p.vs=yo.flatten([i,p.vs,s],!0),e.predecessors(i).length)){var m=e.node(e.predecessors(i)[0]),h=e.node(e.predecessors(s)[0]);yo.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+m.order+h.order)/(p.weight+2),p.weight+=2}return p}function UQ(e,t){yo.forEach(e,function(n){n.vs=yo.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function GQ(e,t){yo.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Ss=gt,WQ=lr.Graph,KQ=YQ;function YQ(e,t,n){var r=XQ(e),o=new WQ({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(a){return e.node(a)});return Ss.forEach(e.nodes(),function(a){var i=e.node(a),s=e.parent(a);(i.rank===t||i.minRank<=t&&t<=i.maxRank)&&(o.setNode(a),o.setParent(a,s||r),Ss.forEach(e[n](a),function(c){var u=c.v===a?c.w:c.v,d=o.edge(u,a),p=Ss.isUndefined(d)?0:d.weight;o.setEdge(u,a,{weight:e.edge(c).weight+p})}),Ss.has(i,"minRank")&&o.setNode(a,{borderLeft:i.borderLeft[t],borderRight:i.borderRight[t]}))}),o}function XQ(e){for(var t;e.hasNode(t=Ss.uniqueId("_root")););return t}var ZQ=gt,QQ=JQ;function JQ(e,t,n){var r={},o;ZQ.forEach(n,function(a){for(var i=e.parent(a),s,c;i;){if(s=e.parent(i),s?(c=r[s],r[s]=i):(c=o,o=i),c&&c!==i){t.setEdge(c,i);return}i=s}})}var No=gt,eJ=jQ,tJ=TQ,nJ=VQ,rJ=KQ,oJ=QQ,aJ=lr.Graph,vE=yn,iJ=sJ;function sJ(e){var t=vE.maxRank(e),n=yE(e,No.range(1,t+1),"inEdges"),r=yE(e,No.range(t-1,-1,-1),"outEdges"),o=eJ(e);_E(e,o);for(var a=Number.POSITIVE_INFINITY,i,s=0,c=0;c<4;++s,++c){lJ(s%2?n:r,s%4>=2),o=vE.buildLayerMatrix(e);var u=tJ(e,o);u<a&&(c=0,i=No.cloneDeep(o),a=u)}_E(e,i)}function yE(e,t,n){return No.map(t,function(r){return rJ(e,r,n)})}function lJ(e,t){var n=new aJ;No.forEach(e,function(r){var o=r.graph().root,a=nJ(r,o,n,t);No.forEach(a.vs,function(i,s){r.node(i).order=s}),oJ(r,n,a.vs)})}function _E(e,t){No.forEach(t,function(n){No.forEach(n,function(r,o){e.node(r).order=o})})}var qe=gt,cJ=lr.Graph,uJ=yn,dJ={positionX:hJ,findType1Conflicts:ZT,findType2Conflicts:QT,addConflict:Rx,hasConflict:JT,verticalAlignment:eR,horizontalCompaction:tR,alignCoordinates:rR,findSmallestWidthAlignment:nR,balance:oR};function ZT(e,t){var n={};function r(o,a){var i=0,s=0,c=o.length,u=qe.last(a);return qe.forEach(a,function(d,p){var m=fJ(e,d),h=m?e.node(m).order:c;(m||d===u)&&(qe.forEach(a.slice(s,p+1),function(v){qe.forEach(e.predecessors(v),function(g){var x=e.node(g),y=x.order;(y<i||h<y)&&!(x.dummy&&e.node(v).dummy)&&Rx(n,g,v)})}),s=p+1,i=h)}),a}return qe.reduce(t,r),n}function QT(e,t){var n={};function r(a,i,s,c,u){var d;qe.forEach(qe.range(i,s),function(p){d=a[p],e.node(d).dummy&&qe.forEach(e.predecessors(d),function(m){var h=e.node(m);h.dummy&&(h.order<c||h.order>u)&&Rx(n,m,d)})})}function o(a,i){var s=-1,c,u=0;return qe.forEach(i,function(d,p){if(e.node(d).dummy==="border"){var m=e.predecessors(d);m.length&&(c=e.node(m[0]).order,r(i,u,p,s,c),u=p,s=c)}r(i,u,i.length,c,a.length)}),i}return qe.reduce(t,o),n}function fJ(e,t){if(e.node(t).dummy)return qe.find(e.predecessors(t),function(n){return e.node(n).dummy})}function Rx(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function JT(e,t,n){if(t>n){var r=t;t=n,n=r}return qe.has(e[t],n)}function eR(e,t,n,r){var o={},a={},i={};return qe.forEach(t,function(s){qe.forEach(s,function(c,u){o[c]=c,a[c]=c,i[c]=u})}),qe.forEach(t,function(s){var c=-1;qe.forEach(s,function(u){var d=r(u);if(d.length){d=qe.sortBy(d,function(g){return i[g]});for(var p=(d.length-1)/2,m=Math.floor(p),h=Math.ceil(p);m<=h;++m){var v=d[m];a[u]===u&&c<i[v]&&!JT(n,u,v)&&(a[v]=u,a[u]=o[u]=o[v],c=i[v])}}})}),{root:o,align:a}}function tR(e,t,n,r,o){var a={},i=pJ(e,t,n,o),s=o?"borderLeft":"borderRight";function c(p,m){for(var h=i.nodes(),v=h.pop(),g={};v;)g[v]?p(v):(g[v]=!0,h.push(v),h=h.concat(m(v))),v=h.pop()}function u(p){a[p]=i.inEdges(p).reduce(function(m,h){return Math.max(m,a[h.v]+i.edge(h))},0)}function d(p){var m=i.outEdges(p).reduce(function(v,g){return Math.min(v,a[g.w]-i.edge(g))},Number.POSITIVE_INFINITY),h=e.node(p);m!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(a[p]=Math.max(a[p],m))}return c(u,i.predecessors.bind(i)),c(d,i.successors.bind(i)),qe.forEach(r,function(p){a[p]=a[n[p]]}),a}function pJ(e,t,n,r){var o=new cJ,a=e.graph(),i=mJ(a.nodesep,a.edgesep,r);return qe.forEach(t,function(s){var c;qe.forEach(s,function(u){var d=n[u];if(o.setNode(d),c){var p=n[c],m=o.edge(p,d);o.setEdge(p,d,Math.max(i(e,u,c),m||0))}c=u})}),o}function nR(e,t){return qe.minBy(qe.values(t),function(n){var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return qe.forIn(n,function(a,i){var s=gJ(e,i)/2;r=Math.max(a+s,r),o=Math.min(a-s,o)}),r-o})}function rR(e,t){var n=qe.values(t),r=qe.min(n),o=qe.max(n);qe.forEach(["u","d"],function(a){qe.forEach(["l","r"],function(i){var s=a+i,c=e[s],u;if(c!==t){var d=qe.values(c);u=i==="l"?r-qe.min(d):o-qe.max(d),u&&(e[s]=qe.mapValues(c,function(p){return p+u}))}})})}function oR(e,t){return qe.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var o=qe.sortBy(qe.map(e,r));return(o[1]+o[2])/2})}function hJ(e){var t=uJ.buildLayerMatrix(e),n=qe.merge(ZT(e,t),QT(e,t)),r={},o;qe.forEach(["u","d"],function(i){o=i==="u"?t:qe.values(t).reverse(),qe.forEach(["l","r"],function(s){s==="r"&&(o=qe.map(o,function(p){return qe.values(p).reverse()}));var c=(i==="u"?e.predecessors:e.successors).bind(e),u=eR(e,o,n,c),d=tR(e,o,u.root,u.align,s==="r");s==="r"&&(d=qe.mapValues(d,function(p){return-p})),r[i+s]=d})});var a=nR(e,r);return rR(r,a),oR(r,e.graph().align)}function mJ(e,t,n){return function(r,o,a){var i=r.node(o),s=r.node(a),c=0,u;if(c+=i.width/2,qe.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":u=-i.width/2;break;case"r":u=i.width/2;break}if(u&&(c+=n?u:-u),u=0,c+=(i.dummy?t:e)/2,c+=(s.dummy?t:e)/2,c+=s.width/2,qe.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(c+=n?u:-u),u=0,c}}function gJ(e,t){return e.node(t).width}var Es=gt,aR=yn,vJ=dJ.positionX,yJ=_J;function _J(e){e=aR.asNonCompoundGraph(e),xJ(e),Es.forEach(vJ(e),function(t,n){e.node(n).x=t})}function xJ(e){var t=aR.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Es.forEach(t,function(o){var a=Es.max(Es.map(o,function(i){return e.node(i).height}));Es.forEach(o,function(i){e.node(i).y=r+a/2}),r+=a+n})}var Ve=gt,xE=yZ,wE=IZ,wJ=aQ,bJ=yn.normalizeRanks,CJ=cQ,SJ=yn.removeEmptyRanks,bE=pQ,EJ=_Q,CE=wQ,jJ=iJ,$J=yJ,Oo=yn,TJ=lr.Graph,RJ=kJ;function kJ(e,t){var n=t&&t.debugTiming?Oo.time:Oo.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return qJ(e)});n("  runLayout",function(){NJ(r,n)}),n("  updateInputGraph",function(){PJ(e,r)})})}function NJ(e,t){t("    makeSpaceForEdgeLabels",function(){BJ(e)}),t("    removeSelfEdges",function(){ZJ(e)}),t("    acyclic",function(){xE.run(e)}),t("    nestingGraph.run",function(){bE.run(e)}),t("    rank",function(){wJ(Oo.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){HJ(e)}),t("    removeEmptyRanks",function(){SJ(e)}),t("    nestingGraph.cleanup",function(){bE.cleanup(e)}),t("    normalizeRanks",function(){bJ(e)}),t("    assignRankMinMax",function(){VJ(e)}),t("    removeEdgeLabelProxies",function(){UJ(e)}),t("    normalize.run",function(){wE.run(e)}),t("    parentDummyChains",function(){CJ(e)}),t("    addBorderSegments",function(){EJ(e)}),t("    order",function(){jJ(e)}),t("    insertSelfEdges",function(){QJ(e)}),t("    adjustCoordinateSystem",function(){CE.adjust(e)}),t("    position",function(){$J(e)}),t("    positionSelfEdges",function(){JJ(e)}),t("    removeBorderNodes",function(){XJ(e)}),t("    normalize.undo",function(){wE.undo(e)}),t("    fixupEdgeLabelCoords",function(){KJ(e)}),t("    undoCoordinateSystem",function(){CE.undo(e)}),t("    translateGraph",function(){GJ(e)}),t("    assignNodeIntersects",function(){WJ(e)}),t("    reversePoints",function(){YJ(e)}),t("    acyclic.undo",function(){xE.undo(e)})}function PJ(e,t){Ve.forEach(e.nodes(),function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))}),Ve.forEach(e.edges(),function(n){var r=e.edge(n),o=t.edge(n);r.points=o.points,Ve.has(o,"x")&&(r.x=o.x,r.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var DJ=["nodesep","edgesep","ranksep","marginx","marginy"],AJ={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},IJ=["acyclicer","ranker","rankdir","align"],MJ=["width","height"],OJ={width:0,height:0},LJ=["minlen","weight","width","height","labeloffset"],zJ={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},FJ=["labelpos"];function qJ(e){var t=new TJ({multigraph:!0,compound:!0}),n=E1(e.graph());return t.setGraph(Ve.merge({},AJ,S1(n,DJ),Ve.pick(n,IJ))),Ve.forEach(e.nodes(),function(r){var o=E1(e.node(r));t.setNode(r,Ve.defaults(S1(o,MJ),OJ)),t.setParent(r,e.parent(r))}),Ve.forEach(e.edges(),function(r){var o=E1(e.edge(r));t.setEdge(r,Ve.merge({},zJ,S1(o,LJ),Ve.pick(o,FJ)))}),t}function BJ(e){var t=e.graph();t.ranksep/=2,Ve.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function HJ(e){Ve.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o=e.node(t.w),a={rank:(o.rank-r.rank)/2+r.rank,e:t};Oo.addDummyNode(e,"edge-proxy",a,"_ep")}})}function VJ(e){var t=0;Ve.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Ve.max(t,r.maxRank))}),e.graph().maxRank=t}function UJ(e){Ve.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function GJ(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,a=e.graph(),i=a.marginx||0,s=a.marginy||0;function c(u){var d=u.x,p=u.y,m=u.width,h=u.height;t=Math.min(t,d-m/2),n=Math.max(n,d+m/2),r=Math.min(r,p-h/2),o=Math.max(o,p+h/2)}Ve.forEach(e.nodes(),function(u){c(e.node(u))}),Ve.forEach(e.edges(),function(u){var d=e.edge(u);Ve.has(d,"x")&&c(d)}),t-=i,r-=s,Ve.forEach(e.nodes(),function(u){var d=e.node(u);d.x-=t,d.y-=r}),Ve.forEach(e.edges(),function(u){var d=e.edge(u);Ve.forEach(d.points,function(p){p.x-=t,p.y-=r}),Ve.has(d,"x")&&(d.x-=t),Ve.has(d,"y")&&(d.y-=r)}),a.width=n-t+i,a.height=o-r+s}function WJ(e){Ve.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),o=e.node(t.w),a,i;n.points?(a=n.points[0],i=n.points[n.points.length-1]):(n.points=[],a=o,i=r),n.points.unshift(Oo.intersectRect(r,a)),n.points.push(Oo.intersectRect(o,i))})}function KJ(e){Ve.forEach(e.edges(),function(t){var n=e.edge(t);if(Ve.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function YJ(e){Ve.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function XJ(e){Ve.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),o=e.node(n.borderBottom),a=e.node(Ve.last(n.borderLeft)),i=e.node(Ve.last(n.borderRight));n.width=Math.abs(i.x-a.x),n.height=Math.abs(o.y-r.y),n.x=a.x+n.width/2,n.y=r.y+n.height/2}}),Ve.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function ZJ(e){Ve.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function QJ(e){var t=Oo.buildLayerMatrix(e);Ve.forEach(t,function(n){var r=0;Ve.forEach(n,function(o,a){var i=e.node(o);i.order=a+r,Ve.forEach(i.selfEdges,function(s){Oo.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:i.rank,order:a+ ++r,e:s.e,label:s.label},"_se")}),delete i.selfEdges})})}function JJ(e){Ve.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),o=r.x+r.width/2,a=r.y,i=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*i/3,y:a-s},{x:o+5*i/6,y:a-s},{x:o+i,y:a},{x:o+5*i/6,y:a+s},{x:o+2*i/3,y:a+s}],n.label.x=n.x,n.label.y=n.y}})}function S1(e,t){return Ve.mapValues(Ve.pick(e,t),Number)}function E1(e){var t={};return Ve.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Rc=gt,eee=yn,tee=lr.Graph,nee={debugOrdering:ree};function ree(e){var t=eee.buildLayerMatrix(e),n=new tee({compound:!0,multigraph:!0}).setGraph({});return Rc.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Rc.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Rc.forEach(t,function(r,o){var a="layer"+o;n.setNode(a,{rank:"same"}),Rc.reduce(r,function(i,s){return n.setEdge(i,s,{style:"invis"}),s})}),n}var oee="0.8.5",aee={graphlib:lr,layout:RJ,debug:nee,util:{time:yn.time,notime:yn.notime},version:oee};const iR=ml(aee),iee=({data:e,selected:t})=>{const{table:n,onEdit:r,onDelete:o,onResize:a,onGenerateDDL:i,onApply:s,selected:c}=e,u=c!==void 0?c:t,[d,p]=f.useState(!1),{isDragAndDropFK:m,getPKFieldForFK:h,catalogName:v,schemaName:g}=lt();if(!n)return l.jsx(Z,{className:"table-node error",children:l.jsx(N,{children:"Error: Table data missing"})});const x=f.useCallback(()=>{r&&r(n)},[r,n]),y=f.useCallback(D=>{console.log("Table node clicked:",n.id,"isSelected:",u)},[n.id,u]),_=f.useCallback(()=>{r&&r(n)},[r,n]),w=f.useCallback(()=>{o&&o(n)},[o,n]),b=f.useCallback(()=>{i&&i(n)},[i,n]),S=f.useCallback(()=>{s&&s(n)},[s,n]),k=f.useCallback(D=>{console.log("=== RESIZE START ==="),console.log("Resize handle clicked",{tableId:n.id,currentSize:{width:n.width,height:n.height}}),console.log("Resize event:",D),console.log("onResize function available:",!!a),a?(console.log("Testing onResize immediately..."),a(n.id,(n.width||220)+10,(n.height||180)+10)):console.log("onResize function NOT available!"),D.stopPropagation(),D.preventDefault(),p(!0),console.log("Set isResizing to true");const q=D.clientX,F=D.clientY,A=n.width||220,B=n.height||180,E=I=>{const P=I.clientX-q,z=I.clientY-F,H=Math.max(180,A+P),W=Math.max(120,B+z);a&&a(n.id,H,W)},L=I=>{console.log("Resize pointer up",{tableId:n.id}),p(!1),document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",L),document.removeEventListener("pointercancel",L)};document.addEventListener("pointermove",E),document.addEventListener("pointerup",L),document.addEventListener("pointercancel",L)},[n,a]),j=f.useCallback(D=>{D.preventDefault()},[]),$=D=>{let q=D.data_type;return D.type_parameters&&(q+=`(${D.type_parameters})`),q},C=D=>D.is_primary_key?l.jsx(hB,{size:"12",className:"field-icon pk-icon"}):D.is_foreign_key?l.jsx(f7,{size:"12",className:"field-icon fk-icon"}):null,R=D=>{let q=["table-field"];return D.is_primary_key&&q.push("primary-key"),D.is_foreign_key&&(q.push("foreign-key"),m(D,n.id)&&q.push("inherited-fk")),D.nullable||q.push("not-null"),q.join(" ")};return l.jsxs(Z,{className:`table-node ${u?"selected":""} ${d?"resizing":""}`,style:{width:n.width||220,height:n.height||180,position:"relative"},onDoubleClick:x,onContextMenu:j,onClick:y,children:[l.jsx(In,{type:"target",position:Re.Top,className:"connection-handle",style:{background:"#94a3b8"}}),l.jsx(In,{type:"source",position:Re.Bottom,className:"connection-handle",style:{background:"#94a3b8"}}),l.jsx(In,{type:"target",position:Re.Left,className:"connection-handle",style:{background:"#94a3b8"}}),l.jsx(In,{type:"source",position:Re.Right,className:"connection-handle",style:{background:"#94a3b8"}}),l.jsxs(Z,{className:"table-header",children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsxs(Z,{children:[l.jsx(N,{size:"3",weight:"bold",className:"table-name",children:n.name}),n.catalog_name&&n.catalog_name!==v||n.schema_name&&n.schema_name!==g?l.jsxs(O,{gap:"1",mt:"1",children:[n.catalog_name&&n.catalog_name!==v&&l.jsxs(xe,{color:"purple",size:"1",title:`Catalog: ${n.catalog_name}`,children:["C: ",n.catalog_name]}),n.schema_name&&n.schema_name!==g&&l.jsxs(xe,{color:"orange",size:"1",title:`Schema: ${n.schema_name}`,children:["S: ",n.schema_name]})]}):null]}),l.jsxs(O,{align:"center",gap:"1",children:[l.jsx(xe,{color:"blue",size:"1",children:n.table_type||"MANAGED"}),l.jsxs(Ae.Root,{children:[l.jsx(Ae.Trigger,{children:l.jsx(me,{variant:"ghost",size:"1",className:"table-menu-button",children:l.jsx(Nu,{})})}),l.jsxs(Ae.Content,{children:[l.jsxs(Ae.Item,{onClick:_,children:[l.jsx(al,{})," Edit Table"]}),l.jsxs(Ae.Item,{onClick:b,children:[l.jsx(Pu,{})," Generate DDL"]}),l.jsxs(Ae.Item,{onClick:S,children:[l.jsx(Rd,{})," Apply to Databricks"]}),l.jsx(Ae.Separator,{}),l.jsxs(Ae.Item,{onClick:w,color:"red",children:[l.jsx(Fn,{})," Delete"]})]})]})]})]}),n.logical_name&&l.jsx(N,{size:"1",className:"table-logical-name",children:n.logical_name}),n.comment&&l.jsx(N,{size:"1",className:"table-comment",children:n.comment})]}),l.jsxs(Z,{className:"table-fields",children:[(n.fields||[]).map((D,q)=>l.jsxs(Z,{className:R(D),children:[l.jsxs(O,{align:"center",gap:"1",children:[C(D),l.jsx(N,{size:"2",className:"field-name",children:D.name}),l.jsx(N,{size:"1",className:"field-type",children:$(D)}),!D.nullable&&l.jsx(xe,{color:"red",size:"1",className:"not-null-badge",children:"NOT NULL"})]}),D.comment&&l.jsx(N,{size:"1",className:"field-comment",children:D.comment})]},D.id||q)),(!n.fields||n.fields.length===0)&&l.jsx(Z,{className:"no-fields",children:l.jsx(N,{size:"2",color:"gray",children:"No fields defined"})})]}),l.jsx(Z,{className:"table-footer",children:l.jsxs(O,{justify:"between",align:"center",children:[n.file_format&&n.file_format!=="DELTA"&&l.jsx(xe,{color:"orange",size:"1",children:n.file_format}),Object.keys(n.tags||{}).length>0&&l.jsxs(xe,{color:"green",size:"1",children:[Object.keys(n.tags).length," tag(s)"]}),l.jsxs(Ae.Root,{children:[l.jsx(Ae.Trigger,{children:l.jsx(me,{variant:"ghost",size:"1",className:"table-menu-button",children:l.jsx(Nu,{})})}),l.jsxs(Ae.Content,{children:[l.jsxs(Ae.Item,{onClick:()=>r&&r(n),children:[l.jsx(al,{})," Edit Table"]}),l.jsx(Ae.Separator,{}),l.jsxs(Ae.Item,{color:"red",onClick:()=>o&&o(n.id),children:[l.jsx(Fn,{})," Delete Table"]})]})]})]})}),l.jsx("div",{className:"resize-handle",onPointerDown:D=>{console.log("Resize handle pointerdown fired",{tableId:n.id}),k(D)},style:{opacity:u?.9:.7},title:"Drag to resize table"})]})},see=f.memo(iee),lee=({data:e,selected:t})=>{var $,C,R;const{metricView:n,onEdit:r,onDelete:o,onResize:a,onApply:i,onGenerateDDL:s,selected:c}=e,u=c!==void 0?c:t,[d,p]=f.useState(!1),{catalogName:m,schemaName:h}=lt();if(!n)return l.jsx(Z,{className:"metric-view-node error",children:l.jsx(N,{children:"Error: Metric View data missing"})});const v=f.useCallback(()=>{r&&r(n)},[r,n]),g=f.useCallback(D=>{console.log("Metric View node clicked:",n.id,"isSelected:",u)},[n.id,u]),x=f.useCallback(D=>{if(console.log("=== METRIC VIEW RESIZE START ==="),console.log("Resize handle clicked",{metricViewId:n.id,currentSize:{width:n.width,height:n.height},onResize:!!a,eventType:D.type,button:D.button}),D.preventDefault(),D.stopPropagation(),!a){console.error(" onResize function not provided!");return}p(!0);const q=D.clientX,F=D.clientY,A=n.width||280,B=n.height||220;console.log("Starting resize from:",{startX:q,startY:F,startWidth:A,startHeight:B});const E=I=>{const P=I.clientX-q,z=I.clientY-F,H=Math.max(250,A+P),W=Math.max(200,B+z);console.log("Resizing to:",{newWidth:H,newHeight:W,deltaX:P,deltaY:z}),a&&a(n.id,H,W)},L=I=>{console.log("=== METRIC VIEW RESIZE END ==="),p(!1),document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",L),document.removeEventListener("pointercancel",L)};document.addEventListener("pointermove",E),document.addEventListener("pointerup",L),document.addEventListener("pointercancel",L)},[n,a]),y=f.useCallback(()=>{r&&r(n)},[r,n]),_=f.useCallback(()=>{o&&o(n)},[o,n]),w=f.useCallback(()=>{i&&i(n)},[i,n]),b=f.useCallback(()=>{s&&s(n)},[s,n]),S=(($=n.dimensions)==null?void 0:$.length)||0,k=((C=n.measures)==null?void 0:C.length)||0,j=((R=n.joins)==null?void 0:R.length)||0;return l.jsxs(l.Fragment,{children:[l.jsx(In,{type:"target",position:Re.Left,className:"connection-handle metric-handle",style:{background:"#8b5cf6",border:"2px solid white",top:"50%"}}),l.jsx(In,{type:"source",position:Re.Right,className:"connection-handle metric-handle",style:{background:"#8b5cf6",border:"2px solid white",top:"50%"}}),l.jsxs(Z,{className:`metric-view-node ${u?"selected":""} ${d?"resizing":""}`,onClick:g,onDoubleClick:v,"data-draggable":!d,style:{width:n.width||280,height:n.height||220,pointerEvents:d?"none":"auto"},children:[l.jsxs(O,{className:"metric-view-header",justify:"between",align:"center",children:[l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(tn,{className:"metric-view-icon"}),l.jsxs(Z,{children:[l.jsx(N,{className:"metric-view-name",children:n.name}),n.description&&l.jsx(N,{className:"metric-view-description",children:n.description}),n.catalog_name&&n.catalog_name!==m||n.schema_name&&n.schema_name!==h?l.jsxs(O,{gap:"1",mt:"1",children:[n.catalog_name&&n.catalog_name!==m&&l.jsxs(xe,{color:"purple",size:"1",title:`Catalog: ${n.catalog_name}`,children:["C: ",n.catalog_name]}),n.schema_name&&n.schema_name!==h&&l.jsxs(xe,{color:"orange",size:"1",title:`Schema: ${n.schema_name}`,children:["S: ",n.schema_name]})]}):null]})]}),l.jsxs(Ae.Root,{children:[l.jsx(Ae.Trigger,{children:l.jsx(me,{variant:"ghost",size:"1",className:"metric-view-menu-button",children:l.jsx(Nu,{})})}),l.jsxs(Ae.Content,{children:[l.jsxs(Ae.Item,{onClick:y,children:[l.jsx(al,{})," Edit Metric View"]}),l.jsxs(Ae.Item,{onClick:b,children:[l.jsx(Pu,{})," Generate DDL"]}),l.jsxs(Ae.Item,{onClick:w,children:[l.jsx(Rd,{})," Apply to Databricks"]}),l.jsx(Ae.Separator,{}),l.jsxs(Ae.Item,{onClick:_,color:"red",children:[l.jsx(Fn,{})," Delete"]})]})]})]}),l.jsxs(Z,{className:"metric-view-content",children:[l.jsx(Z,{className:"metric-view-info",children:l.jsxs(O,{justify:"between",align:"center",children:[l.jsxs(xe,{variant:"soft",color:"purple",children:["v",n.version]}),l.jsx(N,{className:"source-info",children:"Source Table"})]})}),S>0&&l.jsxs(Z,{className:"metric-section",children:[l.jsxs(O,{align:"center",gap:"2",className:"section-header",children:[l.jsx(hr,{className:"section-icon dimensions-icon"}),l.jsxs(N,{className:"section-title",children:["Dimensions (",S,")"]})]}),l.jsxs(Z,{className:"section-items",children:[n.dimensions.slice(0,3).map((D,q)=>l.jsxs(Z,{className:"metric-item dimension-item",children:[l.jsx(N,{className:"item-name",children:D.name}),l.jsx(N,{className:"item-expr",children:D.expr})]},D.id||q)),S>3&&l.jsxs(N,{className:"more-items",children:["+",S-3," more"]})]})]}),k>0&&l.jsxs(Z,{className:"metric-section",children:[l.jsxs(O,{align:"center",gap:"2",className:"section-header",children:[l.jsx(tn,{className:"section-icon measures-icon"}),l.jsxs(N,{className:"section-title",children:["Measures (",k,")"]})]}),l.jsxs(Z,{className:"section-items",children:[n.measures.slice(0,3).map((D,q)=>l.jsxs(Z,{className:"metric-item measure-item",children:[l.jsx(N,{className:"item-name",children:D.name}),l.jsx(N,{className:"item-expr",children:D.expr})]},D.id||q)),k>3&&l.jsxs(N,{className:"more-items",children:["+",k-3," more"]})]})]}),S===0&&k===0&&l.jsxs(Z,{className:"empty-metric-view",children:[l.jsx(tn,{className:"empty-icon"}),l.jsx(N,{className:"empty-text",children:"No dimensions or measures defined"}),l.jsx(N,{className:"empty-subtext",children:"Double-click to configure"})]})]}),l.jsx(Z,{className:"metric-view-footer",children:l.jsxs(O,{justify:"between",align:"center",children:[l.jsxs(O,{gap:"2",children:[j>0&&l.jsxs(xe,{variant:"outline",size:"1",children:[j," join",j!==1?"s":""]}),n.filter&&l.jsx(xe,{variant:"outline",size:"1",color:"orange",children:"filtered"})]}),l.jsx(N,{className:"metric-view-type",children:"Metric View"})]})}),l.jsx("div",{className:"resize-handle",onPointerDown:D=>{console.log(" Resize handle pointerdown fired",{metricViewId:n.id}),x(D)},style:{opacity:u?.9:.7},title:"Drag to resize metric view"})]})]})},cee=f.memo(lee),uee=({data:e,selected:t})=>{const{traditionalView:n,onEdit:r,onDelete:o,onResize:a,onApply:i,onGenerateDDL:s,width:c=250,height:u=180}=e,[d,p]=f.useState(!1),{catalogName:m,schemaName:h}=lt(),v=f.useCallback(x=>{if(console.log("=== TRADITIONAL VIEW RESIZE START ==="),console.log("Resize handle clicked",{traditionalViewId:n.id,currentSize:{width:c,height:u},onResize:!!a,eventType:x.type,button:x.button}),x.preventDefault(),x.stopPropagation(),!a){console.error(" onResize function not provided!");return}p(!0);const y=x.clientX,_=x.clientY,w=c||250,b=u||180;console.log("Starting resize from:",{startX:y,startY:_,startWidth:w,startHeight:b});const S=j=>{const $=j.clientX-y,C=j.clientY-_,R=Math.max(200,w+$),D=Math.max(150,b+C);console.log("Resizing to:",{newWidth:R,newHeight:D,deltaX:$,deltaY:C}),a&&a(n.id,R,D)},k=j=>{console.log("=== TRADITIONAL VIEW RESIZE END ==="),p(!1),document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",k),document.removeEventListener("pointercancel",k)};document.addEventListener("pointermove",S),document.addEventListener("pointerup",k),document.addEventListener("pointercancel",k)},[n.id,a,c,u]);if(!n)return l.jsx(Ke,{style:{width:c,height:u,border:"2px solid #ef4444"},children:l.jsx(O,{direction:"column",align:"center",justify:"center",style:{height:"100%"},children:l.jsx(N,{color:"red",children:"Invalid View Data"})})});const g=n.sql_query&&n.sql_query.length>100?n.sql_query.substring(0,100)+"...":n.sql_query||"No SQL query defined";return l.jsxs(l.Fragment,{children:[l.jsx(In,{type:"target",position:Re.Top,style:{background:"#10b981",width:8,height:8}}),l.jsx(In,{type:"source",position:Re.Bottom,style:{background:"#10b981",width:8,height:8}}),l.jsxs(Ke,{style:{width:c,height:u,border:t?"2px solid #10b981":"1px solid #d1d5db",background:"linear-gradient(135deg, #f0fdf4, #dcfce7)",cursor:d?"nw-resize":"default",position:"relative"},children:[l.jsxs(O,{direction:"column",style:{height:"100%",padding:"8px"},children:[l.jsxs(O,{justify:"between",align:"center",style:{marginBottom:"8px"},children:[l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(hr,{style:{color:"#10b981"}}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",style:{color:"#065f46"},children:n.name||"Unnamed View"}),n.catalog_name&&n.catalog_name!==m||n.schema_name&&n.schema_name!==h?l.jsxs(O,{gap:"1",mt:"1",children:[n.catalog_name&&n.catalog_name!==m&&l.jsxs(xe,{color:"purple",size:"1",title:`Catalog: ${n.catalog_name}`,children:["C: ",n.catalog_name]}),n.schema_name&&n.schema_name!==h&&l.jsxs(xe,{color:"orange",size:"1",title:`Schema: ${n.schema_name}`,children:["S: ",n.schema_name]})]}):null]})]}),l.jsxs(Ae.Root,{children:[l.jsx(Ae.Trigger,{children:l.jsx(Cn,{variant:"ghost",size:"1",children:l.jsx(Nu,{})})}),l.jsxs(Ae.Content,{children:[l.jsxs(Ae.Item,{onClick:()=>r&&r(n),children:[l.jsx(al,{})," Edit View"]}),l.jsxs(Ae.Item,{onClick:()=>s&&s(n),children:[l.jsx(u7,{})," Generate DDL"]}),l.jsxs(Ae.Item,{onClick:()=>i&&i(n),children:[l.jsx(Rd,{})," Apply to Databricks"]}),l.jsx(Ae.Separator,{}),l.jsxs(Ae.Item,{onClick:()=>o&&o(n.id),color:"red",children:[l.jsx(Fn,{})," Delete View"]})]})]})]}),l.jsx(Ln,{style:{margin:"4px 0"}}),l.jsx(O,{justify:"start",style:{marginBottom:"8px"},children:l.jsx(xe,{color:"green",variant:"soft",size:"1",children:"Traditional View"})}),n.description&&l.jsx(N,{size:"1",color:"gray",style:{marginBottom:"8px",fontStyle:"italic"},children:n.description.length>60?n.description.substring(0,60)+"...":n.description}),l.jsx(Z,{style:{flex:1,background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"4px",padding:"6px",fontSize:"10px",fontFamily:"monospace",overflow:"hidden"},children:l.jsx(N,{size:"1",style:{color:"#374151",lineHeight:"1.2"},children:g})}),n.referenced_table_names&&n.referenced_table_names.length>0&&l.jsx(Z,{style:{marginTop:"6px"},children:l.jsxs(N,{size:"1",color:"gray",style:{fontSize:"9px"},children:["References: ",n.referenced_table_names.slice(0,2).join(", "),n.referenced_table_names.length>2&&` +${n.referenced_table_names.length-2} more`]})}),n.tags&&Object.keys(n.tags).length>0&&l.jsx(O,{gap:"1",wrap:"wrap",style:{marginTop:"4px"},children:Object.entries(n.tags).slice(0,2).map(([x,y])=>l.jsxs(xe,{color:"gray",variant:"soft",size:"1",style:{fontSize:"8px"},children:[x,": ",y]},x))})]}),l.jsx("div",{className:"resize-handle",onPointerDown:x=>{console.log(" Resize handle pointerdown fired",{traditionalViewId:n.id}),v(x)},style:{opacity:t?.9:.7},title:"Drag to resize traditional view"})]})]})},dee=({showDialog:e,setShowDialog:t,sourceTable:n,targetTable:r,onConfirm:o})=>{var x;lt();const[a,i]=f.useState({fkFieldName:"",useExistingField:!1,existingFieldId:null,createNewField:!0}),[s,c]=f.useState({});f.useEffect(()=>{var y,_;if(e&&n&&r){const w=(y=n.fields)==null?void 0:y.find(k=>k.is_primary_key),b=w?w.name:`${n.name.toLowerCase()}_id`,S=(_=r.fields)==null?void 0:_.find(k=>k.name===b);i({fkFieldName:b,useExistingField:!!S,existingFieldId:(S==null?void 0:S.id)||null,createNewField:!S}),c({})}},[e,n,r]);const u=()=>{var _;const y={};return a.createNewField?a.fkFieldName.trim()?(_=r.fields)!=null&&_.find(b=>b.name.toLowerCase()===a.fkFieldName.toLowerCase())&&(y.fkFieldName="A field with this name already exists in the target table"):y.fkFieldName="FK field name is required":a.useExistingField?a.existingFieldId||(y.existingField="Please select an existing field to convert to FK"):y.general="Please choose to either create a new field or use an existing field",c(y),Object.keys(y).length===0},d=()=>{var b;if(!u())return;const y=(b=n.fields)==null?void 0:b.find(S=>S.is_primary_key);if(!y){c({general:"Source table must have a primary key"});return}let _=a.fkFieldName;if(a.useExistingField&&a.existingFieldId){const S=v.find(k=>k.id===a.existingFieldId);S&&(_=S.name)}const w={sourceTable:n,targetTable:r,primaryKey:y,fkFieldName:_,useExistingField:a.useExistingField,existingFieldId:a.existingFieldId,createNewField:a.createNewField};o(w),t(!1)},p=()=>{t(!1),i({fkFieldName:"",useExistingField:!1,existingFieldId:null,createNewField:!0}),c({})},m=()=>{var y;return r?((y=r.fields)==null?void 0:y.filter(_=>!_.is_primary_key&&!_.is_foreign_key))||[]:[]},h=y=>{var w;const _=(w=n==null?void 0:n.fields)==null?void 0:w.find(b=>b.is_primary_key);return _&&y.data_type===_.data_type},v=m();if(!e||!n||!r)return null;const g=(x=n.fields)==null?void 0:x.find(y=>y.is_primary_key);return l.jsx(ye.Root,{open:e,onOpenChange:t,children:l.jsxs(ye.Content,{style:{maxWidth:"500px"},children:[l.jsx(ye.Title,{children:"Create Relationship"}),l.jsxs(ye.Description,{size:"2",mb:"4",children:["Configure the foreign key relationship between ",n.name," and ",r.name]}),s.general&&l.jsx(Z,{mb:"3",children:l.jsx(N,{size:"2",color:"red",children:s.general})}),l.jsx(Z,{mb:"4",children:l.jsx(Ke,{children:l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(N,{size:"2",weight:"bold",children:"Relationship Details"}),l.jsxs(N,{size:"1",color:"gray",children:["From: ",l.jsx("strong",{children:n.name})," (Primary Key: ",(g==null?void 0:g.name)||"None",")"]}),l.jsxs(N,{size:"1",color:"gray",children:["To: ",l.jsx("strong",{children:r.name})," (Foreign Key will be created)"]})]})})}),g?l.jsx(l.Fragment,{children:l.jsxs(Z,{mb:"4",children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Field Creation Options"}),l.jsxs(O,{direction:"column",gap:"3",children:[l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(Yt,{checked:a.createNewField,onCheckedChange:y=>{var _;return i({...a,createNewField:y,useExistingField:!y,existingFieldId:y?null:((_=v[0])==null?void 0:_.id)||null})}}),l.jsx(N,{size:"2",children:"Create new field"})]}),a.createNewField&&l.jsxs(Z,{ml:"4",children:[l.jsx(N,{size:"1",color:"gray",mb:"1",children:"Field Name"}),l.jsx($e.Input,{value:a.fkFieldName,onChange:y=>i({...a,fkFieldName:y.target.value}),placeholder:"Enter FK field name",size:"2"}),s.fkFieldName&&l.jsx(N,{size:"1",color:"red",mt:"1",children:s.fkFieldName})]}),l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(Yt,{checked:a.useExistingField,onCheckedChange:y=>{var _;return i({...a,useExistingField:y,createNewField:!y,existingFieldId:y&&((_=v[0])==null?void 0:_.id)||null})}}),l.jsx(N,{size:"2",children:"Use existing field"})]}),a.useExistingField&&l.jsx(Z,{ml:"4",children:v.length>0?l.jsxs(l.Fragment,{children:[l.jsx(N,{size:"1",color:"gray",mb:"1",children:"Select Field"}),l.jsxs(U.Root,{value:a.existingFieldId||"",onValueChange:y=>i({...a,existingFieldId:y}),children:[l.jsx(U.Trigger,{placeholder:"Select existing field"}),l.jsx(U.Content,{children:v.map(y=>{const _=h(y);return l.jsx(U.Item,{value:y.id,children:l.jsxs(O,{align:"center",justify:"between",style:{width:"100%"},children:[l.jsxs(N,{children:[y.name," (",y.data_type,")"]}),!_&&l.jsx(N,{size:"1",color:"orange",children:" Type mismatch"})]})},y.id)})})]}),s.existingField&&l.jsx(N,{size:"1",color:"red",mt:"1",children:s.existingField})]}):l.jsx(N,{size:"1",color:"gray",children:"No existing fields available (all fields are either PK or FK)"})})]})]})}):l.jsx(Z,{mb:"4",children:l.jsxs(N,{size:"2",color:"red",children:['Cannot create relationship: Table "',n.name,'" must have a primary key.']})}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",onClick:p,children:"Cancel"})}),l.jsx(me,{onClick:d,disabled:!g,children:"Create Relationship"})]})]})})},fee=({isOpen:e,onClose:t,title:n="Operation Failed",message:r="An error occurred",details:o=null,errors:a=[]})=>l.jsx(ye.Root,{open:e,onOpenChange:t,children:l.jsxs(ye.Content,{style:{maxWidth:"600px",maxHeight:"80vh"},children:[l.jsx(ye.Title,{children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(d7,{color:"red",width:"20",height:"20"}),l.jsx(N,{size:"4",weight:"bold",color:"red",children:n})]})}),l.jsx(ye.Description,{size:"2",mb:"4",color:"gray",children:r}),o&&l.jsx(Z,{mb:"4",children:l.jsx(Ke,{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",padding:"12px"},children:l.jsx(N,{size:"2",color:"red",children:o})})}),a&&a.length>0&&l.jsxs(Z,{mb:"4",children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Error Details:"}),l.jsx(Xt,{style:{maxHeight:"300px"},children:l.jsx(O,{direction:"column",gap:"2",children:a.map((i,s)=>l.jsx(Ke,{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",padding:"8px"},children:l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"2",weight:"bold",color:"red",children:i.title||`Error ${s+1}`}),l.jsx(N,{size:"1",color:"red",style:{fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:i.message||i})]})},s))})})]}),l.jsx(O,{gap:"3",mt:"4",justify:"end",children:l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",children:"Close"})})})]})}),pee=({open:e,onClose:t,onSave:n,initialJoin:r=null,availableTables:o=[],sourceTableColumns:a=[],mode:i="create"})=>{const[s,c]=f.useState({name:"",description:"",joined_table_name:"",join_alias:"",join_type:"LEFT",sql_on:"",left_columns:[""],right_columns:[""],join_operators:["="],additional_conditions:"",broadcast_hint:!1,bucket_hint:"",sort_merge_hint:!1}),[u,d]=f.useState("basic"),[p,m]=f.useState([{left_column:"",operator:"=",right_column:""}]),[h,v]=f.useState([]);f.useEffect(()=>{if(e)if(r&&i==="edit"){if(console.log(" Loading join for editing:",r),c({name:r.name||"",description:r.description||"",joined_table_name:r.joined_table_name||"",join_alias:r.join_alias||"",join_type:r.join_type||"LEFT",sql_on:r.sql_on||"",left_columns:r.left_columns||[""],right_columns:r.right_columns||[""],join_operators:r.join_operators||["="],additional_conditions:r.additional_conditions||"",broadcast_hint:r.broadcast_hint||!1,bucket_hint:r.bucket_hint||"",sort_merge_hint:r.sort_merge_hint||!1}),r.left_columns&&r.right_columns){const C=r.left_columns.map((R,D)=>{var q;return{left_column:R,operator:((q=r.join_operators)==null?void 0:q[D])||"=",right_column:r.right_columns[D]||""}});m(C.length>0?C:[{left_column:"",operator:"=",right_column:""}])}}else c({name:"",description:"",joined_table_name:"",join_alias:"",join_type:"LEFT",sql_on:"",left_columns:[""],right_columns:[""],join_operators:["="],additional_conditions:"",broadcast_hint:!1,bucket_hint:"",sort_merge_hint:!1}),m([{left_column:"",operator:"=",right_column:""}])},[e,r,i]),f.useEffect(()=>{if(s.joined_table_name){const C=o.find(R=>`${R.catalog_name||"catalog"}.${R.schema_name||"schema"}.${R.name}`===s.joined_table_name||R.name===s.joined_table_name);v(C?C.fields||[]:[])}},[s.joined_table_name,o]);const g=f.useCallback((C,R)=>{c(D=>({...D,[C]:R}))},[]),x=f.useCallback((C,R,D)=>{m(q=>q.map((F,A)=>A===C?{...F,[R]:D}:F))},[]),y=f.useCallback(()=>{m(C=>[...C,{left_column:"",operator:"=",right_column:""}])},[]),_=f.useCallback(C=>{p.length>1&&m(R=>R.filter((D,q)=>q!==C))},[p.length]),w=f.useCallback(()=>{if(!s.joined_table_name)return"";let C=s.join_type+" JOIN";const R=[];s.broadcast_hint&&R.push("BROADCAST"),s.bucket_hint&&R.push(`BUCKET(${s.bucket_hint})`),s.sort_merge_hint&&R.push("MERGE"),R.length>0&&(C+=` /*+ ${R.join(", ")} */`);let D=s.joined_table_name;s.join_alias&&(D+=` AS ${s.join_alias}`);let q="";return s.sql_on.trim()?q=s.sql_on:(q=p.filter(A=>A.left_column&&A.right_column).map(A=>{const B="base",E=s.join_alias||s.joined_table_name.split(".").pop();return`${B}.${A.left_column} ${A.operator} ${E}.${A.right_column}`}).join(" AND "),s.additional_conditions.trim()&&(q+=q?` AND ${s.additional_conditions}`:s.additional_conditions)),`${C} ${D} ON ${q}`},[s,p]),b=f.useCallback(()=>{console.log(" Saving join configuration:",s);const C=p.map(F=>F.left_column).filter(Boolean),R=p.map(F=>F.right_column).filter(Boolean),D=p.map(F=>F.operator),q={...s,left_columns:C,right_columns:R,join_operators:D,sql_on:s.sql_on||w().split(" ON ")[1]||""};n(q),t()},[s,p,n,t,w]),S=f.useCallback(()=>{t()},[t]),k=s.name.trim()&&s.joined_table_name.trim()&&(s.sql_on.trim()||p.some(C=>C.left_column&&C.right_column)),j=[{value:"LEFT",label:"LEFT JOIN",description:"Include all rows from left table"},{value:"INNER",label:"INNER JOIN",description:"Only matching rows from both tables"},{value:"RIGHT",label:"RIGHT JOIN",description:"Include all rows from right table"},{value:"FULL",label:"FULL OUTER JOIN",description:"Include all rows from both tables"},{value:"CROSS",label:"CROSS JOIN",description:"Cartesian product of both tables"}],$=["=","!=","<","<=",">",">=","LIKE","NOT LIKE"];return l.jsx(ye.Root,{open:e,onOpenChange:t,children:l.jsxs(ye.Content,{style:{maxWidth:"900px",maxHeight:"80vh"},children:[l.jsx(ye.Title,{children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(Bv,{}),i==="edit"?"Edit Join Configuration":"Configure Advanced Join"]})}),l.jsx(ye.Description,{children:"Configure complex joins with multiple conditions, performance hints, and custom SQL."}),l.jsxs(We.Root,{value:u,onValueChange:d,style:{marginTop:"16px"},children:[l.jsxs(We.List,{children:[l.jsxs(We.Trigger,{value:"basic",children:[l.jsx(uB,{})," Basic Info"]}),l.jsxs(We.Trigger,{value:"conditions",children:[l.jsx(Bv,{})," Join Conditions"]}),l.jsxs(We.Trigger,{value:"performance",children:[l.jsx(ol,{})," Performance Hints"]}),l.jsxs(We.Trigger,{value:"sql",children:[l.jsx(u7,{})," SQL Preview"]})]}),l.jsx(We.Content,{value:"basic",children:l.jsx(Z,{style:{padding:"16px 0"},children:l.jsxs(O,{direction:"column",gap:"4",children:[l.jsxs(O,{gap:"3",children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",children:"Join Name *"}),l.jsx("input",{type:"text",value:s.name,onChange:C=>g("name",C.target.value),placeholder:"e.g., customer_orders",style:{padding:"8px 12px",border:"1px solid var(--gray-6)",borderRadius:"6px",fontSize:"14px"}})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",children:"Description"}),l.jsx("input",{type:"text",value:s.description,onChange:C=>g("description",C.target.value),placeholder:"Purpose of this join",style:{padding:"8px 12px",border:"1px solid var(--gray-6)",borderRadius:"6px",fontSize:"14px"}})]})]}),l.jsxs(O,{gap:"3",children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:2},children:[l.jsx(N,{size:"2",weight:"medium",children:"Joined Table *"}),l.jsxs(U.Root,{value:s.joined_table_name,onValueChange:C=>g("joined_table_name",C),children:[l.jsx(U.Trigger,{style:{width:"100%"}}),l.jsx(U.Content,{children:o.map(C=>{const R=`${C.catalog_name||"catalog"}.${C.schema_name||"schema"}.${C.name}`;return l.jsx(U.Item,{value:R,children:C.name},C.id)})})]}),l.jsx("input",{type:"text",value:s.joined_table_name,onChange:C=>g("joined_table_name",C.target.value),placeholder:"Or enter: catalog.schema.table",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",children:"Table Alias"}),l.jsx("input",{type:"text",value:s.join_alias,onChange:C=>g("join_alias",C.target.value),placeholder:"e.g., cust",style:{padding:"8px 12px",border:"1px solid var(--gray-6)",borderRadius:"6px",fontSize:"14px"}})]})]}),l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"2",weight:"medium",children:"Join Type"}),l.jsxs(U.Root,{value:s.join_type,onValueChange:C=>g("join_type",C),children:[l.jsx(U.Trigger,{style:{width:"300px"}}),l.jsx(U.Content,{children:j.map(C=>l.jsx(U.Item,{value:C.value,children:C.label},C.value))})]})]})]})})}),l.jsx(We.Content,{value:"conditions",children:l.jsx(Z,{style:{padding:"16px 0"},children:l.jsxs(O,{direction:"column",gap:"4",children:[l.jsxs(Z,{children:[l.jsxs(O,{align:"center",justify:"between",style:{marginBottom:"12px"},children:[l.jsx(N,{size:"2",weight:"medium",children:"Join Conditions"}),l.jsxs(me,{size:"1",onClick:y,children:[l.jsx(yr,{})," Add Condition"]})]}),l.jsx(O,{direction:"column",gap:"2",children:p.map((C,R)=>l.jsx(Ke,{style:{padding:"12px"},children:l.jsxs(O,{align:"center",gap:"3",children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Left Column (Source)"}),l.jsxs(U.Root,{value:C.left_column,onValueChange:D=>x(R,"left_column",D),children:[l.jsx(U.Trigger,{}),l.jsx(U.Content,{children:a.map(D=>l.jsxs(U.Item,{value:D.name,children:[D.name," (",D.data_type,")"]},D.name))})]})]}),l.jsxs(O,{direction:"column",gap:"1",style:{minWidth:"80px"},children:[l.jsx(N,{size:"1",children:"Operator"}),l.jsxs(U.Root,{value:C.operator,onValueChange:D=>x(R,"operator",D),children:[l.jsx(U.Trigger,{}),l.jsx(U.Content,{children:$.map(D=>l.jsx(U.Item,{value:D,children:D},D))})]})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Right Column (Joined)"}),l.jsxs(U.Root,{value:C.right_column,onValueChange:D=>x(R,"right_column",D),children:[l.jsx(U.Trigger,{}),l.jsx(U.Content,{children:h.length>0?h.map(D=>l.jsxs(U.Item,{value:D.name,children:[D.name," (",D.data_type,")"]},D.name)):l.jsx(U.Item,{value:"",disabled:!0,children:"Select a table first"})})]})]}),l.jsx(me,{size:"1",variant:"ghost",color:"red",onClick:()=>_(R),disabled:p.length===1,children:l.jsx(Fn,{})})]})},R))})]}),l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"2",weight:"medium",children:"Additional Conditions (Optional)"}),l.jsx(br,{value:s.additional_conditions,onChange:C=>g("additional_conditions",C.target.value),placeholder:"e.g., joined_table.status = 'ACTIVE' AND joined_table.created_date > '2023-01-01'",style:{fontFamily:"monospace",fontSize:"12px"},rows:3})]}),l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"2",weight:"medium",children:"Manual SQL ON Condition (Override)"}),l.jsx(N,{size:"1",color:"gray",children:"If specified, this will override the visual conditions above"}),l.jsx(br,{value:s.sql_on,onChange:C=>g("sql_on",C.target.value),placeholder:"e.g., base.customer_id = cust.id AND base.region = cust.region",style:{fontFamily:"monospace",fontSize:"12px"},rows:2})]})]})})}),l.jsx(We.Content,{value:"performance",children:l.jsx(Z,{style:{padding:"16px 0"},children:l.jsxs(O,{direction:"column",gap:"4",children:[l.jsx(N,{size:"2",weight:"medium",children:"Performance Optimization Hints"}),l.jsx(Ke,{style:{padding:"16px"},children:l.jsxs(O,{align:"center",justify:"between",children:[l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"2",weight:"medium",children:"Broadcast Join"}),l.jsx(N,{size:"1",color:"gray",children:"Use when the joined table is small (< 10MB). Forces broadcast of the table to all nodes."})]}),l.jsx(kv,{checked:s.broadcast_hint,onCheckedChange:C=>g("broadcast_hint",C)})]})}),l.jsx(Ke,{style:{padding:"16px"},children:l.jsxs(O,{align:"center",justify:"between",children:[l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"2",weight:"medium",children:"Sort-Merge Join"}),l.jsx(N,{size:"1",color:"gray",children:"Use when both tables are large and sorted on join keys. Good for equi-joins."})]}),l.jsx(kv,{checked:s.sort_merge_hint,onCheckedChange:C=>g("sort_merge_hint",C)})]})}),l.jsx(Ke,{style:{padding:"16px"},children:l.jsxs(O,{direction:"column",gap:"3",children:[l.jsx(O,{align:"center",justify:"between",children:l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"2",weight:"medium",children:"Bucket Join"}),l.jsx(N,{size:"1",color:"gray",children:"Use when tables are bucketed on join keys. Specify the number of buckets."})]})}),l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"1",children:"Number of Buckets"}),l.jsx("input",{type:"text",value:s.bucket_hint,onChange:C=>g("bucket_hint",C.target.value),placeholder:"e.g., 16",style:{padding:"8px 12px",border:"1px solid var(--gray-6)",borderRadius:"6px",fontSize:"14px",width:"120px"}})]})]})})]})})}),l.jsx(We.Content,{value:"sql",children:l.jsx(Z,{style:{padding:"16px 0"},children:l.jsxs(O,{direction:"column",gap:"3",children:[l.jsx(N,{size:"2",weight:"medium",children:"Generated SQL Preview"}),l.jsx(Z,{style:{padding:"16px",background:"var(--gray-2)",borderRadius:"8px",border:"1px solid var(--gray-6)",fontFamily:"monospace",fontSize:"13px",lineHeight:"1.5"},children:l.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:w()||"Configure join details to see SQL preview"})}),l.jsxs(Z,{children:[!s.name.trim()&&l.jsx(N,{size:"1",color:"red",children:" Join name is required"}),!s.joined_table_name.trim()&&l.jsx(N,{size:"1",color:"red",children:" Joined table is required"}),!s.sql_on.trim()&&!p.some(C=>C.left_column&&C.right_column)&&l.jsx(N,{size:"1",color:"red",children:" At least one join condition is required"}),k&&l.jsx(N,{size:"1",color:"green",children:" Join configuration is valid"})]})]})})})]}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",onClick:S,children:"Cancel"})}),l.jsxs(me,{onClick:b,disabled:!k,children:[l.jsx(c7,{}),i==="edit"?"Update Join":"Create Join"]})]})]})})},hee=({open:e,onClose:t,metricView:n=null,sourceTableId:r=null,onSave:o})=>{var Ee,we;const{tables:a,currentProject:i,catalogName:s,schemaName:c,availableCatalogs:u,availableSchemas:d,loadCatalogs:p,loadSchemas:m}=lt(),[h,v]=f.useState({name:"",description:"",version:"0.1",source_table_id:r||"",filter:"",catalog_name:"",schema_name:"",dimensions:[],measures:[],joins:[],tags:{},height:220}),[g,x]=f.useState("basic"),[y,_]=f.useState({}),[w,b]=f.useState(!1),[S,k]=f.useState(null),[j,$]=f.useState("create"),C=f.useCallback((T,V,M)=>{const G=T.length+V.length+M.length;return Math.max(220,150+G*20)},[]),R=f.useCallback(()=>{const T=[],V=a.find(M=>M.id===h.source_table_id);return V&&V.fields&&V.fields.forEach(M=>{T.push({value:M.name,label:`${M.name} (${M.type||"UNKNOWN"})`,description:M.comment||"",table:V.name,type:M.type||"UNKNOWN",category:"source"})}),h.joins.forEach(M=>{const G=a.find(ne=>ne.name===M.joined_table_name);if(G&&G.fields){const ne=M.join_alias||M.joined_table_name;G.fields.forEach(re=>{T.push({value:`${ne}.${re.name}`,label:`${ne}.${re.name} (${re.type||"UNKNOWN"})`,description:re.comment||"",table:G.name,type:re.type||"UNKNOWN",category:"joined"})})}}),T},[a,h.source_table_id,h.joins]);f.useEffect(()=>{e&&p()},[e,p]),f.useEffect(()=>{h.catalog_name&&m(h.catalog_name)},[h.catalog_name,m]),f.useEffect(()=>{if(e){if(n){const T=n.dimensions||[],V=n.measures||[],M=n.joins||[];v({name:n.name||"",description:n.description||"",version:n.version||"0.1",source_table_id:n.source_table_id||r||"",filter:n.filter||"",catalog_name:n.catalog_name||"",schema_name:n.schema_name||"",dimensions:T,measures:V,joins:M,tags:n.tags||{},height:n.height||Math.max(220,150+(T.length+V.length+M.length)*20)})}else v({name:"",description:"",catalog_name:s||"",schema_name:c||"",version:"0.1",source_table_id:r||"",filter:"",dimensions:[],measures:[],joins:[],tags:{},height:220});_({})}},[e,n,r]);const D=a.find(T=>T.id===h.source_table_id),q=(D==null?void 0:D.fields)||[],F=f.useCallback(()=>{const T={};return h.name.trim()||(T.name="Name is required"),h.source_table_id||(T.source_table_id="Source table is required"),h.dimensions.length===0&&h.measures.length===0&&(T.content="At least one dimension or measure is required"),h.dimensions.forEach((V,M)=>{var G,ne;(G=V.name)!=null&&G.trim()||(T[`dimension_${M}_name`]="Dimension name is required"),(ne=V.expr)!=null&&ne.trim()||(T[`dimension_${M}_expr`]="Dimension expression is required")}),h.measures.forEach((V,M)=>{var G,ne;(G=V.name)!=null&&G.trim()||(T[`measure_${M}_name`]="Measure name is required"),(ne=V.expr)!=null&&ne.trim()||(T[`measure_${M}_expr`]="Measure expression is required")}),_(T),Object.keys(T).length===0},[h]),A=f.useCallback((T,V)=>{v(M=>{const G={...M,[T]:V};return T==="catalog_name"&&(G.schema_name=""),G}),y[T]&&_(M=>({...M,[T]:void 0}))},[y]),B=f.useCallback(()=>{if(!D||!D.fields)return;const T=[],V=[];D.fields.forEach(M=>{var ne;const G=((ne=M.type)==null?void 0:ne.toUpperCase())||"";G.includes("STRING")||G.includes("VARCHAR")||G.includes("CHAR")?T.push({id:`dim_${Date.now()}_${M.name}`,name:M.name.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase()),expr:M.name,description:M.comment||`Dimension based on ${M.name}`}):(G.includes("DATE")||G.includes("TIMESTAMP"))&&(T.push({id:`dim_${Date.now()}_${M.name}`,name:`${M.name.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase())}`,expr:M.name,description:M.comment||`Date dimension based on ${M.name}`}),T.push({id:`dim_${Date.now()}_${M.name}_month`,name:`${M.name.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase())} Month`,expr:`DATE_TRUNC('MONTH', ${M.name})`,description:`Monthly grouping of ${M.name}`})),["INT","BIGINT","FLOAT","DOUBLE","DECIMAL","NUMERIC"].some(re=>G.includes(re))&&!M.name.toLowerCase().includes("key")&&!M.name.toLowerCase().includes("id")&&(V.push({id:`msr_${Date.now()}_${M.name}_sum`,name:`Total ${M.name.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase())}`,expr:M.name,aggregation_type:"SUM",description:M.comment||`Sum of ${M.name}`,is_window_measure:!1}),V.push({id:`msr_${Date.now()}_${M.name}_avg`,name:`Average ${M.name.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase())}`,expr:M.name,aggregation_type:"AVG",description:M.comment||`Average of ${M.name}`,is_window_measure:!1}))}),V.push({id:`msr_${Date.now()}_count`,name:"Record Count",expr:"COUNT(*)",aggregation_type:"COUNT",description:"Total number of records",is_window_measure:!1}),v(M=>{const G=[...M.dimensions,...T],ne=[...M.measures,...V];return{...M,dimensions:G,measures:ne,height:C(G,ne,M.joins)}}),alert(` Smart Setup Complete!

Added:
 ${T.length} dimensions
 ${V.length} measures

You can customize them in the Dimensions and Measures tabs.`)},[D,C]),E=f.useCallback(()=>{const T={id:`dim_${Date.now()}`,name:"",expr:"",description:"",data_type:null};v(V=>{const M=[...V.dimensions,T];return{...V,dimensions:M,height:C(M,V.measures,V.joins)}})},[C]),L=f.useCallback((T,V,M)=>{v(G=>({...G,dimensions:G.dimensions.map((ne,re)=>re===T?{...ne,[V]:M}:ne)}))},[]),I=f.useCallback(T=>{v(V=>{const M=V.dimensions.filter((G,ne)=>ne!==T);return{...V,dimensions:M,height:C(M,V.measures,V.joins)}})},[C]),P=f.useCallback(()=>{const T={id:`measure_${Date.now()}`,name:"",expr:"",description:"",aggregation_type:"SUM",is_window_measure:!1,data_type:null};v(V=>{const M=[...V.measures,T];return{...V,measures:M,height:C(V.dimensions,M,V.joins)}})},[C]),z=f.useCallback((T,V,M)=>{v(G=>({...G,measures:G.measures.map((ne,re)=>re===T?{...ne,[V]:M}:ne)}))},[]),H=f.useCallback(T=>{v(V=>{const M=V.measures.filter((G,ne)=>ne!==T);return{...V,measures:M,height:C(V.dimensions,M,V.joins)}})},[C]),W=f.useCallback(()=>{k(null),$("create"),b(!0)},[]),J=f.useCallback((T,V)=>{k({...T,_index:V}),$("edit"),b(!0)},[]),ce=f.useCallback(T=>{var V;if(console.log(" Saving join data:",T),j==="create"){const M={id:`join_${Date.now()}`,name:T.name||((V=T.joined_table_name)==null?void 0:V.split(".").pop())||"unnamed_join",...T};v(G=>({...G,joins:[...G.joins,M]}))}else if(j==="edit"&&S){const M=S._index;v(G=>({...G,joins:G.joins.map((ne,re)=>{var oe;return re===M?{...ne,...T,name:T.name||ne.name||((oe=T.joined_table_name)==null?void 0:oe.split(".").pop())||"unnamed_join"}:ne})}))}b(!1),k(null)},[j,S]),fe=f.useCallback(()=>{b(!1),k(null)},[]),pe=f.useCallback(T=>{v(V=>({...V,joins:V.joins.filter((M,G)=>G!==T)}))},[]),ie=f.useCallback((T,V,M)=>{v(G=>({...G,joins:G.joins.map((ne,re)=>{if(re===T){const oe={...ne,[V]:M};return!oe.name&&oe.joined_table_name&&(oe.name=oe.joined_table_name.split(".").pop()),oe}return ne})}))},[]),ge=f.useCallback(()=>{if(!F())return;const T={...h,id:(n==null?void 0:n.id)||`mv_${Date.now()}`,created_at:(n==null?void 0:n.created_at)||new Date().toISOString(),updated_at:new Date().toISOString()};console.log(" Saving metric view:",T),o&&o(T),t()},[h,n,F,o,t]),ve=f.useCallback(()=>{t()},[t]),K=f.useCallback(()=>{var T;try{const V={version:h.version,source:D?`${D.catalog_name||(i==null?void 0:i.catalog_name)||"catalog"}.${D.schema_name||(i==null?void 0:i.schema_name)||"schema"}.${D.name}`:"source_table"};(T=h.filter)!=null&&T.trim()&&(V.filter=h.filter),h.joins.length>0&&(V.joins=h.joins.filter(G=>{var ne,re,oe,De;return((ne=G.name)==null?void 0:ne.trim())&&(((re=G.sql_on)==null?void 0:re.trim())||((oe=G.left_columns)==null?void 0:oe.length)&&((De=G.right_columns)==null?void 0:De.length))}).map(G=>{var re,oe,De,He,Ie;const ne={name:G.name};if(G.joined_table_name&&((re=G.left_columns)!=null&&re.length)&&((oe=G.right_columns)!=null&&oe.length)){const Je=[];for(let ee=0;ee<Math.min(G.left_columns.length,G.right_columns.length);ee++){const ke=G.left_columns[ee],_e=G.right_columns[ee],Ne=((De=G.join_operators)==null?void 0:De[ee])||"=",et="base",Le=G.join_alias||G.joined_table_name.split(".").pop();ke&&_e&&Je.push(`${et}.${ke} ${Ne} ${Le}.${_e}`)}let Be=Je.join(" AND ");(He=G.additional_conditions)!=null&&He.trim()&&(Be+=Be?` AND ${G.additional_conditions}`:G.additional_conditions),ne.sql_on=Be||G.sql_on}else ne.sql_on=G.sql_on;return G.join_type!=="LEFT"&&(ne.join_type=G.join_type),(Ie=G.description)!=null&&Ie.trim()&&(ne.description=G.description),ne})),h.dimensions.length>0&&(V.dimensions=h.dimensions.filter(G=>{var ne,re;return((ne=G.name)==null?void 0:ne.trim())&&((re=G.expr)==null?void 0:re.trim())}).map(G=>{var ne;return{name:G.name,expr:G.expr,...((ne=G.description)==null?void 0:ne.trim())&&{description:G.description}}})),h.measures.length>0&&(V.measures=h.measures.filter(G=>{var ne,re;return((ne=G.name)==null?void 0:ne.trim())&&((re=G.expr)==null?void 0:re.trim())}).map(G=>{var ne;return{name:G.name,expr:G.expr,...((ne=G.description)==null?void 0:ne.trim())&&{description:G.description}}}));const M=[];return Object.entries(V).forEach(([G,ne])=>{typeof ne=="string"?M.push(`${G}: "${ne}"`):Array.isArray(ne)&&(M.push(`${G}:`),ne.forEach(re=>{M.push(`  - name: "${re.name}"`),M.push(`    expr: "${re.expr}"`),re.description&&M.push(`    description: "${re.description}"`),re.sql_on&&M.push(`    sql_on: "${re.sql_on}"`),re.join_type&&M.push(`    join_type: "${re.join_type}"`)}))}),M.join(`
`)}catch(V){return console.error("Error generating YAML preview:",V),`# Error generating YAML preview
# ${V.message}`}},[h,D,i])(),se=f.useCallback(T=>{const V={id:`dim_${Date.now()}`,name:T.name,expr:T.name,description:T.comment||"",data_type:T.data_type};v(M=>({...M,dimensions:[...M.dimensions,V]}))},[]),Se=f.useCallback(T=>{const V=["BIGINT","INT","SMALLINT","TINYINT","FLOAT","DOUBLE","DECIMAL"].includes(T.data_type),M=V?"SUM":"COUNT",G=V?T.name:`COUNT(${T.name})`,ne={id:`measure_${Date.now()}`,name:`${M.toLowerCase()}_${T.name}`,expr:G,description:T.comment||"",aggregation_type:M,is_window_measure:!1,data_type:V?T.data_type:"BIGINT"};v(re=>({...re,measures:[...re.measures,ne]}))},[]);return l.jsxs(ye.Root,{open:e,onOpenChange:t,children:[l.jsxs(ye.Content,{style:{maxWidth:"900px",maxHeight:"80vh"},children:[l.jsx(ye.Title,{children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(tn,{}),n?"Edit Metric View":"Create Metric View"]})}),l.jsx(ye.Description,{children:n?`Edit the metric view "${n.name}"`:"Create a new metric view to define dimensions and measures for analytics"}),l.jsxs(We.Root,{value:g,onValueChange:x,children:[l.jsxs(We.List,{children:[l.jsx(We.Trigger,{value:"basic",children:"Basic Info"}),l.jsxs(We.Trigger,{value:"dimensions",children:["Dimensions (",h.dimensions.length,")"]}),l.jsxs(We.Trigger,{value:"measures",children:["Measures (",h.measures.length,")"]}),l.jsxs(We.Trigger,{value:"joins",children:["Joins (",h.joins.length,")"]}),l.jsx(We.Trigger,{value:"advanced",children:"Advanced"}),l.jsxs(We.Trigger,{value:"yaml",children:[l.jsx(Pu,{})," YAML Preview"]})]}),l.jsx(We.Content,{value:"basic",children:l.jsxs(O,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(N,{size:"2",weight:"medium",children:"Name *"}),l.jsx($e.Input,{placeholder:"e.g., sales_metrics, customer_analytics",value:h.name,onChange:T=>A("name",T.target.value)}),y.name&&l.jsx(N,{size:"1",color:"red",children:y.name})]}),l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(N,{size:"2",weight:"medium",children:"Description"}),l.jsx(br,{placeholder:"Describe what this metric view measures...",value:h.description,onChange:T=>A("description",T.target.value),rows:3})]}),l.jsxs(O,{gap:"4",children:[l.jsxs(O,{direction:"column",gap:"2",style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",children:"Catalog"}),l.jsxs(U.Root,{value:h.catalog_name||"__project_default_catalog__",onValueChange:T=>{A("catalog_name",T==="__project_default_catalog__"?"":T)},children:[l.jsx(U.Trigger,{placeholder:"Select catalog (or leave empty for project default)"}),l.jsxs(U.Content,{children:[l.jsx(U.Item,{value:"__project_default_catalog__",children:l.jsxs(N,{color:"gray",children:["(Use project default: ",s,")"]})}),u==null?void 0:u.map(T=>l.jsx(U.Item,{value:T.name,children:T.name},T.name))]})]})]}),l.jsxs(O,{direction:"column",gap:"2",style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",children:"Schema"}),l.jsxs(U.Root,{value:h.schema_name||"__project_default_schema__",onValueChange:T=>{A("schema_name",T==="__project_default_schema__"?"":T)},children:[l.jsx(U.Trigger,{placeholder:"Select schema (or leave empty for project default)"}),l.jsxs(U.Content,{children:[l.jsx(U.Item,{value:"__project_default_schema__",children:l.jsxs(N,{color:"gray",children:["(Use project default: ",c,")"]})}),d==null?void 0:d.map(T=>l.jsx(U.Item,{value:T.name,children:l.jsxs(O,{align:"center",justify:"between",style:{width:"100%"},children:[l.jsx(N,{children:T.name}),T.is_imported&&l.jsx(xe,{color:"orange",size:"1",style:{marginLeft:"8px"},children:"imported"})]})},T.name))]})]})]})]}),l.jsxs(O,{gap:"4",children:[l.jsxs(O,{direction:"column",gap:"2",style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",children:"Source Table *"}),l.jsxs(U.Root,{value:h.source_table_id,onValueChange:T=>A("source_table_id",T),children:[l.jsx(U.Trigger,{placeholder:"Select source table..."}),l.jsx(U.Content,{children:a.map(T=>l.jsx(U.Item,{value:T.id,children:T.name},T.id))})]}),y.source_table_id&&l.jsx(N,{size:"1",color:"red",children:y.source_table_id})]}),l.jsxs(O,{direction:"column",gap:"2",style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",children:"Version"}),l.jsx($e.Input,{value:h.version,onChange:T=>A("version",T.target.value)})]})]}),D&&l.jsxs(Z,{children:[l.jsxs(O,{justify:"between",align:"center",style:{marginBottom:"12px"},children:[l.jsxs(N,{size:"2",weight:"medium",children:["Available Fields from ",D.name]}),l.jsx(me,{size:"1",variant:"solid",onClick:B,style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white"},children:" Smart Setup"})]}),l.jsx(Xt,{style:{height:"200px"},children:l.jsx(O,{direction:"column",gap:"2",children:q.map(T=>l.jsxs(O,{justify:"between",align:"center",style:{padding:"8px",background:"var(--gray-2)",borderRadius:"6px"},children:[l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"2",weight:"medium",children:T.name}),l.jsxs(O,{gap:"2",align:"center",children:[l.jsx(xe,{variant:"soft",size:"1",children:T.data_type}),T.comment&&l.jsx(N,{size:"1",color:"gray",children:T.comment})]})]}),l.jsxs(O,{gap:"1",children:[l.jsxs(me,{size:"1",variant:"soft",onClick:()=>se(T),children:[l.jsx(hr,{})," Dimension"]}),l.jsxs(me,{size:"1",variant:"soft",color:"red",onClick:()=>Se(T),children:[l.jsx(tn,{})," Measure"]})]})]},T.id))})})]}),y.content&&l.jsx(N,{size:"1",color:"red",children:y.content})]})}),l.jsx(We.Content,{value:"dimensions",children:l.jsxs(O,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(N,{size:"3",weight:"medium",children:"Dimensions"}),l.jsxs(me,{onClick:E,children:[l.jsx(yr,{})," Add Dimension"]})]}),l.jsx(Xt,{style:{height:"400px"},children:l.jsxs(O,{direction:"column",gap:"3",children:[h.dimensions.map((T,V)=>l.jsx(Z,{style:{padding:"12px",border:"1px solid var(--gray-6)",borderRadius:"8px"},children:l.jsxs(O,{justify:"between",align:"start",gap:"3",children:[l.jsxs(O,{direction:"column",gap:"3",style:{flex:1},children:[l.jsxs(O,{gap:"3",children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",weight:"medium",children:"Name *"}),l.jsx($e.Input,{placeholder:"e.g., customer_segment, product_category",value:T.name,onChange:M=>L(V,"name",M.target.value)}),y[`dimension_${V}_name`]&&l.jsx(N,{size:"1",color:"red",children:y[`dimension_${V}_name`]})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",weight:"medium",children:"Expression *"}),l.jsxs(U.Root,{value:T.expr,onValueChange:M=>L(V,"expr",M),children:[l.jsx(U.Trigger,{placeholder:"Select a field or enter custom expression"}),l.jsxs(U.Content,{children:[l.jsxs(U.Group,{children:[l.jsx(U.Label,{children:"Available Fields"}),R().map(M=>l.jsx(U.Item,{value:M.value,children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(xe,{color:M.category==="source"?"blue":"green",size:"1",children:M.table}),l.jsx(N,{children:M.label})]})},M.value))]}),l.jsx(U.Separator,{}),l.jsxs(U.Group,{children:[l.jsx(U.Label,{children:"Common Expressions"}),l.jsx(U.Item,{value:"DATE_TRUNC('MONTH', ${field})",children:"Monthly grouping"}),l.jsx(U.Item,{value:"DATE_TRUNC('YEAR', ${field})",children:"Yearly grouping"}),l.jsx(U.Item,{value:"UPPER(${field})",children:"Uppercase"}),l.jsx(U.Item,{value:"LOWER(${field})",children:"Lowercase"})]})]})]}),l.jsx($e.Input,{placeholder:"Or enter custom expression...",value:T.expr,onChange:M=>L(V,"expr",M.target.value),style:{marginTop:"4px"}}),y[`dimension_${V}_expr`]&&l.jsx(N,{size:"1",color:"red",children:y[`dimension_${V}_expr`]})]})]}),l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"1",weight:"medium",children:"Description"}),l.jsx($e.Input,{placeholder:"Describe this dimension...",value:T.description,onChange:M=>L(V,"description",M.target.value)})]})]}),l.jsx(Cn,{color:"red",variant:"soft",onClick:()=>I(V),children:l.jsx(Fn,{})})]})},T.id)),h.dimensions.length===0&&l.jsxs(Z,{style:{textAlign:"center",padding:"40px",color:"var(--gray-9)"},children:[l.jsx(hr,{style:{width:"32px",height:"32px",margin:"0 auto 8px"}}),l.jsx(N,{children:"No dimensions defined"}),l.jsx(N,{size:"1",children:"Dimensions are categorical fields for grouping data"})]})]})})]})}),l.jsx(We.Content,{value:"measures",children:l.jsxs(O,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(N,{size:"3",weight:"medium",children:"Measures"}),l.jsxs(me,{onClick:P,children:[l.jsx(yr,{})," Add Measure"]})]}),l.jsx(Xt,{style:{height:"400px"},children:l.jsxs(O,{direction:"column",gap:"3",children:[h.measures.map((T,V)=>l.jsx(Z,{style:{padding:"12px",border:"1px solid var(--gray-6)",borderRadius:"8px"},children:l.jsxs(O,{justify:"between",align:"start",gap:"3",children:[l.jsxs(O,{direction:"column",gap:"3",style:{flex:1},children:[l.jsxs(O,{gap:"3",children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",weight:"medium",children:"Name *"}),l.jsx($e.Input,{placeholder:"e.g., total_sales, avg_order_value",value:T.name,onChange:M=>z(V,"name",M.target.value)}),y[`measure_${V}_name`]&&l.jsx(N,{size:"1",color:"red",children:y[`measure_${V}_name`]})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",weight:"medium",children:"Aggregation"}),l.jsxs(U.Root,{value:T.aggregation_type,onValueChange:M=>z(V,"aggregation_type",M),children:[l.jsx(U.Trigger,{}),l.jsxs(U.Content,{children:[l.jsx(U.Item,{value:"SUM",children:"SUM"}),l.jsx(U.Item,{value:"COUNT",children:"COUNT"}),l.jsx(U.Item,{value:"AVG",children:"AVG"}),l.jsx(U.Item,{value:"MIN",children:"MIN"}),l.jsx(U.Item,{value:"MAX",children:"MAX"}),l.jsx(U.Item,{value:"COUNT_DISTINCT",children:"COUNT DISTINCT"})]})]})]})]}),l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"1",weight:"medium",children:"Expression *"}),l.jsxs(U.Root,{value:T.expr,onValueChange:M=>z(V,"expr",M),children:[l.jsx(U.Trigger,{placeholder:"Select a field for aggregation"}),l.jsxs(U.Content,{children:[l.jsxs(U.Group,{children:[l.jsx(U.Label,{children:"Numeric Fields"}),R().filter(M=>M.type&&["INT","BIGINT","FLOAT","DOUBLE","DECIMAL"].some(G=>M.type.includes(G))).map(M=>l.jsx(U.Item,{value:M.value,children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(xe,{color:M.category==="source"?"blue":"green",size:"1",children:M.table}),l.jsx(N,{children:M.label})]})},M.value))]}),l.jsx(U.Separator,{}),l.jsxs(U.Group,{children:[l.jsx(U.Label,{children:"All Fields"}),R().map(M=>l.jsx(U.Item,{value:M.value,children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(xe,{color:M.category==="source"?"blue":"green",size:"1",children:M.table}),l.jsx(N,{children:M.label})]})},`all_${M.value}`))]}),l.jsx(U.Separator,{}),l.jsxs(U.Group,{children:[l.jsx(U.Label,{children:"Common Patterns"}),l.jsx(U.Item,{value:"COUNT(*)",children:"Count all rows"}),l.jsx(U.Item,{value:"COUNT(DISTINCT ${field})",children:"Count distinct values"})]})]})]}),l.jsx($e.Input,{placeholder:"Or enter custom expression (e.g., SUM(amount * (1 - discount)))",value:T.expr,onChange:M=>z(V,"expr",M.target.value),style:{marginTop:"4px"}}),y[`measure_${V}_expr`]&&l.jsx(N,{size:"1",color:"red",children:y[`measure_${V}_expr`]})]}),l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"1",weight:"medium",children:"Description"}),l.jsx($e.Input,{placeholder:"Describe this measure...",value:T.description,onChange:M=>z(V,"description",M.target.value)})]})]}),l.jsx(Cn,{color:"red",variant:"soft",onClick:()=>H(V),children:l.jsx(Fn,{})})]})},T.id)),h.measures.length===0&&l.jsxs(Z,{style:{textAlign:"center",padding:"40px",color:"var(--gray-9)"},children:[l.jsx(tn,{style:{width:"32px",height:"32px",margin:"0 auto 8px"}}),l.jsx(N,{children:"No measures defined"}),l.jsx(N,{size:"1",children:"Measures are numeric aggregations for analysis"})]})]})})]})}),l.jsx(We.Content,{value:"joins",children:l.jsxs(O,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"3",weight:"medium",children:"Advanced Joins"}),l.jsx(N,{size:"1",color:"gray",children:"Configure complex joins with multiple conditions and performance hints"})]}),l.jsxs(me,{onClick:W,children:[l.jsx(Bv,{})," Configure Join"]})]}),l.jsx(Xt,{style:{height:"400px"},children:l.jsxs(O,{direction:"column",gap:"3",children:[h.joins.map((T,V)=>l.jsx(Z,{style:{padding:"12px",border:"1px solid var(--gray-6)",borderRadius:"8px"},children:l.jsxs(O,{justify:"between",align:"start",gap:"3",children:[l.jsxs(O,{direction:"column",gap:"3",style:{flex:1},children:[l.jsxs(O,{gap:"3",children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",weight:"medium",children:"Join Name"}),l.jsx($e.Input,{placeholder:"e.g., customers, products",value:T.name,onChange:M=>ie(V,"name",M.target.value)})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",weight:"medium",children:"Join Type"}),l.jsxs(U.Root,{value:T.join_type,onValueChange:M=>ie(V,"join_type",M),children:[l.jsx(U.Trigger,{}),l.jsxs(U.Content,{children:[l.jsx(U.Item,{value:"LEFT",children:"LEFT"}),l.jsx(U.Item,{value:"INNER",children:"INNER"}),l.jsx(U.Item,{value:"RIGHT",children:"RIGHT"}),l.jsx(U.Item,{value:"FULL",children:"FULL"})]})]})]})]}),l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"1",weight:"medium",children:"Join Condition (SQL ON)"}),l.jsx($e.Input,{placeholder:"e.g., main.customer_id = customers.id",value:T.sql_on,onChange:M=>ie(V,"sql_on",M.target.value)})]})]}),l.jsxs(O,{gap:"2",children:[l.jsx(Cn,{color:"blue",variant:"soft",onClick:()=>J(T,V),title:"Edit join in advanced dialog",children:l.jsx(al,{})}),l.jsx(Cn,{color:"red",variant:"soft",onClick:()=>pe(V),title:"Remove join",children:l.jsx(Fn,{})})]})]})},T.id)),h.joins.length===0&&l.jsxs(Z,{style:{textAlign:"center",padding:"40px",color:"var(--gray-9)"},children:[l.jsx(f7,{style:{width:"32px",height:"32px",margin:"0 auto 8px"}}),l.jsx(N,{children:"No joins defined"}),l.jsx(N,{size:"1",children:"Joins allow you to include data from other tables"})]})]})})]})}),l.jsx(We.Content,{value:"advanced",children:l.jsxs(O,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(N,{size:"2",weight:"medium",children:"Global Filter (WHERE clause)"}),l.jsx(br,{placeholder:"e.g., status = 'active' AND created_date >= '2023-01-01'",value:h.filter,onChange:T=>A("filter",T.target.value),rows:3}),l.jsx(N,{size:"1",color:"gray",children:"Optional WHERE clause applied to all queries using this metric view"})]}),l.jsx(Ln,{}),l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(N,{size:"2",weight:"medium",children:"Tags"}),l.jsx(N,{size:"1",color:"gray",children:"Tags will be applied to the metric view in Databricks"})]})]})}),l.jsx(We.Content,{value:"yaml",children:l.jsxs(O,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(N,{size:"3",weight:"medium",children:"YAML Preview"}),l.jsx(xe,{variant:"soft",color:"purple",children:"Real-time Preview"})]}),l.jsx(N,{size:"1",color:"gray",children:"This is how your metric view will be defined in Databricks. The YAML updates automatically as you make changes."}),l.jsx(Z,{style:{background:"#1e1e1e",border:"1px solid #333",borderRadius:"8px",padding:"16px",fontFamily:'Monaco, Consolas, "Courier New", monospace',fontSize:"12px",lineHeight:"1.5",color:"#d4d4d4",maxHeight:"400px",overflow:"auto"},children:l.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:K})}),h.dimensions.length===0&&h.measures.length===0&&l.jsx(O,{align:"center",gap:"2",style:{padding:"12px",background:"var(--amber-2)",borderRadius:"6px",border:"1px solid var(--amber-6)"},children:l.jsx(N,{size:"1",color:"amber",children:" Add at least one dimension or measure to create a valid metric view"})}),!((Ee=h.name)!=null&&Ee.trim())&&l.jsx(O,{align:"center",gap:"2",style:{padding:"12px",background:"var(--red-2)",borderRadius:"6px",border:"1px solid var(--red-6)"},children:l.jsx(N,{size:"1",color:"red",children:" Metric view name is required"})}),!D&&l.jsx(O,{align:"center",gap:"2",style:{padding:"12px",background:"var(--red-2)",borderRadius:"6px",border:"1px solid var(--red-6)"},children:l.jsx(N,{size:"1",color:"red",children:" Source table is required"})}),(h.dimensions.length>0||h.measures.length>0)&&((we=h.name)==null?void 0:we.trim())&&D&&l.jsx(O,{align:"center",gap:"2",style:{padding:"12px",background:"var(--green-2)",borderRadius:"6px",border:"1px solid var(--green-6)"},children:l.jsx(N,{size:"1",color:"green",children:" Metric view is valid and ready to be created"})})]})})]}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",onClick:ve,children:"Cancel"})}),l.jsxs(me,{onClick:ge,children:[l.jsx(Pu,{}),n?"Update Metric View":"Create Metric View"]})]})]}),l.jsx(pee,{open:w,onClose:fe,onSave:ce,initialJoin:S,availableTables:a,sourceTableColumns:(D==null?void 0:D.fields)||[],mode:j})]})},mee=({open:e,onClose:t,onSave:n,traditionalView:r=null})=>{const{catalogName:o,schemaName:a,availableCatalogs:i,availableSchemas:s,loadCatalogs:c,loadSchemas:u}=lt(),[d,p]=f.useState({name:"",description:"",sql_query:"",logical_name:"",tags:{},catalog_name:o,schema_name:a,position_x:600,position_y:100,width:250,height:180}),[m,h]=f.useState({}),[v,g]=f.useState(""),[x,y]=f.useState("");f.useEffect(()=>{e&&c()},[e,c]),f.useEffect(()=>{d.catalog_name&&u(d.catalog_name)},[d.catalog_name,u]),f.useEffect(()=>{if(r){const $=r.sql_query||"",C=$.split(`
`).length;p({name:r.name||"",description:r.description||"",sql_query:$,logical_name:r.logical_name||"",tags:r.tags||{},catalog_name:r.catalog_name||o,schema_name:r.schema_name||a,position_x:r.position_x||600,position_y:r.position_y||100,width:r.width||250,height:r.height||Math.max(180,120+C*15)})}else p({name:"",description:"",sql_query:"",logical_name:"",tags:{},catalog_name:o,schema_name:a,position_x:600,position_y:100,width:250,height:180});h({})},[r,o,a,e]);const _=($,C)=>{p(R=>{const D={...R,[$]:C};if($==="catalog_name"&&(D.schema_name=""),$==="sql_query"){const q=C.split(`
`).length;D.height=Math.max(180,120+q*15)}return D}),m[$]&&h(R=>({...R,[$]:null}))},w=()=>{v.trim()&&x.trim()&&(p($=>({...$,tags:{...$.tags,[v.trim()]:x.trim()}})),g(""),y(""))},b=$=>{p(C=>({...C,tags:Object.fromEntries(Object.entries(C.tags).filter(([R])=>R!==$))}))},S=()=>{const $={};d.name.trim()||($.name="View name is required"),d.sql_query.trim()||($.sql_query="SQL query is required");const C=d.sql_query.trim().toUpperCase();return d.sql_query.trim()&&!C.startsWith("SELECT")&&($.sql_query="Traditional views must contain a SELECT statement"),h($),Object.keys($).length===0},k=()=>{S()&&n(d)},j=()=>{p({name:"",description:"",sql_query:"",logical_name:"",tags:{},catalog_name:o,schema_name:a,position_x:600,position_y:100,width:250,height:180}),h({}),t()};return l.jsx(ye.Root,{open:e,onOpenChange:$=>!$&&j(),children:l.jsxs(ye.Content,{style:{maxWidth:"600px",maxHeight:"80vh"},children:[l.jsx(ye.Title,{children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(hr,{style:{color:"#10b981"}}),l.jsx(N,{size:"5",weight:"bold",children:r?"Edit Traditional View":"Create Traditional View"})]})}),l.jsxs(ye.Description,{size:"2",mb:"4",color:"gray",children:["Traditional views are standard SQL views that can reference tables and other views.",!r&&" Unlike metric views, they don't require relationships and work with any SQL query."]}),l.jsx(Xt,{style:{maxHeight:"60vh"},children:l.jsxs(O,{direction:"column",gap:"4",style:{padding:"2px"},children:[l.jsxs(Z,{children:[l.jsx(N,{size:"3",weight:"bold",mb:"3",children:"Basic Information"}),l.jsxs(O,{direction:"column",gap:"3",children:[l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"medium",mb:"1",children:"View Name *"}),l.jsx($e.Root,{color:m.name?"red":void 0,children:l.jsx($e.Input,{placeholder:"e.g., customer_summary_view",value:d.name,onChange:$=>_("name",$.target.value)})}),m.name&&l.jsx(N,{size:"1",color:"red",mt:"1",children:m.name})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"medium",mb:"1",children:"Logical Name"}),l.jsx($e.Root,{children:l.jsx($e.Input,{placeholder:"e.g., Customer Summary View",value:d.logical_name,onChange:$=>_("logical_name",$.target.value)})})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"medium",mb:"1",children:"Description"}),l.jsx(br,{placeholder:"Describe what this view represents...",value:d.description,onChange:$=>_("description",$.target.value),rows:2})]})]})]}),l.jsx(Ln,{}),l.jsxs(Z,{children:[l.jsx(N,{size:"3",weight:"bold",mb:"3",children:"SQL Query *"}),l.jsx(br,{placeholder:`SELECT 
  customer_id,
  customer_name,
  COUNT(*) as order_count,
  SUM(total_amount) as total_spent
FROM orders o
JOIN customers c ON o.customer_id = c.id
GROUP BY customer_id, customer_name`,value:d.sql_query,onChange:$=>_("sql_query",$.target.value),rows:8,style:{fontFamily:"monospace",fontSize:"13px"},color:m.sql_query?"red":void 0}),m.sql_query&&l.jsx(N,{size:"1",color:"red",mt:"1",children:m.sql_query}),l.jsx(N,{size:"1",color:"gray",mt:"1",children:"Enter the complete SELECT statement for your view. Traditional views support any valid SQL query."})]}),l.jsx(Ln,{}),l.jsxs(Z,{children:[l.jsx(N,{size:"3",weight:"bold",mb:"3",children:"Target Location"}),l.jsxs(O,{gap:"3",children:[l.jsxs(Z,{style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",mb:"1",children:"Catalog"}),l.jsxs(U.Root,{value:d.catalog_name||"__project_default_catalog__",onValueChange:$=>{_("catalog_name",$==="__project_default_catalog__"?"":$)},children:[l.jsx(U.Trigger,{placeholder:"Select catalog (or leave empty for project default)"}),l.jsxs(U.Content,{children:[l.jsx(U.Item,{value:"__project_default_catalog__",children:l.jsxs(N,{color:"gray",children:["(Use project default: ",o,")"]})}),i==null?void 0:i.map($=>l.jsx(U.Item,{value:$.name,children:$.name},$.name))]})]})]}),l.jsxs(Z,{style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",mb:"1",children:"Schema"}),l.jsxs(U.Root,{value:d.schema_name||"__project_default_schema__",onValueChange:$=>{_("schema_name",$==="__project_default_schema__"?"":$)},children:[l.jsx(U.Trigger,{placeholder:"Select schema (or leave empty for project default)"}),l.jsxs(U.Content,{children:[l.jsx(U.Item,{value:"__project_default_schema__",children:l.jsxs(N,{color:"gray",children:["(Use project default: ",a,")"]})}),s==null?void 0:s.map($=>l.jsx(U.Item,{value:$.name,children:l.jsxs(O,{align:"center",justify:"between",style:{width:"100%"},children:[l.jsx(N,{children:$.name}),$.is_imported&&l.jsx(xe,{color:"orange",size:"1",style:{marginLeft:"8px"},children:"imported"})]})},$.name))]})]})]})]})]}),l.jsx(Ln,{}),l.jsxs(Z,{children:[l.jsx(N,{size:"3",weight:"bold",mb:"3",children:"Tags"}),Object.keys(d.tags).length>0&&l.jsx(O,{gap:"2",wrap:"wrap",mb:"3",children:Object.entries(d.tags).map(([$,C])=>l.jsxs(xe,{variant:"soft",color:"gray",children:[$,": ",C,l.jsx(me,{size:"1",variant:"ghost",color:"red",style:{marginLeft:"4px",padding:"0 2px"},onClick:()=>b($),children:l.jsx(ea,{})})]},$))}),l.jsxs(O,{gap:"2",align:"end",children:[l.jsxs(Z,{style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",mb:"1",children:"Key"}),l.jsx($e.Root,{children:l.jsx($e.Input,{placeholder:"e.g., department",value:v,onChange:$=>g($.target.value)})})]}),l.jsxs(Z,{style:{flex:1},children:[l.jsx(N,{size:"2",weight:"medium",mb:"1",children:"Value"}),l.jsx($e.Root,{children:l.jsx($e.Input,{placeholder:"e.g., finance",value:x,onChange:$=>y($.target.value)})})]}),l.jsx(me,{variant:"soft",onClick:w,disabled:!v.trim()||!x.trim(),children:"Add Tag"})]})]})]})}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",onClick:j,children:"Cancel"})}),l.jsx(me,{onClick:k,style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white"},children:r?"Update View":"Create View"})]})]})})},gee=({open:e,onClose:t,sourceTable:n=null,targetMetricView:r=null,onSave:o})=>{const{createMetricRelationship:a}=lt(),[i,s]=f.useState([]),[c,u]=f.useState(new Set);f.useEffect(()=>{if(e&&n){console.log(" Initializing field mapping dialog:",{sourceTable:n.name,targetMetricView:r==null?void 0:r.name});const E=n.fields.map(L=>({field_id:L.id,field_name:L.name,field_type:L.data_type,field_comment:L.comment||"",mapping_type:"ignore",dimension_name:L.name,dimension_expr:L.name,measure_name:`${d(L.data_type).toLowerCase()}_${L.name}`,measure_expr:p(L),aggregation_type:d(L.data_type),is_window_measure:!1,window_type:"moving_average",window_size:7,window_unit:"day",partition_by:[],order_by:"",offset_periods:1,window_frame:""}));s(E),u(new Set)}},[e,n,r]);const d=E=>["BIGINT","INT","SMALLINT","TINYINT","FLOAT","DOUBLE","DECIMAL"].includes(E)?"SUM":"COUNT",p=E=>["BIGINT","INT","SMALLINT","TINYINT","FLOAT","DOUBLE","DECIMAL"].includes(E.data_type)?E.name:`COUNT(${E.name})`,m=E=>{switch(E){case"dimension":return l.jsx(hr,{style:{color:"#059669"}});case"measure":return l.jsx(tn,{style:{color:"#dc2626"}});case"window_measure":return l.jsx(tn,{style:{color:"#8b5cf6"}});default:return l.jsx(ea,{style:{color:"#6b7280"}})}},h=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,mapping_type:L}:P))},[]),v=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,dimension_name:L}:P))},[]),g=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,dimension_expr:L}:P))},[]),x=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,measure_name:L}:P))},[]),y=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,measure_expr:L}:P))},[]),_=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,aggregation_type:L}:P))},[]),w=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,window_type:L,is_window_measure:!0,mapping_type:"window_measure"}:P))},[]),b=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,window_size:parseInt(L)||1}:P))},[]);f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,window_unit:L}:P))},[]);const S=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,partition_by:L.split(",").map(z=>z.trim()).filter(Boolean)}:P))},[]),k=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,order_by:L}:P))},[]),j=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,offset_periods:parseInt(L)||1}:P))},[]),$=f.useCallback((E,L)=>{s(I=>I.map(P=>P.field_id===E?{...P,window_frame:L}:P))},[]),C=f.useCallback(E=>{s(L=>L.map(I=>({...I,mapping_type:E})))},[]),R=f.useCallback(()=>{if(!n||!r){console.error(" Missing source table or target metric view");return}const E=i.filter(z=>z.mapping_type!=="ignore");console.log(" Saving field mappings:",{sourceTable:n.name,targetMetricView:r.name,activeMappings:E.length});const L=a(n.id,r.id,E),I=E.filter(z=>z.mapping_type==="dimension").map(z=>({id:`dim_${z.field_id}_${Date.now()}`,name:z.dimension_name,expr:z.dimension_expr,description:z.field_comment,data_type:z.field_type})),P=E.filter(z=>z.mapping_type==="measure").map(z=>({id:`measure_${z.field_id}_${Date.now()}`,name:z.measure_name,expr:z.measure_expr,description:z.field_comment,aggregation_type:z.aggregation_type,is_window_measure:!1,data_type:z.field_type}));o&&o({relationship:L,newDimensions:I,newMeasures:P,fieldMappings:E}),t()},[n,r,i,a,o,t]),D=f.useCallback(()=>{t()},[t]),q=i.filter(E=>E.mapping_type==="dimension").length,F=i.filter(E=>E.mapping_type==="measure").length,A=i.filter(E=>E.mapping_type==="window_measure").length,B=i.filter(E=>E.mapping_type==="ignore").length;return n?l.jsx(ye.Root,{open:e,onOpenChange:t,children:l.jsxs(ye.Content,{style:{maxWidth:"1000px",maxHeight:"80vh"},children:[l.jsx(ye.Title,{children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(Wq,{}),"Map Fields to Metric View"]})}),l.jsxs(ye.Description,{children:["Map fields from ",l.jsx("strong",{children:n.name})," to dimensions and measures in"," ",l.jsx("strong",{children:(r==null?void 0:r.name)||"the metric view"})]}),l.jsxs(O,{gap:"3",style:{marginTop:"16px"},children:[l.jsxs(xe,{variant:"soft",color:"green",children:[l.jsx(hr,{})," ",q," Dimensions"]}),l.jsxs(xe,{variant:"soft",color:"red",children:[l.jsx(tn,{})," ",F," Measures"]}),l.jsxs(xe,{variant:"soft",color:"purple",children:[l.jsx(tn,{})," ",A," Window Measures"]}),l.jsxs(xe,{variant:"soft",color:"gray",children:[l.jsx(ea,{})," ",B," Ignored"]})]}),l.jsxs(O,{gap:"2",style:{marginTop:"12px"},children:[l.jsxs(me,{size:"1",variant:"soft",color:"green",onClick:()=>C("dimension"),children:[l.jsx(hr,{})," All as Dimensions"]}),l.jsxs(me,{size:"1",variant:"soft",color:"red",onClick:()=>C("measure"),children:[l.jsx(tn,{})," All as Measures"]}),l.jsxs(me,{size:"1",variant:"soft",color:"gray",onClick:()=>C("ignore"),children:[l.jsx(ea,{})," Ignore All"]})]}),l.jsx(Ln,{style:{margin:"16px 0"}}),l.jsx(Xt,{style:{height:"400px"},children:l.jsx(O,{direction:"column",gap:"3",children:i.map(E=>{var L;return l.jsx(Ke,{style:{padding:"12px"},children:l.jsxs(O,{direction:"column",gap:"3",children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsxs(O,{align:"center",gap:"3",children:[m(E.mapping_type),l.jsxs(Z,{children:[l.jsx(N,{weight:"medium",size:"2",children:E.field_name}),l.jsxs(O,{gap:"2",align:"center",style:{marginTop:"2px"},children:[l.jsx(xe,{variant:"soft",size:"1",children:E.field_type}),E.field_comment&&l.jsx(N,{size:"1",color:"gray",children:E.field_comment})]})]})]}),l.jsxs(U.Root,{value:E.mapping_type,onValueChange:I=>h(E.field_id,I),children:[l.jsx(U.Trigger,{style:{minWidth:"120px"}}),l.jsxs(U.Content,{children:[l.jsx(U.Item,{value:"ignore",children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(ea,{})," Ignore"]})}),l.jsx(U.Item,{value:"dimension",children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(hr,{})," Dimension"]})}),l.jsx(U.Item,{value:"measure",children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(tn,{})," Measure"]})}),l.jsx(U.Item,{value:"window_measure",children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(tn,{style:{color:"#8b5cf6"}})," Window Measure"]})})]})]})]}),E.mapping_type==="dimension"&&l.jsxs(Z,{style:{padding:"12px",background:"var(--green-2)",borderRadius:"6px",border:"1px solid var(--green-6)"},children:[l.jsx(N,{size:"1",weight:"medium",style:{marginBottom:"8px",display:"block"},children:"Dimension Configuration"}),l.jsxs(O,{gap:"3",children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Name"}),l.jsx("input",{type:"text",value:E.dimension_name,onChange:I=>v(E.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"}})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Expression"}),l.jsx("input",{type:"text",value:E.dimension_expr,onChange:I=>g(E.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]})]})]}),E.mapping_type==="measure"&&l.jsxs(Z,{style:{padding:"12px",background:"var(--red-2)",borderRadius:"6px",border:"1px solid var(--red-6)"},children:[l.jsx(N,{size:"1",weight:"medium",style:{marginBottom:"8px",display:"block"},children:"Measure Configuration"}),l.jsxs(O,{gap:"3",children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Name"}),l.jsx("input",{type:"text",value:E.measure_name,onChange:I=>x(E.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"}})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Aggregation"}),l.jsxs(U.Root,{value:E.aggregation_type,onValueChange:I=>_(E.field_id,I),children:[l.jsx(U.Trigger,{style:{fontSize:"12px"}}),l.jsxs(U.Content,{children:[l.jsx(U.Item,{value:"SUM",children:"SUM"}),l.jsx(U.Item,{value:"COUNT",children:"COUNT"}),l.jsx(U.Item,{value:"AVG",children:"AVG"}),l.jsx(U.Item,{value:"MIN",children:"MIN"}),l.jsx(U.Item,{value:"MAX",children:"MAX"}),l.jsx(U.Item,{value:"COUNT_DISTINCT",children:"COUNT DISTINCT"})]})]})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:2},children:[l.jsx(N,{size:"1",children:"Expression"}),l.jsx("input",{type:"text",value:E.measure_expr,onChange:I=>y(E.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]})]})]}),E.mapping_type==="window_measure"&&l.jsxs(Z,{style:{padding:"12px",background:"var(--purple-2)",borderRadius:"6px",border:"1px solid var(--purple-6)"},children:[l.jsx(N,{size:"1",weight:"medium",style:{marginBottom:"8px",display:"block"},children:"Window Measure Configuration"}),l.jsxs(O,{gap:"3",style:{marginBottom:"12px"},children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Name"}),l.jsx("input",{type:"text",value:E.measure_name,onChange:I=>x(E.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"}})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Base Expression"}),l.jsx("input",{type:"text",value:E.measure_expr,onChange:I=>y(E.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]})]}),l.jsxs(O,{gap:"3",style:{marginBottom:"12px"},children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Window Type"}),l.jsxs("select",{value:E.window_type,onChange:I=>w(E.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"},children:[l.jsx("option",{value:"moving_average",children:"Moving Average"}),l.jsx("option",{value:"running_total",children:"Running Total"}),l.jsx("option",{value:"period_over_period",children:"Period over Period"}),l.jsx("option",{value:"cumulative_sum",children:"Cumulative Sum"}),l.jsx("option",{value:"rank",children:"Rank"}),l.jsx("option",{value:"row_number",children:"Row Number"}),l.jsx("option",{value:"percent_of_total",children:"Percent of Total"}),l.jsx("option",{value:"custom",children:"Custom Window Frame"})]})]}),E.window_type==="moving_average"&&l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Window Size"}),l.jsx("input",{type:"number",value:E.window_size,onChange:I=>b(E.field_id,I.target.value),min:"1",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"}})]}),E.window_type==="period_over_period"&&l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Offset Periods"}),l.jsx("input",{type:"number",value:E.offset_periods,onChange:I=>j(E.field_id,I.target.value),min:"1",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"}})]})]}),l.jsxs(O,{gap:"3",style:{marginBottom:"12px"},children:[l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Partition By (comma-separated)"}),l.jsx("input",{type:"text",value:((L=E.partition_by)==null?void 0:L.join(", "))||"",onChange:I=>S(E.field_id,I.target.value),placeholder:"e.g., customer_id, region",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]}),l.jsxs(O,{direction:"column",gap:"1",style:{flex:1},children:[l.jsx(N,{size:"1",children:"Order By"}),l.jsx("input",{type:"text",value:E.order_by,onChange:I=>k(E.field_id,I.target.value),placeholder:"e.g., date_column, created_at",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]})]}),E.window_type==="custom"&&l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"1",children:"Custom Window Frame"}),l.jsx("input",{type:"text",value:E.window_frame,onChange:I=>$(E.field_id,I.target.value),placeholder:"e.g., ROWS BETWEEN 6 PRECEDING AND CURRENT ROW",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]}),l.jsxs(Z,{style:{marginTop:"12px",padding:"8px",background:"rgba(0,0,0,0.05)",borderRadius:"4px",fontSize:"11px",fontFamily:"monospace"},children:[l.jsx(N,{size:"1",weight:"medium",style:{marginBottom:"4px",display:"block"},children:"Generated SQL Preview:"}),l.jsx(N,{size:"1",style:{color:"#6b7280"},children:(()=>{var H;const I=E.measure_expr||E.field_name,P=(H=E.partition_by)!=null&&H.length?`PARTITION BY ${E.partition_by.join(", ")}`:"",z=E.order_by?`ORDER BY ${E.order_by}`:"";switch(E.window_type){case"moving_average":const W=E.window_size?`ROWS BETWEEN ${E.window_size-1} PRECEDING AND CURRENT ROW`:"";return`AVG(${I}) OVER (${P} ${z} ${W})`.trim();case"running_total":return`SUM(${I}) OVER (${P} ${z} ROWS UNBOUNDED PRECEDING)`.trim();case"period_over_period":const J=E.offset_periods||1;return`(${I} - LAG(${I}, ${J}) OVER (${P} ${z})) / LAG(${I}, ${J}) OVER (${P} ${z}) * 100`;default:return`${I} OVER (${P} ${z})`.trim()}})()})]})]})]})},E.field_id)})})}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",onClick:D,children:"Cancel"})}),l.jsxs(me,{onClick:R,disabled:q===0&&F===0&&A===0,children:[l.jsx(c7,{}),"Create Relationship (",q+F+A," fields mapped)"]})]})]})}):null},vee=(e,t,n)=>{const r=(e==null?void 0:e.catalog_name)||(t==null?void 0:t.catalog_name)||"main",o=(e==null?void 0:e.schema_name)||(t==null?void 0:t.schema_name)||"default",a=`${r}.${o}.${e.name}`;let i="your_source_table";if(e.source_table_id){if(n){const h=n.find(v=>v.id===e.source_table_id);if(h){const v=h.catalog_name||(t==null?void 0:t.catalog_name)||"main",g=h.schema_name||(t==null?void 0:t.schema_name)||"default";i=`${v}.${g}.${h.name}`}}i==="your_source_table"&&e.source_table_id.includes(".")&&(i=e.source_table_id)}const s=[];e.dimensions&&e.dimensions.length>0&&e.dimensions.forEach(h=>{const v=h.description?` COMMENT '${h.description}'`:"";s.push(`${h.name}${v}`)}),e.measures&&e.measures.length>0&&e.measures.forEach(h=>{const v=h.description?` COMMENT '${h.description}'`:"";s.push(`${h.name}${v}`)});const c=s.length>0?`
  (${s.join(`,
   `)})`:"",u=e.description?`
  COMMENT '${e.description}'`:"",d={version:e.version||"0.1",source:i,...e.joins&&e.joins.length>0&&{joins:e.joins.map(h=>{const v=h.name||h.join_alias||(h.joined_table_name?h.joined_table_name.split(".").pop():"unknown");let g=h.joined_table_name||`${r}.${o}.${v}`;const x=g.split(".");x.length>3&&(g=x.slice(-3).join("."),console.log(` Fixed duplicate catalog/schema: ${h.joined_table_name} -> ${g}`));let y=(h.sql_on||h.join_condition||`source.id = ${v}.id  -- TODO: Configure join condition`).replace(/\bbase\./g,"source.").replace(/\bfact_vendas\./g,"source.").replace(/\b\w+\.source\./g,"source.").replace(/\b\w+\.\w+\.(\w+\.\w+)/g,"$1").replace(/\b\w+\.(\w+\.\w+)/g,"$1");const _={name:v,source:g,on:y};return h.join_type&&h.join_type!=="LEFT"&&(_.type=h.join_type.toLowerCase()),_})},...e.filter&&{filter:e.filter},...e.dimensions&&e.dimensions.length>0&&{dimensions:e.dimensions.map(h=>({name:h.name,expr:h.expr||h.name}))},...e.measures&&e.measures.length>0&&{measures:e.measures.map(h=>{let v=h.expr||"count(1)";v&&v.includes("MEASURE(")&&(v=v.replace(/MEASURE\(([^)]+)\)/g,(y,_)=>_.includes(" ")&&!_.startsWith('"')&&!_.endsWith('"')?`MEASURE("${_}")`:y));let g=h.name;g.includes(" ")&&(g=g.replace(/\s+/g,""),console.log(` Cleaned measure name: '${h.name}' -> '${g}'`)),v&&v.includes("MEASURE(")&&(v=v.replace(/MEASURE\(([^)]+)\)/g,(y,_)=>`MEASURE(${_.replace(/["\s]/g,"")})`));const x={name:g,expr:v};return h.window&&h.window.length>0&&(x.window=h.window.map(y=>({order:y.order,range:y.range,...y.semiadditive&&{semiadditive:y.semiadditive}}))),x})}},p=(h,v=0)=>{const g="  ".repeat(v);return typeof h=="string"?h.includes(`
`)||h.length>80?`>
${g}  ${h.split(`
`).join(`
${g}  `)}`:h.includes(" ")||h.includes(":")||h.includes("#")?`"${h}"`:h:Array.isArray(h)?h.map(x=>{if(typeof x=="object"&&x!==null){const y=Object.entries(x).map(([_,w])=>`${g}    ${_}: ${p(w,v+2)}`).join(`
`);return`${g}  -
${y}`}return`${g}  - ${p(x,v+1)}`}).join(`
`):h},m=Object.entries(d).map(([h,v])=>Array.isArray(v)?`${h}:
${p(v,0)}`:`${h}: ${p(v,0)}`).join(`
`);return`CREATE OR REPLACE VIEW ${a}${c}
  WITH METRICS
  LANGUAGE YAML${u}
  AS $$
${m}
  $$;`},Ha=new iR.graphlib.Graph;Ha.setDefaultEdgeLabel(()=>({}));const SE=220,EE=180,yee=(e,t,n="TB")=>{const r=n==="LR";return Ha.setGraph({rankdir:n,nodesep:50,ranksep:100,marginx:20,marginy:20}),e.forEach(o=>{var a,i;Ha.setNode(o.id,{width:((a=o.data)==null?void 0:a.width)||SE,height:((i=o.data)==null?void 0:i.height)||EE})}),t.forEach(o=>{Ha.setEdge(o.source,o.target)}),iR.layout(Ha),e.forEach(o=>{var i,s;const a=Ha.node(o.id);return o.targetPosition=r?"left":"top",o.sourcePosition=r?"right":"bottom",o.position={x:a.x-(((i=o.data)==null?void 0:i.width)||SE)/2,y:a.y-(((s=o.data)==null?void 0:s.height)||EE)/2},o}),{nodes:e,edges:t}},_ee=(e,t,n,r,o,a,i=[])=>{if(console.log(" tablesToNodes called with:",{tables:(e==null?void 0:e.length)||"undefined",selectedTables:(i==null?void 0:i.length)||"undefined"}),!e||!Array.isArray(e))return console.log(" tablesToNodes: returning empty array - invalid tables"),[];try{const s=e.map((c,u)=>{if(console.log(` Processing table ${u}:`,(c==null?void 0:c.name)||"unnamed"),!c||!c.id)return console.warn("Invalid table data:",c),null;const d=Array.isArray(i)?i.some(m=>m&&m.id===c.id):!1,p={id:String(c.id),type:"table",position:{x:Number(c.position_x)||100,y:Number(c.position_y)||100},data:{table:c,width:Number(c.width)||220,height:Number(c.height)||180,onEdit:t,onDelete:n,onResize:r,onGenerateDDL:o,onApply:a,selected:d},style:{width:Number(c.width)||220,height:Number(c.height)||180},selected:d,selectable:!0,focusable:!0,draggable:!0};return console.log(` Created table node for ${c.name}:`,p.id,"draggable:",p.draggable),p}).filter(Boolean);return console.log(" tablesToNodes completed:",s.length,"nodes"),s}catch(s){return console.error(" Error in tablesToNodes:",s),[]}},xee=(e,t,n,r,o,a,i=[])=>{if(console.log(" metricViewsToNodes called with:",{metricViews:(e==null?void 0:e.length)??0,selectedMetricViews:(i==null?void 0:i.length)??0}),!e||!Array.isArray(e))return console.log(" metricViewsToNodes: returning empty array - invalid metricViews"),[];try{const s=e.map((c,u)=>{if(console.log(` Processing metricView ${u}:`,(c==null?void 0:c.name)||"unnamed"),!c||!c.id)return console.warn("Invalid metric view data:",c),null;const d=Array.isArray(i)?i.some(m=>m&&m.id===c.id):!1,p={id:String(c.id),type:"metricView",position:{x:Number(c.position_x)||400,y:Number(c.position_y)||100},data:{metricView:c,width:Number(c.width)||280,height:Number(c.height)||220,onEdit:t,onDelete:n,onResize:r,onApply:o,onGenerateDDL:a,selected:d},style:{width:Number(c.width)||280,height:Number(c.height)||220},selected:d,selectable:!0,focusable:!0,draggable:!0};return console.log(` Created metricView node for ${c.name}:`,p.id,"draggable:",p.draggable),p}).filter(Boolean);return console.log(" metricViewsToNodes completed:",s.length,"nodes"),s}catch(s){return console.error(" Error in metricViewsToNodes:",s),[]}},wee=(e,t=[])=>!e||!Array.isArray(e)?[]:e.map(n=>{if(!n||!n.id||!n.source_table_id||!n.target_table_id)return console.warn("Invalid relationship data:",n),null;const r=t.some(o=>o.id===n.id);return{id:String(n.id),source:String(n.source_table_id),target:String(n.target_table_id),type:"smoothstep",animated:!1,style:{stroke:r?"#ef4444":"#94a3b8",strokeWidth:r?3:2},markerEnd:{type:"arrowclosed",color:r?"#ef4444":"#94a3b8"},selected:r,selectable:!0,focusable:!0,data:{relationship:n}}}).filter(Boolean),bee=(e,t=[])=>!e||!Array.isArray(e)?[]:e.map(n=>{if(!n||!n.id||!n.source_table_id||!n.metric_view_id)return console.warn("Invalid metric relationship data:",n),null;const r=t.some(o=>o.id===n.id);return{id:String(n.id),source:String(n.source_table_id),target:String(n.metric_view_id),type:"smoothstep",animated:!0,style:{stroke:"#8b5cf6",strokeWidth:3,strokeDasharray:"5,5"},markerEnd:{type:"arrowclosed",color:"#8b5cf6",width:20,height:20},label:"Metric Source",labelStyle:{fontSize:"10px",fontWeight:"bold",color:"#8b5cf6",background:"rgba(255, 255, 255, 0.9)",padding:"2px 6px",borderRadius:"4px",border:"1px solid #8b5cf6"},labelBgStyle:{fill:"rgba(255, 255, 255, 0.9)",fillOpacity:.9},selected:r,selectable:!0,focusable:!0,data:{relationship:n}}}).filter(Boolean),Cee=(e,t,n,r,o,a,i=[])=>{if(console.log(" traditionalViewsToNodes called with:",{traditionalViews:(e==null?void 0:e.length)??0,selectedTraditionalViews:(i==null?void 0:i.length)??0}),!e||!Array.isArray(e))return console.log(" traditionalViewsToNodes: returning empty array - invalid traditionalViews"),[];try{const s=e.map((c,u)=>{if(console.log(` Processing traditionalView ${u}:`,(c==null?void 0:c.name)||"unnamed"),!c||!c.id)return console.warn("Invalid traditional view data:",c),null;const d=Array.isArray(i)?i.some(m=>m&&m.id===c.id):!1,p={id:String(c.id),type:"traditionalView",position:{x:Number(c.position_x)||600,y:Number(c.position_y)||100},data:{traditionalView:c,width:Number(c.width)||250,height:Number(c.height)||180,onEdit:t,onDelete:n,onResize:r,onApply:o,onGenerateDDL:a,selected:d},style:{width:Number(c.width)||250,height:Number(c.height)||180},selected:d,selectable:!0,focusable:!0,draggable:!0};return console.log(` Created traditionalView node for ${c.name}:`,p.id,"draggable:",p.draggable),p}).filter(Boolean);return console.log(" traditionalViewsToNodes completed:",s.length,"nodes"),s}catch(s){return console.error(" Error in traditionalViewsToNodes:",s),[]}},See=({onTableCreate:e,onDragStart:t})=>{const{tables:n}=lt(),r=(o,a)=>{o.dataTransfer.setData("application/reactflow",a),o.dataTransfer.effectAllowed="move",t&&t(o,a)};return l.jsxs(Z,{style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3,width:"280px",background:"white",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsxs(Z,{style:{padding:"16px",background:"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[l.jsx(N,{size:"3",weight:"bold",style:{color:"#1e293b"},children:"Table Creation"}),l.jsx(N,{size:"1",style:{color:"#64748b",marginTop:"4px"},children:"Drag tables onto the canvas"})]}),l.jsx(Z,{style:{padding:"16px"},children:l.jsxs(O,{direction:"column",gap:"3",children:[l.jsx(Ke,{style:{cursor:"grab",padding:"12px",border:"2px dashed #94a3b8",background:"#f8fafc"},draggable:!0,onDragStart:o=>r(o,"new_table"),onClick:e,children:l.jsxs(O,{align:"center",gap:"3",children:[l.jsx(Z,{style:{color:"#64748b",fontSize:"18px"},children:l.jsx(yr,{})}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",style:{color:"#1e293b"},children:"New Table"}),l.jsx(N,{size:"1",style:{color:"#64748b"},children:"Create custom table"})]}),l.jsx(Z,{style:{marginLeft:"auto",color:"#94a3b8"},children:l.jsx(Pb,{})})]})}),l.jsx(Ln,{}),n&&n.length>0&&l.jsxs(Z,{children:[l.jsxs(N,{size:"2",weight:"bold",style:{color:"#374151",marginBottom:"8px"},children:["Existing Tables (",n.length,")"]}),l.jsx(O,{direction:"column",gap:"2",style:{maxHeight:"300px",overflowY:"auto"},children:n.map(o=>{var a;return l.jsx(Ke,{style:{cursor:"grab",padding:"8px 12px",border:"1px solid #e2e8f0",background:"white"},draggable:!0,onDragStart:i=>r(i,`existing_${o.id}`),children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(xe,{color:"blue",size:"1",children:o.name}),l.jsxs(N,{size:"1",style:{color:"#64748b",flex:1},children:[((a=o.fields)==null?void 0:a.length)||0," fields"]}),l.jsx(Z,{style:{color:"#94a3b8"},children:l.jsx(Pb,{})})]})},o.id)})})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",style:{color:"#374151",marginBottom:"8px"},children:"Quick Templates"}),l.jsxs(O,{direction:"column",gap:"2",children:[l.jsx(Ke,{style:{cursor:"grab",padding:"8px 12px",border:"1px solid #e2e8f0",background:"#fef3c7"},draggable:!0,onDragStart:o=>r(o,"template_customer"),children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(xe,{color:"amber",size:"1",children:"Customer"}),l.jsx(N,{size:"1",style:{color:"#92400e"},children:"ID, Name, Email"})]})}),l.jsx(Ke,{style:{cursor:"grab",padding:"8px 12px",border:"1px solid #e2e8f0",background:"#dbeafe"},draggable:!0,onDragStart:o=>r(o,"template_order"),children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(xe,{color:"blue",size:"1",children:"Order"}),l.jsx(N,{size:"1",style:{color:"#1e40af"},children:"ID, Customer ID, Amount"})]})}),l.jsx(Ke,{style:{cursor:"grab",padding:"8px 12px",border:"1px solid #e2e8f0",background:"#dcfce7"},draggable:!0,onDragStart:o=>r(o,"template_product"),children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(xe,{color:"green",size:"1",children:"Product"}),l.jsx(N,{size:"1",style:{color:"#166534"},children:"ID, Name, Price"})]})})]})]})]})})]})},Eee=()=>{console.log(" ERDCanvasComponent: Starting component initialization");const e=lt(),{tables:t=[],metricViews:n=[],traditionalViews:r=[],relationships:o=[],metricRelationships:a=[],selectedTables:i=[],selectedMetricViews:s=[],selectedTraditionalViews:c=[],selectedRelationships:u=[],currentProject:d=null,catalogName:p="",schemaName:m="",updateTable:h=()=>{},addRelationship:v=()=>{},deleteRelationship:g=()=>{},setSelectedTables:x=()=>{},setSelectedMetricViews:y=()=>{},setSelectedTraditionalViews:_=()=>{},setSelectedRelationships:w=()=>{},generateDDL:b=()=>Promise.resolve({}),applyChanges:S=()=>Promise.resolve({}),applyMetricView:k=()=>Promise.resolve({}),setShowTableDialog:j=()=>{},setShowMetricViewDialog:$=()=>{},setShowFieldMappingDialog:C=()=>{},setShowImportDialog:R=()=>{},addTable:D=()=>{},deleteTable:q=()=>{},createMetricView:F=()=>{},updateMetricView:A=()=>{},deleteMetricView:B=()=>{},updateMetricViewPosition:E=()=>{},updateMetricViewSize:L=()=>{},createTraditionalView:I=()=>{},updateTraditionalView:P=()=>{},deleteTraditionalView:z=()=>{},updateTraditionalViewPosition:H=()=>{},updateTraditionalViewSize:W=()=>{},setShowTraditionalViewDialog:J=()=>{},applyTraditionalView:ce=()=>Promise.resolve({}),generateTraditionalViewDDL:fe=()=>Promise.resolve({}),createMetricRelationship:pe=()=>{},deleteMetricRelationship:ie=()=>{}}=e||{};console.log(" ERDCanvasComponent: Destructuring completed successfully");const ge=f.useMemo(()=>({table:see,metricView:cee,traditionalView:uee}),[]),[ve,ue]=f.useState(!1),[K,se]=f.useState(null),[Se,Ee]=f.useState(!1),[we,T]=f.useState(!1),[V,M]=f.useState(null),[G,ne]=f.useState({sourceTable:null,targetMetricView:null}),[re,oe]=f.useState(!1),[De,He]=f.useState(null),[Ie,Je]=f.useState(!1),[Be,ee]=f.useState(null),[ke,_e]=f.useState(!1),[Ne,et]=f.useState(null),[Le,Ze]=f.useState(!1),[it,Pt]=f.useState(null),[ht,Oe]=f.useState(!1),[vt,Ut]=f.useState(!1),[dn,Qt]=f.useState(null),nf=f.useCallback(Y=>{const Q=lt.getState();console.log("handleTableEdit called with table:",Y),console.log("Current editingTable state:",Q.editingTable),Q.setShowTableDialog(!0,Y),console.log("After setShowTableDialog, editingTable state:",Q.editingTable)},[]),Gi=f.useCallback(()=>{lt.getState().setShowTableDialog(!0,null)},[]),rf=f.useCallback(Y=>{window.confirm("Are you sure you want to delete this table?")&&q(Y)},[q]),of=f.useCallback((Y,Q,le)=>{h(Y,{width:Q,height:le})},[h]),af=f.useCallback(Y=>{console.log(" Opening DDL progress dialog for table:",Y.name),Pt(Y.id),Ze(!0)},[]),sf=f.useCallback(Y=>{console.log(" Opening apply progress dialog for table:",Y.name),et(Y.id),_e(!0)},[]),lf=f.useCallback(async(Y,Q,le)=>(console.log(" ERDCanvas: handleApplyProgressWithTable called"),console.log(" Selected warehouse:",Q),console.log(" Session ID:",le),console.log(" Table ID to apply:",Ne),await S(Ne?[Ne]:[],!0,Q,le)),[S,Ne]),cf=f.useCallback(async Y=>(console.log(" ERDCanvas: handleGenerateDDLWithProgress called"),console.log(" Table IDs:",Y),await b(Y||(it?[it]:[]))),[b,it]),uf=f.useCallback(async Y=>{console.log(" ERDCanvas: handleMetricViewGenerateDDLWithProgress called"),console.log(" Metric View IDs:",Y);const Q=Y||(dn?[dn]:[]),le=n.find(Te=>Te.id===Q[0]);if(!le)throw new Error("Metric view not found");const de=vee(le,d,t);return{ddl_statements:[{table_name:le.name,ddl:de,warnings:[]}]}},[dn,n,d,t]);f.useCallback(async Y=>{var Q,le;console.log(" ERDCanvas: handleMetricViewApplySimple called"),console.log(" Metric View to apply:",Y.name);try{const de=await k(Y.id,!0,null);console.log(" Metric view applied successfully:",de),alert(` Metric view "${Y.name}" applied successfully to ${de.catalog_name}.${de.schema_name}`)}catch(de){console.error(" Error applying metric view:",de);let Te="Failed to apply metric view";(le=(Q=de.response)==null?void 0:Q.data)!=null&&le.error?Te=de.response.data.error:de.message&&(Te=de.message),alert(` Error applying metric view "${Y.name}": ${Te}`)}},[k]);const Ml=f.useCallback(async Y=>{var Q,le,de,Te,Fe;console.log(" ERDCanvas: handleMetricViewApplyDirect called"),console.log(" Metric View to apply:",Y.name);try{const Me=await k(Y.id,!0,null);console.log(" Metric view applied successfully:",Me),alert(` Metric view "${Y.name}" applied successfully to ${Me.catalog_name}.${Me.schema_name}`)}catch(Me){console.error(" Error applying metric view:",Me);let nt="Failed to apply metric view";if(((Q=Me.response)==null?void 0:Q.status)===400&&((de=(le=Me.response)==null?void 0:le.data)!=null&&de.error)){const wt=Me.response.data.error;wt.includes("TABLE_OR_VIEW_NOT_FOUND")?nt="The source table for this metric view was not found in the target catalog/schema. Please ensure the source table exists or choose a different catalog/schema.":wt.includes("SCHEMA_NOT_FOUND")?nt="The target schema was not found. Please check the schema name and permissions.":wt.includes("CATALOG_NOT_FOUND")?nt="The target catalog was not found. Please check the catalog name and permissions.":nt=wt}else(Fe=(Te=Me.response)==null?void 0:Te.data)!=null&&Fe.error?nt=Me.response.data.error:Me.message&&(nt=Me.message);alert(` Error applying metric view "${Y.name}": ${nt}`)}},[k]),df=f.useCallback(async(Y,Q,le)=>{if(console.log(" ERDCanvas: handleMetricViewApplyWithProgress called - redirecting to simple apply"),Ut(!1),Qt(null),dn){const de=n.find(Te=>Te.id===dn);de&&await Ml(de)}return{message:"Metric view apply completed"}},[dn,n,Ml]),ff=f.useCallback(Y=>{console.log(" Editing metric view:",Y.name),M(Y),Ee(!0)},[]),Ol=f.useCallback((Y=null)=>{if(console.log(" Creating new metric view, sourceTableId:",Y),t.length===0){alert("You need to create or import at least one table before creating a metric view. Metric views require a source table to define dimensions and measures.");return}M(null),Ee(!0)},[t.length]),Ll=f.useCallback(Y=>{window.confirm(`Are you sure you want to delete the metric view "${Y.name}"?`)&&(console.log(" Deleting metric view:",Y.name),B(Y.id))},[B]),pf=f.useCallback((Y,Q,le)=>{console.log(" Resizing metric view:",Y,{newWidth:Q,newHeight:le}),L(Y,Q,le)},[L]),hf=f.useCallback(Y=>{console.log(" Opening apply progress dialog for metric view:",Y.name),Qt(Y.id),Ut(!0)},[]),mf=f.useCallback(Y=>{console.log(" Opening DDL progress dialog for metric view:",Y.name),Qt(Y.id),Oe(!0)},[]),gf=f.useCallback(Y=>{console.log(" Editing traditional view:",Y.name),He(Y),oe(!0)},[]),vf=f.useCallback(Y=>{const Q=r.find(de=>de.id===Y),le=(Q==null?void 0:Q.name)||"Unknown View";window.confirm(`Are you sure you want to delete the traditional view "${le}"?`)&&(console.log(" Deleting traditional view:",le),z(Y))},[z,r]),yf=f.useCallback((Y,Q,le)=>{console.log(" Resizing traditional view:",Y,{newWidth:Q,newHeight:le}),W(Y,Q,le)},[W]),_f=f.useCallback(async Y=>{var Q,le;console.log(" Applying traditional view:",Y.name);try{const de=await ce(Y.id,!0,null);console.log(" Traditional view applied successfully:",de),alert(` Traditional view "${Y.name}" applied successfully to ${de.catalog_name}.${de.schema_name}`)}catch(de){console.error(" Error applying traditional view:",de);let Te="Failed to apply traditional view";(le=(Q=de.response)==null?void 0:Q.data)!=null&&le.error?Te=de.response.data.error:de.message&&(Te=de.message),alert(` Error applying traditional view "${Y.name}": ${Te}`)}},[ce]),xf=f.useCallback(async Y=>{var Q,le;console.log(" Generating DDL for traditional view:",Y.name);try{const de=await fe(Y.id);console.log(" Traditional view DDL generated successfully:",de);const Te=new Blob([de.ddl],{type:"text/sql"}),Fe=window.URL.createObjectURL(Te),Me=document.createElement("a");Me.href=Fe,Me.setAttribute("download",`${Y.name}_ddl.sql`),document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),window.URL.revokeObjectURL(Fe),console.log(` DDL file downloaded: ${Y.name}_ddl.sql`)}catch(de){console.error(" Error generating traditional view DDL:",de);let Te="Failed to generate DDL for traditional view";(le=(Q=de.response)==null?void 0:Q.data)!=null&&le.error?Te=de.response.data.error:de.message&&(Te=de.message),alert(` Error generating DDL for "${Y.name}": ${Te}`)}},[fe]),zl=f.useCallback(()=>{console.log(" Creating new traditional view"),He(null),oe(!0)},[]),wf=f.useCallback(Y=>{console.log(" Saving metric view:",Y),V?A(V.id,Y):F(Y),Ee(!1),M(null)},[V,A,F]),bf=f.useCallback(Y=>{console.log(" Saving traditional view:",Y),De?P(De.id,Y):I(Y),oe(!1),He(null)},[De,P,I]),Cf=f.useCallback(Y=>{console.log(" Saving field mapping:",Y);const{relationship:Q,newDimensions:le,newMeasures:de}=Y;if(G.targetMetricView){const Te={...G.targetMetricView,dimensions:[...G.targetMetricView.dimensions||[],...le],measures:[...G.targetMetricView.measures||[],...de]};A(G.targetMetricView.id,Te)}T(!1),ne({sourceTable:null,targetMetricView:null})},[G,A]),Fl=f.useRef(null),[ql,Sf]=f.useState(null),[Ta,Ra,Ef]=WW([]),[Wi,ao,sR]=KW([]),[ka,kx]=f.useState(null);f.useEffect(()=>{try{console.log(" Starting canvas update with data:",{tables:Array.isArray(t)?t.length:"not array",metricViews:Array.isArray(n)?n.length:"not array",relationships:Array.isArray(o)?o.length:"not array",metricRelationships:Array.isArray(a)?a.length:"not array"});const Y=Array.isArray(t)?t:[],Q=Array.isArray(n)?n:[],le=Array.isArray(r)?r:[],de=Array.isArray(o)?o:[],Te=Array.isArray(a)?a:[],Fe=Array.isArray(i)?i:[],Me=Array.isArray(s)?s:[],nt=Array.isArray(c)?c:[],wt=Array.isArray(u)?u:[],Ct=_ee(Y,nf,rf,of,af,sf,Fe),jr=xee(Q,ff,Ll,pf,hf,mf,Me),$f=Cee(le,gf,vf,yf,_f,xf,nt),Tf=wee(de,wt),Rf=bee(Te,wt),vR=[...Array.isArray(Ct)?Ct:[],...Array.isArray(jr)?jr:[],...Array.isArray($f)?$f:[]],yR=[...Array.isArray(Tf)?Tf:[],...Array.isArray(Rf)?Rf:[]];console.log(" Canvas update successful:",{tables:Ct.length,metricViews:jr.length,traditionalViews:$f.length,relationships:Tf.length,metricRelationships:Rf.length}),Ra(vR),ao(yR)}catch(Y){console.error(" Error updating canvas nodes/edges:",Y),console.error(" Error stack:",Y.stack),Ra([]),ao([])}},[t,n,r,o,a,i,s,c,u]);const lR=f.useCallback((Y,{nodeId:Q,handleType:le,handleId:de})=>{console.log(" Connection START:",{nodeId:Q,handleType:le,handleId:de});const Te=t.find(Me=>Me.id===Q),Fe=n.find(Me=>Me.id===Q);kx({sourceNodeId:Q,sourceTableName:Te==null?void 0:Te.name,sourceMetricViewName:Fe==null?void 0:Fe.name,nodeType:Te?"table":Fe?"metricView":"unknown",handleType:le,handleId:de})},[t,n]),cR=f.useCallback(Y=>{console.log(" Connection END:",Y),setTimeout(()=>kx(null),100)},[]),uR=f.useCallback(Y=>{try{console.log(" onConnect called with params:",Y),console.log(" Connection drag state:",ka);const Q=t.find(nt=>nt.id===Y.source),le=t.find(nt=>nt.id===Y.target),de=n.find(nt=>nt.id===Y.source),Te=n.find(nt=>nt.id===Y.target);if(console.log(" Connection types:",{sourceTable:Q==null?void 0:Q.name,targetTable:le==null?void 0:le.name,sourceMetricView:de==null?void 0:de.name,targetMetricView:Te==null?void 0:Te.name}),Q&&Te){console.log(" Table  Metric View connection detected!"),ne({sourceTable:Q,targetMetricView:Te}),T(!0);return}if(de&&le){console.log(" Metric View  Table connection detected (reversing)!"),ne({sourceTable:le,targetMetricView:de}),T(!0);return}if(!Q||!le){console.warn(" Invalid connection: both nodes must be tables for FK relationships");return}console.log(" ReactFlow params.source:",Y.source,"(",Q==null?void 0:Q.name,")"),console.log(" ReactFlow params.target:",Y.target,"(",le==null?void 0:le.name,")");let Fe,Me;if(ka&&ka.sourceNodeId){const nt=t.find(Ct=>Ct.id===ka.sourceNodeId),wt=t.find(Ct=>Ct.id!==ka.sourceNodeId&&(Ct.id===Y.source||Ct.id===Y.target));nt&&wt?(Fe=nt,Me=wt,console.log(" Using CONNECTION DRAG STATE:",`${nt.name} -> ${wt.name}`)):(Fe=table1,Me=table2,console.log(" Fallback to Interpretation 1 (drag state incomplete)"))}else Fe=table1,Me=table2,console.log(" Fallback to Interpretation 1 (no drag state)");Fe&&Me?(se({sourceTable:Fe,targetTable:Me,params:Y}),ue(!0)):console.warn(" PK table or FK table not found")}catch(Q){console.error(" Error preparing relationship dialog:",Q)}},[t,ka]),dR=f.useCallback(Y=>{try{const{sourceTable:Q,targetTable:le,primaryKey:de,fkFieldName:Te,useExistingField:Fe,existingFieldId:Me,createNewField:nt}=Y;console.log(" Creating relationship with config:",Y);let wt;if(Fe&&Me){if(wt=le.fields.find(Ct=>Ct.id===Me),wt){const Ct=le.fields.map(jr=>jr.id===Me?{...jr,is_foreign_key:!0,foreign_key_reference:{referenced_table_id:Q.id,referenced_field_id:de.id,constraint_name:`fk_${le.name}_${Te}`,on_delete:"NO ACTION",on_update:"NO ACTION"}}:jr);h(le.id,{fields:Ct}),wt=Ct.find(jr=>jr.id===Me)}}else nt&&(wt={id:ot(),name:Te,data_type:de.data_type,type_parameters:de.type_parameters,nullable:!0,is_foreign_key:!0,foreign_key_reference:{referenced_table_id:Q.id,referenced_field_id:de.id,constraint_name:`fk_${le.name}_${Te}`,on_delete:"NO ACTION",on_update:"NO ACTION"},comment:`Foreign key to ${Q.name}.${de.name}`,logical_name:de.logical_name||de.name},h(le.id,{fields:[...le.fields||[],wt]}));if(wt){const Ct=v({id:ot(),source_table_id:Q.id,target_table_id:le.id,source_field_id:de.id,target_field_id:wt.id,relationship_type:"one_to_many",constraint_name:`fk_${le.name}_${Te}`,fk_table_id:le.id,fk_field_id:wt.id,foreign_key_reference:{referenced_table_id:Q.id,referenced_field_id:de.id,constraint_name:`fk_${le.name}_${Te}`,on_delete:"NO ACTION",on_update:"NO ACTION"}});console.log(" Relationship created successfully!",Ct)}se(null)}catch(Q){console.error(" Error creating relationship:",Q)}},[h,v]),fR=f.useCallback(Y=>{Y.preventDefault(),Y.dataTransfer.dropEffect="move"},[]),pR=f.useCallback(Y=>{Y.preventDefault();const Q=Fl.current.getBoundingClientRect(),le=Y.dataTransfer.getData("application/reactflow");if(typeof le>"u"||!le)return;const de=ql.screenToFlowPosition({x:Y.clientX-Q.left,y:Y.clientY-Q.top});if(le==="new_table")Gi();else if(le.startsWith("existing_"))console.log("Existing table drag:",le);else if(le.startsWith("template_")){const Te=le.replace("template_","");hR(Te,de)}},[ql,j]),hR=(Y,Q)=>{let le="",de=[];switch(Y){case"customer":le="customers",de=[{id:ot(),name:"customer_id",data_type:"BIGINT",nullable:!1,is_primary_key:!0,comment:"Unique customer identifier"},{id:ot(),name:"first_name",data_type:"STRING",nullable:!1,comment:"Customer first name"},{id:ot(),name:"last_name",data_type:"STRING",nullable:!1,comment:"Customer last name"},{id:ot(),name:"email",data_type:"STRING",nullable:!0,comment:"Customer email address"}];break;case"order":le="orders",de=[{id:ot(),name:"order_id",data_type:"BIGINT",nullable:!1,is_primary_key:!0,comment:"Unique order identifier"},{id:ot(),name:"customer_id",data_type:"BIGINT",nullable:!1,is_foreign_key:!0,comment:"Reference to customer"},{id:ot(),name:"order_date",data_type:"TIMESTAMP",nullable:!1,comment:"Order date and time"},{id:ot(),name:"total_amount",data_type:"DECIMAL",type_parameters:{precision:10,scale:2},nullable:!1,comment:"Total order amount"}];break;case"product":le="products",de=[{id:ot(),name:"product_id",data_type:"BIGINT",nullable:!1,is_primary_key:!0,comment:"Unique product identifier"},{id:ot(),name:"product_name",data_type:"STRING",nullable:!1,comment:"Product name"},{id:ot(),name:"price",data_type:"DECIMAL",type_parameters:{precision:10,scale:2},nullable:!1,comment:"Product price"},{id:ot(),name:"category",data_type:"STRING",nullable:!0,comment:"Product category"}];break;default:return}const Te={id:ot(),name:le,logical_name:le.charAt(0).toUpperCase()+le.slice(1),comment:`Template ${Y} table`,table_type:"MANAGED",file_format:"DELTA",position_x:Q.x,position_y:Q.y,width:220,height:180,fields:de};D(Te)},mR=f.useCallback((Y,Q)=>{try{console.log(" Node drag stopped:",Q.id,Q.type,Q.position),Q.type==="table"?(h(Q.id,{position_x:Q.position.x,position_y:Q.position.y}),console.log(" Updated table position:",Q.id)):Q.type==="metricView"&&(A(Q.id,{position_x:Q.position.x,position_y:Q.position.y}),console.log(" Updated metric view position:",Q.id))}catch(le){console.error("Error updating node position:",le)}},[h,A]),Bl=f.useCallback(Y=>{try{const{nodes:Q,edges:le}=yee(Ta,Wi,Y);Ra([...Q]),ao([...le]),Q.forEach(de=>{h(de.id,{position_x:de.position.x,position_y:de.position.y})})}catch(Q){console.error("Error applying layout:",Q)}},[Ta,Wi,Ra,ao,h]),gR=f.useCallback(Y=>{try{console.log("Selection change - full params:",Y);const Q=(Y==null?void 0:Y.nodes)||[],le=(Y==null?void 0:Y.edges)||[];if(console.log("Selection change - selectedNodes:",Q.length,"selectedEdges:",le.length),Q&&Array.isArray(Q)?(x(Q),console.log("Selected tables updated:",Q.length)):x([]),le&&Array.isArray(le)){const de=le.map(Te=>{var Fe;return(Fe=Te.data)==null?void 0:Fe.relationship}).filter(Boolean);w(de),console.log("Selected relationships updated:",de.length)}else w([])}catch(Q){console.error("Error handling selection change:",Q),x([]),w([])}},[x,w]),jf=f.useCallback(Y=>{if(Y.key==="Delete"||Y.key==="Backspace"){let Q=!1,le="";if(i&&i.length>0){Q=!0;const de=i.map(Te=>{var Fe,Me;return((Me=(Fe=Te.data)==null?void 0:Fe.table)==null?void 0:Me.name)||"Unknown"}).join(", ");le+=i.length===1?`Delete table "${de}"`:`Delete ${i.length} tables (${de})`}if(c&&c.length>0){Q=!0,le&&(le+=" and ");const de=c.map(Te=>{var Fe,Me;return((Me=(Fe=Te.data)==null?void 0:Fe.traditionalView)==null?void 0:Me.name)||"Unknown"}).join(", ");le+=c.length===1?`traditional view "${de}"`:`${c.length} traditional views (${de})`}u&&u.length>0&&(Q=!0,le&&(le+=" and "),le+=u.length===1?"1 relationship":`${u.length} relationships`),Q&&window.confirm(`Are you sure you want to ${le}?`)&&(i.forEach(de=>{var Te,Fe;(Fe=(Te=de.data)==null?void 0:Te.table)!=null&&Fe.id&&q(de.data.table.id)}),c.forEach(de=>{var Te,Fe;(Fe=(Te=de.data)==null?void 0:Te.traditionalView)!=null&&Fe.id&&z(de.data.traditionalView.id)}),u.forEach(de=>{de.id&&g(de.id)}),x([]),_([]),w([])),Y.preventDefault()}},[i,c,u,q,z,g,x,_,w]);return f.useEffect(()=>{const Y=Q=>{["INPUT","TEXTAREA","SELECT"].includes(Q.target.tagName)||jf(Q)};return document.addEventListener("keydown",Y),()=>{document.removeEventListener("keydown",Y)}},[jf]),f.useCallback(async()=>{var Y;console.log("handleGenerateDDL called, selectedTables:",i);try{const Q=i.map(nt=>nt.id);console.log("Selected table IDs:",Q);const de=((Y=(await b(Q.length>0?Q:[])).ddl_statements)==null?void 0:Y.map(nt=>nt.ddl).join(`

`))||"No DDL generated",Te=new Blob([de],{type:"text/sql"}),Fe=URL.createObjectURL(Te),Me=document.createElement("a");Me.href=Fe,Me.download=`${(d==null?void 0:d.name)||"tables"}_ddl.sql`,Me.click(),URL.revokeObjectURL(Fe)}catch(Q){console.error("Error generating DDL:",Q)}},[i,b,d]),f.useCallback(async()=>{console.log(" handleApplyChanges called, selectedTables:",i),console.log(" Current project:",d),console.log(" Catalog/Schema:",p,"/",m);try{const Y=i.map(le=>le.id);console.log(" Selected table IDs for apply:",Y),console.log(" Calling applyChanges...");const Q=await S(Y.length>0?Y:[],!0);if(console.log(" Apply changes result:",Q),Q&&Q.results){const le=Q.results.filter(Fe=>Fe.success).length,de=Q.results.length,Te=de-le;if(console.log(` Apply results: ${le}/${de} tables successful to ${Q.catalog_name}.${Q.schema_name}`),le===de){const Fe=Q.results.filter(Me=>Me.success&&Me.warnings&&Me.warnings.length>0);if(Fe.length>0){const Me=Fe.map(nt=>({title:`Table: ${nt.table_name}`,message:nt.warnings.join("; ")}));ee({title:"Applied with Warnings",message:` Successfully applied all ${de} tables to ${Q.catalog_name}.${Q.schema_name}, but some operations had warnings.`,details:`Target: ${Q.catalog_name}.${Q.schema_name}`,errors:Me}),Je(!0)}else alert(` Successfully applied all ${de} tables to ${Q.catalog_name}.${Q.schema_name}`)}else if(Te>0){const Me=Q.results.filter(Ct=>!Ct.success).map(Ct=>({title:`Table: ${Ct.table_name}`,message:Ct.error||"Unknown error occurred"})),nt=le>0?"Partial Failure":"Apply Failed",wt=le>0?`${le} of ${de} tables were applied successfully, but ${Te} failed.`:`Failed to apply any of the ${de} selected tables to ${Q.catalog_name}.${Q.schema_name}.`;ee({title:nt,message:wt,details:`Target: ${Q.catalog_name}.${Q.schema_name}`,errors:Me}),Je(!0)}}}catch(Y){console.error(" Error applying changes:",Y),alert(`Error applying changes: ${Y.message||Y}`)}},[i,S,d,p,m]),(!t||t.length===0)&&(!n||n.length===0)&&(!r||r.length===0)?l.jsx(Z,{style:{width:"100%",height:"95vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"20px"},children:l.jsxs(Z,{style:{textAlign:"center",maxWidth:"600px"},children:[l.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",color:"#1e293b"},children:"Welcome to Data Modeler App"}),l.jsx("p",{style:{fontSize:"1.2rem",color:"#64748b",marginBottom:"2rem"},children:"Entity Relationship Diagram tool for Databricks Unity Catalog"}),l.jsxs(Z,{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[l.jsxs(me,{size:"3",onClick:Gi,children:[l.jsx(yr,{})," Create New Table"]}),l.jsxs(me,{size:"3",onClick:Ol,style:{background:"var(--metric-gradient-primary)",color:"var(--metric-text-light)",border:"none"},children:[l.jsx(tn,{})," Create Metric View"]}),l.jsxs(me,{size:"3",variant:"outline",onClick:()=>R(!0),children:[l.jsx(rl,{})," Import from Databricks"]})]}),l.jsxs(Z,{style:{marginTop:"3rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[l.jsx("h3",{style:{marginBottom:"1rem",color:"#1e293b"},children:"Features"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",textAlign:"left"},children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Visual ERD:"})," Drag-and-drop table design"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Data Types:"})," Full Databricks type support"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Constraints:"})," Primary keys & foreign keys"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Templates:"})," Quick-start table templates"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"DDL Export:"})," Generate SQL scripts"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Unity Catalog:"})," Direct Databricks integration"]})]})]})]})}):l.jsxs(lx,{children:[l.jsxs(Z,{style:{width:"100%",height:"95vh",position:"relative"},children:[l.jsx(See,{onTableCreate:Gi,onDragStart:(Y,Q)=>{console.log("Dragging:",Q)}}),l.jsxs(P9,{ref:Fl,nodes:Ta,edges:Wi,onNodesChange:Ef,onEdgesChange:sR,onConnect:uR,onConnectStart:lR,onConnectEnd:cR,onInit:Sf,onDrop:pR,onDragOver:fR,onNodeDragStop:mR,onNodeDrag:(Y,Q)=>{console.log(" Node dragging:",Q.id,Q.type,Q.position)},onSelectionChange:gR,nodeTypes:ge,connectionLineType:Dr.SmoothStep,multiSelectionKeyCode:["Meta","Ctrl"],selectNodesOnDrag:!0,fitView:!0,style:{background:"#f8fafc"},children:[l.jsx(dK,{}),l.jsx(oK,{nodeColor:Y=>{switch(Y.type){case"table":return"#e0f2fe";default:return"#eee"}}}),l.jsx(vK,{variant:"dots",gap:12,size:1}),l.jsx(dl,{position:"top-right",children:l.jsxs(O,{gap:"2",children:[l.jsxs(Ae.Root,{children:[l.jsx(Ae.Trigger,{children:l.jsxs(me,{variant:"surface",size:"2",children:[l.jsx(ol,{})," Layout"]})}),l.jsxs(Ae.Content,{children:[l.jsx(Ae.Item,{onClick:()=>Bl("TB"),children:"Top to Bottom"}),l.jsx(Ae.Item,{onClick:()=>Bl("BT"),children:"Bottom to Top"}),l.jsx(Ae.Item,{onClick:()=>Bl("LR"),children:"Left to Right"}),l.jsx(Ae.Item,{onClick:()=>Bl("RL"),children:"Right to Left"})]})]}),l.jsxs(me,{variant:"surface",size:"2",onClick:()=>Ol(),title:"Create a new metric view",style:{background:"var(--metric-gradient-primary)",color:"var(--metric-text-light)",border:"none"},children:[l.jsx(tn,{})," Create Metric View"]}),l.jsxs(me,{variant:"surface",size:"2",onClick:()=>zl(),title:"Create a new traditional view",style:{background:"linear-gradient(135deg, var(--trad-accent), #3A9B73)",color:"var(--color-white)",border:"none"},children:[l.jsx(hr,{})," Create Traditional View"]})]})}),(i&&i.length>0||u&&u.length>0)&&l.jsx(dl,{position:"top-center",children:l.jsx(Ke,{children:l.jsxs(O,{align:"center",gap:"3",px:"3",py:"2",children:[l.jsxs(N,{size:"2",weight:"medium",children:[i.length>0&&`${i.length} table${i.length>1?"s":""}`,i.length>0&&u.length>0&&" and ",u.length>0&&`${u.length} relationship${u.length>1?"s":""}`," selected"]}),l.jsx(N,{size:"1",color:"gray",children:"(Press Delete key or use the button)"}),l.jsxs(me,{variant:"surface",color:"red",size:"2",onClick:()=>jf({key:"Delete",preventDefault:()=>{}}),children:[l.jsx(Fn,{})," Delete"]}),l.jsx(me,{variant:"ghost",size:"2",onClick:()=>{x([]),w([])},children:"Clear Selection"})]})})})]})]}),l.jsx(dee,{showDialog:ve,setShowDialog:ue,sourceTable:K==null?void 0:K.sourceTable,targetTable:K==null?void 0:K.targetTable,onConfirm:dR}),l.jsx(hee,{open:Se,onClose:()=>{Ee(!1),M(null)},metricView:V,onSave:wf}),l.jsx(mee,{open:re,onClose:()=>{oe(!1),He(null)},traditionalView:De,onSave:bf}),l.jsx(gee,{open:we,onClose:()=>{T(!1),ne({sourceTable:null,targetMetricView:null})},sourceTable:G.sourceTable,targetMetricView:G.targetMetricView,onSave:Cf}),l.jsx(Hv,{isOpen:ke,onClose:()=>{_e(!1),et(null)},onApply:lf,projectData:d}),l.jsx(Vv,{isOpen:Le,onClose:()=>{Ze(!1),Pt(null)},onGenerateDDL:cf,projectData:d,tableIds:it?[it]:null}),l.jsx(Vv,{isOpen:ht,onClose:()=>{Oe(!1),Qt(null)},onGenerateDDL:uf,projectData:d,tableIds:dn?[dn]:null}),l.jsx(Hv,{isOpen:vt,onClose:()=>{Ut(!1),Qt(null)},onApply:df,projectData:d}),l.jsx(fee,{isOpen:Ie,onClose:()=>Je(!1),title:Be==null?void 0:Be.title,message:Be==null?void 0:Be.message,details:Be==null?void 0:Be.details,errors:Be==null?void 0:Be.errors})]})},jee=()=>{const{displayAlertDialog:e,currentAlertDialogErrorType:t,errors:n,toggleAlertDialog:r}=lt();let o,a=()=>l.jsx(l.Fragment,{}),i={loadCatalogs:n.loadCatalogs,loadSchemas:n.loadSchemas,loadTables:n.loadTables,importTables:n.importTables,saveProject:n.saveProject,loadProject:n.loadProject,generateDDL:n.generateDDL,applyChanges:n.applyChanges};return t==="loadCatalogs"?(o="Error Loading Catalogs",a=()=>l.jsx(N,{children:"Failed to load Databricks catalogs. Please check your connection and permissions."})):t==="loadSchemas"?(o="Error Loading Schemas",a=()=>l.jsx(N,{children:"Failed to load schemas from the selected catalog. Please try again."})):t==="loadTables"?(o="Error Loading Tables",a=()=>l.jsx(N,{children:"Failed to load tables from the selected schema. Please try again."})):t==="importTables"?(o="Error Importing Tables",a=()=>{const s=i[t];return s&&s.validation_errors?l.jsxs(Jo,{columns:"1",gap:"3",children:[l.jsx(N,{children:"Failed to import tables:"}),s.validation_errors.map((c,u)=>{var d;return l.jsx(Z,{children:l.jsxs(N,{size:"2",color:"red",children:['Field: "',((d=c.loc)==null?void 0:d.join("."))||"unknown",'" - ',c.msg]})},u)})]}):l.jsx(N,{children:"Failed to import tables. Please check the selected tables and try again."})}):t==="saveProject"?(o="Error Saving Project",a=()=>l.jsx(N,{children:"Failed to save the project. Please check the project name and try again."})):t==="loadProject"?(o="Error Loading Project",a=()=>l.jsx(N,{children:"Failed to load the selected project. The file may be corrupted or inaccessible."})):t==="generateDDL"?(o="Error Generating DDL",a=()=>l.jsx(N,{children:"Failed to generate DDL for the selected tables. Please check your table definitions."})):t==="applyChanges"&&(o="Error Applying Changes",a=()=>l.jsx(N,{children:"Failed to apply changes to Databricks. Please check your permissions and connection."})),l.jsx("div",{className:"alert-dialog-component-ctr",children:l.jsx(vc.Root,{open:e,children:l.jsxs(vc.Content,{children:[l.jsx(vc.Title,{children:o}),l.jsx(a,{}),l.jsx(O,{gap:"3",mt:"4",justify:"end",children:l.jsx(vc.Action,{children:l.jsx(me,{variant:"solid",color:"blue",onClick:()=>r(),children:"Dismiss"})})})]})})})},$ee=({isOpen:e,onClose:t,field:n,tableId:r,onSave:o})=>{var S,k,j,$;const{availableDatatypes:a,tables:i}=lt(),[s,c]=f.useState({id:"",name:"",logical_name:"",data_type:"STRING",type_parameters:"",nullable:!0,comment:"",is_primary_key:!1,is_foreign_key:!1,foreign_key_reference:null,tags:{}}),[u,d]=f.useState([]),[p,m]=f.useState(""),[h,v]=f.useState("");f.useEffect(()=>{if(e&&n){c({id:n.id||ot(),name:n.name||"",logical_name:n.logical_name||"",data_type:n.data_type||"STRING",type_parameters:n.type_parameters||"",nullable:n.nullable!==!1,comment:n.comment||"",is_primary_key:n.is_primary_key||!1,is_foreign_key:n.is_foreign_key||!1,foreign_key_reference:n.foreign_key_reference||null,tags:n.tags||{}});const C=n.tags||{},R=Object.entries(C).filter(([D])=>D!=="logical_name").map(([D,q])=>({id:ot(),key:D,value:q||""}));d(R)}},[e,n]);const g=()=>{console.log(" handleSave called"),console.log(" Current customTags:",u),console.log(" Current fieldData.logical_name:",s.logical_name);const C={};s.logical_name&&s.logical_name.trim()&&(C.logical_name=s.logical_name.trim(),console.log(" Added logical_name tag:",s.logical_name.trim())),u.forEach(D=>{console.log(" Processing custom tag:",D),D.key&&D.key.trim()&&(C[D.key.trim()]=D.value&&D.value.trim()?D.value.trim():null,console.log(" Added custom tag:",D.key.trim(),"=",D.value))});const R={...s,tags:C};console.log(" Final allTags:",C),console.log(" Saving field with tags:",C),o(R),t()},x=()=>{if(p.trim()){const C={id:ot(),key:p.trim(),value:h.trim()||""};console.log(" Adding new custom tag:",C),console.log(" Current customTags before add:",u),d([...u,C]),console.log(" CustomTags after add:",[...u,C]),m(""),v("")}},y=C=>{d(u.filter(R=>R.id!==C))},_=(C,R,D)=>{d(u.map(q=>q.id===C?{...q,[R]:D}:q))},b=i.find(R=>R.id===r)?i.filter(R=>R.id!==r).flatMap(R=>R.fields.filter(D=>D.is_primary_key).map(D=>({table_id:R.id,table_name:R.name,field_id:D.id,field_name:D.name,data_type:D.data_type,reference_string:`${R.name}.${D.name}`}))):[];return e?l.jsx(ye.Root,{open:e,onOpenChange:t,children:l.jsxs(ye.Content,{style:{maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},children:[l.jsx(ye.Title,{children:l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(N,{size:"5",weight:"bold",children:"Field Details"}),l.jsx(Cn,{variant:"ghost",onClick:t,children:l.jsx(ea,{})})]})}),l.jsx(ye.Description,{size:"2",mb:"4",color:"gray",children:"Configure field properties, constraints, and Unity Catalog tags."}),l.jsxs(O,{direction:"column",gap:"4",children:[l.jsxs(Ke,{style:{padding:"16px"},children:[l.jsx(jt,{size:"3",mb:"3",children:"Basic Properties"}),l.jsxs(O,{direction:"column",gap:"3",children:[l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Field Name *"}),l.jsx($e.Input,{value:s.name,onChange:C=>c({...s,name:C.target.value}),placeholder:"Enter field name"})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Logical Name"}),l.jsx($e.Input,{value:s.logical_name,onChange:C=>c({...s,logical_name:C.target.value}),placeholder:"Enter logical/display name"}),l.jsx(N,{size:"1",color:"gray",mt:"1",children:"Will be automatically added as 'logical_name' tag"})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Data Type *"}),l.jsxs(U.Root,{value:s.data_type,onValueChange:C=>c({...s,data_type:C}),children:[l.jsx(U.Trigger,{}),l.jsx(U.Content,{children:a.map(C=>l.jsx(U.Item,{value:C.name,children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(N,{children:C.name}),l.jsx(xe,{size:"1",color:"gray",children:C.category})]})},C.name))})]})]}),((S=a.find(C=>C.name===s.data_type))==null?void 0:S.requires_parameters)&&l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:s.data_type==="DECIMAL"?"Precision & Scale":["VARCHAR","CHAR"].includes(s.data_type)?"Length":["GEOGRAPHY","GEOMETRY"].includes(s.data_type)?"SRID":s.data_type==="ARRAY"?"Element Type":s.data_type==="MAP"?"Key & Value Types":s.data_type==="STRUCT"?"Field Definitions":s.data_type==="INTERVAL"?"Interval Qualifier":"Parameters"}),s.data_type==="DECIMAL"?l.jsxs(O,{gap:"2",align:"center",children:[l.jsx($e.Input,{value:((k=s.type_parameters)==null?void 0:k.precision)||"",onChange:C=>c({...s,type_parameters:{...s.type_parameters,precision:C.target.value?parseInt(C.target.value):void 0}}),placeholder:"10",style:{width:"80px"}}),l.jsx(N,{size:"2",children:","}),l.jsx($e.Input,{value:((j=s.type_parameters)==null?void 0:j.scale)||"",onChange:C=>c({...s,type_parameters:{...s.type_parameters,scale:C.target.value?parseInt(C.target.value):void 0}}),placeholder:"2",style:{width:"60px"}})]}):l.jsx($e.Input,{value:s.type_parameters||"",onChange:C=>c({...s,type_parameters:C.target.value}),placeholder:(($=a.find(C=>C.name===s.data_type))==null?void 0:$.parameter_description)||"Enter parameters"}),l.jsx(N,{size:"1",color:"gray",mt:"1",children:s.data_type==="DECIMAL"?"Precision (1-38), Scale (0-precision)":["VARCHAR","CHAR"].includes(s.data_type)?"Maximum length (1-65535)":s.data_type==="GEOGRAPHY"?"SRID: Must be 4326 (only supported value)":s.data_type==="GEOMETRY"?"SRID: Integer value (e.g., 4326, 3857, 0 for unknown)":s.data_type==="ARRAY"?"Element data type (e.g., STRING, INT)":s.data_type==="MAP"?"Key type, Value type (e.g., STRING,INT)":s.data_type==="STRUCT"?"Field definitions (e.g., field1:STRING,field2:INT)":s.data_type==="INTERVAL"?"Interval qualifier (e.g., YEAR TO MONTH, DAY TO SECOND)":"Enter required parameters"})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Comment"}),l.jsx($e.Input,{value:s.comment,onChange:C=>c({...s,comment:C.target.value}),placeholder:"Optional field description"})]}),l.jsx(O,{align:"center",gap:"4",children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Yt,{checked:s.nullable,onCheckedChange:C=>c({...s,nullable:C})}),l.jsx(N,{size:"2",children:"Nullable"})]})})]})]}),l.jsxs(Ke,{style:{padding:"16px"},children:[l.jsx(jt,{size:"3",mb:"3",children:"Constraints"}),l.jsxs(O,{direction:"column",gap:"3",children:[l.jsxs(O,{align:"center",gap:"4",children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Yt,{checked:s.is_primary_key,onCheckedChange:C=>c({...s,is_primary_key:C,is_foreign_key:C?!1:s.is_foreign_key}),disabled:s.is_foreign_key}),l.jsx(N,{size:"2",children:"Primary Key"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Yt,{checked:s.is_foreign_key,onCheckedChange:C=>c({...s,is_foreign_key:C,is_primary_key:C?!1:s.is_primary_key,foreign_key_reference:C?s.foreign_key_reference:null}),disabled:s.is_primary_key}),l.jsx(N,{size:"2",children:"Foreign Key"})]})]}),s.is_foreign_key&&l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Foreign Key Reference"}),l.jsxs(U.Root,{value:s.foreign_key_reference?typeof s.foreign_key_reference=="string"?s.foreign_key_reference:`${s.foreign_key_reference.referenced_table_id}.${s.foreign_key_reference.referenced_field_id}`:"",onValueChange:C=>{if(C){const R=b.find(D=>D.reference_string===C);R&&c({...s,foreign_key_reference:{referenced_table_id:R.table_id,referenced_field_id:R.field_id,constraint_name:`fk_${s.name}`,on_delete:"NO ACTION",on_update:"NO ACTION"}})}else c({...s,foreign_key_reference:null})},children:[l.jsx(U.Trigger,{placeholder:"Select primary key to reference"}),l.jsx(U.Content,{children:b.map(C=>l.jsx(U.Item,{value:C.reference_string,children:l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"2",weight:"bold",children:C.reference_string}),l.jsx(N,{size:"1",color:"gray",children:C.data_type})]})},C.reference_string))})]})]})]})]}),l.jsxs(Ke,{style:{padding:"16px"},children:[l.jsx(jt,{size:"3",mb:"3",children:"Unity Catalog Tags"}),s.logical_name&&l.jsxs(Z,{mb:"3",children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Automatic Tags"}),l.jsxs(O,{align:"center",gap:"2",p:"2",style:{backgroundColor:"var(--gray-2)",borderRadius:"6px"},children:[l.jsx(xe,{color:"blue",children:"logical_name"}),l.jsx(N,{size:"2",children:"="}),l.jsxs(N,{size:"2",style:{fontFamily:"monospace"},children:['"',s.logical_name,'"']})]})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Custom Tags"}),u.length>0&&l.jsx(O,{direction:"column",gap:"2",mb:"3",children:u.map(C=>l.jsxs(O,{align:"center",gap:"2",p:"2",style:{backgroundColor:"var(--gray-1)",borderRadius:"6px"},children:[l.jsx($e.Input,{value:C.key,onChange:R=>_(C.id,"key",R.target.value),placeholder:"Tag name",style:{flex:1}}),l.jsx(N,{size:"2",children:"="}),l.jsx($e.Input,{value:C.value,onChange:R=>_(C.id,"value",R.target.value),placeholder:"Tag value (optional)",style:{flex:1}}),l.jsx(Cn,{size:"1",variant:"ghost",color:"red",onClick:()=>y(C.id),children:l.jsx(Fn,{})})]},C.id))}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Add New Tag"}),l.jsxs(O,{align:"center",gap:"2",children:[l.jsx($e.Input,{value:p,onChange:C=>m(C.target.value),placeholder:"Tag name",style:{flex:1}}),l.jsx(N,{size:"2",children:"="}),l.jsx($e.Input,{value:h,onChange:C=>v(C.target.value),placeholder:"Tag value (optional)",style:{flex:1}}),l.jsx(me,{size:"1",onClick:x,disabled:!p.trim(),children:l.jsx(yr,{})})]})]})]})]})]}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(me,{variant:"soft",color:"gray",onClick:t,children:"Cancel"}),l.jsx(me,{onClick:g,disabled:!s.name.trim(),children:"Save Field"})]})]})}):null},Tee=()=>{var Se,Ee,we;const{showTableDialog:e,setShowTableDialog:t,addTable:n,updateTable:r,tables:o,availableDatatypes:a,loadDatatypes:i,editingTable:s,setEditingTable:c,addRelationship:u,deleteRelationship:d,removeRelationshipLine:p,relationships:m,isDragAndDropFK:h,getPKFieldForFK:v,catalogName:g,schemaName:x,availableCatalogs:y,availableSchemas:_,loadCatalogs:w,loadSchemas:b}=lt(),[S,k]=f.useState({name:"",logical_name:"",comment:"",table_type:"MANAGED",file_format:"DELTA",catalog_name:"",schema_name:"",tags:{},height:180}),[j,$]=f.useState([]),[C,R]=f.useState({name:"",data_type:"STRING",type_parameters:{},nullable:!0,comment:"",logical_name:"",tags:{},is_primary_key:!1,is_foreign_key:!1,foreign_key_reference:null}),[D,q]=f.useState("table"),[F,A]=f.useState({}),[B,E]=f.useState(null),[L,I]=f.useState(!1),[P,z]=f.useState(null),H=T=>{var V;if(!T)return"";if(typeof T=="string")return T;if(typeof T=="object"){const M=o.find(ne=>ne.id===T.referenced_table_id),G=(V=M==null?void 0:M.fields)==null?void 0:V.find(ne=>ne.id===T.referenced_field_id);return M&&G?`${M.name}.${G.name}`:""}return""},W=T=>{var re;if(!T||!T.includes("."))return null;const[V,M]=T.split("."),G=o.find(oe=>oe.name===V),ne=(re=G==null?void 0:G.fields)==null?void 0:re.find(oe=>oe.name===M);return G&&ne?{referenced_table_id:G.id,referenced_field_id:ne.id,constraint_name:`fk_${S.name}_${V}`,on_delete:"NO ACTION",on_update:"NO ACTION"}:null};f.useEffect(()=>{e&&(console.log(" Table dialog opened"),console.log(" Editing table:",s),console.log(" Current tables:",o),console.log(" Current fields:",j),i(),w())},[e,i,w]),f.useEffect(()=>{B&&E(null)},[S.name,S.logical_name,j]),f.useEffect(()=>{S.catalog_name&&b(S.catalog_name)},[S.catalog_name,b]),f.useEffect(()=>{var T;if(e){if(s){const V=((T=s.fields)==null?void 0:T.length)||0;k({name:s.name||"",logical_name:s.logical_name||"",comment:s.comment||"",table_type:"MANAGED",file_format:"DELTA",catalog_name:s.catalog_name||"",schema_name:s.schema_name||"",tags:s.tags||{},height:Math.max(180,120+V*25)});const M=s.fields||[];console.log(" Loading fields for editing table:",s.name),console.log(" Fields with FK references:",M.filter(G=>G.is_foreign_key).map(G=>({name:G.name,is_foreign_key:G.is_foreign_key,foreign_key_reference:G.foreign_key_reference}))),$(M)}else k({name:"",logical_name:"",comment:"",catalog_name:g||"",schema_name:x||"",table_type:"MANAGED",file_format:"DELTA",tags:{},height:180}),$([]);R({name:"",data_type:"STRING",type_parameters:{},nullable:!0,comment:"",logical_name:"",tags:{},is_primary_key:!1,is_foreign_key:!1,foreign_key_reference:null}),A({}),q("table")}},[e,s]);const J=()=>{const T={};let V=null,M=null;return S.name.trim()||(T.tableName="Table name is required",V="Table name is required. Please go to Table Details tab and enter a table name.",M="table"),!s&&!S.logical_name.trim()&&(T.logicalName="Logical name is required",V||(V="Logical name is required. Please go to Table Details tab and enter a logical name.",M="table")),o.find(re=>re.name.toLowerCase()===S.name.toLowerCase()&&(!s||re.id!==s.id))&&(T.tableName="A table with this name already exists",V=`A table with the name "${S.name}" already exists. Please choose a different name.`,M="table"),j.filter(re=>re.is_primary_key).length>1&&(T.primaryKey="Only one field can be marked as primary key",V||(V="Only one field can be marked as primary key. Please go to Fields tab and fix this.",M="fields")),j.forEach((re,oe)=>{re.is_foreign_key&&!re.foreign_key_reference?(console.log(" FK validation failed for field:",re.name,"is_foreign_key:",re.is_foreign_key,"reference:",re.foreign_key_reference),T[`fk_${oe}`]="Foreign key must reference a primary key from another table",V||(V=`Field "${re.name}" is marked as foreign key but has no reference. Please go to Fields tab and fix this.`,M="fields")):re.is_foreign_key&&re.foreign_key_reference&&console.log(" FK validation passed for field:",re.name,"reference:",re.foreign_key_reference)}),A(T),E(V?{message:V,suggestedTab:M}:null),Object.keys(T).length===0},ce=()=>{if(!C.name.trim()){A({...F,fieldName:"Field name is required"});return}if(j.find(G=>G.name.toLowerCase()===C.name.toLowerCase())){A({...F,fieldName:"A field with this name already exists"});return}const V=[...j,{...C,id:ot()}];$(V);const M=Math.max(180,120+V.length*25);k(G=>({...G,height:M})),R({name:"",data_type:"STRING",type_parameters:{},nullable:!0,comment:"",logical_name:"",tags:{},is_primary_key:!1,is_foreign_key:!1,foreign_key_reference:null}),A({...F,fieldName:void 0})},fe=T=>{const V=j.find(ne=>ne.id===T);V&&V.is_foreign_key&&(console.log(" Removing FK field and its relationships:",V.name),m.filter(re=>re.target_field_id===T).forEach(re=>{console.log(" Removing relationship line for deleted FK field:",re.id),p(re.id)}));const M=j.filter(ne=>ne.id!==T);$(M);const G=Math.max(180,120+M.length*25);k(ne=>({...ne,height:G}))},pe=(T,V)=>{$(j.map(M=>{if(M.id===T){const G={...M,...V};if(V.logical_name!==void 0){const ne=G.tags||{};V.logical_name&&V.logical_name.trim()?ne.logical_name=V.logical_name.trim():delete ne.logical_name,G.tags=ne}return G}return M}))},ie=T=>{z(T),I(!0)},ge=T=>{const V=j.map(M=>M.id===T.id?T:M);$(V),I(!1),z(null)},ve=(T,V)=>{V?$(j.map(M=>({...M,is_primary_key:M.id===T}))):pe(T,{is_primary_key:!1})},ue=T=>{console.log(" Creating relationships from foreign keys for table:",T.name);const V=T.fields.filter(M=>M.is_foreign_key&&M.foreign_key_reference);console.log(" Found FK fields:",V.map(M=>({name:M.name,reference:M.foreign_key_reference}))),V.forEach(M=>{var oe,De,He;console.log(" Processing FK field:",M.name,"with reference:",M.foreign_key_reference);const G=m.filter(Ie=>Ie.target_table_id===T.id&&Ie.target_field_id===M.id);G.length>0&&(console.log(" Found existing relationships for FK field:",M.name,"- removing them"),G.forEach(Ie=>{console.log(" Removing old relationship line (keeping FK field properties):",Ie.id),p(Ie.id)}));let ne,re;if(typeof M.foreign_key_reference=="string"){const[Ie,Je]=M.foreign_key_reference.split(".");console.log(" Parsed string reference:",{referencedTableName:Ie,referencedFieldName:Je}),ne=o.find(Be=>Be.name===Ie),re=(oe=ne==null?void 0:ne.fields)==null?void 0:oe.find(Be=>Be.name===Je)}else typeof M.foreign_key_reference=="object"&&(console.log(" Processing object reference:",M.foreign_key_reference),ne=o.find(Ie=>Ie.id===M.foreign_key_reference.referenced_table_id),re=(De=ne==null?void 0:ne.fields)==null?void 0:De.find(Ie=>Ie.id===M.foreign_key_reference.referenced_field_id));if(!ne){console.warn(" Referenced table not found for FK:",M.foreign_key_reference),console.log("Available tables:",o.map(Ie=>({id:Ie.id,name:Ie.name})));return}if(!re){console.warn(` Referenced field not found in table ${ne.name}`),console.log("Available fields in table:",(He=ne.fields)==null?void 0:He.map(Ie=>({id:Ie.id,name:Ie.name})));return}console.log(" Creating new relationship (after cleanup):",{pk_table:ne.name,fk_table:T.name,pk_field:re.name,fk_field:M.name}),u({id:ot(),source_table_id:ne.id,target_table_id:T.id,source_field_id:re.id,target_field_id:M.id,relationship_type:"one_to_many",constraint_name:`fk_${T.name}_${M.name}`,fk_table_id:T.id,fk_field_id:M.id})})},K=()=>{if(console.log(" createTable called - editingTable:",!!s,"fields:",j.length),!J()){console.log(" Validation failed");return}if(s){console.log(" Updating existing table:",s.name);const T={...s,name:S.name,logical_name:S.logical_name,comment:S.comment,table_type:S.table_type,file_format:S.file_format,catalog_name:S.catalog_name,schema_name:S.schema_name,tags:S.tags,fields:j,height:S.height};r(s.id,T),console.log(" Table updated successfully:",T.name),console.log(" Updated table catalog/schema:",{catalog_name:T.catalog_name,schema_name:T.schema_name});try{ue(T)}catch(V){console.error(" Error creating relationships:",V)}}else{console.log(" Creating new table:",S.name);const T={id:ot(),name:S.name,logical_name:S.logical_name,comment:S.comment,table_type:S.table_type,file_format:S.file_format,catalog_name:S.catalog_name,schema_name:S.schema_name,tags:S.tags,fields:j,position_x:100,position_y:100,width:220,height:S.height};n(T),console.log(" New table created successfully:",T.name),console.log(" New table catalog/schema:",{catalog_name:T.catalog_name,schema_name:T.schema_name});try{ue(T)}catch(V){console.error(" Error creating relationships:",V)}}console.log(" Closing table dialog and resetting form"),t(!1),k({name:"",logical_name:"",comment:"",table_type:"MANAGED",file_format:"DELTA",tags:{}}),$([]),A({})},se=(T=null)=>{var re;const V=s?s.name:S.name,M=o.filter(oe=>oe.name!==V),G=[];console.log(" getAvailablePrimaryKeys called for field:",T),console.log(" Table to exclude:",V),console.log(" All tables:",o.map(oe=>{var De;return{name:oe.name,fields:((De=oe.fields)==null?void 0:De.length)||0}})),console.log(" Existing tables (excluding current):",M.map(oe=>{var De;return{name:oe.name,fields:((De=oe.fields)==null?void 0:De.length)||0}}));const ne=new Set;return j.forEach(oe=>{var De,He;if(oe.id!==T&&oe.is_foreign_key&&oe.foreign_key_reference){let Ie="",Je,Be;if(typeof oe.foreign_key_reference=="string"){Ie=oe.foreign_key_reference;const[ee,ke]=oe.foreign_key_reference.split(".");Je=M.find(_e=>_e.name===ee),Be=(De=Je==null?void 0:Je.fields)==null?void 0:De.find(_e=>_e.name===ke)}else typeof oe.foreign_key_reference=="object"&&(Je=M.find(ee=>ee.id===oe.foreign_key_reference.referenced_table_id),Be=(He=Je==null?void 0:Je.fields)==null?void 0:He.find(ee=>ee.id===oe.foreign_key_reference.referenced_field_id),Je&&Be&&(Ie=`${Je.name}.${Be.name}`));Be&&oe.name===Be.name?(console.log(" Found drag-and-drop FK (restricting):",oe.name,"",Ie),ne.add(Ie)):Be&&console.log(" Found manual FK (allowing multiple):",oe.name,"",Ie)}}),console.log(" Used drag-and-drop FK references (restricting these):",Array.from(ne)),console.log(" Current field being edited:",T,(re=j.find(oe=>oe.id===T))==null?void 0:re.name),M.forEach(oe=>{var De;(De=oe.fields)==null||De.forEach(He=>{if(He.is_primary_key){const Ie=`${oe.name}.${He.name}`;ne.has(Ie)?console.log(" Skipping PK already used by drag-and-drop FK:",Ie):(console.log(" Found available PK field:",oe.name,He.name,He.data_type),G.push({value:Ie,label:`${Ie} (${He.data_type})`}))}})}),console.log(" Available primary keys (after filtering):",G),G};return e?l.jsxs(ye.Root,{open:e,onOpenChange:T=>{T||c(null),t(T)},children:[l.jsxs(Cl,{children:[l.jsx(Sl,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}),l.jsxs(ye.Content,{style:{maxWidth:1200,maxHeight:"90vh",overflow:"auto"},"aria-describedby":void 0,onOpenAutoFocus:T=>T.preventDefault(),children:[l.jsx(ye.Title,{children:s?`Edit Table: ${s.name}`:"Create New Table"}),l.jsx(ye.Description,{size:"2",mb:"4",children:s?"Modify your table structure, fields, constraints, and relationships.":"Define your table structure with fields, constraints, and relationships."}),B&&l.jsx(Z,{mb:"4",p:"3",style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px"},children:l.jsxs(O,{align:"start",justify:"between",gap:"3",children:[l.jsxs(O,{direction:"column",gap:"2",style:{flex:1},children:[l.jsx(N,{size:"2",weight:"bold",color:"red",children:"Validation Error"}),l.jsx(N,{size:"2",color:"red",children:B.message}),B.suggestedTab&&l.jsxs(me,{size:"1",variant:"soft",color:"red",onClick:()=>{q(B.suggestedTab),E(null)},style:{alignSelf:"flex-start"},children:["Go to ",B.suggestedTab==="table"?"Table Details":"Fields"," Tab"]})]}),l.jsx(me,{size:"1",variant:"ghost",color:"red",onClick:()=>E(null),children:""})]})}),l.jsxs(We.Root,{value:D,onValueChange:q,children:[l.jsxs(We.List,{children:[l.jsx(We.Trigger,{value:"table",children:"Table Details"}),l.jsxs(We.Trigger,{value:"fields",children:["Fields (",j.length,")"]})]}),l.jsxs(Z,{pt:"3",children:[l.jsx(We.Content,{value:"table",children:l.jsxs(Jo,{columns:"2",gap:"4",children:[l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Table Name *"}),l.jsx($e.Input,{placeholder:"e.g., customers, orders, products",value:S.name,onChange:T=>k({...S,name:T.target.value})}),F.tableName&&l.jsx(N,{size:"1",color:"red",children:F.tableName})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Logical Name *"}),l.jsx($e.Input,{placeholder:"e.g., Customer Master, Order Details",value:S.logical_name,onChange:T=>k({...S,logical_name:T.target.value})}),F.logicalName&&l.jsx(N,{size:"1",color:"red",children:F.logicalName})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Catalog"}),l.jsxs(U.Root,{value:S.catalog_name||"__project_default_catalog__",onValueChange:T=>k({...S,catalog_name:T==="__project_default_catalog__"?"":T,schema_name:""}),children:[l.jsx(U.Trigger,{placeholder:"Select catalog (or leave empty for project default)"}),l.jsxs(U.Content,{children:[l.jsx(U.Item,{value:"__project_default_catalog__",children:l.jsxs(N,{color:"gray",children:["(Use project default: ",g,")"]})}),y==null?void 0:y.map(T=>l.jsx(U.Item,{value:T.name,children:T.name},T.name))]})]})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Schema"}),l.jsxs(U.Root,{value:S.schema_name||"__project_default_schema__",onValueChange:T=>k({...S,schema_name:T==="__project_default_schema__"?"":T}),children:[l.jsx(U.Trigger,{placeholder:"Select schema (or leave empty for project default)"}),l.jsxs(U.Content,{children:[l.jsx(U.Item,{value:"__project_default_schema__",children:l.jsxs(N,{color:"gray",children:["(Use project default: ",x,")"]})}),_==null?void 0:_.map(T=>l.jsx(U.Item,{value:T.name,children:l.jsxs(O,{align:"center",justify:"between",style:{width:"100%"},children:[l.jsx(N,{children:T.name}),T.is_imported&&l.jsx(xe,{color:"orange",size:"1",style:{marginLeft:"8px"},children:"imported"})]})},T.name))]})]})]}),l.jsxs(Z,{style:{gridColumn:"span 2"},children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Description"}),l.jsx(br,{placeholder:"Optional table description",value:S.comment,onChange:T=>k({...S,comment:T.target.value}),rows:3})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Table Type"}),l.jsx(N,{size:"2",color:"gray",children:"Managed (Unity Catalog)"})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"File Format"}),l.jsx(N,{size:"2",color:"gray",children:"Delta Lake"})]})]})}),l.jsxs(We.Content,{value:"fields",children:[F.primaryKey&&l.jsx(N,{size:"2",color:"red",mb:"3",children:F.primaryKey}),l.jsxs(Ke,{mb:"4",children:[l.jsx(jt,{size:"4",mb:"3",children:"Add New Field"}),l.jsxs(Jo,{columns:"4",gap:"3",mb:"3",children:[l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Field Name *"}),l.jsx($e.Input,{placeholder:"e.g., id, name, email",value:C.name,onChange:T=>R({...C,name:T.target.value})}),F.fieldName&&l.jsx(N,{size:"1",color:"red",children:F.fieldName})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Data Type"}),l.jsxs(U.Root,{value:C.data_type,onValueChange:T=>R({...C,data_type:T,type_parameters:T==="DECIMAL"?C.type_parameters:null}),children:[l.jsx(U.Trigger,{}),l.jsx(U.Content,{children:a.map(T=>l.jsx(U.Item,{value:T.value,children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(N,{children:T.name}),l.jsx(xe,{size:"1",color:"gray",children:T.category})]})},T.value))})]})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Logical Name"}),l.jsx($e.Input,{placeholder:"e.g., Customer ID, Full Name",value:C.logical_name,onChange:T=>R({...C,logical_name:T.target.value})})]})]}),C.data_type==="DECIMAL"&&l.jsxs(Jo,{columns:"2",gap:"3",mb:"3",children:[l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Precision (1-38)"}),l.jsx($e.Input,{type:"number",min:"1",max:"38",placeholder:"10",value:((Se=C.type_parameters)==null?void 0:Se.precision)||"",onChange:T=>R({...C,type_parameters:{...C.type_parameters,precision:T.target.value?parseInt(T.target.value):void 0}})})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Scale (0-precision)"}),l.jsx($e.Input,{type:"number",min:"0",max:((Ee=C.type_parameters)==null?void 0:Ee.precision)||38,placeholder:"2",value:((we=C.type_parameters)==null?void 0:we.scale)||"",onChange:T=>R({...C,type_parameters:{...C.type_parameters,scale:T.target.value?parseInt(T.target.value):void 0}})})]})]}),l.jsx(Jo,{columns:"1",gap:"3",mb:"3",children:l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"Comment"}),l.jsx($e.Input,{placeholder:"Field description",value:C.comment,onChange:T=>R({...C,comment:T.target.value})})]})}),l.jsxs(O,{gap:"3",align:"center",mb:"3",children:[l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(Yt,{checked:C.is_primary_key,onCheckedChange:T=>R({...C,is_primary_key:T})}),l.jsx(N,{size:"2",children:"Primary Key"})]}),l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(Yt,{checked:C.is_foreign_key,onCheckedChange:T=>R({...C,is_foreign_key:T})}),l.jsx(N,{size:"2",children:"Foreign Key"})]}),l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(Yt,{checked:C.nullable,onCheckedChange:T=>R({...C,nullable:T})}),l.jsx(N,{size:"2",children:"Nullable"})]})]}),C.is_foreign_key&&l.jsxs(Z,{mb:"3",children:[l.jsx(N,{size:"2",weight:"bold",mb:"1",children:"References Primary Key"}),l.jsxs(U.Root,{value:H(C.foreign_key_reference),onValueChange:T=>R({...C,foreign_key_reference:W(T)}),onOpenChange:T=>{if(T){const V=se(C.id);console.log(" FK dropdown opened for current field:",C.name),console.log(" Current FK reference:",C.foreign_key_reference),console.log(" Current FK reference as string:",H(C.foreign_key_reference)),console.log(" Available PK options:",V.map(M=>M.value)),console.log(" Does current reference match any option?",V.some(M=>M.value===H(C.foreign_key_reference)))}},children:[l.jsx(U.Trigger,{placeholder:"Select primary key to reference"}),l.jsx(U.Content,{children:se(C.id).map(T=>l.jsx(U.Item,{value:T.value,children:T.label},T.value))})]})]}),l.jsxs(O,{gap:"2",children:[l.jsxs(me,{onClick:ce,children:[l.jsx(yr,{})," Add Field"]}),j.length>0&&!j.some(T=>T.is_primary_key)&&l.jsx(me,{variant:"soft",color:"blue",onClick:()=>{j.length>0&&pe(j[0].id,{is_primary_key:!0})},children:"Make First Field PK (Optional)"})]})]}),j.length>0&&l.jsxs(Ke,{children:[l.jsxs(O,{justify:"between",align:"center",mb:"3",children:[l.jsx(jt,{size:"4",children:"Table Fields"}),l.jsx(N,{size:"1",color:"gray",children:"Fields with same name as referenced PK are inherited and read-only"})]}),l.jsxs(St.Root,{style:{width:"100%",tableLayout:"fixed"},children:[l.jsx(St.Header,{children:l.jsxs(St.Row,{children:[l.jsx(St.ColumnHeaderCell,{style:{width:"15%"},children:"Name"}),l.jsx(St.ColumnHeaderCell,{style:{width:"15%"},children:"Logical Name"}),l.jsx(St.ColumnHeaderCell,{style:{width:"12%"},children:"Type"}),l.jsx(St.ColumnHeaderCell,{style:{width:"8%"},children:"Parameters"}),l.jsx(St.ColumnHeaderCell,{style:{width:"15%"},children:"Comment"}),l.jsx(St.ColumnHeaderCell,{style:{width:"25%"},children:"Constraints"}),l.jsx(St.ColumnHeaderCell,{style:{width:"5%"},children:"Nullable"}),l.jsx(St.ColumnHeaderCell,{style:{width:"5%"},children:"Actions"})]})}),l.jsx(St.Body,{children:j.map((T,V)=>{var ne,re;const M=h(T,s==null?void 0:s.id),G=M?v(T):null;return l.jsxs(St.Row,{children:[l.jsx(St.Cell,{children:l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx($e.Input,{value:T.name,onChange:oe=>pe(T.id,{name:oe.target.value}),size:"1",disabled:M,style:{width:"100%",...M?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}}}),M&&l.jsxs(N,{size:"1",color:"gray",style:{fontSize:"10px"},children:["Inherited from ",(G==null?void 0:G.name)||"PK"]})]})}),l.jsx(St.Cell,{children:l.jsx($e.Input,{value:T.logical_name||"",onChange:oe=>pe(T.id,{logical_name:oe.target.value}),size:"1",placeholder:"Logical name",disabled:M,style:{width:"100%",...M?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}}})}),l.jsx(St.Cell,{children:l.jsxs(U.Root,{value:T.data_type,onValueChange:oe=>pe(T.id,{data_type:oe,type_parameters:oe==="DECIMAL"?T.type_parameters:null}),size:"1",disabled:M,children:[l.jsx(U.Trigger,{style:M?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}}),l.jsx(U.Content,{children:a.map(oe=>l.jsx(U.Item,{value:oe.value,children:oe.name},oe.value))})]})}),l.jsx(St.Cell,{children:T.data_type==="DECIMAL"?l.jsxs(O,{gap:"1",align:"center",children:[l.jsx($e.Input,{value:((ne=T.type_parameters)==null?void 0:ne.precision)||"",onChange:oe=>pe(T.id,{type_parameters:{...T.type_parameters,precision:oe.target.value?parseInt(oe.target.value):void 0}}),size:"1",placeholder:"10",style:{width:"50px",...M?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:M}),l.jsx(N,{size:"1",children:","}),l.jsx($e.Input,{value:((re=T.type_parameters)==null?void 0:re.scale)||"",onChange:oe=>pe(T.id,{type_parameters:{...T.type_parameters,scale:oe.target.value?parseInt(oe.target.value):void 0}}),size:"1",placeholder:"2",style:{width:"40px",...M?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:M})]}):["VARCHAR","CHAR"].includes(T.data_type)?l.jsx($e.Input,{value:T.type_parameters||"",onChange:oe=>pe(T.id,{type_parameters:oe.target.value}),size:"1",placeholder:"50",style:{width:"60px",...M?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:M}):["GEOGRAPHY","GEOMETRY"].includes(T.data_type)?l.jsx($e.Input,{value:T.type_parameters||"",onChange:oe=>pe(T.id,{type_parameters:oe.target.value}),size:"1",placeholder:"4326",style:{width:"60px",...M?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:M}):T.data_type==="INTERVAL"?l.jsx($e.Input,{value:T.type_parameters||"",onChange:oe=>pe(T.id,{type_parameters:oe.target.value}),size:"1",placeholder:"YEAR TO MONTH",style:{width:"120px",...M?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:M}):["ARRAY","MAP","STRUCT"].includes(T.data_type)?l.jsx($e.Input,{value:T.type_parameters||"",onChange:oe=>pe(T.id,{type_parameters:oe.target.value}),size:"1",placeholder:T.data_type==="ARRAY"?"STRING":T.data_type==="MAP"?"STRING,INT":"field1:STRING",style:{width:"100px",...M?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:M}):l.jsx(N,{size:"1",color:"gray",children:"-"})}),l.jsx(St.Cell,{children:l.jsx($e.Input,{value:T.comment||"",onChange:oe=>pe(T.id,{comment:oe.target.value}),size:"1",placeholder:"Field comment",disabled:M,style:{width:"100%",...M?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}}})}),l.jsx(St.Cell,{children:l.jsxs(O,{gap:"1",direction:"column",children:[l.jsxs(O,{gap:"1",align:"center",children:[l.jsx(Yt,{checked:T.is_primary_key||!1,onCheckedChange:oe=>ve(T.id,oe),disabled:M||T.is_foreign_key}),l.jsx(N,{size:"1",color:M||T.is_foreign_key?"gray":void 0,children:"PK"}),l.jsx(Yt,{checked:T.is_foreign_key||!1,onCheckedChange:oe=>{console.log(" FK checkbox changed for field:",T.name,"checked:",oe),console.log(" Field before update:",T),pe(T.id,{is_foreign_key:oe}),console.log(" Field after update:",j.find(De=>De.id===T.id))},disabled:M||T.is_primary_key}),l.jsx(N,{size:"1",color:M||T.is_primary_key?"gray":void 0,children:"FK"})]}),T.is_foreign_key&&l.jsxs(U.Root,{value:H(T.foreign_key_reference),onValueChange:oe=>{console.log(" FK reference changed for field:",T.name,"reference:",oe),pe(T.id,{foreign_key_reference:W(oe)})},onOpenChange:oe=>{const De=H(T.foreign_key_reference),He=se(T.id);console.log(" FK dropdown for field:",T.name),console.log(" Current value passed to Select:",`"${De}"`),console.log(" Available options:",He.map(Ie=>`"${Ie.value}"`)),console.log(" Exact match found?",He.some(Ie=>Ie.value===De)),console.log(" Value lengths - current:",De.length,"options:",He.map(Ie=>Ie.value.length))},disabled:M,children:[l.jsx(U.Trigger,{placeholder:"Select PK reference",size:"1",style:{width:"100%",minWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),l.jsx(U.Content,{style:{minWidth:"250px",maxWidth:"400px"},children:se(T.id).map(oe=>l.jsx(U.Item,{value:oe.value,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"380px"},children:oe.label},oe.value))})]})]})}),l.jsx(St.Cell,{children:l.jsx(Yt,{checked:T.nullable!==!1,onCheckedChange:oe=>pe(T.id,{nullable:oe}),disabled:M})}),l.jsx(St.Cell,{children:l.jsxs(O,{gap:"1",children:[l.jsx(Cn,{size:"1",color:"blue",variant:"ghost",onClick:()=>ie(T),title:"Edit field details",children:l.jsx(ol,{})}),l.jsx(Cn,{size:"1",color:"red",variant:"ghost",onClick:()=>fe(T.id),disabled:M,title:"Remove field",children:l.jsx(Fn,{})})]})})]},T.id)})})]})]})]})]})]}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",children:"Cancel"})}),l.jsx(me,{onClick:()=>{console.log(" Update/Create Table button clicked"),console.log(" Current fields:",j),console.log(" Fields with FK:",j.filter(T=>T.is_foreign_key)),K()},disabled:!1,children:s?"Update Table":"Create Table"})]})]})]}),l.jsx($ee,{isOpen:L,onClose:()=>{I(!1),z(null)},field:P,tableId:(s==null?void 0:s.id)||S.id,onSave:ge})]}):null},Ree=({isOpen:e,onClose:t,onImport:n,catalogName:r,schemaName:o,tableNames:a,allSelectedTables:i,objectType:s="tables"})=>{const[c,u]=f.useState(!1),[d,p]=f.useState([]),[m,h]=f.useState(0),[v,g]=f.useState(""),[x,y]=f.useState(null),[_,w]=f.useState(!1),[b,S]=f.useState(!1),[k,j]=f.useState(null),$=f.useRef(!1),C=(E,L="info")=>{const I=new Date().toLocaleTimeString();p(P=>[...P,{message:E,type:L,timestamp:I}])},R=async()=>{if(!(!k||b)){if(S(!0),s==="views"){try{C(" Cancellation requested...","warning"),window.importProgressCallback&&(window.importProgressCallback({type:"cancelled",message:"View import cancelled by user"}),window.importProgressCallback=null),u(!1),S(!1),w(!0),$.current=!0,g("Cancelled")}catch(E){console.error("Error cancelling view import:",E),C(" Error cancelling view import","error"),S(!1)}return}try{(await fetch(`${st()}/api/data_modeling/cancel_import/${k}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok?C(" Cancellation requested...","warning"):(C(" Failed to cancel import","error"),S(!1))}catch(E){console.error("Error cancelling import:",E),C(" Error cancelling import","error"),S(!1)}}},D=E=>{console.log("Import Progress Update:",E);try{switch(E.type){case"connected":C(" Connected to import progress stream","info");break;case"cancelled":C(" Import cancelled by user","warning"),u(!1),S(!1),w(!0),$.current=!0;break;case"started":const L=E.total_tables||a.length,I=s==="tables"?"tables":"views";E.total_groups&&E.total_groups>1?(C(` Starting cross-catalog import of ${L} ${I} from ${E.total_groups} catalog/schema combinations`,"info"),E.table_groups&&E.table_groups.forEach(ue=>{C(` Group: ${ue.table_count} ${I} from ${ue.catalog}.${ue.schema}`,"info")})):(C(` Starting import of ${L} ${I} from ${r}.${o}`,"info"),C(` ${s==="tables"?"Tables":"Views"}: ${a.join(", ")}`,"info")),g(`Importing ${s==="tables"?"Tables":"Views"}`);break;case"table_started":const P=E.table_name||E.view_name||E.object_name;C(` Processing ${s==="tables"?"table":"view"} ${P}...`,"info"),h(E.progress||0);break;case"table_completed":const H=E.result,W=(H==null?void 0:H.table_name)||(H==null?void 0:H.view_name)||(H==null?void 0:H.object_name)||"Unknown",J=s==="tables"?"Table":"View";H&&H.success?(C(` ${J} ${W}: imported successfully`,"success"),H.columns_count&&C(`    ${H.columns_count} columns imported`,"info"),H.constraints_count&&C(`    ${H.constraints_count} constraints imported`,"info")):(C(` ${J} ${W}: import failed`,"error"),H!=null&&H.error&&C(`    Error: ${H.error}`,"error")),h(E.progress||0);break;case"group_started":console.log(" Group started:",E),C(` Starting import ${E.group_number}/${E.total_groups}: ${E.table_count} tables from ${E.catalog_name}.${E.schema_name}`,"info"),g(`Group ${E.group_number} of ${E.total_groups}`);break;case"group_completed":console.log(" Group completed:",E);const fe=(E.results||[]).filter(ue=>ue&&ue.success).length;C(` Group ${E.group_number}: ${fe} tables from ${E.catalog_name}.${E.schema_name}`,"success"),E.overall_progress&&h(E.overall_progress);break;case"group_failed":console.log(" Group failed:",E),C(` Group ${E.group_number}: Failed to import from ${E.catalog_name}.${E.schema_name}`,"error"),E.error&&C(`    Error: ${E.error}`,"error");break;case"table_failed":console.log(" Table failed:",E),C(` Table ${E.table_name}: import failed`,"error"),E.error&&C(`    Error: ${E.error}`,"error"),h(E.overall_progress||E.group_progress||0);break;case"heartbeat":console.log(" Heartbeat:",E.message),E.message&&g(E.message);break;case"completed":if(console.log(" Import completed:",E),E.total_groups&&E.total_groups>1){const ue=E.total_tables,K=E.imported_tables||E.total_tables;if(K>ue?C(` Import completed! ${ue} requested tables + ${K-ue} related tables = ${K} total tables imported from ${E.total_groups} catalog/schema combinations!`,"success"):C(` All ${ue} tables imported successfully from ${E.total_groups} catalog/schema combinations!`,"success"),E.project_data){if(console.log(" Processing cross-catalog project data:",E.project_data),E.project_data.tables){const{addTable:se}=lt.getState();E.project_data.tables.forEach(Se=>{se&&(se(Se),console.log(` Added cross-catalog table to store: ${Se.name}`))})}if(E.project_data.relationships){const{addRelationship:se}=lt.getState();E.project_data.relationships.forEach(Se=>{se&&(se(Se),console.log(` Added cross-catalog relationship to store: ${Se.id}`))})}}g("Completed"),h(100),w(!0),$.current=!0,y({catalog_name:"Multiple Catalogs",schema_name:"Multiple Schemas",total:E.total_tables,success:E.total_tables,failure:0}),window.crossCatalogImport=null,u(!1);return}g("Completed"),h(100),w(!0),$.current=!0;const pe=E.results||[],ie=pe.length,ge=pe.filter(ue=>ue&&ue.success).length,ve=ie-ge;y({catalog_name:r,schema_name:o,total:ie,success:ge,failure:ve}),ge===ie?C(` All ${ie} tables imported successfully!`,"success"):C(` Import completed with ${ge} successes and ${ve} failures`,"warning"),u(!1);break;case"error":C(` Import Error: ${E.message}`,"error"),u(!1);break;default:console.log("Unknown import progress update type:",E.type,E)}}catch(L){console.error("Error processing import progress update:",L,"Update data:",E),C(` Error processing progress update: ${L.message}`,"warning")}},q=async()=>{if(!r||!o||!a||a.length===0){C(" Invalid import parameters","error");return}u(!0),p([]),h(0),y(null),w(!1),$.current=!1;let E=null;try{C(" Starting Import process...","info"),g("Initializing"),h(10);const L=`import_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;j(L),s==="views"?window.importProgressCallback=D:E=new EventSource(`${st()}/api/data_modeling/import_progress/${L}`),E&&(E.onmessage=z=>{try{console.log("Raw Import SSE data:",z.data);const H=JSON.parse(z.data);console.log("Parsed Import SSE update:",H),D(H)}catch(H){console.error("Error parsing Import SSE data:",H,"Raw data:",z.data),C(` Error parsing progress data: ${H.message}`,"warning")}},E.onerror=z=>{$.current?console.log("Import SSE connection closed after successful completion"):(console.error("Import SSE Error:",z),C(" Connection to import progress stream lost","warning"),u(!1)),E&&(E.close(),E=null)}),console.log(" About to call onImport with sessionId:",k),console.log(" ImportProgressDialog - catalogName:",r),console.log(" ImportProgressDialog - schemaName:",o),console.log(" ImportProgressDialog - tableNames:",a),console.log(" ImportProgressDialog - allSelectedTables:",i);let I=!1;if(i&&i.length>0){const z=new Set(i.map(H=>`${H.catalog}.${H.schema}`));I=z.size>1,console.log(" Cross-catalog detection:",{allSelectedTablesLength:i.length,uniqueCombinations:Array.from(z),isCrossCatalog:I})}const P=I?await n(r,o,a,L,i):await n(r,o,a,L);console.log(" Import API call completed:",P)}catch(L){console.error("Import error:",L),C(` Import failed: ${L.message}`,"error"),u(!1),E&&(E.close(),E=null),s==="views"&&window.importProgressCallback&&(window.importProgressCallback=null)}},F=()=>{(!c||_)&&(t(),p([]),h(0),y(null),g(""),w(!1),S(!1),j(null),u(!1),$.current=!1,s==="views"&&window.importProgressCallback&&(window.importProgressCallback=null))},A=E=>{switch(E){case"success":return"";case"error":return"";case"warning":return"";case"info":default:return""}},B=E=>`log-entry log-${E}`;return l.jsx(ye.Root,{open:e,onOpenChange:F,children:l.jsxs(ye.Content,{className:"import-progress-dialog",style:{maxWidth:"600px",maxHeight:"80vh"},children:[l.jsx(ye.Title,{children:"Import Tables Progress"}),l.jsxs(O,{direction:"column",gap:"4",style:{height:"500px"},children:[l.jsxs(O,{direction:"column",gap:"2",children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(N,{size:"2",weight:"medium",children:v||"Ready to Import"}),l.jsxs(xe,{variant:"soft",color:_?"green":c?"blue":"gray",children:[m,"%"]})]}),l.jsx("div",{className:"progress-bar",children:l.jsx("div",{className:"progress-fill",style:{width:`${m}%`}})}),x&&l.jsxs(O,{gap:"2",wrap:"wrap",children:[l.jsxs(xe,{variant:"soft",color:"blue",children:["Total: ",x.total]}),l.jsxs(xe,{variant:"soft",color:"green",children:["Success: ",x.success]}),x.failure>0&&l.jsxs(xe,{variant:"soft",color:"red",children:["Failed: ",x.failure]})]})]}),l.jsx(Xt,{style:{flex:1,border:"1px solid var(--gray-6)",borderRadius:"6px",padding:"8px"},children:l.jsx(O,{direction:"column",gap:"1",children:d.map((E,L)=>l.jsx("div",{className:B(E.type),children:l.jsxs(N,{size:"1",style:{fontFamily:"monospace"},children:[l.jsx("span",{style:{color:"var(--gray-9)",marginRight:"8px"},children:E.timestamp}),l.jsx("span",{style:{marginRight:"4px"},children:A(E.type)}),E.message]})},L))})}),l.jsxs(O,{gap:"2",justify:"end",children:[!c&&!_&&l.jsxs(l.Fragment,{children:[l.jsx(me,{variant:"soft",onClick:F,children:"Cancel"}),l.jsx(me,{onClick:q,children:"Start Import"})]}),c&&l.jsxs(l.Fragment,{children:[l.jsx(me,{variant:"soft",color:"red",onClick:R,disabled:b,children:b?"Cancelling...":" Stop Import"}),l.jsx(me,{variant:"soft",disabled:!0,children:"Importing..."})]}),_&&l.jsx(me,{onClick:F,children:"Close"})]})]})]})})},kee=()=>{const{showImportDialog:e,setShowImportDialog:t,addTable:n,addMetricView:r,createTraditionalView:o,createMetricRelationship:a,addRelationship:i,availableCatalogs:s,availableSchemas:c,availableTables:u,loadCatalogs:d,loadSchemas:p,loadTables:m,importExistingTables:h,importExistingTablesCrossCatalog:v,errors:g,tables:x}=lt(),[y,_]=f.useState(""),[w,b]=f.useState(""),[S,k]=f.useState([]),[j,$]=f.useState([]),[C,R]=f.useState([]),[D,q]=f.useState([]),[F,A]=f.useState(!1),[B,E]=f.useState(!1),[L,I]=f.useState(!1),[P,z]=f.useState(!1),[H,W]=f.useState("catalog"),[J,ce]=f.useState("tables"),[fe,pe]=f.useState(""),[ie,ge]=f.useState(""),[ve,ue]=f.useState(""),[K,se]=f.useState(""),[Se,Ee]=f.useState([]),[we,T]=f.useState(!1);f.useEffect(()=>{e&&s.length===0&&d()},[e,s.length,d]);const V=async(ee,ke)=>{try{z(!0);const _e=await fetch(`${st()}/api/data_modeling/views/${ee}/${ke}`);if(_e.ok){const Ne=await _e.json();Ee(Ne)}else console.error("Failed to load views"),Ee([])}catch(_e){console.error("Error loading views:",_e),Ee([])}finally{z(!1)}};f.useEffect(()=>{y&&(E(!0),p(y).finally(()=>E(!1)),W("schema"),ge(""))},[y,p]),f.useEffect(()=>{if(w){I(!0),m(y,w).finally(()=>I(!1)),W("tables"),ue(""),console.log(" Schema changed, updating selections:",{selectedCatalog:y,selectedSchema:w,allSelectedTablesCount:C.length,allSelectedTables:C});const ee=C.filter(ke=>ke.catalog===y&&ke.schema===w).map(ke=>ke.name);console.log(" Current selections for this catalog/schema:",ee),k(ee)}},[w,y,m]);const M=(ee,ke)=>{if(console.log(" Table selection:",{tableName:ee,checked:ke,selectedCatalog:y,selectedSchema:w,allSelectedTablesBefore:C.length,selectedTablesBefore:S.length}),ke){k([...S,ee]);const _e={catalog:y,schema:w,name:ee},Ne=[...C,_e];console.log(" Adding to allSelectedTables:",_e,"New total:",Ne.length),R(Ne)}else{k(S.filter(Ne=>Ne!==ee));const _e=C.filter(Ne=>!(Ne.catalog===y&&Ne.schema===w&&Ne.name===ee));console.log(" Removing from allSelectedTables:",ee,"New total:",_e.length),R(_e)}},G=s.filter(ee=>ee.name.toLowerCase().includes(fe.toLowerCase())||ee.comment&&ee.comment.toLowerCase().includes(fe.toLowerCase())),ne=c.filter(ee=>ee.name.toLowerCase().includes(ie.toLowerCase())||ee.comment&&ee.comment.toLowerCase().includes(ie.toLowerCase())),re=u.filter(ee=>ee.name.toLowerCase().includes(ve.toLowerCase())||ee.comment&&ee.comment.toLowerCase().includes(ve.toLowerCase())),oe=async()=>{if(J==="tables"){const _e=C.length;if(_e===0){alert("Please select at least one table to import");return}console.log(` Importing ${_e} tables from ${new Set(C.map(Ne=>`${Ne.catalog}.${Ne.schema}`)).size} catalog/schema combinations`)}else if(j.length===0){alert("Please select at least one view to import");return}const ee=new Set(x.map(_e=>_e.name.toLowerCase())),ke=C.filter(_e=>ee.has(_e.name.toLowerCase()));if(ke.length>0){const _e=ke.map(et=>`${et.catalog}.${et.schema}.${et.name}`);if(!window.confirm(`The following tables already exist in the canvas and will be skipped: ${_e.join(", ")}

Do you want to continue importing the remaining ${C.length-ke.length} tables?`))return;if(ke.length===C.length){alert("All selected tables already exist in the canvas. No tables will be imported.");return}}if(J==="tables"&&C.length>0){const _e=new Set(C.map(Ne=>`${Ne.catalog}.${Ne.schema}`)).size;_e>1?(console.log(" Cross-catalog import detected - using custom progress handling"),window.crossCatalogImport={totalGroups:_e,totalTables:C.length,completedGroups:0}):window.crossCatalogImport=null}T(!0)},De=async(ee,ke,_e,Ne,et=null)=>{const Le=et||C;if(Le&&Le.length>0){const Ze=new Set(Le.map(it=>`${it.catalog}.${it.schema}`));if(console.log(" selectedTablesForImport:",Le),console.log(" uniqueCatalogSchemas:",Array.from(Ze)),console.log(" uniqueCatalogSchemas.size:",Ze.size),Ze.size>1)return console.log(" Cross-catalog import detected! Using cross-catalog endpoint"),console.log(" Using cross-catalog import with tables:",Le),console.log(" Detected",Ze.size,"catalog/schema combinations"),await He(Ne,Le);{console.log(" Single catalog/schema detected, using regular import");const it=Le[0];return await h(it.catalog,it.schema,Le.map(Pt=>Pt.name),Ne)}}return console.log(" Using single catalog/schema import"),await h(ee,ke,_e,Ne)},He=async(ee,ke=null)=>{const _e=ke||C;console.log(" Starting cross-catalog import for tables:",_e),console.log(" Debug: selectedTables structure:",JSON.stringify(_e,null,2));const Ne=_e.reduce((Le,Ze)=>{const it=`${Ze.catalog}.${Ze.schema}`;return Le[it]||(Le[it]={catalog:Ze.catalog,schema:Ze.schema,tables:[]}),Le[it].tables.push(Ze.name),Le},{}),et=Object.values(Ne);console.log(" Prepared table groups for unified backend endpoint:",et);try{console.log(" Calling unified cross-catalog import endpoint...");const Le=await v(et,ee);return console.log(" Unified cross-catalog import endpoint successful:",Le),Le}catch(Le){throw console.error(" Unified cross-catalog import endpoint failed:",Le),Le}},Ie=async(ee,ke,_e,Ne)=>{var et,Le;try{window.importProgressCallback&&window.importProgressCallback({type:"started",total_tables:_e.length,message:`Starting import of ${_e.length} views`});const{tables:Ze}=lt.getState(),it=Ze.map(Oe=>({id:Oe.id,name:Oe.name,catalog_name:Oe.catalog_name,schema_name:Oe.schema_name,fields:Oe.fields||[]}));window.importProgressCallback&&window.importProgressCallback({type:"progress",progress:20,message:"Connecting to Databricks..."});const Pt=await fetch(`${st()}/api/data_modeling/import_views`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({catalog_name:ee,schema_name:ke,view_names:_e,auto_import_dependencies:!0,existing_tables:it})});if(!Pt.ok)throw new Error(`HTTP error! status: ${Pt.status}`);window.importProgressCallback&&window.importProgressCallback({type:"progress",progress:60,message:"Processing view definitions..."});const ht=await Pt.json();if(ht.views&&ht.views.length>0){for(const Oe of ht.views)if(Oe.type==="metric"){const vt={id:Oe.id,name:Oe.name,description:Oe.description||"",version:Oe.version||"0.1",source_table_id:Oe.source_table_id,catalog_name:Oe.catalog_name||ee,schema_name:Oe.schema_name||ke,dimensions:Oe.dimensions||[],measures:Oe.measures||[],joins:Oe.joins||[],tags:Oe.tags||{},position_x:Oe.position_x||100,position_y:Oe.position_y||100,width:Oe.width||280,height:Oe.height||220},{addMetricView:Ut,createMetricRelationship:dn}=lt.getState();if(Ut){if(Ut(vt),console.log(` Added metric view to store: ${vt.name}`),vt.source_table_id&&dn){const Qt=dn(vt.source_table_id,vt.id,[]);console.log(` Created metric relationship: ${vt.source_table_id} -> ${vt.id} (${Qt})`)}}else console.warn("addMetricView action not found in store")}else if(Oe.type==="traditional"){const vt={id:Oe.id,name:Oe.name,description:Oe.description||"",sql_query:Oe.sql_query||"",logical_name:Oe.logical_name||null,catalog_name:Oe.catalog_name||ee,schema_name:Oe.schema_name||ke,referenced_table_names:Oe.referenced_table_names||[],tags:Oe.tags||{},position_x:Oe.position_x||600,position_y:Oe.position_y||100,width:Oe.width||250,height:Oe.height||180},{createTraditionalView:Ut}=lt.getState();Ut?(Ut(vt),console.log(` Added traditional view to store: ${vt.name}`)):console.warn("createTraditionalView action not found in store")}}if(window.importProgressCallback&&window.importProgressCallback({type:"progress",progress:80,message:"Adding views to canvas..."}),ht.referenced_tables&&ht.referenced_tables.length>0){const{addTable:Oe}=lt.getState();for(const vt of ht.referenced_tables)Oe&&(Oe(vt),console.log(` Added imported table to store: ${vt.name}`))}if(ht.relationships&&ht.relationships.length>0)for(const Oe of ht.relationships)i(Oe),console.log(" Added relationship to store:",Oe.constraint_name);if(window.importProgressCallback){const Oe=_e.map((vt,Ut)=>({table_name:vt,success:ht.views&&Ut<ht.views.length,message:ht.views&&Ut<ht.views.length?"View imported successfully":"View import failed"}));window.importProgressCallback({type:"completed",progress:100,results:Oe,catalog_name:ee,schema_name:ke,message:`Successfully imported ${((et=ht.views)==null?void 0:et.length)||0} views and ${((Le=ht.referenced_tables)==null?void 0:Le.length)||0} dependency tables`})}return ht}catch(Ze){throw console.error(" Error importing views:",Ze),window.importProgressCallback&&(window.importProgressCallback({type:"error",message:Ze.message,progress:0}),window.importProgressCallback=null),Ze}},Je=()=>{T(!1),t(!1),_(""),b(""),k([]),$([]),R([]),q([]),Ee([]),ce("tables"),W("catalog")},Be=()=>{_(""),b(""),k([]),$([]),R([]),q([]),Ee([]),ce("tables"),W("catalog"),pe(""),ge(""),ue(""),se(""),E(!1),I(!1),z(!1)};return f.useEffect(()=>{e&&Be()},[e]),e?l.jsxs(l.Fragment,{children:[l.jsx(ye.Root,{open:e,onOpenChange:t,children:l.jsxs(Cl,{children:[l.jsx(Sl,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}),l.jsxs(ye.Content,{style:{maxWidth:1e3,maxHeight:"90vh",overflow:"auto"},"aria-describedby":void 0,onOpenAutoFocus:ee=>ee.preventDefault(),children:[l.jsx(ye.Title,{children:"Import Objects from Databricks"}),l.jsx(ye.Description,{size:"2",mb:"4",children:"Import existing tables and views from your Databricks Unity Catalog workspace."}),l.jsxs(O,{gap:"2",mb:"4",children:[l.jsx(xe,{color:H==="catalog"?"blue":"gray",children:"1. Select Catalog"}),l.jsx(xe,{color:H==="schema"?"blue":"gray",children:"2. Select Schema"}),l.jsx(xe,{color:H==="tables"?"blue":"gray",children:"3. Choose Objects"}),l.jsx(xe,{color:H==="import"?"blue":"gray",children:"4. Import"})]}),l.jsx(Ln,{mb:"4"}),H==="catalog"&&l.jsxs(Z,{children:[l.jsx(jt,{size:"4",mb:"3",children:"Step 1: Select Catalog"}),l.jsx(N,{mb:"3",children:"Choose a catalog from your Databricks workspace:"}),s.length===0?l.jsx(O,{justify:"center",align:"center",gap:"2",p:"4",children:l.jsx(N,{children:" Loading catalogs..."})}):l.jsxs(O,{direction:"column",gap:"3",children:[l.jsxs($e.Root,{children:[l.jsx($e.Slot,{children:l.jsx(gs,{height:"16",width:"16"})}),l.jsx($e.Input,{placeholder:"Search catalogs by name or description...",value:fe,onChange:ee=>pe(ee.target.value)})]}),l.jsx(O,{direction:"column",gap:"2",style:{maxHeight:"400px",overflowY:"auto"},children:G.length===0?l.jsxs(N,{color:"gray",style:{textAlign:"center",padding:"20px"},children:['No catalogs found matching "',fe,'"']}):G.map(ee=>l.jsx(Ke,{style:{cursor:"pointer",padding:"12px",border:"2px solid transparent"},onClick:()=>_(ee.name),children:l.jsxs(O,{justify:"between",align:"center",children:[l.jsxs(Z,{children:[l.jsx(N,{size:"3",weight:"bold",children:ee.name}),l.jsx(N,{size:"2",color:"gray",children:ee.comment||"No description"})]}),l.jsx(xe,{color:"blue",children:ee.type||"CATALOG"})]})},ee.name))})]})]}),H==="schema"&&l.jsxs(Z,{children:[l.jsx(jt,{size:"4",mb:"3",children:"Step 2: Select Schema"}),l.jsxs(N,{mb:"3",children:["Selected catalog: ",l.jsx(xe,{color:"blue",children:y})]}),l.jsx(N,{mb:"3",children:"Choose a schema from the selected catalog:"}),B?l.jsx(O,{justify:"center",align:"center",gap:"2",p:"4",children:l.jsx(N,{children:" Loading schemas..."})}):c.length===0?l.jsx(O,{justify:"center",align:"center",gap:"2",p:"4",children:l.jsx(N,{color:"gray",children:" No schemas found in this catalog"})}):l.jsxs(O,{direction:"column",gap:"3",children:[l.jsxs($e.Root,{children:[l.jsx($e.Slot,{children:l.jsx(gs,{height:"16",width:"16"})}),l.jsx($e.Input,{placeholder:"Search schemas by name or description...",value:ie,onChange:ee=>ge(ee.target.value)})]}),l.jsx(O,{direction:"column",gap:"2",style:{maxHeight:"400px",overflowY:"auto"},children:ne.length===0?l.jsxs(N,{color:"gray",style:{textAlign:"center",padding:"20px"},children:['No schemas found matching "',ie,'"']}):ne.map(ee=>l.jsx(Ke,{style:{cursor:"pointer",padding:"12px",border:"2px solid transparent"},onClick:()=>{b(ee.name),I(!0),Promise.all([m(y,ee.name),V(y,ee.name)]).finally(()=>I(!1)),W("tables")},children:l.jsxs(O,{justify:"between",align:"center",children:[l.jsxs(Z,{children:[l.jsx(N,{size:"3",weight:"bold",children:ee.name}),l.jsx(N,{size:"2",color:"gray",children:ee.comment||"No description"})]}),l.jsx(xe,{color:"green",children:"SCHEMA"})]})},ee.name))})]}),l.jsx(me,{variant:"ghost",mt:"3",onClick:()=>W("catalog"),children:" Back to Catalogs"})]}),H==="tables"&&l.jsxs(Z,{children:[l.jsx(jt,{size:"4",mb:"3",children:"Step 3: Select Objects"}),l.jsxs(O,{justify:"between",align:"center",mb:"3",children:[l.jsxs(N,{children:["Selected: ",l.jsx(xe,{color:"blue",children:y}),"  ",l.jsx(xe,{color:"green",children:w})]}),C.length>0&&l.jsxs(xe,{color:"purple",size:"2",children:[C.length," table(s) selected across catalogs"]})]}),l.jsxs(We.Root,{value:J,onValueChange:ee=>{console.log(" Tab switching:",{from:J,to:ee,allSelectedTablesBeforeSwitch:C.length,selectedTablesBeforeSwitch:S.length}),ce(ee)},children:[l.jsxs(We.List,{children:[l.jsx(We.Trigger,{value:"tables",children:"Tables"}),l.jsx(We.Trigger,{value:"views",children:"Views"})]}),l.jsxs(We.Content,{value:"tables",children:[l.jsx(N,{mb:"3",children:"Choose tables to import from the selected schema:"}),L?l.jsx(O,{justify:"center",align:"center",gap:"2",p:"4",children:l.jsx(N,{children:" Loading tables..."})}):u.length===0?l.jsx(O,{justify:"center",align:"center",gap:"2",p:"4",children:l.jsx(N,{color:"gray",children:" No tables found in this schema"})}):l.jsxs(Z,{children:[l.jsxs($e.Root,{style:{marginBottom:"12px"},children:[l.jsx($e.Slot,{children:l.jsx(gs,{height:"16",width:"16"})}),l.jsx($e.Input,{placeholder:"Search tables by name or description...",value:ve,onChange:ee=>ue(ee.target.value)})]}),l.jsx(Ke,{mb:"3",children:l.jsxs(O,{justify:"between",align:"center",children:[l.jsxs(N,{size:"2",children:["Select All ",re.length>0&&re.length!==u.length?`(${re.length} filtered)`:""]}),l.jsx(Yt,{checked:re.length>0&&re.every(ee=>S.includes(ee.name)),onCheckedChange:ee=>{if(console.log(" Select All tables:",{checked:ee,filteredTablesCount:re.length,currentSelectedTables:S.length,allSelectedTablesBefore:C.length}),ee){const ke=[...new Set([...S,...re.map(et=>et.name)])];k(ke);const _e=re.filter(et=>!C.some(Le=>Le.catalog===y&&Le.schema===w&&Le.name===et.name)).map(et=>({catalog:y,schema:w,name:et.name})),Ne=[...C,..._e];console.log(" Adding to allSelectedTables via Select All:",_e.length,"New total:",Ne.length),R(Ne)}else{const ke=re.map(Ne=>Ne.name);k(S.filter(Ne=>!ke.includes(Ne)));const _e=C.filter(Ne=>!(Ne.catalog===y&&Ne.schema===w&&ke.includes(Ne.name)));console.log(" Removing from allSelectedTables via Select All:",ke.length,"New total:",_e.length),R(_e)}}})]})}),l.jsx(O,{direction:"column",gap:"2",style:{maxHeight:"400px",overflowY:"auto"},children:re.length===0?l.jsxs(N,{color:"gray",style:{textAlign:"center",padding:"20px"},children:['No tables found matching "',ve,'"']}):re.map(ee=>l.jsx(Ke,{style:{padding:"12px"},children:l.jsxs(O,{justify:"between",align:"center",children:[l.jsxs(Z,{children:[l.jsx(N,{size:"3",weight:"bold",children:ee.name}),l.jsx(N,{size:"2",color:"gray",children:ee.comment||"No description"}),l.jsxs(O,{gap:"2",mt:"1",children:[l.jsx(xe,{color:"orange",children:ee.table_type}),l.jsx(xe,{color:"purple",children:ee.data_source_format})]})]}),l.jsx(Yt,{checked:S.includes(ee.name),onCheckedChange:ke=>M(ee.name,ke)})]})},ee.name))})]})]}),l.jsxs(We.Content,{value:"views",children:[l.jsx(N,{mb:"3",children:"Choose views to import from the selected schema:"}),l.jsx(Ke,{mb:"3",style:{backgroundColor:"var(--amber-2)",borderColor:"var(--amber-6)"},children:l.jsxs(O,{gap:"2",align:"start",children:[l.jsx(N,{size:"2",color:"amber",children:""}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",color:"amber",children:"Views Import Notice:"}),l.jsx(N,{size:"2",color:"amber",mt:"1",children:"Views can only be imported from a single catalog/schema at a time. Cross-catalog view import is not currently supported."})]})]})}),P?l.jsx(O,{justify:"center",align:"center",gap:"2",p:"4",children:l.jsx(N,{children:" Loading views..."})}):Se.length===0?l.jsx(O,{justify:"center",align:"center",gap:"2",p:"4",children:l.jsx(N,{color:"gray",children:" No views found in this schema"})}):l.jsxs(Z,{children:[l.jsxs($e.Root,{style:{marginBottom:"12px"},children:[l.jsx($e.Slot,{children:l.jsx(gs,{height:"16",width:"16"})}),l.jsx($e.Input,{placeholder:"Search views by name or description...",value:K,onChange:ee=>se(ee.target.value)})]}),l.jsx(Ke,{mb:"3",children:l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(N,{size:"2",children:"Select All Views"}),l.jsx(Yt,{checked:Se.length>0&&Se.every(ee=>j.includes(ee.name)),onCheckedChange:ee=>{$(ee?Se.map(ke=>ke.name):[])}})]})}),l.jsx(O,{direction:"column",gap:"2",style:{maxHeight:"400px",overflowY:"auto"},children:Se.length===0?l.jsx(N,{color:"gray",style:{textAlign:"center",padding:"20px"},children:"No views found"}):Se.filter(ee=>ee.name.toLowerCase().includes(K.toLowerCase())).map(ee=>l.jsx(Ke,{style:{padding:"12px"},children:l.jsxs(O,{justify:"between",align:"center",children:[l.jsxs(Z,{children:[l.jsx(N,{size:"3",weight:"bold",children:ee.name}),l.jsx(N,{size:"2",color:"gray",children:ee.comment||"No description"}),l.jsxs(O,{gap:"2",mt:"1",children:[l.jsx(xe,{color:"blue",children:ee.type}),l.jsx(xe,{color:"green",children:"VIEW"})]})]}),l.jsx(Yt,{checked:j.includes(ee.name),onCheckedChange:ke=>{$(ke?[...j,ee.name]:j.filter(_e=>_e!==ee.name))}})]})},ee.name))})]})]})]}),l.jsxs(O,{gap:"2",mt:"3",children:[l.jsx(me,{variant:"ghost",onClick:()=>W("schema"),children:" Back to Schemas"}),l.jsxs(me,{onClick:()=>W("import"),disabled:J==="tables"?C.length===0:j.length===0,children:["Continue (",J==="tables"?C.length:j.length," selected)"]})]})]}),H==="import"&&l.jsxs(Z,{children:[l.jsxs(jt,{size:"4",mb:"3",children:["Step 4: Import ",J==="tables"?"Tables":"Views"]}),J==="tables"&&C.length>0?l.jsxs(l.Fragment,{children:[l.jsxs(N,{mb:"3",children:["Ready to import ",C.length," table(s) from ",new Set(C.map(ee=>`${ee.catalog}.${ee.schema}`)).size," catalog/schema combination(s)"]}),l.jsxs(Ke,{mb:"4",children:[l.jsx(jt,{size:"3",mb:"2",children:"Tables to Import (Cross-Catalog/Schema):"}),l.jsx(O,{direction:"column",gap:"2",children:Object.entries(C.reduce((ee,ke)=>{const _e=`${ke.catalog}.${ke.schema}`;return ee[_e]||(ee[_e]=[]),ee[_e].push(ke.name),ee},{})).map(([ee,ke])=>l.jsxs(Z,{children:[l.jsxs(N,{size:"2",weight:"bold",color:"blue",children:[ee,":"]}),l.jsx(O,{direction:"column",gap:"1",ml:"3",children:ke.map(_e=>l.jsxs(N,{size:"2",children:[" ",_e]},`${ee}.${_e}`))})]},ee))})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(N,{mb:"3",children:["Ready to import ",J==="tables"?S.length:j.length," ",J==="tables"?"table(s)":"view(s)"," from ",l.jsx(xe,{color:"blue",children:y}),".",l.jsx(xe,{color:"green",children:w})]}),l.jsxs(Ke,{mb:"4",children:[l.jsxs(jt,{size:"3",mb:"2",children:[J==="tables"?"Tables":"Views"," to Import:"]}),l.jsx(O,{direction:"column",gap:"1",children:(J==="tables"?S:j).map(ee=>l.jsxs(N,{size:"2",children:[" ",ee]},ee))})]})]}),l.jsxs(N,{size:"2",color:"gray",mb:"4",children:["Note: This will create ",J==="tables"?"table":"view"," nodes in your data model with the same structure as the existing Databricks ",J==="tables"?"tables":"views",". You can then modify the fields, add relationships, and generate DDL as needed."]}),l.jsxs(O,{gap:"2",mt:"3",children:[l.jsxs(me,{variant:"ghost",onClick:()=>W("tables"),children:[" Back to ",J==="tables"?"Tables":"Views"]}),l.jsx(me,{onClick:oe,disabled:F,children:F?" Importing...":J==="tables"?`Import ${C.length} Table${C.length!==1?"s":""}`:`Import ${j.length} View${j.length!==1?"s":""}`})]})]}),l.jsx(O,{gap:"3",mt:"4",justify:"end",children:l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",children:"Cancel"})})})]})]})}),l.jsx(Ree,{isOpen:we,onClose:Je,onImport:J==="tables"?De:Ie,catalogName:y,schemaName:w,tableNames:J==="tables"?S:j,allSelectedTables:J==="tables"?C:void 0,objectType:J==="tables"?"tables":"views"})]}):null},Nee=()=>{const{showProjectDialog:e,setShowProjectDialog:t}=lt();return l.jsx(ye.Root,{open:e,onOpenChange:t,children:l.jsxs(ye.Content,{style:{maxWidth:450},children:[l.jsx(ye.Title,{children:"Create New Project"}),l.jsx(ye.Description,{size:"2",mb:"4",children:"Create a new data modeling project."}),l.jsx(N,{children:"Project creation dialog coming soon..."}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",children:"Cancel"})}),l.jsx(me,{onClick:()=>t(!1),children:"Create Project"})]})]})})},Pee=({isOpen:e,onClose:t,project:n,onConfirmDelete:r})=>{const[o,a]=f.useState(""),[i,s]=f.useState(!1),c=async()=>{if(o===(n==null?void 0:n.name)){s(!0);try{await r(n),u()}catch(p){console.error("Error deleting project:",p)}finally{s(!1)}}},u=()=>{a(""),s(!1),t()},d=o===(n==null?void 0:n.name);return!e||!n?null:l.jsx(ye.Root,{open:e,onOpenChange:u,children:l.jsxs(ye.Content,{style:{maxWidth:"500px"},children:[l.jsx(ye.Title,{children:l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(d7,{color:"red",width:"20",height:"20"}),l.jsx(N,{size:"4",weight:"bold",color:"red",children:"Delete Project"})]})}),l.jsx(ye.Description,{size:"2",mb:"4",color:"gray",children:"This action cannot be undone. This will permanently delete the project and all its data."}),l.jsx(Z,{mb:"4",children:l.jsx(Ke,{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",padding:"16px"},children:l.jsxs(O,{direction:"column",gap:"3",children:[l.jsx(N,{size:"2",weight:"bold",color:"red",children:"You are about to delete:"}),l.jsx(Z,{style:{backgroundColor:"#fff",padding:"12px",borderRadius:"6px",border:"1px solid #e5e7eb"},children:l.jsxs(O,{direction:"column",gap:"1",children:[l.jsx(N,{size:"3",weight:"bold",children:n.name}),l.jsxs(N,{size:"1",color:"gray",children:["Created: ",new Date(n.created_at).toLocaleDateString()]}),l.jsxs(N,{size:"1",color:"gray",children:["Last modified: ",new Date(n.saved_at).toLocaleDateString()]})]})})]})})}),l.jsxs(Z,{mb:"4",children:[l.jsxs(N,{size:"2",weight:"bold",mb:"2",children:["Type the project name ",l.jsxs(N,{weight:"bold",style:{fontFamily:"monospace"},children:['"',n.name,'"']})," to confirm:"]}),l.jsx($e.Input,{value:o,onChange:p=>a(p.target.value),placeholder:`Type "${n.name}" here`,size:"2",style:{border:o&&!d?"1px solid #ef4444":void 0}}),o&&!d&&l.jsxs(N,{size:"1",color:"red",mt:"1",children:["Project name doesn't match. Please type exactly: ",n.name]})]}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(ye.Close,{children:l.jsx(me,{variant:"soft",color:"gray",disabled:i,children:"Cancel"})}),l.jsx(me,{color:"red",onClick:c,disabled:!d||i,children:i?"Deleting...":"Delete Project"})]})]})})},Dee=()=>{const{showProjectStartupDialog:e,setShowProjectStartupDialog:t,projectStartupMode:n,savedProjects:r,getSavedProjects:o,getAppState:a,appState:i,loadProject:s,createNewProject:c,loadCatalogs:u,loadSchemas:d,availableCatalogs:p,availableSchemas:m,deleteProject:h,downloadProject:v,importProject:g}=lt(),[x,y]=f.useState(n),[_,w]=f.useState(null),[b,S]=f.useState({name:"",description:"",catalog_name:"",schema_name:""}),[k,j]=f.useState({}),[$,C]=f.useState(!1),[R,D]=f.useState(null),[q,F]=f.useState(""),[A,B]=f.useState(""),[E,L]=f.useState("yaml");f.useEffect(()=>{e&&(console.log("ProjectStartupDialog opened, loading data..."),y(n),a(),o(),u().then(K=>{console.log("Catalogs loaded:",K)}).catch(K=>{console.error("Failed to load catalogs:",K)}))},[e,n]),f.useEffect(()=>{b.catalog_name&&(console.log("Loading schemas for catalog:",b.catalog_name),d(b.catalog_name))},[b.catalog_name]),f.useEffect(()=>{console.log("Available catalogs:",p)},[p]);const I=K=>{const se={};return K.trim()?r.find(Ee=>Ee.name.toLowerCase()===K.trim().toLowerCase())&&(se.name=`A project named "${K.trim()}" already exists`):se.name="Project name is required",j(Se=>({...Se,name:se.name})),!se.name},P=K=>{const se=K.target.value;S({...b,name:se}),I(se)},z=async()=>{try{if(!b.name||!b.catalog_name||!b.schema_name){alert("Please fill in all required fields");return}if(!I(b.name)){alert("Please fix the project name error before creating the project.");return}const se=c(b.name,b.description,b.catalog_name,b.schema_name);t(!1)}catch(K){console.error("Error creating project:",K),alert("Error creating project: "+K.message)}},H=async()=>{try{if(!_){alert("Please select a project to load");return}await s(_.name),t(!1)}catch(K){console.error("Error loading project:",K),alert("Error loading project: "+K.message)}},W=(K,se)=>{se.stopPropagation(),console.log(" handleDeleteProject called with project:",K),D(K),C(!0)},J=async K=>{try{await h(K.name),(_==null?void 0:_.name)===K.name&&w(null),await a()}catch(se){throw console.error("Failed to delete project:",se),se}},ce=async(K,se)=>{se.stopPropagation();try{console.log(" handleDownloadProject called with project:",K),await v(K.name)}catch(Se){console.error("Failed to download project:",Se),alert("Error downloading project: "+Se.message)}},fe=async(K=!1)=>{var se,Se,Ee,we,T,V;if(!q.trim()||!A.trim()){alert("Please provide both project name and file content");return}if(!K&&k.importName){alert("Please fix the project name error before importing.");return}try{console.log(" About to call importProject with:"),console.log(" - content type:",typeof A),console.log(" - content length:",A==null?void 0:A.length),console.log(" - project name:",q),console.log(" - file type:",E),await g(A,q,K,E),F(""),B(""),y("load"),await a(),alert(`Project "${q}" imported successfully!`)}catch(M){if(console.error("Failed to import project:",M),((se=M.response)==null?void 0:se.status)===409&&((Ee=(Se=M.response)==null?void 0:Se.data)==null?void 0:Ee.code)==="DUPLICATE_NAME"){if(window.confirm(`A project named "${q}" already exists. This will overwrite the existing project.

Are you sure you want to continue?`))return fe(!0)}else{const G=((T=(we=M.response)==null?void 0:we.data)==null?void 0:T.error)||M.message||"Unknown error occurred";console.error("Import error details:",(V=M.response)==null?void 0:V.data),alert("Error importing project: "+G)}}},pe=K=>{const se=K.target.files[0];if(se){const Se=new FileReader;Se.onload=Ee=>{const we=Ee.target.result;console.log(" File upload - content length:",we.length),console.log(" File upload - content preview:",we.substring(0,200)),console.log(" File upload - file name:",se.name),console.log(" File upload - content type:",typeof we);const T=String(we);console.log(" File upload - clean content type:",typeof T),B(T),se.name.toLowerCase().endsWith(".json")?(L("json"),console.log(" File upload - detected type: json")):(L("yaml"),console.log(" File upload - detected type: yaml"));const M=se.name.replace(/\.(yaml|yml|json)$/i,"");q||F(M),console.log(" File upload - project name:",M)},Se.readAsText(se)}},ie=K=>new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ge=Array.isArray(p)?p.filter(K=>K&&typeof K=="object"):[],ve=Array.isArray(m)?m.filter(K=>K&&typeof K=="object"):[],ue=Array.isArray(r)?r.filter(K=>K&&typeof K=="object"):[];return e?l.jsxs(l.Fragment,{children:[l.jsx(ye.Root,{open:e,onOpenChange:t,children:l.jsxs(Cl,{children:[l.jsx(Sl,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}),l.jsxs(ye.Content,{style:{maxWidth:800,maxHeight:"90vh",overflow:"auto"},onOpenAutoFocus:K=>{K.preventDefault()},"aria-describedby":void 0,children:[l.jsx(ye.Title,{children:"Welcome to Bricks Data Modeler"}),l.jsx(ye.Description,{size:"2",mb:"4",children:"Choose how you would like to get started with your data modeling project."}),x==="select"&&l.jsx(O,{direction:"column",gap:"4",children:l.jsxs(Jo,{columns:"3",gap:"4",children:[l.jsx(Ke,{style:{cursor:"pointer",padding:"20px"},onClick:()=>y("create"),children:l.jsxs(O,{direction:"column",align:"center",gap:"3",children:[l.jsx(N,{size:"6",children:"+"}),l.jsx(jt,{size:"4",children:"Create New Project"}),l.jsx(N,{color:"gray",align:"center",children:"Start fresh with a new data modeling project. Define your catalog, schema, and begin designing your data model."})]})}),l.jsx(Ke,{style:{cursor:i!=null&&i.has_existing_projects?"pointer":"not-allowed",opacity:i!=null&&i.has_existing_projects?1:.5,padding:"20px"},onClick:()=>(i==null?void 0:i.has_existing_projects)&&y("load"),children:l.jsxs(O,{direction:"column",align:"center",gap:"3",children:[l.jsx(N,{size:"6",children:""}),l.jsx(jt,{size:"4",children:"Load Existing Project"}),l.jsx(N,{color:"gray",align:"center",children:"Continue working on a previously saved data modeling project."}),(i==null?void 0:i.has_existing_projects)&&l.jsxs(xe,{color:"blue",children:[i.project_count," projects available"]}),!(i!=null&&i.has_existing_projects)&&l.jsx(N,{size:"1",color:"gray",children:"No saved projects found"})]})}),l.jsx(Ke,{style:{cursor:"pointer",padding:"20px"},onClick:()=>y("import"),children:l.jsxs(O,{direction:"column",align:"center",gap:"3",children:[l.jsx(N,{size:"6",children:""}),l.jsx(jt,{size:"4",children:"Import Project"}),l.jsx(N,{color:"gray",align:"center",children:"Import an existing project from a YAML or JSON file and create a new project with a different name."})]})})]})}),x==="create"&&l.jsxs(O,{direction:"column",gap:"4",children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(jt,{size:"4",children:"Create New Project"}),l.jsx(me,{variant:"ghost",onClick:()=>y("select"),children:"Back"})]}),l.jsx(Ln,{}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Project Name *"}),l.jsx($e.Root,{color:k.name?"red":void 0,children:l.jsx($e.Input,{placeholder:"Enter project name",value:b.name,onChange:P})}),k.name&&l.jsx(N,{size:"1",color:"red",mt:"1",children:k.name})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Description"}),l.jsx(br,{placeholder:"Optional project description",value:b.description,onChange:K=>S({...b,description:K.target.value}),rows:3})]}),l.jsxs(Z,{children:[l.jsxs(N,{size:"2",weight:"bold",mb:"2",children:["Catalog * (Debug: ",ge.length," catalogs)"]}),l.jsxs(U.Root,{value:b.catalog_name,onValueChange:K=>S({...b,catalog_name:K,schema_name:""}),children:[l.jsx(U.Trigger,{placeholder:"Select catalog"}),l.jsx(U.Content,{children:ge.filter(K=>K&&K.name).map(K=>l.jsx(U.Item,{value:K.name,children:K.name},K.name))})]}),ge.length===0&&l.jsx(N,{size:"1",color:"gray",mt:"1",children:"Loading catalogs..."})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Schema *"}),l.jsxs(U.Root,{value:b.schema_name,onValueChange:K=>S({...b,schema_name:K}),disabled:!b.catalog_name,children:[l.jsx(U.Trigger,{placeholder:b.catalog_name?"Select schema":"Select catalog first"}),l.jsx(U.Content,{children:ve.filter(K=>K&&K.name).map(K=>l.jsx(U.Item,{value:K.name,children:l.jsxs(O,{align:"center",justify:"between",style:{width:"100%"},children:[l.jsx(N,{children:K.name}),K.is_imported&&l.jsx(xe,{color:"orange",size:"1",style:{marginLeft:"8px"},children:"imported"})]})},K.name))})]}),b.catalog_name&&ve.length===0&&l.jsx(N,{size:"1",color:"gray",mt:"1",children:"Loading schemas..."})]}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(me,{variant:"soft",color:"gray",onClick:()=>y("select"),children:"Cancel"}),l.jsx(me,{onClick:z,disabled:!!k.name||!b.name||!b.catalog_name||!b.schema_name,children:"Create Project"})]})]}),x==="import"&&l.jsxs(O,{direction:"column",gap:"4",children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(jt,{size:"4",children:"Import Project"}),l.jsx(me,{variant:"ghost",onClick:()=>y("select"),children:"Back"})]}),l.jsx(Ln,{}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"New Project Name *"}),l.jsx($e.Root,{color:k.importName?"red":void 0,children:l.jsx($e.Input,{placeholder:"Enter new project name",value:q,onChange:K=>{const se=K.target.value;F(se);const Se={};se.trim()?r.find(we=>we.name.toLowerCase()===se.trim().toLowerCase())&&(Se.importName=`A project named "${se.trim()}" already exists`):Se.importName="Project name is required",j(Ee=>({...Ee,importName:Se.importName}))}})}),k.importName&&l.jsx(N,{size:"1",color:"red",mt:"1",children:k.importName})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:"Upload Project File"}),l.jsx("input",{type:"file",accept:".yaml,.yml,.json",onChange:pe,style:{width:"100%",padding:"8px",border:"1px solid var(--gray-6)",borderRadius:"6px",backgroundColor:"var(--color-surface)"}}),l.jsx(N,{size:"1",color:"gray",mt:"1",children:"Supports YAML (.yaml, .yml) and JSON (.json) project files"}),E&&l.jsxs(N,{size:"1",color:"blue",mt:"1",children:["Detected file type: ",E.toUpperCase()]})]}),l.jsxs(Z,{children:[l.jsx(N,{size:"2",weight:"bold",mb:"2",children:E==="json"?"JSON Content":"YAML Content"}),l.jsx(br,{placeholder:`Paste ${E.toUpperCase()} content here or upload a file above`,value:A,onChange:K=>B(K.target.value),rows:10,style:{fontFamily:"monospace",fontSize:"12px"}})]}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(me,{variant:"soft",color:"gray",onClick:()=>y("select"),children:"Cancel"}),l.jsxs(me,{onClick:()=>fe(),disabled:!q.trim()||!A.trim(),children:[l.jsx(wB,{})," Import Project"]})]})]}),x==="load"&&l.jsxs(O,{direction:"column",gap:"4",children:[l.jsxs(O,{justify:"between",align:"center",children:[l.jsx(jt,{size:"4",children:"Load Existing Project"}),l.jsx(me,{variant:"ghost",onClick:()=>y("select"),children:"Back"})]}),l.jsx(Ln,{}),l.jsx(Z,{style:{maxHeight:"400px",overflow:"auto"},children:ue.length===0?l.jsx(N,{color:"gray",children:"No saved projects found."}):l.jsx(O,{direction:"column",gap:"2",children:ue.map(K=>l.jsx(Ke,{style:{cursor:"pointer",padding:"16px",border:(_==null?void 0:_.name)===K.name?"2px solid var(--accent-9)":"1px solid var(--gray-6)"},onClick:()=>w(K),children:l.jsxs(O,{direction:"column",gap:"2",children:[l.jsxs(O,{justify:"between",align:"start",children:[l.jsx(N,{size:"3",weight:"bold",children:K.name}),l.jsxs(O,{align:"center",gap:"2",children:[l.jsx(xe,{color:"gray",children:K.format}),l.jsx(Cn,{size:"1",variant:"ghost",color:"blue",onClick:se=>ce(K,se),style:{opacity:.7},children:l.jsx(rl,{})}),l.jsx(Cn,{size:"1",variant:"ghost",color:"red",onClick:se=>W(K,se),style:{opacity:.7},children:l.jsx(Fn,{})})]})]}),l.jsxs(N,{size:"2",color:"gray",children:["Last modified: ",ie(K.saved_at)]})]})},K.name))})}),l.jsxs(O,{gap:"3",mt:"4",justify:"end",children:[l.jsx(me,{variant:"soft",color:"gray",onClick:()=>y("select"),children:"Cancel"}),l.jsx(me,{onClick:H,disabled:!_,children:"Load Project"})]})]})]})]})}),l.jsx(Pee,{isOpen:$,onClose:()=>C(!1),project:R,onConfirmDelete:J})]}):null};class jE extends X.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t),console.error("Error info:",n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?l.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee",border:"1px solid #fcc"},children:[l.jsx("h2",{children:"Something went wrong!"}),l.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[l.jsx("summary",{children:"Error details (click to expand)"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",this.state.error&&this.state.error.toString()]}),l.jsx("p",{children:l.jsx("strong",{children:"Stack trace:"})}),l.jsx("pre",{children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),l.jsx("button",{onClick:()=>window.location.reload(),children:"Reload Page"})]}):this.props.children}}function Aee(){const{loadCatalogs:e,loadDatatypes:t,getAppState:n,showProjectStartupDialog:r,currentProject:o}=lt();return f.useEffect(()=>{e(),t(),n()},[e,t,n]),l.jsx(jE,{children:l.jsxs("div",{id:"app",children:[l.jsx(SB,{}),o&&l.jsx(jE,{children:l.jsx(Eee,{})}),!o&&!r&&l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 80px)",color:"#888",fontSize:"18px"},children:"Welcome! Please create or load a project to get started."}),l.jsx(jee,{}),l.jsx(Tee,{}),l.jsx(kee,{}),l.jsx(Nee,{}),l.jsx(Dee,{})]})})}j1.createRoot(document.getElementById("root")).render(l.jsx(X.StrictMode,{children:l.jsx(xa,{children:l.jsx(Aee,{})})}));

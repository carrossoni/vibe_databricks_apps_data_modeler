function xT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ml(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var E5={exports:{}},Uu={},j5={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=Symbol.for("react.element"),_T=Symbol.for("react.portal"),wT=Symbol.for("react.fragment"),bT=Symbol.for("react.strict_mode"),CT=Symbol.for("react.profiler"),ST=Symbol.for("react.provider"),ET=Symbol.for("react.context"),jT=Symbol.for("react.forward_ref"),$T=Symbol.for("react.suspense"),RT=Symbol.for("react.memo"),TT=Symbol.for("react.lazy"),T_=Symbol.iterator;function kT(e){return e===null||typeof e!="object"?null:(e=T_&&e[T_]||e["@@iterator"],typeof e=="function"?e:null)}var $5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R5=Object.assign,T5={};function $a(e,t,n){this.props=e,this.context=t,this.refs=T5,this.updater=n||$5}$a.prototype.isReactComponent={};$a.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k5(){}k5.prototype=$a.prototype;function ly(e,t,n){this.props=e,this.context=t,this.refs=T5,this.updater=n||$5}var cy=ly.prototype=new k5;cy.constructor=ly;R5(cy,$a.prototype);cy.isPureReactComponent=!0;var k_=Array.isArray,N5=Object.prototype.hasOwnProperty,uy={current:null},P5={key:!0,ref:!0,__self:!0,__source:!0};function D5(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)N5.call(t,r)&&!P5.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:gl,type:e,key:i,ref:a,props:o,_owner:uy.current}}function NT(e,t){return{$$typeof:gl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dy(e){return typeof e=="object"&&e!==null&&e.$$typeof===gl}function PT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var N_=/\/+/g;function Rf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PT(""+e.key):t.toString(36)}function Rc(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case gl:case _T:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Rf(a,0):r,k_(o)?(n="",e!=null&&(n=e.replace(N_,"$&/")+"/"),Rc(o,t,n,"",function(u){return u})):o!=null&&(dy(o)&&(o=NT(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(N_,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",k_(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Rf(i,s);a+=Rc(i,t,n,l,o)}else if(l=kT(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Rf(i,s++),a+=Rc(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Bl(e,t,n){if(e==null)return e;var r=[],o=0;return Rc(e,r,"","",function(i){return t.call(n,i,o++)}),r}function DT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Tc={transition:null},AT={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Tc,ReactCurrentOwner:uy};Fe.Children={map:Bl,forEach:function(e,t,n){Bl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bl(e,function(){t++}),t},toArray:function(e){return Bl(e,function(t){return t})||[]},only:function(e){if(!dy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=$a;Fe.Fragment=wT;Fe.Profiler=CT;Fe.PureComponent=ly;Fe.StrictMode=bT;Fe.Suspense=$T;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AT;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=R5({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=uy.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)N5.call(t,l)&&!P5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:gl,type:e.type,key:o,ref:i,props:r,_owner:a}};Fe.createContext=function(e){return e={$$typeof:ET,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ST,_context:e},e.Consumer=e};Fe.createElement=D5;Fe.createFactory=function(e){var t=D5.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:jT,render:e}};Fe.isValidElement=dy;Fe.lazy=function(e){return{$$typeof:TT,_payload:{_status:-1,_result:e},_init:DT}};Fe.memo=function(e,t){return{$$typeof:RT,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=Tc.transition;Tc.transition={};try{e()}finally{Tc.transition=t}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(e,t){return Yt.current.useCallback(e,t)};Fe.useContext=function(e){return Yt.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return Yt.current.useEffect(e,t)};Fe.useId=function(){return Yt.current.useId()};Fe.useImperativeHandle=function(e,t,n){return Yt.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return Yt.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return Yt.current.useReducer(e,t,n)};Fe.useRef=function(e){return Yt.current.useRef(e)};Fe.useState=function(e){return Yt.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return Yt.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return Yt.current.useTransition()};Fe.version="18.2.0";j5.exports=Fe;var f=j5.exports;const Z=ml(f),IT=xT({__proto__:null,default:Z},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT=f,OT=Symbol.for("react.element"),LT=Symbol.for("react.fragment"),zT=Object.prototype.hasOwnProperty,FT=MT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qT={key:!0,ref:!0,__self:!0,__source:!0};function A5(e,t,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)zT.call(t,r)&&!qT.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:OT,type:e,key:i,ref:a,props:o,_owner:FT.current}}Uu.Fragment=LT;Uu.jsx=A5;Uu.jsxs=A5;E5.exports=Uu;var c=E5.exports,S0={},I5={exports:{}},vn={},M5={exports:{}},O5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,R){var q=I.length;I.push(R);e:for(;0<q;){var G=q-1>>>1,Q=I[G];if(0<o(Q,R))I[G]=R,I[q]=Q,q=G;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var R=I[0],q=I.pop();if(q!==R){I[0]=q;e:for(var G=0,Q=I.length,le=Q>>>1;G<le;){var ie=2*(G+1)-1,fe=I[ie],he=ie+1,z=I[he];if(0>o(fe,q))he<Q&&0>o(z,fe)?(I[G]=z,I[he]=q,G=he):(I[G]=fe,I[ie]=q,G=ie);else if(he<Q&&0>o(z,q))I[G]=z,I[he]=q,G=he;else break e}}return R}function o(I,R){var q=I.sortIndex-R.sortIndex;return q!==0?q:I.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,p=null,h=3,m=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=I)r(u),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(u)}}function w(I){if(g=!1,_(I),!v)if(n(l)!==null)v=!0,T(E);else{var R=n(u);R!==null&&B(w,R.startTime-I)}}function E(I,R){v=!1,g&&(g=!1,y(A),A=-1),m=!0;var q=h;try{for(_(R),p=n(l);p!==null&&(!(p.expirationTime>R)||I&&!D());){var G=p.callback;if(typeof G=="function"){p.callback=null,h=p.priorityLevel;var Q=G(p.expirationTime<=R);R=e.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(l)&&r(l),_(R)}else r(l);p=n(l)}if(p!==null)var le=!0;else{var ie=n(u);ie!==null&&B(w,ie.startTime-R),le=!1}return le}finally{p=null,h=q,m=!1}}var j=!1,$=null,A=-1,C=5,S=-1;function D(){return!(e.unstable_now()-S<C)}function O(){if($!==null){var I=e.unstable_now();S=I;var R=!0;try{R=$(!0,I)}finally{R?F():(j=!1,$=null)}}else j=!1}var F;if(typeof x=="function")F=function(){x(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,L=N.port2;N.port1.onmessage=O,F=function(){L.postMessage(null)}}else F=function(){b(O,0)};function T(I){$=I,j||(j=!0,F())}function B(I,R){A=b(function(){I(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,T(E))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var q=h;h=R;try{return I()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,R){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var q=h;h=I;try{return R()}finally{h=q}},e.unstable_scheduleCallback=function(I,R,q){var G=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?G+q:G):q=G,I){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,I={id:d++,callback:R,priorityLevel:I,startTime:q,expirationTime:Q,sortIndex:-1},q>G?(I.sortIndex=q,t(u,I),n(l)===null&&I===n(u)&&(g?(y(A),A=-1):g=!0,B(w,q-G))):(I.sortIndex=Q,t(l,I),v||m||(v=!0,T(E))),I},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(I){var R=h;return function(){var q=h;h=R;try{return I.apply(this,arguments)}finally{h=q}}}})(O5);M5.exports=O5;var BT=M5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5=f,mn=BT;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z5=new Set,Ms={};function gi(e,t){da(e,t),da(e+"Capture",t)}function da(e,t){for(Ms[e]=t,e=0;e<t.length;e++)z5.add(t[e])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E0=Object.prototype.hasOwnProperty,VT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P_={},D_={};function HT(e){return E0.call(D_,e)?!0:E0.call(P_,e)?!1:VT.test(e)?D_[e]=!0:(P_[e]=!0,!1)}function UT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GT(e,t,n,r){if(t===null||typeof t>"u"||UT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var fy=/[\-:]([a-z])/g;function py(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fy,py);It[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fy,py);It[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fy,py);It[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function hy(e,t,n,r){var o=It.hasOwnProperty(t)?It[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GT(t,n,o,r)&&(n=null),r||o===null?HT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yr=L5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vl=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),F5=Symbol.for("react.provider"),q5=Symbol.for("react.context"),gy=Symbol.for("react.forward_ref"),$0=Symbol.for("react.suspense"),R0=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),co=Symbol.for("react.lazy"),B5=Symbol.for("react.offscreen"),A_=Symbol.iterator;function Ya(e){return e===null||typeof e!="object"?null:(e=A_&&e[A_]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,Tf;function ps(e){if(Tf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tf=t&&t[1]||""}return`
`+Tf+e}var kf=!1;function Nf(e,t){if(!e||kf)return"";kf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==i[s]){var l=`
`+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{kf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ps(e):""}function WT(e){switch(e.tag){case 5:return ps(e.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 2:case 15:return e=Nf(e.type,!1),e;case 11:return e=Nf(e.type.render,!1),e;case 1:return e=Nf(e.type,!0),e;default:return""}}function T0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case Bi:return"Portal";case j0:return"Profiler";case my:return"StrictMode";case $0:return"Suspense";case R0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q5:return(e.displayName||"Context")+".Consumer";case F5:return(e._context.displayName||"Context")+".Provider";case gy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vy:return t=e.displayName||null,t!==null?t:T0(e.type)||"Memo";case co:t=e._payload,e=e._init;try{return T0(e(t))}catch{}}return null}function KT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T0(t);case 8:return t===my?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ko(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YT(e){var t=V5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hl(e){e._valueTracker||(e._valueTracker=YT(e))}function H5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function k0(e,t){var n=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function I_(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ko(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function U5(e,t){t=t.checked,t!=null&&hy(e,"checked",t,!1)}function N0(e,t){U5(e,t);var n=ko(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?P0(e,t.type,n):t.hasOwnProperty("defaultValue")&&P0(e,t.type,ko(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function M_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function P0(e,t,n){(t!=="number"||Xc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hs=Array.isArray;function ta(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ko(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function D0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function O_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(de(92));if(hs(n)){if(1<n.length)throw Error(de(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ko(n)}}function G5(e,t){var n=ko(t.value),r=ko(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function L_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function W5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?W5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ul,K5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ul.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Os(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XT=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(e){XT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$s[t]=$s[e]})});function Y5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$s.hasOwnProperty(e)&&$s[e]?(""+t).trim():t+"px"}function X5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Y5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ZT=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I0(e,t){if(t){if(ZT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function M0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O0=null;function yy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var L0=null,na=null,ra=null;function z_(e){if(e=xl(e)){if(typeof L0!="function")throw Error(de(280));var t=e.stateNode;t&&(t=Xu(t),L0(e.stateNode,e.type,t))}}function Z5(e){na?ra?ra.push(e):ra=[e]:na=e}function Q5(){if(na){var e=na,t=ra;if(ra=na=null,z_(e),t)for(e=0;e<t.length;e++)z_(t[e])}}function J5(e,t){return e(t)}function e6(){}var Pf=!1;function t6(e,t,n){if(Pf)return e(t,n);Pf=!0;try{return J5(e,t,n)}finally{Pf=!1,(na!==null||ra!==null)&&(e6(),Q5())}}function Ls(e,t){var n=e.stateNode;if(n===null)return null;var r=Xu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(de(231,t,typeof n));return n}var z0=!1;if(zr)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){z0=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{z0=!1}function QT(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Rs=!1,Zc=null,Qc=!1,F0=null,JT={onError:function(e){Rs=!0,Zc=e}};function ek(e,t,n,r,o,i,a,s,l){Rs=!1,Zc=null,QT.apply(JT,arguments)}function tk(e,t,n,r,o,i,a,s,l){if(ek.apply(this,arguments),Rs){if(Rs){var u=Zc;Rs=!1,Zc=null}else throw Error(de(198));Qc||(Qc=!0,F0=u)}}function vi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function n6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function F_(e){if(vi(e)!==e)throw Error(de(188))}function nk(e){var t=e.alternate;if(!t){if(t=vi(e),t===null)throw Error(de(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return F_(o),e;if(i===r)return F_(o),t;i=i.sibling}throw Error(de(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?e:t}function r6(e){return e=nk(e),e!==null?o6(e):null}function o6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o6(e);if(t!==null)return t;e=e.sibling}return null}var i6=mn.unstable_scheduleCallback,q_=mn.unstable_cancelCallback,rk=mn.unstable_shouldYield,ok=mn.unstable_requestPaint,pt=mn.unstable_now,ik=mn.unstable_getCurrentPriorityLevel,xy=mn.unstable_ImmediatePriority,a6=mn.unstable_UserBlockingPriority,Jc=mn.unstable_NormalPriority,ak=mn.unstable_LowPriority,s6=mn.unstable_IdlePriority,Gu=null,dr=null;function sk(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Gu,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:uk,lk=Math.log,ck=Math.LN2;function uk(e){return e>>>=0,e===0?32:31-(lk(e)/ck|0)|0}var Gl=64,Wl=4194304;function ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~o;s!==0?r=ms(s):(i&=a,i!==0&&(r=ms(i)))}else a=n&~o,a!==0?r=ms(a):i!==0&&(r=ms(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Kn(t),o=1<<n,r|=e[n],t&=~o;return r}function dk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Kn(i),s=1<<a,l=o[a];l===-1?(!(s&n)||s&r)&&(o[a]=dk(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function q0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l6(){var e=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),e}function Df(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=n}function pk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Kn(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function _y(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Kn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ye=0;function c6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var u6,wy,d6,f6,p6,B0=!1,Kl=[],_o=null,wo=null,bo=null,zs=new Map,Fs=new Map,ho=[],hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B_(e,t){switch(e){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function Za(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=xl(t),t!==null&&wy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function mk(e,t,n,r,o){switch(t){case"focusin":return _o=Za(_o,e,t,n,r,o),!0;case"dragenter":return wo=Za(wo,e,t,n,r,o),!0;case"mouseover":return bo=Za(bo,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return zs.set(i,Za(zs.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Fs.set(i,Za(Fs.get(i)||null,e,t,n,r,o)),!0}return!1}function h6(e){var t=Yo(e.target);if(t!==null){var n=vi(t);if(n!==null){if(t=n.tag,t===13){if(t=n6(n),t!==null){e.blockedOn=t,p6(e.priority,function(){d6(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=V0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);O0=r,n.target.dispatchEvent(r),O0=null}else return t=xl(n),t!==null&&wy(t),e.blockedOn=n,!1;t.shift()}return!0}function V_(e,t,n){kc(e)&&n.delete(t)}function gk(){B0=!1,_o!==null&&kc(_o)&&(_o=null),wo!==null&&kc(wo)&&(wo=null),bo!==null&&kc(bo)&&(bo=null),zs.forEach(V_),Fs.forEach(V_)}function Qa(e,t){e.blockedOn===t&&(e.blockedOn=null,B0||(B0=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,gk)))}function qs(e){function t(o){return Qa(o,e)}if(0<Kl.length){Qa(Kl[0],e);for(var n=1;n<Kl.length;n++){var r=Kl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_o!==null&&Qa(_o,e),wo!==null&&Qa(wo,e),bo!==null&&Qa(bo,e),zs.forEach(t),Fs.forEach(t),n=0;n<ho.length;n++)r=ho[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ho.length&&(n=ho[0],n.blockedOn===null);)h6(n),n.blockedOn===null&&ho.shift()}var oa=Yr.ReactCurrentBatchConfig,tu=!0;function vk(e,t,n,r){var o=Ye,i=oa.transition;oa.transition=null;try{Ye=1,by(e,t,n,r)}finally{Ye=o,oa.transition=i}}function yk(e,t,n,r){var o=Ye,i=oa.transition;oa.transition=null;try{Ye=4,by(e,t,n,r)}finally{Ye=o,oa.transition=i}}function by(e,t,n,r){if(tu){var o=V0(e,t,n,r);if(o===null)Vf(e,t,r,nu,n),B_(e,r);else if(mk(o,e,t,n,r))r.stopPropagation();else if(B_(e,r),t&4&&-1<hk.indexOf(e)){for(;o!==null;){var i=xl(o);if(i!==null&&u6(i),i=V0(e,t,n,r),i===null&&Vf(e,t,r,nu,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Vf(e,t,r,null,n)}}var nu=null;function V0(e,t,n,r){if(nu=null,e=yy(r),e=Yo(e),e!==null)if(t=vi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=n6(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nu=e,null}function m6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ik()){case xy:return 1;case a6:return 4;case Jc:case ak:return 16;case s6:return 536870912;default:return 16}default:return 16}}var vo=null,Cy=null,Nc=null;function g6(){if(Nc)return Nc;var e,t=Cy,n=t.length,r,o="value"in vo?vo.value:vo.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);return Nc=o.slice(e,1<r?1-r:void 0)}function Pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function H_(){return!1}function yn(e){function t(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yl:H_,this.isPropagationStopped=H_,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sy=yn(Ra),yl=st({},Ra,{view:0,detail:0}),xk=yn(yl),Af,If,Ja,Wu=st({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ey,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ja&&(Ja&&e.type==="mousemove"?(Af=e.screenX-Ja.screenX,If=e.screenY-Ja.screenY):If=Af=0,Ja=e),Af)},movementY:function(e){return"movementY"in e?e.movementY:If}}),U_=yn(Wu),_k=st({},Wu,{dataTransfer:0}),wk=yn(_k),bk=st({},yl,{relatedTarget:0}),Mf=yn(bk),Ck=st({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=yn(Ck),Ek=st({},Ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jk=yn(Ek),$k=st({},Ra,{data:0}),G_=yn($k),Rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kk[e])?!!t[e]:!1}function Ey(){return Nk}var Pk=st({},yl,{key:function(e){if(e.key){var t=Rk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ey,charCode:function(e){return e.type==="keypress"?Pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dk=yn(Pk),Ak=st({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W_=yn(Ak),Ik=st({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ey}),Mk=yn(Ik),Ok=st({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lk=yn(Ok),zk=st({},Wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fk=yn(zk),qk=[9,13,27,32],jy=zr&&"CompositionEvent"in window,Ts=null;zr&&"documentMode"in document&&(Ts=document.documentMode);var Bk=zr&&"TextEvent"in window&&!Ts,v6=zr&&(!jy||Ts&&8<Ts&&11>=Ts),K_=" ",Y_=!1;function y6(e,t){switch(e){case"keyup":return qk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function Vk(e,t){switch(e){case"compositionend":return x6(t);case"keypress":return t.which!==32?null:(Y_=!0,K_);case"textInput":return e=t.data,e===K_&&Y_?null:e;default:return null}}function Hk(e,t){if(Hi)return e==="compositionend"||!jy&&y6(e,t)?(e=g6(),Nc=Cy=vo=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v6&&t.locale!=="ko"?null:t.data;default:return null}}var Uk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uk[e.type]:t==="textarea"}function _6(e,t,n,r){Z5(r),t=ru(t,"onChange"),0<t.length&&(n=new Sy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ks=null,Bs=null;function Gk(e){N6(e,0)}function Ku(e){var t=Wi(e);if(H5(t))return e}function Wk(e,t){if(e==="change")return t}var w6=!1;if(zr){var Of;if(zr){var Lf="oninput"in document;if(!Lf){var Z_=document.createElement("div");Z_.setAttribute("oninput","return;"),Lf=typeof Z_.oninput=="function"}Of=Lf}else Of=!1;w6=Of&&(!document.documentMode||9<document.documentMode)}function Q_(){ks&&(ks.detachEvent("onpropertychange",b6),Bs=ks=null)}function b6(e){if(e.propertyName==="value"&&Ku(Bs)){var t=[];_6(t,Bs,e,yy(e)),t6(Gk,t)}}function Kk(e,t,n){e==="focusin"?(Q_(),ks=t,Bs=n,ks.attachEvent("onpropertychange",b6)):e==="focusout"&&Q_()}function Yk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ku(Bs)}function Xk(e,t){if(e==="click")return Ku(t)}function Zk(e,t){if(e==="input"||e==="change")return Ku(t)}function Qk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jn=typeof Object.is=="function"?Object.is:Qk;function Vs(e,t){if(Jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!E0.call(t,o)||!Jn(e[o],t[o]))return!1}return!0}function J_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ew(e,t){var n=J_(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J_(n)}}function C6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function S6(){for(var e=window,t=Xc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xc(e.document)}return t}function $y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jk(e){var t=S6(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&C6(n.ownerDocument.documentElement,n)){if(r!==null&&$y(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ew(n,i);var a=ew(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eN=zr&&"documentMode"in document&&11>=document.documentMode,Ui=null,H0=null,Ns=null,U0=!1;function tw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;U0||Ui==null||Ui!==Xc(r)||(r=Ui,"selectionStart"in r&&$y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ns&&Vs(Ns,r)||(Ns=r,r=ru(H0,"onSelect"),0<r.length&&(t=new Sy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ui)))}function Xl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gi={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},zf={},E6={};zr&&(E6=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Yu(e){if(zf[e])return zf[e];if(!Gi[e])return e;var t=Gi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in E6)return zf[e]=t[n];return e}var j6=Yu("animationend"),$6=Yu("animationiteration"),R6=Yu("animationstart"),T6=Yu("transitionend"),k6=new Map,nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(e,t){k6.set(e,t),gi(t,[e])}for(var Ff=0;Ff<nw.length;Ff++){var qf=nw[Ff],tN=qf.toLowerCase(),nN=qf[0].toUpperCase()+qf.slice(1);Mo(tN,"on"+nN)}Mo(j6,"onAnimationEnd");Mo($6,"onAnimationIteration");Mo(R6,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo(T6,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rN=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function rw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,tk(r,t,void 0,e),e.currentTarget=null}function N6(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;rw(o,s,u),i=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;rw(o,s,u),i=l}}}if(Qc)throw e=F0,Qc=!1,F0=null,e}function Je(e,t){var n=t[X0];n===void 0&&(n=t[X0]=new Set);var r=e+"__bubble";n.has(r)||(P6(t,e,2,!1),n.add(r))}function Bf(e,t,n){var r=0;t&&(r|=4),P6(n,e,r,t)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Hs(e){if(!e[Zl]){e[Zl]=!0,z5.forEach(function(n){n!=="selectionchange"&&(rN.has(n)||Bf(n,!1,e),Bf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zl]||(t[Zl]=!0,Bf("selectionchange",!1,t))}}function P6(e,t,n,r){switch(m6(t)){case 1:var o=vk;break;case 4:o=yk;break;default:o=by}n=o.bind(null,t,n,e),o=void 0,!z0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vf(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;a=a.return}for(;s!==null;){if(a=Yo(s),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}s=s.parentNode}}r=r.return}t6(function(){var u=i,d=yy(n),p=[];e:{var h=k6.get(e);if(h!==void 0){var m=Sy,v=e;switch(e){case"keypress":if(Pc(n)===0)break e;case"keydown":case"keyup":m=Dk;break;case"focusin":v="focus",m=Mf;break;case"focusout":v="blur",m=Mf;break;case"beforeblur":case"afterblur":m=Mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=U_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Mk;break;case j6:case $6:case R6:m=Sk;break;case T6:m=Lk;break;case"scroll":m=xk;break;case"wheel":m=Fk;break;case"copy":case"cut":case"paste":m=jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=W_}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,_;x!==null;){_=x;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,y!==null&&(w=Ls(x,y),w!=null&&g.push(Us(x,w,_)))),b)break;x=x.return}0<g.length&&(h=new m(h,v,null,n,d),p.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==O0&&(v=n.relatedTarget||n.fromElement)&&(Yo(v)||v[Fr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Yo(v):null,v!==null&&(b=vi(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=U_,w="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=W_,w="onPointerLeave",y="onPointerEnter",x="pointer"),b=m==null?h:Wi(m),_=v==null?h:Wi(v),h=new g(w,x+"leave",m,n,d),h.target=b,h.relatedTarget=_,w=null,Yo(d)===u&&(g=new g(y,x+"enter",v,n,d),g.target=_,g.relatedTarget=b,w=g),b=w,m&&v)t:{for(g=m,y=v,x=0,_=g;_;_=Ti(_))x++;for(_=0,w=y;w;w=Ti(w))_++;for(;0<x-_;)g=Ti(g),x--;for(;0<_-x;)y=Ti(y),_--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ti(g),y=Ti(y)}g=null}else g=null;m!==null&&ow(p,h,m,g,!1),v!==null&&b!==null&&ow(p,b,v,g,!0)}}e:{if(h=u?Wi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=Wk;else if(X_(h))if(w6)E=Zk;else{E=Yk;var j=Kk}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Xk);if(E&&(E=E(e,u))){_6(p,E,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&P0(h,"number",h.value)}switch(j=u?Wi(u):window,e){case"focusin":(X_(j)||j.contentEditable==="true")&&(Ui=j,H0=u,Ns=null);break;case"focusout":Ns=H0=Ui=null;break;case"mousedown":U0=!0;break;case"contextmenu":case"mouseup":case"dragend":U0=!1,tw(p,n,d);break;case"selectionchange":if(eN)break;case"keydown":case"keyup":tw(p,n,d)}var $;if(jy)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Hi?y6(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(v6&&n.locale!=="ko"&&(Hi||A!=="onCompositionStart"?A==="onCompositionEnd"&&Hi&&($=g6()):(vo=d,Cy="value"in vo?vo.value:vo.textContent,Hi=!0)),j=ru(u,A),0<j.length&&(A=new G_(A,e,null,n,d),p.push({event:A,listeners:j}),$?A.data=$:($=x6(n),$!==null&&(A.data=$)))),($=Bk?Vk(e,n):Hk(e,n))&&(u=ru(u,"onBeforeInput"),0<u.length&&(d=new G_("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=$))}N6(p,t)})}function Us(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ru(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ls(e,n),i!=null&&r.unshift(Us(e,i,o)),i=Ls(e,t),i!=null&&r.push(Us(e,i,o))),e=e.return}return r}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ow(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,o?(l=Ls(n,i),l!=null&&a.unshift(Us(n,l,s))):o||(l=Ls(n,i),l!=null&&a.push(Us(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var oN=/\r\n?/g,iN=/\u0000|\uFFFD/g;function iw(e){return(typeof e=="string"?e:""+e).replace(oN,`
`).replace(iN,"")}function Ql(e,t,n){if(t=iw(t),iw(e)!==t&&n)throw Error(de(425))}function ou(){}var G0=null,W0=null;function K0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Y0=typeof setTimeout=="function"?setTimeout:void 0,aN=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(e){return aw.resolve(null).then(e).catch(lN)}:Y0;function lN(e){setTimeout(function(){throw e})}function Hf(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),qs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);qs(t)}function Co(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ta=Math.random().toString(36).slice(2),ar="__reactFiber$"+Ta,Gs="__reactProps$"+Ta,Fr="__reactContainer$"+Ta,X0="__reactEvents$"+Ta,cN="__reactListeners$"+Ta,uN="__reactHandles$"+Ta;function Yo(e){var t=e[ar];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fr]||n[ar]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sw(e);e!==null;){if(n=e[ar])return n;e=sw(e)}return t}e=n,n=e.parentNode}return null}function xl(e){return e=e[ar]||e[Fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function Xu(e){return e[Gs]||null}var Z0=[],Ki=-1;function Oo(e){return{current:e}}function et(e){0>Ki||(e.current=Z0[Ki],Z0[Ki]=null,Ki--)}function Ze(e,t){Ki++,Z0[Ki]=e.current,e.current=t}var No={},Bt=Oo(No),on=Oo(!1),li=No;function fa(e,t){var n=e.type.contextTypes;if(!n)return No;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function an(e){return e=e.childContextTypes,e!=null}function iu(){et(on),et(Bt)}function lw(e,t,n){if(Bt.current!==No)throw Error(de(168));Ze(Bt,t),Ze(on,n)}function D6(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(de(108,KT(e)||"Unknown",o));return st({},n,r)}function au(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,li=Bt.current,Ze(Bt,e),Ze(on,on.current),!0}function cw(e,t,n){var r=e.stateNode;if(!r)throw Error(de(169));n?(e=D6(e,t,li),r.__reactInternalMemoizedMergedChildContext=e,et(on),et(Bt),Ze(Bt,e)):et(on),Ze(on,n)}var Tr=null,Zu=!1,Uf=!1;function A6(e){Tr===null?Tr=[e]:Tr.push(e)}function dN(e){Zu=!0,A6(e)}function Lo(){if(!Uf&&Tr!==null){Uf=!0;var e=0,t=Ye;try{var n=Tr;for(Ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tr=null,Zu=!1}catch(o){throw Tr!==null&&(Tr=Tr.slice(e+1)),i6(xy,Lo),o}finally{Ye=t,Uf=!1}}return null}var Yi=[],Xi=0,su=null,lu=0,Sn=[],En=0,ci=null,Nr=1,Pr="";function Uo(e,t){Yi[Xi++]=lu,Yi[Xi++]=su,su=e,lu=t}function I6(e,t,n){Sn[En++]=Nr,Sn[En++]=Pr,Sn[En++]=ci,ci=e;var r=Nr;e=Pr;var o=32-Kn(r)-1;r&=~(1<<o),n+=1;var i=32-Kn(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Nr=1<<32-Kn(t)+o|n<<o|r,Pr=i+e}else Nr=1<<i|n<<o|r,Pr=e}function Ry(e){e.return!==null&&(Uo(e,1),I6(e,1,0))}function Ty(e){for(;e===su;)su=Yi[--Xi],Yi[Xi]=null,lu=Yi[--Xi],Yi[Xi]=null;for(;e===ci;)ci=Sn[--En],Sn[En]=null,Pr=Sn[--En],Sn[En]=null,Nr=Sn[--En],Sn[En]=null}var pn=null,fn=null,nt=!1,Gn=null;function M6(e,t){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pn=e,fn=Co(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pn=e,fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ci!==null?{id:Nr,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pn=e,fn=null,!0):!1;default:return!1}}function Q0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J0(e){if(nt){var t=fn;if(t){var n=t;if(!uw(e,t)){if(Q0(e))throw Error(de(418));t=Co(n.nextSibling);var r=pn;t&&uw(e,t)?M6(r,n):(e.flags=e.flags&-4097|2,nt=!1,pn=e)}}else{if(Q0(e))throw Error(de(418));e.flags=e.flags&-4097|2,nt=!1,pn=e}}}function dw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function Jl(e){if(e!==pn)return!1;if(!nt)return dw(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!K0(e.type,e.memoizedProps)),t&&(t=fn)){if(Q0(e))throw O6(),Error(de(418));for(;t;)M6(e,t),t=Co(t.nextSibling)}if(dw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fn=Co(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fn=null}}else fn=pn?Co(e.stateNode.nextSibling):null;return!0}function O6(){for(var e=fn;e;)e=Co(e.nextSibling)}function pa(){fn=pn=null,nt=!1}function ky(e){Gn===null?Gn=[e]:Gn.push(e)}var fN=Yr.ReactCurrentBatchConfig;function Vn(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var cu=Oo(null),uu=null,Zi=null,Ny=null;function Py(){Ny=Zi=uu=null}function Dy(e){var t=cu.current;et(cu),e._currentValue=t}function ev(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ia(e,t){uu=e,Ny=Zi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function In(e){var t=e._currentValue;if(Ny!==e)if(e={context:e,memoizedValue:t,next:null},Zi===null){if(uu===null)throw Error(de(308));Zi=e,uu.dependencies={lanes:0,firstContext:e}}else Zi=Zi.next=e;return t}var Xo=null;function Ay(e){Xo===null?Xo=[e]:Xo.push(e)}function L6(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ay(t)):(n.next=o.next,o.next=n),t.interleaved=n,qr(e,r)}function qr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var uo=!1;function Iy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function So(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,qr(e,n)}return o=r.interleaved,o===null?(t.next=t,Ay(r)):(t.next=o.next,o.next=t),r.interleaved=t,qr(e,n)}function Dc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_y(e,n)}}function fw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function du(e,t,n,r){var o=e.updateQueue;uo=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=o.baseState;a=0,d=u=l=null,s=i;do{var h=s.lane,m=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,g=s;switch(h=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){p=v.call(m,p,h);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,p,h):v,h==null)break e;p=st({},p,h);break e;case 2:uo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,l=p):d=d.next=m,a|=h;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;h=s,s=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=p),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);di|=a,e.lanes=a,e.memoizedState=p}}function pw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(de(191,o));o.call(r)}}}var F6=new L5.Component().refs;function tv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:st({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qu={isMounted:function(e){return(e=e._reactInternals)?vi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wt(),o=jo(e),i=Mr(r,o);i.payload=t,n!=null&&(i.callback=n),t=So(e,i,o),t!==null&&(Yn(t,e,o,r),Dc(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wt(),o=jo(e),i=Mr(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=So(e,i,o),t!==null&&(Yn(t,e,o,r),Dc(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wt(),r=jo(e),o=Mr(n,r);o.tag=2,t!=null&&(o.callback=t),t=So(e,o,r),t!==null&&(Yn(t,e,r,n),Dc(t,e,r))}};function hw(e,t,n,r,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Vs(n,r)||!Vs(o,i):!0}function q6(e,t,n){var r=!1,o=No,i=t.contextType;return typeof i=="object"&&i!==null?i=In(i):(o=an(t)?li:Bt.current,r=t.contextTypes,i=(r=r!=null)?fa(e,o):No),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function mw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qu.enqueueReplaceState(t,t.state,null)}function nv(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=F6,Iy(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=In(i):(i=an(t)?li:Bt.current,o.context=fa(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tv(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Qu.enqueueReplaceState(o,o.state,null),du(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var s=o.refs;s===F6&&(s=o.refs={}),a===null?delete s[i]:s[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,e))}return e}function ec(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gw(e){var t=e._init;return t(e._payload)}function B6(e){function t(y,x){if(e){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function o(y,x){return y=$o(y,x),y.index=0,y.sibling=null,y}function i(y,x,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,x,_,w){return x===null||x.tag!==6?(x=Qf(_,y.mode,w),x.return=y,x):(x=o(x,_),x.return=y,x)}function l(y,x,_,w){var E=_.type;return E===Vi?d(y,x,_.props.children,w,_.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===co&&gw(E)===x.type)?(w=o(x,_.props),w.ref=es(y,x,_),w.return=y,w):(w=zc(_.type,_.key,_.props,null,y.mode,w),w.ref=es(y,x,_),w.return=y,w)}function u(y,x,_,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Jf(_,y.mode,w),x.return=y,x):(x=o(x,_.children||[]),x.return=y,x)}function d(y,x,_,w,E){return x===null||x.tag!==7?(x=oi(_,y.mode,w,E),x.return=y,x):(x=o(x,_),x.return=y,x)}function p(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Qf(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vl:return _=zc(x.type,x.key,x.props,null,y.mode,_),_.ref=es(y,null,x),_.return=y,_;case Bi:return x=Jf(x,y.mode,_),x.return=y,x;case co:var w=x._init;return p(y,w(x._payload),_)}if(hs(x)||Ya(x))return x=oi(x,y.mode,_,null),x.return=y,x;ec(y,x)}return null}function h(y,x,_,w){var E=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:s(y,x,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vl:return _.key===E?l(y,x,_,w):null;case Bi:return _.key===E?u(y,x,_,w):null;case co:return E=_._init,h(y,x,E(_._payload),w)}if(hs(_)||Ya(_))return E!==null?null:d(y,x,_,w,null);ec(y,_)}return null}function m(y,x,_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(_)||null,s(x,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vl:return y=y.get(w.key===null?_:w.key)||null,l(x,y,w,E);case Bi:return y=y.get(w.key===null?_:w.key)||null,u(x,y,w,E);case co:var j=w._init;return m(y,x,_,j(w._payload),E)}if(hs(w)||Ya(w))return y=y.get(_)||null,d(x,y,w,E,null);ec(x,w)}return null}function v(y,x,_,w){for(var E=null,j=null,$=x,A=x=0,C=null;$!==null&&A<_.length;A++){$.index>A?(C=$,$=null):C=$.sibling;var S=h(y,$,_[A],w);if(S===null){$===null&&($=C);break}e&&$&&S.alternate===null&&t(y,$),x=i(S,x,A),j===null?E=S:j.sibling=S,j=S,$=C}if(A===_.length)return n(y,$),nt&&Uo(y,A),E;if($===null){for(;A<_.length;A++)$=p(y,_[A],w),$!==null&&(x=i($,x,A),j===null?E=$:j.sibling=$,j=$);return nt&&Uo(y,A),E}for($=r(y,$);A<_.length;A++)C=m($,y,A,_[A],w),C!==null&&(e&&C.alternate!==null&&$.delete(C.key===null?A:C.key),x=i(C,x,A),j===null?E=C:j.sibling=C,j=C);return e&&$.forEach(function(D){return t(y,D)}),nt&&Uo(y,A),E}function g(y,x,_,w){var E=Ya(_);if(typeof E!="function")throw Error(de(150));if(_=E.call(_),_==null)throw Error(de(151));for(var j=E=null,$=x,A=x=0,C=null,S=_.next();$!==null&&!S.done;A++,S=_.next()){$.index>A?(C=$,$=null):C=$.sibling;var D=h(y,$,S.value,w);if(D===null){$===null&&($=C);break}e&&$&&D.alternate===null&&t(y,$),x=i(D,x,A),j===null?E=D:j.sibling=D,j=D,$=C}if(S.done)return n(y,$),nt&&Uo(y,A),E;if($===null){for(;!S.done;A++,S=_.next())S=p(y,S.value,w),S!==null&&(x=i(S,x,A),j===null?E=S:j.sibling=S,j=S);return nt&&Uo(y,A),E}for($=r(y,$);!S.done;A++,S=_.next())S=m($,y,A,S.value,w),S!==null&&(e&&S.alternate!==null&&$.delete(S.key===null?A:S.key),x=i(S,x,A),j===null?E=S:j.sibling=S,j=S);return e&&$.forEach(function(O){return t(y,O)}),nt&&Uo(y,A),E}function b(y,x,_,w){if(typeof _=="object"&&_!==null&&_.type===Vi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Vl:e:{for(var E=_.key,j=x;j!==null;){if(j.key===E){if(E=_.type,E===Vi){if(j.tag===7){n(y,j.sibling),x=o(j,_.props.children),x.return=y,y=x;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===co&&gw(E)===j.type){n(y,j.sibling),x=o(j,_.props),x.ref=es(y,j,_),x.return=y,y=x;break e}n(y,j);break}else t(y,j);j=j.sibling}_.type===Vi?(x=oi(_.props.children,y.mode,w,_.key),x.return=y,y=x):(w=zc(_.type,_.key,_.props,null,y.mode,w),w.ref=es(y,x,_),w.return=y,y=w)}return a(y);case Bi:e:{for(j=_.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(y,x.sibling),x=o(x,_.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=Jf(_,y.mode,w),x.return=y,y=x}return a(y);case co:return j=_._init,b(y,x,j(_._payload),w)}if(hs(_))return v(y,x,_,w);if(Ya(_))return g(y,x,_,w);ec(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(y,x.sibling),x=o(x,_),x.return=y,y=x):(n(y,x),x=Qf(_,y.mode,w),x.return=y,y=x),a(y)):n(y,x)}return b}var ha=B6(!0),V6=B6(!1),_l={},fr=Oo(_l),Ws=Oo(_l),Ks=Oo(_l);function Zo(e){if(e===_l)throw Error(de(174));return e}function My(e,t){switch(Ze(Ks,t),Ze(Ws,e),Ze(fr,_l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:A0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=A0(t,e)}et(fr),Ze(fr,t)}function ma(){et(fr),et(Ws),et(Ks)}function H6(e){Zo(Ks.current);var t=Zo(fr.current),n=A0(t,e.type);t!==n&&(Ze(Ws,e),Ze(fr,n))}function Oy(e){Ws.current===e&&(et(fr),et(Ws))}var it=Oo(0);function fu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gf=[];function Ly(){for(var e=0;e<Gf.length;e++)Gf[e]._workInProgressVersionPrimary=null;Gf.length=0}var Ac=Yr.ReactCurrentDispatcher,Wf=Yr.ReactCurrentBatchConfig,ui=0,at=null,Ct=null,Tt=null,pu=!1,Ps=!1,Ys=0,pN=0;function Lt(){throw Error(de(321))}function zy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Fy(e,t,n,r,o,i){if(ui=i,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ac.current=e===null||e.memoizedState===null?vN:yN,e=n(r,o),Ps){i=0;do{if(Ps=!1,Ys=0,25<=i)throw Error(de(301));i+=1,Tt=Ct=null,t.updateQueue=null,Ac.current=xN,e=n(r,o)}while(Ps)}if(Ac.current=hu,t=Ct!==null&&Ct.next!==null,ui=0,Tt=Ct=at=null,pu=!1,t)throw Error(de(300));return e}function qy(){var e=Ys!==0;return Ys=0,e}function ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?at.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function Mn(){if(Ct===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=Tt===null?at.memoizedState:Tt.next;if(t!==null)Tt=t,Ct=e;else{if(e===null)throw Error(de(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Tt===null?at.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function Xs(e,t){return typeof t=="function"?t(e):t}function Kf(e){var t=Mn(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var r=Ct,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=a=null,l=null,u=i;do{var d=u.lane;if((ui&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=p,a=r):l=l.next=p,at.lanes|=d,di|=d}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=s,Jn(r,t.memoizedState)||(nn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,at.lanes|=i,di|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yf(e){var t=Mn(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Jn(i,t.memoizedState)||(nn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function U6(){}function G6(e,t){var n=at,r=Mn(),o=t(),i=!Jn(r.memoizedState,o);if(i&&(r.memoizedState=o,nn=!0),r=r.queue,By(Y6.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Zs(9,K6.bind(null,n,r,o,t),void 0,null),kt===null)throw Error(de(349));ui&30||W6(n,t,o)}return o}function W6(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function K6(e,t,n,r){t.value=n,t.getSnapshot=r,X6(t)&&Z6(e)}function Y6(e,t,n){return n(function(){X6(t)&&Z6(e)})}function X6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch{return!0}}function Z6(e){var t=qr(e,1);t!==null&&Yn(t,e,1,-1)}function vw(e){var t=ir();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:e},t.queue=e,e=e.dispatch=gN.bind(null,at,e),[t.memoizedState,e]}function Zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Q6(){return Mn().memoizedState}function Ic(e,t,n,r){var o=ir();at.flags|=e,o.memoizedState=Zs(1|t,n,void 0,r===void 0?null:r)}function Ju(e,t,n,r){var o=Mn();r=r===void 0?null:r;var i=void 0;if(Ct!==null){var a=Ct.memoizedState;if(i=a.destroy,r!==null&&zy(r,a.deps)){o.memoizedState=Zs(t,n,i,r);return}}at.flags|=e,o.memoizedState=Zs(1|t,n,i,r)}function yw(e,t){return Ic(8390656,8,e,t)}function By(e,t){return Ju(2048,8,e,t)}function J6(e,t){return Ju(4,2,e,t)}function e8(e,t){return Ju(4,4,e,t)}function t8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function n8(e,t,n){return n=n!=null?n.concat([e]):null,Ju(4,4,t8.bind(null,t,e),n)}function Vy(){}function r8(e,t){var n=Mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function o8(e,t){var n=Mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function i8(e,t,n){return ui&21?(Jn(n,t)||(n=l6(),at.lanes|=n,di|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=n)}function hN(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var r=Wf.transition;Wf.transition={};try{e(!1),t()}finally{Ye=n,Wf.transition=r}}function a8(){return Mn().memoizedState}function mN(e,t,n){var r=jo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s8(e))l8(t,n);else if(n=L6(e,t,n,r),n!==null){var o=Wt();Yn(n,e,r,o),c8(n,t,r)}}function gN(e,t,n){var r=jo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s8(e))l8(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Jn(s,a)){var l=t.interleaved;l===null?(o.next=o,Ay(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=L6(e,t,o,r),n!==null&&(o=Wt(),Yn(n,e,r,o),c8(n,t,r))}}function s8(e){var t=e.alternate;return e===at||t!==null&&t===at}function l8(e,t){Ps=pu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function c8(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_y(e,n)}}var hu={readContext:In,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},vN={readContext:In,useCallback:function(e,t){return ir().memoizedState=[e,t===void 0?null:t],e},useContext:In,useEffect:yw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ic(4194308,4,t8.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ic(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ic(4,2,e,t)},useMemo:function(e,t){var n=ir();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ir();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mN.bind(null,at,e),[r.memoizedState,e]},useRef:function(e){var t=ir();return e={current:e},t.memoizedState=e},useState:vw,useDebugValue:Vy,useDeferredValue:function(e){return ir().memoizedState=e},useTransition:function(){var e=vw(!1),t=e[0];return e=hN.bind(null,e[1]),ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=at,o=ir();if(nt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=t(),kt===null)throw Error(de(349));ui&30||W6(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,yw(Y6.bind(null,r,i,e),[e]),r.flags|=2048,Zs(9,K6.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ir(),t=kt.identifierPrefix;if(nt){var n=Pr,r=Nr;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ys++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yN={readContext:In,useCallback:r8,useContext:In,useEffect:By,useImperativeHandle:n8,useInsertionEffect:J6,useLayoutEffect:e8,useMemo:o8,useReducer:Kf,useRef:Q6,useState:function(){return Kf(Xs)},useDebugValue:Vy,useDeferredValue:function(e){var t=Mn();return i8(t,Ct.memoizedState,e)},useTransition:function(){var e=Kf(Xs)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:U6,useSyncExternalStore:G6,useId:a8,unstable_isNewReconciler:!1},xN={readContext:In,useCallback:r8,useContext:In,useEffect:By,useImperativeHandle:n8,useInsertionEffect:J6,useLayoutEffect:e8,useMemo:o8,useReducer:Yf,useRef:Q6,useState:function(){return Yf(Xs)},useDebugValue:Vy,useDeferredValue:function(e){var t=Mn();return Ct===null?t.memoizedState=e:i8(t,Ct.memoizedState,e)},useTransition:function(){var e=Yf(Xs)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:U6,useSyncExternalStore:G6,useId:a8,unstable_isNewReconciler:!1};function ga(e,t){try{var n="",r=t;do n+=WT(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Xf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _N=typeof WeakMap=="function"?WeakMap:Map;function u8(e,t,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gu||(gu=!0,pv=r),rv(e,t)},n}function d8(e,t,n){n=Mr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){rv(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rv(e,t),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function xw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _N;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=AN.bind(null,e,t,n),t.then(e,e))}function _w(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ww(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mr(-1,1),t.tag=2,So(n,t,1))),n.lanes|=1),e)}var wN=Yr.ReactCurrentOwner,nn=!1;function Vt(e,t,n,r){t.child=e===null?V6(t,null,n,r):ha(t,e.child,n,r)}function bw(e,t,n,r,o){n=n.render;var i=t.ref;return ia(t,o),r=Fy(e,t,n,r,i,o),n=qy(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Br(e,t,o)):(nt&&n&&Ry(t),t.flags|=1,Vt(e,t,r,o),t.child)}function Cw(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Zy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,f8(e,t,i,r,o)):(e=zc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vs,n(a,r)&&e.ref===t.ref)return Br(e,t,o)}return t.flags|=1,e=$o(i,r),e.ref=t.ref,e.return=t,t.child=e}function f8(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Vs(i,r)&&e.ref===t.ref)if(nn=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,Br(e,t,o)}return ov(e,t,n,r,o)}function p8(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ji,cn),cn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(Ji,cn),cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(Ji,cn),cn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ze(Ji,cn),cn|=r;return Vt(e,t,o,n),t.child}function h8(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ov(e,t,n,r,o){var i=an(n)?li:Bt.current;return i=fa(t,i),ia(t,o),n=Fy(e,t,n,r,i,o),r=qy(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Br(e,t,o)):(nt&&r&&Ry(t),t.flags|=1,Vt(e,t,n,o),t.child)}function Sw(e,t,n,r,o){if(an(n)){var i=!0;au(t)}else i=!1;if(ia(t,o),t.stateNode===null)Mc(e,t),q6(t,n,r),nv(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=an(n)?li:Bt.current,u=fa(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&mw(t,a,r,u),uo=!1;var h=t.memoizedState;a.state=h,du(t,r,a,o),l=t.memoizedState,s!==r||h!==l||on.current||uo?(typeof d=="function"&&(tv(t,n,d,r),l=t.memoizedState),(s=uo||hw(t,n,s,r,h,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,z6(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Vn(t.type,s),a.props=u,p=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=an(n)?li:Bt.current,l=fa(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==p||h!==l)&&mw(t,a,r,l),uo=!1,h=t.memoizedState,a.state=h,du(t,r,a,o);var v=t.memoizedState;s!==p||h!==v||on.current||uo?(typeof m=="function"&&(tv(t,n,m,r),v=t.memoizedState),(u=uo||hw(t,n,u,r,h,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return iv(e,t,n,r,i,o)}function iv(e,t,n,r,o,i){h8(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&cw(t,n,!1),Br(e,t,i);r=t.stateNode,wN.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ha(t,e.child,null,i),t.child=ha(t,null,s,i)):Vt(e,t,s,i),t.memoizedState=r.state,o&&cw(t,n,!0),t.child}function m8(e){var t=e.stateNode;t.pendingContext?lw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lw(e,t.context,!1),My(e,t.containerInfo)}function Ew(e,t,n,r,o){return pa(),ky(o),t.flags|=256,Vt(e,t,n,r),t.child}var av={dehydrated:null,treeContext:null,retryLane:0};function sv(e){return{baseLanes:e,cachePool:null,transitions:null}}function g8(e,t,n){var r=t.pendingProps,o=it.current,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ze(it,o&1),e===null)return J0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=nd(a,r,0,null),e=oi(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=sv(n),t.memoizedState=av,e):Hy(t,a));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return bN(e,t,a,r,s,o,n);if(i){i=r.fallback,a=t.mode,o=e.child,s=o.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=$o(o,l),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=$o(s,i):(i=oi(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?sv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=av,r}return i=e.child,e=i.sibling,r=$o(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hy(e,t){return t=nd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tc(e,t,n,r){return r!==null&&ky(r),ha(t,e.child,null,n),e=Hy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bN(e,t,n,r,o,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Xf(Error(de(422))),tc(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=nd({mode:"visible",children:r.children},o,0,null),i=oi(i,o,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ha(t,e.child,null,a),t.child.memoizedState=sv(a),t.memoizedState=av,i);if(!(t.mode&1))return tc(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(de(419)),r=Xf(i,r,void 0),tc(e,t,a,r)}if(s=(a&e.childLanes)!==0,nn||s){if(r=kt,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,qr(e,o),Yn(r,e,o,-1))}return Xy(),r=Xf(Error(de(421))),tc(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=IN.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,fn=Co(o.nextSibling),pn=t,nt=!0,Gn=null,e!==null&&(Sn[En++]=Nr,Sn[En++]=Pr,Sn[En++]=ci,Nr=e.id,Pr=e.overflow,ci=t),t=Hy(t,r.children),t.flags|=4096,t)}function jw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ev(e.return,t,n)}function Zf(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function v8(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Vt(e,t,r.children,n),r=it.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jw(e,n,t);else if(e.tag===19)jw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ze(it,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&fu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Zf(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&fu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Zf(t,!0,n,null,i);break;case"together":Zf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Br(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),di|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,n=$o(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$o(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function CN(e,t,n){switch(t.tag){case 3:m8(t),pa();break;case 5:H6(t);break;case 1:an(t.type)&&au(t);break;case 4:My(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ze(cu,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ze(it,it.current&1),t.flags|=128,null):n&t.child.childLanes?g8(e,t,n):(Ze(it,it.current&1),e=Br(e,t,n),e!==null?e.sibling:null);Ze(it,it.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return v8(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ze(it,it.current),r)break;return null;case 22:case 23:return t.lanes=0,p8(e,t,n)}return Br(e,t,n)}var y8,lv,x8,_8;y8=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lv=function(){};x8=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Zo(fr.current);var i=null;switch(n){case"input":o=k0(e,o),r=k0(e,r),i=[];break;case"select":o=st({},o,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":o=D0(e,o),r=D0(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ou)}I0(n,r);var a;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ms.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ms.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Je("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};_8=function(e,t,n,r){n!==r&&(t.flags|=4)};function ts(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SN(e,t,n){var r=t.pendingProps;switch(Ty(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return an(t.type)&&iu(),zt(t),null;case 3:return r=t.stateNode,ma(),et(on),et(Bt),Ly(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gn!==null&&(gv(Gn),Gn=null))),lv(e,t),zt(t),null;case 5:Oy(t);var o=Zo(Ks.current);if(n=t.type,e!==null&&t.stateNode!=null)x8(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(de(166));return zt(t),null}if(e=Zo(fr.current),Jl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ar]=t,r[Gs]=i,e=(t.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(o=0;o<gs.length;o++)Je(gs[o],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":I_(r,i),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Je("invalid",r);break;case"textarea":O_(r,i),Je("invalid",r)}I0(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Ql(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Ql(r.textContent,s,e),o=["children",""+s]):Ms.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Je("scroll",r)}switch(n){case"input":Hl(r),M_(r,i,!0);break;case"textarea":Hl(r),L_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ou)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=W5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ar]=t,e[Gs]=r,y8(e,t,!1,!1),t.stateNode=e;e:{switch(a=M0(n,r),n){case"dialog":Je("cancel",e),Je("close",e),o=r;break;case"iframe":case"object":case"embed":Je("load",e),o=r;break;case"video":case"audio":for(o=0;o<gs.length;o++)Je(gs[o],e);o=r;break;case"source":Je("error",e),o=r;break;case"img":case"image":case"link":Je("error",e),Je("load",e),o=r;break;case"details":Je("toggle",e),o=r;break;case"input":I_(e,r),o=k0(e,r),Je("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=st({},r,{value:void 0}),Je("invalid",e);break;case"textarea":O_(e,r),o=D0(e,r),Je("invalid",e);break;default:o=r}I0(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?X5(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K5(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Os(e,l):typeof l=="number"&&Os(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ms.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Je("scroll",e):l!=null&&hy(e,i,l,a))}switch(n){case"input":Hl(e),M_(e,r,!1);break;case"textarea":Hl(e),L_(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ko(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ta(e,!!r.multiple,i,!1):r.defaultValue!=null&&ta(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zt(t),null;case 6:if(e&&t.stateNode!=null)_8(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(de(166));if(n=Zo(Ks.current),Zo(fr.current),Jl(t)){if(r=t.stateNode,n=t.memoizedProps,r[ar]=t,(i=r.nodeValue!==n)&&(e=pn,e!==null))switch(e.tag){case 3:Ql(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ql(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=t,t.stateNode=r}return zt(t),null;case 13:if(et(it),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&fn!==null&&t.mode&1&&!(t.flags&128))O6(),pa(),t.flags|=98560,i=!1;else if(i=Jl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(de(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[ar]=t}else pa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zt(t),i=!1}else Gn!==null&&(gv(Gn),Gn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?St===0&&(St=3):Xy())),t.updateQueue!==null&&(t.flags|=4),zt(t),null);case 4:return ma(),lv(e,t),e===null&&Hs(t.stateNode.containerInfo),zt(t),null;case 10:return Dy(t.type._context),zt(t),null;case 17:return an(t.type)&&iu(),zt(t),null;case 19:if(et(it),i=t.memoizedState,i===null)return zt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)ts(i,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=fu(e),a!==null){for(t.flags|=128,ts(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ze(it,it.current&1|2),t.child}e=e.sibling}i.tail!==null&&pt()>va&&(t.flags|=128,r=!0,ts(i,!1),t.lanes=4194304)}else{if(!r)if(e=fu(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!nt)return zt(t),null}else 2*pt()-i.renderingStartTime>va&&n!==1073741824&&(t.flags|=128,r=!0,ts(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pt(),t.sibling=null,n=it.current,Ze(it,r?n&1|2:n&1),t):(zt(t),null);case 22:case 23:return Yy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?cn&1073741824&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function EN(e,t){switch(Ty(t),t.tag){case 1:return an(t.type)&&iu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(),et(on),et(Bt),Ly(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Oy(t),null;case 13:if(et(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(it),null;case 4:return ma(),null;case 10:return Dy(t.type._context),null;case 22:case 23:return Yy(),null;case 24:return null;default:return null}}var nc=!1,Ft=!1,jN=typeof WeakSet=="function"?WeakSet:Set,be=null;function Qi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(e,t,r)}else n.current=null}function cv(e,t,n){try{n()}catch(r){ct(e,t,r)}}var $w=!1;function $N(e,t){if(G0=tu,e=S6(),$y(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==n||o!==0&&p.nodeType!==3||(s=a+o),p!==i||r!==0&&p.nodeType!==3||(l=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++u===o&&(s=a),h===i&&++d===r&&(l=a),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(W0={focusedElem:e,selectionRange:n},tu=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Vn(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(w){ct(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return v=$w,$w=!1,v}function Ds(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&cv(t,n,i)}o=o.next}while(o!==r)}}function ed(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function w8(e){var t=e.alternate;t!==null&&(e.alternate=null,w8(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ar],delete t[Gs],delete t[X0],delete t[cN],delete t[uN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b8(e){return e.tag===5||e.tag===3||e.tag===4}function Rw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b8(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ou));else if(r!==4&&(e=e.child,e!==null))for(dv(e,t,n),e=e.sibling;e!==null;)dv(e,t,n),e=e.sibling}function fv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fv(e,t,n),e=e.sibling;e!==null;)fv(e,t,n),e=e.sibling}var Pt=null,Hn=!1;function oo(e,t,n){for(n=n.child;n!==null;)C8(e,t,n),n=n.sibling}function C8(e,t,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Gu,n)}catch{}switch(n.tag){case 5:Ft||Qi(n,t);case 6:var r=Pt,o=Hn;Pt=null,oo(e,t,n),Pt=r,Hn=o,Pt!==null&&(Hn?(e=Pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Hn?(e=Pt,n=n.stateNode,e.nodeType===8?Hf(e.parentNode,n):e.nodeType===1&&Hf(e,n),qs(e)):Hf(Pt,n.stateNode));break;case 4:r=Pt,o=Hn,Pt=n.stateNode.containerInfo,Hn=!0,oo(e,t,n),Pt=r,Hn=o;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&cv(n,t,a),o=o.next}while(o!==r)}oo(e,t,n);break;case 1:if(!Ft&&(Qi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ct(n,t,s)}oo(e,t,n);break;case 21:oo(e,t,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,oo(e,t,n),Ft=r):oo(e,t,n);break;default:oo(e,t,n)}}function Tw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jN),t.forEach(function(r){var o=MN.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Pt=s.stateNode,Hn=!1;break e;case 3:Pt=s.stateNode.containerInfo,Hn=!0;break e;case 4:Pt=s.stateNode.containerInfo,Hn=!0;break e}s=s.return}if(Pt===null)throw Error(de(160));C8(i,a,o),Pt=null,Hn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){ct(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S8(t,e),t=t.sibling}function S8(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bn(t,e),or(e),r&4){try{Ds(3,e,e.return),ed(3,e)}catch(g){ct(e,e.return,g)}try{Ds(5,e,e.return)}catch(g){ct(e,e.return,g)}}break;case 1:Bn(t,e),or(e),r&512&&n!==null&&Qi(n,n.return);break;case 5:if(Bn(t,e),or(e),r&512&&n!==null&&Qi(n,n.return),e.flags&32){var o=e.stateNode;try{Os(o,"")}catch(g){ct(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&U5(o,i),M0(s,a);var u=M0(s,i);for(a=0;a<l.length;a+=2){var d=l[a],p=l[a+1];d==="style"?X5(o,p):d==="dangerouslySetInnerHTML"?K5(o,p):d==="children"?Os(o,p):hy(o,d,p,u)}switch(s){case"input":N0(o,i);break;case"textarea":G5(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ta(o,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?ta(o,!!i.multiple,i.defaultValue,!0):ta(o,!!i.multiple,i.multiple?[]:"",!1))}o[Gs]=i}catch(g){ct(e,e.return,g)}}break;case 6:if(Bn(t,e),or(e),r&4){if(e.stateNode===null)throw Error(de(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){ct(e,e.return,g)}}break;case 3:if(Bn(t,e),or(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(g){ct(e,e.return,g)}break;case 4:Bn(t,e),or(e);break;case 13:Bn(t,e),or(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Wy=pt())),r&4&&Tw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ft=(u=Ft)||d,Bn(t,e),Ft=u):Bn(t,e),or(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(be=e,d=e.child;d!==null;){for(p=be=d;be!==null;){switch(h=be,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ds(4,h,h.return);break;case 1:Qi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){ct(r,n,g)}}break;case 5:Qi(h,h.return);break;case 22:if(h.memoizedState!==null){Nw(p);continue}}m!==null?(m.return=h,be=m):Nw(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{o=p.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Y5("display",a))}catch(g){ct(e,e.return,g)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){ct(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Bn(t,e),or(e),r&4&&Tw(e);break;case 21:break;default:Bn(t,e),or(e)}}function or(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(b8(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Os(o,""),r.flags&=-33);var i=Rw(e);fv(e,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Rw(e);dv(e,s,a);break;default:throw Error(de(161))}}catch(l){ct(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RN(e,t,n){be=e,E8(e)}function E8(e,t,n){for(var r=(e.mode&1)!==0;be!==null;){var o=be,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||nc;if(!a){var s=o.alternate,l=s!==null&&s.memoizedState!==null||Ft;s=nc;var u=Ft;if(nc=a,(Ft=l)&&!u)for(be=o;be!==null;)a=be,l=a.child,a.tag===22&&a.memoizedState!==null?Pw(o):l!==null?(l.return=a,be=l):Pw(o);for(;i!==null;)be=i,E8(i),i=i.sibling;be=o,nc=s,Ft=u}kw(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,be=i):kw(e)}}function kw(e){for(;be!==null;){var t=be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ft||ed(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Vn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&pw(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pw(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&qs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Ft||t.flags&512&&uv(t)}catch(h){ct(t,t.return,h)}}if(t===e){be=null;break}if(n=t.sibling,n!==null){n.return=t.return,be=n;break}be=t.return}}function Nw(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,be=n;break}be=t.return}}function Pw(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ed(4,t)}catch(l){ct(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){ct(t,o,l)}}var i=t.return;try{uv(t)}catch(l){ct(t,i,l)}break;case 5:var a=t.return;try{uv(t)}catch(l){ct(t,a,l)}}}catch(l){ct(t,t.return,l)}if(t===e){be=null;break}var s=t.sibling;if(s!==null){s.return=t.return,be=s;break}be=t.return}}var TN=Math.ceil,mu=Yr.ReactCurrentDispatcher,Uy=Yr.ReactCurrentOwner,kn=Yr.ReactCurrentBatchConfig,He=0,kt=null,gt=null,At=0,cn=0,Ji=Oo(0),St=0,Qs=null,di=0,td=0,Gy=0,As=null,tn=null,Wy=0,va=1/0,$r=null,gu=!1,pv=null,Eo=null,rc=!1,yo=null,vu=0,Is=0,hv=null,Oc=-1,Lc=0;function Wt(){return He&6?pt():Oc!==-1?Oc:Oc=pt()}function jo(e){return e.mode&1?He&2&&At!==0?At&-At:fN.transition!==null?(Lc===0&&(Lc=l6()),Lc):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:m6(e.type)),e):1}function Yn(e,t,n,r){if(50<Is)throw Is=0,hv=null,Error(de(185));vl(e,n,r),(!(He&2)||e!==kt)&&(e===kt&&(!(He&2)&&(td|=n),St===4&&mo(e,At)),sn(e,r),n===1&&He===0&&!(t.mode&1)&&(va=pt()+500,Zu&&Lo()))}function sn(e,t){var n=e.callbackNode;fk(e,t);var r=eu(e,e===kt?At:0);if(r===0)n!==null&&q_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&q_(n),t===1)e.tag===0?dN(Dw.bind(null,e)):A6(Dw.bind(null,e)),sN(function(){!(He&6)&&Lo()}),n=null;else{switch(c6(r)){case 1:n=xy;break;case 4:n=a6;break;case 16:n=Jc;break;case 536870912:n=s6;break;default:n=Jc}n=D8(n,j8.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function j8(e,t){if(Oc=-1,Lc=0,He&6)throw Error(de(327));var n=e.callbackNode;if(aa()&&e.callbackNode!==n)return null;var r=eu(e,e===kt?At:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yu(e,r);else{t=r;var o=He;He|=2;var i=R8();(kt!==e||At!==t)&&($r=null,va=pt()+500,ri(e,t));do try{PN();break}catch(s){$8(e,s)}while(!0);Py(),mu.current=i,He=o,gt!==null?t=0:(kt=null,At=0,t=St)}if(t!==0){if(t===2&&(o=q0(e),o!==0&&(r=o,t=mv(e,o))),t===1)throw n=Qs,ri(e,0),mo(e,r),sn(e,pt()),n;if(t===6)mo(e,r);else{if(o=e.current.alternate,!(r&30)&&!kN(o)&&(t=yu(e,r),t===2&&(i=q0(e),i!==0&&(r=i,t=mv(e,i))),t===1))throw n=Qs,ri(e,0),mo(e,r),sn(e,pt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(de(345));case 2:Go(e,tn,$r);break;case 3:if(mo(e,r),(r&130023424)===r&&(t=Wy+500-pt(),10<t)){if(eu(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Wt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Y0(Go.bind(null,e,tn,$r),t);break}Go(e,tn,$r);break;case 4:if(mo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-Kn(r);i=1<<a,a=t[a],a>o&&(o=a),r&=~i}if(r=o,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TN(r/1960))-r,10<r){e.timeoutHandle=Y0(Go.bind(null,e,tn,$r),r);break}Go(e,tn,$r);break;case 5:Go(e,tn,$r);break;default:throw Error(de(329))}}}return sn(e,pt()),e.callbackNode===n?j8.bind(null,e):null}function mv(e,t){var n=As;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=yu(e,t),e!==2&&(t=tn,tn=n,t!==null&&gv(t)),e}function gv(e){tn===null?tn=e:tn.push.apply(tn,e)}function kN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Jn(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mo(e,t){for(t&=~Gy,t&=~td,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kn(t),r=1<<n;e[n]=-1,t&=~r}}function Dw(e){if(He&6)throw Error(de(327));aa();var t=eu(e,0);if(!(t&1))return sn(e,pt()),null;var n=yu(e,t);if(e.tag!==0&&n===2){var r=q0(e);r!==0&&(t=r,n=mv(e,r))}if(n===1)throw n=Qs,ri(e,0),mo(e,t),sn(e,pt()),n;if(n===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Go(e,tn,$r),sn(e,pt()),null}function Ky(e,t){var n=He;He|=1;try{return e(t)}finally{He=n,He===0&&(va=pt()+500,Zu&&Lo())}}function fi(e){yo!==null&&yo.tag===0&&!(He&6)&&aa();var t=He;He|=1;var n=kn.transition,r=Ye;try{if(kn.transition=null,Ye=1,e)return e()}finally{Ye=r,kn.transition=n,He=t,!(He&6)&&Lo()}}function Yy(){cn=Ji.current,et(Ji)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,aN(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(Ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&iu();break;case 3:ma(),et(on),et(Bt),Ly();break;case 5:Oy(r);break;case 4:ma();break;case 13:et(it);break;case 19:et(it);break;case 10:Dy(r.type._context);break;case 22:case 23:Yy()}n=n.return}if(kt=e,gt=e=$o(e.current,null),At=cn=t,St=0,Qs=null,Gy=td=di=0,tn=As=null,Xo!==null){for(t=0;t<Xo.length;t++)if(n=Xo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}Xo=null}return e}function $8(e,t){do{var n=gt;try{if(Py(),Ac.current=hu,pu){for(var r=at.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}pu=!1}if(ui=0,Tt=Ct=at=null,Ps=!1,Ys=0,Uy.current=null,n===null||n.return===null){St=1,Qs=t,gt=null;break}e:{var i=e,a=n.return,s=n,l=t;if(t=At,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_w(a);if(m!==null){m.flags&=-257,ww(m,a,s,i,t),m.mode&1&&xw(i,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){xw(i,u,t),Xy();break e}l=Error(de(426))}}else if(nt&&s.mode&1){var b=_w(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ww(b,a,s,i,t),ky(ga(l,s));break e}}i=l=ga(l,s),St!==4&&(St=2),As===null?As=[i]:As.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=u8(i,l,t);fw(i,y);break e;case 1:s=l;var x=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Eo===null||!Eo.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=d8(i,s,t);fw(i,w);break e}}i=i.return}while(i!==null)}k8(n)}catch(E){t=E,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function R8(){var e=mu.current;return mu.current=hu,e===null?hu:e}function Xy(){(St===0||St===3||St===2)&&(St=4),kt===null||!(di&268435455)&&!(td&268435455)||mo(kt,At)}function yu(e,t){var n=He;He|=2;var r=R8();(kt!==e||At!==t)&&($r=null,ri(e,t));do try{NN();break}catch(o){$8(e,o)}while(!0);if(Py(),He=n,mu.current=r,gt!==null)throw Error(de(261));return kt=null,At=0,St}function NN(){for(;gt!==null;)T8(gt)}function PN(){for(;gt!==null&&!rk();)T8(gt)}function T8(e){var t=P8(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?k8(e):gt=t,Uy.current=null}function k8(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=EN(n,t),n!==null){n.flags&=32767,gt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,gt=null;return}}else if(n=SN(n,t,cn),n!==null){gt=n;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);St===0&&(St=5)}function Go(e,t,n){var r=Ye,o=kn.transition;try{kn.transition=null,Ye=1,DN(e,t,n,r)}finally{kn.transition=o,Ye=r}return null}function DN(e,t,n,r){do aa();while(yo!==null);if(He&6)throw Error(de(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(pk(e,i),e===kt&&(gt=kt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rc||(rc=!0,D8(Jc,function(){return aa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kn.transition,kn.transition=null;var a=Ye;Ye=1;var s=He;He|=4,Uy.current=null,$N(e,n),S8(n,e),Jk(W0),tu=!!G0,W0=G0=null,e.current=n,RN(n),ok(),He=s,Ye=a,kn.transition=i}else e.current=n;if(rc&&(rc=!1,yo=e,vu=o),i=e.pendingLanes,i===0&&(Eo=null),sk(n.stateNode),sn(e,pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(gu)throw gu=!1,e=pv,pv=null,e;return vu&1&&e.tag!==0&&aa(),i=e.pendingLanes,i&1?e===hv?Is++:(Is=0,hv=e):Is=0,Lo(),null}function aa(){if(yo!==null){var e=c6(vu),t=kn.transition,n=Ye;try{if(kn.transition=null,Ye=16>e?16:e,yo===null)var r=!1;else{if(e=yo,yo=null,vu=0,He&6)throw Error(de(331));var o=He;for(He|=4,be=e.current;be!==null;){var i=be,a=i.child;if(be.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(be=u;be!==null;){var d=be;switch(d.tag){case 0:case 11:case 15:Ds(8,d,i)}var p=d.child;if(p!==null)p.return=d,be=p;else for(;be!==null;){d=be;var h=d.sibling,m=d.return;if(w8(d),d===u){be=null;break}if(h!==null){h.return=m,be=h;break}be=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}be=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,be=a;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ds(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,be=y;break e}be=i.return}}var x=e.current;for(be=x;be!==null;){a=be;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,be=_;else e:for(a=x;be!==null;){if(s=be,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ed(9,s)}}catch(E){ct(s,s.return,E)}if(s===a){be=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,be=w;break e}be=s.return}}if(He=o,Lo(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Gu,e)}catch{}r=!0}return r}finally{Ye=n,kn.transition=t}}return!1}function Aw(e,t,n){t=ga(n,t),t=u8(e,t,1),e=So(e,t,1),t=Wt(),e!==null&&(vl(e,1,t),sn(e,t))}function ct(e,t,n){if(e.tag===3)Aw(e,e,n);else for(;t!==null;){if(t.tag===3){Aw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){e=ga(n,e),e=d8(t,e,1),t=So(t,e,1),e=Wt(),t!==null&&(vl(t,1,e),sn(t,e));break}}t=t.return}}function AN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&n,kt===e&&(At&n)===n&&(St===4||St===3&&(At&130023424)===At&&500>pt()-Wy?ri(e,0):Gy|=n),sn(e,t)}function N8(e,t){t===0&&(e.mode&1?(t=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):t=1);var n=Wt();e=qr(e,t),e!==null&&(vl(e,t,n),sn(e,n))}function IN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),N8(e,n)}function MN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(t),N8(e,n)}var P8;P8=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||on.current)nn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nn=!1,CN(e,t,n);nn=!!(e.flags&131072)}else nn=!1,nt&&t.flags&1048576&&I6(t,lu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Mc(e,t),e=t.pendingProps;var o=fa(t,Bt.current);ia(t,n),o=Fy(null,t,r,e,o,n);var i=qy();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,an(r)?(i=!0,au(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Iy(t),o.updater=Qu,t.stateNode=o,o._reactInternals=t,nv(t,r,e,n),t=iv(null,t,r,!0,i,n)):(t.tag=0,nt&&i&&Ry(t),Vt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Mc(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=LN(r),e=Vn(r,e),o){case 0:t=ov(null,t,r,e,n);break e;case 1:t=Sw(null,t,r,e,n);break e;case 11:t=bw(null,t,r,e,n);break e;case 14:t=Cw(null,t,r,Vn(r.type,e),n);break e}throw Error(de(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),ov(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),Sw(e,t,r,o,n);case 3:e:{if(m8(t),e===null)throw Error(de(387));r=t.pendingProps,i=t.memoizedState,o=i.element,z6(e,t),du(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=ga(Error(de(423)),t),t=Ew(e,t,r,n,o);break e}else if(r!==o){o=ga(Error(de(424)),t),t=Ew(e,t,r,n,o);break e}else for(fn=Co(t.stateNode.containerInfo.firstChild),pn=t,nt=!0,Gn=null,n=V6(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===o){t=Br(e,t,n);break e}Vt(e,t,r,n)}t=t.child}return t;case 5:return H6(t),e===null&&J0(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,K0(r,o)?a=null:i!==null&&K0(r,i)&&(t.flags|=32),h8(e,t),Vt(e,t,a,n),t.child;case 6:return e===null&&J0(t),null;case 13:return g8(e,t,n);case 4:return My(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ha(t,null,r,n):Vt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),bw(e,t,r,o,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Ze(cu,r._currentValue),r._currentValue=a,i!==null)if(Jn(i.value,a)){if(i.children===o.children&&!on.current){t=Br(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Mr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ev(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(de(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),ev(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Vt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ia(t,n),o=In(o),r=r(o),t.flags|=1,Vt(e,t,r,n),t.child;case 14:return r=t.type,o=Vn(r,t.pendingProps),o=Vn(r.type,o),Cw(e,t,r,o,n);case 15:return f8(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),Mc(e,t),t.tag=1,an(r)?(e=!0,au(t)):e=!1,ia(t,n),q6(t,r,o),nv(t,r,o,n),iv(null,t,r,!0,e,n);case 19:return v8(e,t,n);case 22:return p8(e,t,n)}throw Error(de(156,t.tag))};function D8(e,t){return i6(e,t)}function ON(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,t,n,r){return new ON(e,t,n,r)}function Zy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LN(e){if(typeof e=="function")return Zy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gy)return 11;if(e===vy)return 14}return 2}function $o(e,t){var n=e.alternate;return n===null?(n=$n(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zc(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")Zy(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Vi:return oi(n.children,o,i,t);case my:a=8,o|=8;break;case j0:return e=$n(12,n,t,o|2),e.elementType=j0,e.lanes=i,e;case $0:return e=$n(13,n,t,o),e.elementType=$0,e.lanes=i,e;case R0:return e=$n(19,n,t,o),e.elementType=R0,e.lanes=i,e;case B5:return nd(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F5:a=10;break e;case q5:a=9;break e;case gy:a=11;break e;case vy:a=14;break e;case co:a=16,r=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=$n(a,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function oi(e,t,n,r){return e=$n(7,e,r,t),e.lanes=n,e}function nd(e,t,n,r){return e=$n(22,e,r,t),e.elementType=B5,e.lanes=n,e.stateNode={isHidden:!1},e}function Qf(e,t,n){return e=$n(6,e,null,t),e.lanes=n,e}function Jf(e,t,n){return t=$n(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zN(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Df(0),this.expirationTimes=Df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Df(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Qy(e,t,n,r,o,i,a,s,l){return e=new zN(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$n(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iy(i),e}function FN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function A8(e){if(!e)return No;e=e._reactInternals;e:{if(vi(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(an(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var n=e.type;if(an(n))return D6(e,n,t)}return t}function I8(e,t,n,r,o,i,a,s,l){return e=Qy(n,r,!0,e,o,i,a,s,l),e.context=A8(null),n=e.current,r=Wt(),o=jo(n),i=Mr(r,o),i.callback=t??null,So(n,i,o),e.current.lanes=o,vl(e,o,r),sn(e,r),e}function rd(e,t,n,r){var o=t.current,i=Wt(),a=jo(o);return n=A8(n),t.context===null?t.context=n:t.pendingContext=n,t=Mr(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=So(o,t,a),e!==null&&(Yn(e,o,a,i),Dc(e,o,a)),a}function xu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Iw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jy(e,t){Iw(e,t),(e=e.alternate)&&Iw(e,t)}function qN(){return null}var M8=typeof reportError=="function"?reportError:function(e){console.error(e)};function ex(e){this._internalRoot=e}od.prototype.render=ex.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));rd(e,t,null,null)};od.prototype.unmount=ex.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fi(function(){rd(null,e,null,null)}),t[Fr]=null}};function od(e){this._internalRoot=e}od.prototype.unstable_scheduleHydration=function(e){if(e){var t=f6();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ho.length&&t!==0&&t<ho[n].priority;n++);ho.splice(n,0,e),n===0&&h6(e)}};function tx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mw(){}function BN(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=xu(a);i.call(u)}}var a=I8(t,r,e,0,null,!1,!1,"",Mw);return e._reactRootContainer=a,e[Fr]=a.current,Hs(e.nodeType===8?e.parentNode:e),fi(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=xu(l);s.call(u)}}var l=Qy(e,0,!1,null,null,!1,!1,"",Mw);return e._reactRootContainer=l,e[Fr]=l.current,Hs(e.nodeType===8?e.parentNode:e),fi(function(){rd(t,l,n,r)}),l}function ad(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var l=xu(a);s.call(l)}}rd(t,a,e,o)}else a=BN(n,t,e,o,r);return xu(a)}u6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ms(t.pendingLanes);n!==0&&(_y(t,n|1),sn(t,pt()),!(He&6)&&(va=pt()+500,Lo()))}break;case 13:fi(function(){var r=qr(e,1);if(r!==null){var o=Wt();Yn(r,e,1,o)}}),Jy(e,1)}};wy=function(e){if(e.tag===13){var t=qr(e,134217728);if(t!==null){var n=Wt();Yn(t,e,134217728,n)}Jy(e,134217728)}};d6=function(e){if(e.tag===13){var t=jo(e),n=qr(e,t);if(n!==null){var r=Wt();Yn(n,e,t,r)}Jy(e,t)}};f6=function(){return Ye};p6=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}};L0=function(e,t,n){switch(t){case"input":if(N0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Xu(r);if(!o)throw Error(de(90));H5(r),N0(r,o)}}}break;case"textarea":G5(e,n);break;case"select":t=n.value,t!=null&&ta(e,!!n.multiple,t,!1)}};J5=Ky;e6=fi;var VN={usingClientEntryPoint:!1,Events:[xl,Wi,Xu,Z5,Q5,Ky]},ns={findFiberByHostInstance:Yo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HN={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=r6(e),e===null?null:e.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||qN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Gu=oc.inject(HN),dr=oc}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VN;vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tx(t))throw Error(de(200));return FN(e,t,null,n)};vn.createRoot=function(e,t){if(!tx(e))throw Error(de(299));var n=!1,r="",o=M8;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Qy(e,1,!1,null,null,n,!1,r,o),e[Fr]=t.current,Hs(e.nodeType===8?e.parentNode:e),new ex(t)};vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=r6(t),e=e===null?null:e.stateNode,e};vn.flushSync=function(e){return fi(e)};vn.hydrate=function(e,t,n){if(!id(t))throw Error(de(200));return ad(null,e,t,!0,n)};vn.hydrateRoot=function(e,t,n){if(!tx(e))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=M8;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=I8(t,null,e,1,n??null,o,!1,i,a),e[Fr]=t.current,Hs(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new od(t)};vn.render=function(e,t,n){if(!id(t))throw Error(de(200));return ad(null,e,t,!1,n)};vn.unmountComponentAtNode=function(e){if(!id(e))throw Error(de(40));return e._reactRootContainer?(fi(function(){ad(null,null,e,!1,function(){e._reactRootContainer=null,e[Fr]=null})}),!0):!1};vn.unstable_batchedUpdates=Ky;vn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!id(n))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return ad(e,t,n,!1,r)};vn.version="18.2.0-next-9e3b772b8-20220608";function O8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O8)}catch(e){console.error(e)}}O8(),I5.exports=vn;var yi=I5.exports;const UN=ml(yi);var Ow=yi;S0.createRoot=Ow.createRoot,S0.hydrateRoot=Ow.hydrateRoot;var L8={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(i=o(i,r(s)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var s in i)t.call(i,s)&&i[s]&&(a=o(a,s));return a}function o(i,a){return a?i?i+" "+a:i+a:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(L8);var GN=L8.exports;const Ee=ml(GN);function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function _e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function WN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function sd(...e){return t=>e.forEach(n=>WN(n,t))}function ze(...e){return f.useCallback(sd(...e),e)}function KN(e,t){const n=f.createContext(t);function r(i){const{children:a,...s}=i,l=f.useMemo(()=>s,Object.values(s));return f.createElement(n.Provider,{value:l},a)}function o(i){const a=f.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,o]}function Zt(e,t=[]){let n=[];function r(i,a){const s=f.createContext(a),l=n.length;n=[...n,a];function u(p){const{scope:h,children:m,...v}=p,g=(h==null?void 0:h[e][l])||s,b=f.useMemo(()=>v,Object.values(v));return f.createElement(g.Provider,{value:b},m)}function d(p,h){const m=(h==null?void 0:h[e][l])||s,v=f.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const o=()=>{const i=n.map(a=>f.createContext(a));return function(s){const l=(s==null?void 0:s[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return o.scopeName=e,[r,YN(o,...t)]}function YN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=r.reduce((s,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...s,...p}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}const Kt=f.forwardRef((e,t)=>{const{children:n,...r}=e,o=f.Children.toArray(n),i=o.find(XN);if(i){const a=i.props.children,s=o.map(l=>l===i?f.Children.count(a)>1?f.Children.only(null):f.isValidElement(a)?a.props.children:null:l);return f.createElement(vv,ne({},r,{ref:t}),f.isValidElement(a)?f.cloneElement(a,void 0,s):null)}return f.createElement(vv,ne({},r,{ref:t}),n)});Kt.displayName="Slot";const vv=f.forwardRef((e,t)=>{const{children:n,...r}=e;return f.isValidElement(n)?f.cloneElement(n,{...ZN(r,n.props),ref:t?sd(t,n.ref):n.ref}):f.Children.count(n)>1?f.Children.only(null):null});vv.displayName="SlotClone";const ka=({children:e})=>f.createElement(f.Fragment,null,e);function XN(e){return f.isValidElement(e)&&e.type===ka}function ZN(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...s)=>{i(...s),o(...s)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}const QN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=QN.reduce((e,t)=>{const n=f.forwardRef((r,o)=>{const{asChild:i,...a}=r,s=i?Kt:t;return f.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),f.createElement(s,ne({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function z8(e,t){e&&yi.flushSync(()=>e.dispatchEvent(t))}function vt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function JN(e,t=globalThis==null?void 0:globalThis.document){const n=vt(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const yv="dismissableLayer.update",eP="dismissableLayer.pointerDownOutside",tP="dismissableLayer.focusOutside";let Lw;const nP=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nx=f.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...u}=e,d=f.useContext(nP),[p,h]=f.useState(null),m=(n=p==null?void 0:p.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,v]=f.useState({}),g=ze(t,A=>h(A)),b=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(y),_=p?b.indexOf(p):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,E=_>=x,j=rP(A=>{const C=A.target,S=[...d.branches].some(D=>D.contains(C));!E||S||(i==null||i(A),s==null||s(A),A.defaultPrevented||l==null||l())},m),$=oP(A=>{const C=A.target;[...d.branches].some(D=>D.contains(C))||(a==null||a(A),s==null||s(A),A.defaultPrevented||l==null||l())},m);return JN(A=>{_===d.layers.size-1&&(o==null||o(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},m),f.useEffect(()=>{if(p)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Lw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),zw(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Lw)}},[p,m,r,d]),f.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),zw())},[p,d]),f.useEffect(()=>{const A=()=>v({});return document.addEventListener(yv,A),()=>document.removeEventListener(yv,A)},[]),f.createElement(Ne.div,ne({},u,{ref:g,style:{pointerEvents:w?E?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,$.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,j.onPointerDownCapture)}))});function rP(e,t=globalThis==null?void 0:globalThis.document){const n=vt(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const i=s=>{if(s.target&&!r.current){let d=function(){F8(eP,n,u,{discrete:!0})};var l=d;const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function oP(e,t=globalThis==null?void 0:globalThis.document){const n=vt(e),r=f.useRef(!1);return f.useEffect(()=>{const o=i=>{i.target&&!r.current&&F8(tP,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zw(){const e=new CustomEvent(yv);document.dispatchEvent(e)}function F8(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?z8(o,i):o.dispatchEvent(i)}const On=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},iP=IT.useId||(()=>{});let aP=0;function Nn(e){const[t,n]=f.useState(iP());return On(()=>{e||n(r=>r??String(aP++))},[e]),e||(t?`radix-${t}`:"")}const sP=["top","right","bottom","left"],Po=Math.min,dn=Math.max,_u=Math.round,ic=Math.floor,Do=e=>({x:e,y:e}),lP={left:"right",right:"left",bottom:"top",top:"bottom"},cP={start:"end",end:"start"};function xv(e,t,n){return dn(e,Po(t,n))}function Vr(e,t){return typeof e=="function"?e(t):e}function Hr(e){return e.split("-")[0]}function Na(e){return e.split("-")[1]}function rx(e){return e==="x"?"y":"x"}function ox(e){return e==="y"?"height":"width"}function Pa(e){return["top","bottom"].includes(Hr(e))?"y":"x"}function ix(e){return rx(Pa(e))}function uP(e,t,n){n===void 0&&(n=!1);const r=Na(e),o=ix(e),i=ox(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=wu(a)),[a,wu(a)]}function dP(e){const t=wu(e);return[_v(e),t,_v(t)]}function _v(e){return e.replace(/start|end/g,t=>cP[t])}function fP(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}function pP(e,t,n,r){const o=Na(e);let i=fP(Hr(e),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(_v)))),i}function wu(e){return e.replace(/left|right|bottom|top/g,t=>lP[t])}function hP(e){return{top:0,right:0,bottom:0,left:0,...e}}function q8(e){return typeof e!="number"?hP(e):{top:e,right:e,bottom:e,left:e}}function bu(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Fw(e,t,n){let{reference:r,floating:o}=e;const i=Pa(t),a=ix(t),s=ox(a),l=Hr(t),u=i==="y",d=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,h=r[s]/2-o[s]/2;let m;switch(l){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-o.width,y:p};break;default:m={x:r.x,y:r.y}}switch(Na(t)){case"start":m[a]-=h*(n&&u?-1:1);break;case"end":m[a]+=h*(n&&u?-1:1);break}return m}const mP=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:p}=Fw(u,r,l),h=r,m={},v=0;for(let g=0;g<s.length;g++){const{name:b,fn:y}=s[g],{x,y:_,data:w,reset:E}=await y({x:d,y:p,initialPlacement:r,placement:h,strategy:o,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=x??d,p=_??p,m={...m,[b]:{...m[b],...w}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:d,y:p}=Fw(u,h,l)),g=-1)}return{x:d,y:p,placement:h,strategy:o,middlewareData:m}};async function Js(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:m=0}=Vr(t,e),v=q8(m),b=s[h?p==="floating"?"reference":"floating":p],y=bu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:l})),x=p==="floating"?{...a.floating,x:r,y:o}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),w=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},E=bu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:_,strategy:l}):x);return{top:(y.top-E.top+v.top)/w.y,bottom:(E.bottom-y.bottom+v.bottom)/w.y,left:(y.left-E.left+v.left)/w.x,right:(E.right-y.right+v.right)/w.x}}const gP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:d=0}=Vr(e,t)||{};if(u==null)return{};const p=q8(d),h={x:n,y:r},m=ix(o),v=ox(m),g=await a.getDimensions(u),b=m==="y",y=b?"top":"left",x=b?"bottom":"right",_=b?"clientHeight":"clientWidth",w=i.reference[v]+i.reference[m]-h[m]-i.floating[v],E=h[m]-i.reference[m],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let $=j?j[_]:0;(!$||!await(a.isElement==null?void 0:a.isElement(j)))&&($=s.floating[_]||i.floating[v]);const A=w/2-E/2,C=$/2-g[v]/2-1,S=Po(p[y],C),D=Po(p[x],C),O=S,F=$-g[v]-D,N=$/2-g[v]/2+A,L=xv(O,N,F),T=!l.arrow&&Na(o)!=null&&N!==L&&i.reference[v]/2-(N<O?S:D)-g[v]/2<0,B=T?N<O?N-O:N-F:0;return{[m]:h[m]+B,data:{[m]:L,centerOffset:N-L-B,...T&&{alignmentOffset:B}},reset:T}}}),vP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=Vr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Hr(o),x=Hr(s)===s,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),w=h||(x||!g?[wu(s)]:dP(s));!h&&v!=="none"&&w.push(...pP(s,g,v,_));const E=[s,...w],j=await Js(t,b),$=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&$.push(j[y]),p){const O=uP(o,a,_);$.push(j[O[0]],j[O[1]])}if(A=[...A,{placement:o,overflows:$}],!$.every(O=>O<=0)){var C,S;const O=(((C=i.flip)==null?void 0:C.index)||0)+1,F=E[O];if(F)return{data:{index:O,overflows:A},reset:{placement:F}};let N=(S=A.filter(L=>L.overflows[0]<=0).sort((L,T)=>L.overflows[1]-T.overflows[1])[0])==null?void 0:S.placement;if(!N)switch(m){case"bestFit":{var D;const L=(D=A.map(T=>[T.placement,T.overflows.filter(B=>B>0).reduce((B,I)=>B+I,0)]).sort((T,B)=>T[1]-B[1])[0])==null?void 0:D[0];L&&(N=L);break}case"initialPlacement":N=s;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function qw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bw(e){return sP.some(t=>e[t]>=0)}const yP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Vr(e,t);switch(r){case"referenceHidden":{const i=await Js(t,{...o,elementContext:"reference"}),a=qw(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Bw(a)}}}case"escaped":{const i=await Js(t,{...o,altBoundary:!0}),a=qw(i,n.floating);return{data:{escapedOffsets:a,escaped:Bw(a)}}}default:return{}}}}};async function xP(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Hr(n),s=Na(n),l=Pa(n)==="y",u=["left","top"].includes(a)?-1:1,d=i&&l?-1:1,p=Vr(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return s&&typeof v=="number"&&(m=s==="end"?v*-1:v),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const _P=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await xP(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},wP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...l}=Vr(e,t),u={x:n,y:r},d=await Js(t,l),p=Pa(Hr(o)),h=rx(p);let m=u[h],v=u[p];if(i){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=m+d[b],_=m-d[y];m=xv(x,m,_)}if(a){const b=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=v+d[b],_=v-d[y];v=xv(x,v,_)}const g=s.fn({...t,[h]:m,[p]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}},bP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Vr(e,t),d={x:n,y:r},p=Pa(o),h=rx(p);let m=d[h],v=d[p];const g=Vr(s,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=h==="y"?"height":"width",w=i.reference[h]-i.floating[_]+b.mainAxis,E=i.reference[h]+i.reference[_]-b.mainAxis;m<w?m=w:m>E&&(m=E)}if(u){var y,x;const _=h==="y"?"width":"height",w=["top","left"].includes(Hr(o)),E=i.reference[p]-i.floating[_]+(w&&((y=a.offset)==null?void 0:y[p])||0)+(w?0:b.crossAxis),j=i.reference[p]+i.reference[_]+(w?0:((x=a.offset)==null?void 0:x[p])||0)-(w?b.crossAxis:0);v<E?v=E:v>j&&(v=j)}return{[h]:m,[p]:v}}}},CP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:a=()=>{},...s}=Vr(e,t),l=await Js(t,s),u=Hr(n),d=Na(n),p=Pa(n)==="y",{width:h,height:m}=r.floating;let v,g;u==="top"||u==="bottom"?(v=u,g=d===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(g=u,v=d==="end"?"top":"bottom");const b=m-l[v],y=h-l[g],x=!t.middlewareData.shift;let _=b,w=y;if(p){const j=h-l.left-l.right;w=d||x?Po(y,j):j}else{const j=m-l.top-l.bottom;_=d||x?Po(b,j):j}if(x&&!d){const j=dn(l.left,0),$=dn(l.right,0),A=dn(l.top,0),C=dn(l.bottom,0);p?w=h-2*(j!==0||$!==0?j+$:dn(l.left,l.right)):_=m-2*(A!==0||C!==0?A+C:dn(l.top,l.bottom))}await a({...t,availableWidth:w,availableHeight:_});const E=await o.getDimensions(i.floating);return h!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function Ao(e){return B8(e)?(e.nodeName||"").toLowerCase():"#document"}function hn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xr(e){var t;return(t=(B8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B8(e){return e instanceof Node||e instanceof hn(e).Node}function Ur(e){return e instanceof Element||e instanceof hn(e).Element}function mr(e){return e instanceof HTMLElement||e instanceof hn(e).HTMLElement}function Vw(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hn(e).ShadowRoot}function wl(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function SP(e){return["table","td","th"].includes(Ao(e))}function ax(e){const t=sx(),n=Ln(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function EP(e){let t=ya(e);for(;mr(t)&&!ld(t);){if(ax(t))return t;t=ya(t)}return null}function sx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ld(e){return["html","body","#document"].includes(Ao(e))}function Ln(e){return hn(e).getComputedStyle(e)}function cd(e){return Ur(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ya(e){if(Ao(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vw(e)&&e.host||Xr(e);return Vw(t)?t.host:t}function V8(e){const t=ya(e);return ld(t)?e.ownerDocument?e.ownerDocument.body:e.body:mr(t)&&wl(t)?t:V8(t)}function el(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=V8(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=hn(o);return i?t.concat(a,a.visualViewport||[],wl(o)?o:[],a.frameElement&&n?el(a.frameElement):[]):t.concat(o,el(o,[],n))}function H8(e){const t=Ln(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=mr(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=_u(n)!==i||_u(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function lx(e){return Ur(e)?e:e.contextElement}function sa(e){const t=lx(e);if(!mr(t))return Do(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=H8(t);let a=(i?_u(n.width):n.width)/r,s=(i?_u(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const jP=Do(0);function U8(e){const t=hn(e);return!sx()||!t.visualViewport?jP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $P(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==hn(e)?!1:t}function pi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=lx(e);let a=Do(1);t&&(r?Ur(r)&&(a=sa(r)):a=sa(e));const s=$P(i,n,r)?U8(i):Do(0);let l=(o.left+s.x)/a.x,u=(o.top+s.y)/a.y,d=o.width/a.x,p=o.height/a.y;if(i){const h=hn(i),m=r&&Ur(r)?hn(r):r;let v=h,g=v.frameElement;for(;g&&r&&m!==v;){const b=sa(g),y=g.getBoundingClientRect(),x=Ln(g),_=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,w=y.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,p*=b.y,l+=_,u+=w,v=hn(g),g=v.frameElement}}return bu({width:d,height:p,x:l,y:u})}const RP=[":popover-open",":modal"];function G8(e){return RP.some(t=>{try{return e.matches(t)}catch{return!1}})}function TP(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",a=Xr(r),s=t?G8(t.floating):!1;if(r===a||s&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Do(1);const d=Do(0),p=mr(r);if((p||!p&&!i)&&((Ao(r)!=="body"||wl(a))&&(l=cd(r)),mr(r))){const h=pi(r);u=sa(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function kP(e){return Array.from(e.getClientRects())}function W8(e){return pi(Xr(e)).left+cd(e).scrollLeft}function NP(e){const t=Xr(e),n=cd(e),r=e.ownerDocument.body,o=dn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=dn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+W8(e);const s=-n.scrollTop;return Ln(r).direction==="rtl"&&(a+=dn(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}function PP(e,t){const n=hn(e),r=Xr(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const u=sx();(!u||u&&t==="fixed")&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}function DP(e,t){const n=pi(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=mr(e)?sa(e):Do(1),a=e.clientWidth*i.x,s=e.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:a,height:s,x:l,y:u}}function Hw(e,t,n){let r;if(t==="viewport")r=PP(e,n);else if(t==="document")r=NP(Xr(e));else if(Ur(t))r=DP(t,n);else{const o=U8(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return bu(r)}function K8(e,t){const n=ya(e);return n===t||!Ur(n)||ld(n)?!1:Ln(n).position==="fixed"||K8(n,t)}function AP(e,t){const n=t.get(e);if(n)return n;let r=el(e,[],!1).filter(s=>Ur(s)&&Ao(s)!=="body"),o=null;const i=Ln(e).position==="fixed";let a=i?ya(e):e;for(;Ur(a)&&!ld(a);){const s=Ln(a),l=ax(a);!l&&s.position==="fixed"&&(o=null),(i?!l&&!o:!l&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||wl(a)&&!l&&K8(e,a))?r=r.filter(d=>d!==a):o=s,a=ya(a)}return t.set(e,r),r}function IP(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?AP(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,d)=>{const p=Hw(t,d,o);return u.top=dn(p.top,u.top),u.right=Po(p.right,u.right),u.bottom=Po(p.bottom,u.bottom),u.left=dn(p.left,u.left),u},Hw(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function MP(e){const{width:t,height:n}=H8(e);return{width:t,height:n}}function OP(e,t,n){const r=mr(t),o=Xr(t),i=n==="fixed",a=pi(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Do(0);if(r||!r&&!i)if((Ao(t)!=="body"||wl(o))&&(s=cd(t)),r){const p=pi(t,!0,i,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else o&&(l.x=W8(o));const u=a.left+s.scrollLeft-l.x,d=a.top+s.scrollTop-l.y;return{x:u,y:d,width:a.width,height:a.height}}function Uw(e,t){return!mr(e)||Ln(e).position==="fixed"?null:t?t(e):e.offsetParent}function Y8(e,t){const n=hn(e);if(!mr(e)||G8(e))return n;let r=Uw(e,t);for(;r&&SP(r)&&Ln(r).position==="static";)r=Uw(r,t);return r&&(Ao(r)==="html"||Ao(r)==="body"&&Ln(r).position==="static"&&!ax(r))?n:r||EP(e)||n}const LP=async function(e){const t=this.getOffsetParent||Y8,n=this.getDimensions;return{reference:OP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function zP(e){return Ln(e).direction==="rtl"}const FP={convertOffsetParentRelativeRectToViewportRelativeRect:TP,getDocumentElement:Xr,getClippingRect:IP,getOffsetParent:Y8,getElementRects:LP,getClientRects:kP,getDimensions:MP,getScale:sa,isElement:Ur,isRTL:zP};function qP(e,t){let n=null,r;const o=Xr(e);function i(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:p,height:h}=e.getBoundingClientRect();if(s||t(),!p||!h)return;const m=ic(d),v=ic(o.clientWidth-(u+p)),g=ic(o.clientHeight-(d+h)),b=ic(u),x={rootMargin:-m+"px "+-v+"px "+-g+"px "+-b+"px",threshold:dn(0,Po(1,l))||1};let _=!0;function w(E){const j=E[0].intersectionRatio;if(j!==l){if(!_)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(w,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(w,x)}n.observe(e)}return a(!0),i}function BP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=lx(e),d=o||i?[...u?el(u):[],...el(t)]:[];d.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const p=u&&s?qP(u,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let v,g=l?pi(e):null;l&&b();function b(){const y=pi(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,v=requestAnimationFrame(b)}return n(),()=>{var y;d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),p==null||p(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const VP=wP,HP=vP,UP=CP,GP=yP,Gw=gP,WP=bP,KP=(e,t,n)=>{const r=new Map,o={platform:FP,...n},i={...o.platform,_c:r};return mP(e,t,{...o,platform:i})},YP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Gw({element:r.current,padding:o}).fn(n):{}:r?Gw({element:r,padding:o}).fn(n):{}}}};var Fc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Cu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Cu(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Cu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function X8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ww(e,t){const n=X8(e);return Math.round(t*n)/n}function Kw(e){const t=f.useRef(e);return Fc(()=>{t.current=e}),t}function XP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[d,p]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=f.useState(r);Cu(h,r)||m(r);const[v,g]=f.useState(null),[b,y]=f.useState(null),x=f.useCallback(B=>{B!==j.current&&(j.current=B,g(B))},[]),_=f.useCallback(B=>{B!==$.current&&($.current=B,y(B))},[]),w=i||v,E=a||b,j=f.useRef(null),$=f.useRef(null),A=f.useRef(d),C=l!=null,S=Kw(l),D=Kw(o),O=f.useCallback(()=>{if(!j.current||!$.current)return;const B={placement:t,strategy:n,middleware:h};D.current&&(B.platform=D.current),KP(j.current,$.current,B).then(I=>{const R={...I,isPositioned:!0};F.current&&!Cu(A.current,R)&&(A.current=R,yi.flushSync(()=>{p(R)}))})},[h,t,n,D]);Fc(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,p(B=>({...B,isPositioned:!1})))},[u]);const F=f.useRef(!1);Fc(()=>(F.current=!0,()=>{F.current=!1}),[]),Fc(()=>{if(w&&(j.current=w),E&&($.current=E),w&&E){if(S.current)return S.current(w,E,O);O()}},[w,E,O,S,C]);const N=f.useMemo(()=>({reference:j,floating:$,setReference:x,setFloating:_}),[x,_]),L=f.useMemo(()=>({reference:w,floating:E}),[w,E]),T=f.useMemo(()=>{const B={position:n,left:0,top:0};if(!L.floating)return B;const I=Ww(L.floating,d.x),R=Ww(L.floating,d.y);return s?{...B,transform:"translate("+I+"px, "+R+"px)",...X8(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:R}},[n,s,L.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:O,refs:N,elements:L,floatingStyles:T}),[d,O,N,L,T])}function ud(e){const[t,n]=f.useState(void 0);return On(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,s;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,s=u.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Z8="Popper",[Q8,Da]=Zt(Z8),[ZP,J8]=Q8(Z8),QP=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return f.createElement(ZP,{scope:t,anchor:r,onAnchorChange:o},n)},JP="PopperAnchor",eD=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=J8(JP,n),a=f.useRef(null),s=ze(t,a);return f.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:f.createElement(Ne.div,ne({},o,{ref:s}))}),e4="PopperContent",[tD,Aee]=Q8(e4),nD=f.forwardRef((e,t)=>{var n,r,o,i,a,s,l,u;const{__scopePopper:d,side:p="bottom",sideOffset:h=0,align:m="center",alignOffset:v=0,arrowPadding:g=0,avoidCollisions:b=!0,collisionBoundary:y=[],collisionPadding:x=0,sticky:_="partial",hideWhenDetached:w=!1,updatePositionStrategy:E="optimized",onPlaced:j,...$}=e,A=J8(e4,d),[C,S]=f.useState(null),D=ze(t,K=>S(K)),[O,F]=f.useState(null),N=ud(O),L=(n=N==null?void 0:N.width)!==null&&n!==void 0?n:0,T=(r=N==null?void 0:N.height)!==null&&r!==void 0?r:0,B=p+(m!=="center"?"-"+m:""),I=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},R=Array.isArray(y)?y:[y],q=R.length>0,G={padding:I,boundary:R.filter(rD),altBoundary:q},{refs:Q,floatingStyles:le,placement:ie,isPositioned:fe,middlewareData:he}=XP({strategy:"fixed",placement:B,whileElementsMounted:(...K)=>BP(...K,{animationFrame:E==="always"}),elements:{reference:A.anchor},middleware:[_P({mainAxis:h+T,alignmentAxis:v}),b&&VP({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?WP():void 0,...G}),b&&HP({...G}),UP({...G,apply:({elements:K,rects:Y,availableWidth:oe,availableHeight:ae})=>{const{width:ve,height:Ae}=Y.reference,ye=K.floating.style;ye.setProperty("--radix-popper-available-width",`${oe}px`),ye.setProperty("--radix-popper-available-height",`${ae}px`),ye.setProperty("--radix-popper-anchor-width",`${ve}px`),ye.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),O&&YP({element:O,padding:g}),oD({arrowWidth:L,arrowHeight:T}),w&&GP({strategy:"referenceHidden",...G})]}),[z,U]=t4(ie),V=vt(j);On(()=>{fe&&(V==null||V())},[fe,V]);const P=(o=he.arrow)===null||o===void 0?void 0:o.x,W=(i=he.arrow)===null||i===void 0?void 0:i.y,H=((a=he.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[ge,ce]=f.useState();return On(()=>{C&&ce(window.getComputedStyle(C).zIndex)},[C]),f.createElement("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:fe?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(s=he.transformOrigin)===null||s===void 0?void 0:s.x,(l=he.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},f.createElement(tD,{scope:d,placedSide:z,onArrowChange:F,arrowX:P,arrowY:W,shouldHideArrow:H},f.createElement(Ne.div,ne({"data-side":z,"data-align":U},$,{ref:D,style:{...$.style,animation:fe?void 0:"none",opacity:(u=he.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function rD(e){return e!==null}const oD=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,i,a;const{placement:s,rects:l,middlewareData:u}=t,p=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=p?0:e.arrowWidth,m=p?0:e.arrowHeight,[v,g]=t4(s),b={start:"0%",center:"50%",end:"100%"}[g],y=((r=(o=u.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+h/2,x=((i=(a=u.arrow)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0)+m/2;let _="",w="";return v==="bottom"?(_=p?b:`${y}px`,w=`${-m}px`):v==="top"?(_=p?b:`${y}px`,w=`${l.floating.height+m}px`):v==="right"?(_=`${-m}px`,w=p?b:`${x}px`):v==="left"&&(_=`${l.floating.width+m}px`,w=p?b:`${x}px`),{data:{x:_,y:w}}}});function t4(e){const[t,n="center"]=e.split("-");return[t,n]}const cx=QP,n4=eD,r4=nD,ux=f.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?UN.createPortal(f.createElement(Ne.div,ne({},o,{ref:t})),r):null});function iD(e,t){return f.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const Qt=e=>{const{present:t,children:n}=e,r=aD(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),i=ze(r.ref,o.ref);return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:i}):null};Qt.displayName="Presence";function aD(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),i=f.useRef("none"),a=e?"mounted":"unmounted",[s,l]=iD(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=ac(r.current);i.current=s==="mounted"?u:"none"},[s]),On(()=>{const u=r.current,d=o.current;if(d!==e){const h=i.current,m=ac(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),On(()=>{if(t){const u=p=>{const m=ac(r.current).includes(p.animationName);p.target===t&&m&&yi.flushSync(()=>l("ANIMATION_END"))},d=p=>{p.target===t&&(i.current=ac(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:f.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ac(e){return(e==null?void 0:e.animationName)||"none"}function gr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=sD({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,s=vt(n),l=f.useCallback(u=>{if(i){const p=typeof u=="function"?u(e):u;p!==e&&s(p)}else o(u)},[i,e,o,s]);return[a,l]}function sD({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),i=vt(t);return f.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}const lD=f.forwardRef((e,t)=>f.createElement(Ne.span,ne({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),[dd,Iee]=Zt("Tooltip",[Da]);Da();const cD="TooltipProvider",uD=700,[dD,Mee]=dd(cD),fD=e=>{const{__scopeTooltip:t,delayDuration:n=uD,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,[a,s]=f.useState(!0),l=f.useRef(!1),u=f.useRef(0);return f.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),f.createElement(dD,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(u.current),s(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>s(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:o},i)},o4="Tooltip";dd(o4);const pD="TooltipPortal";dd(pD,{forceMount:void 0});dd(o4,{isInside:!1});const hD=fD,i4=f.createContext(void 0),mD=e=>{const{dir:t,children:n}=e;return f.createElement(i4.Provider,{value:t},n)};function Aa(e){const t=f.useContext(i4);return e||t||"ltr"}const gD=["tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","brown","orange"],vD=["sky","mint","lime","yellow","amber"],yD=["gold","bronze"],xD=[...gD,...vD,...yD],_D="gray",wD=["mauve","slate","sage","olive","sand"],bD=[_D,...wD];function CD(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand"}}const SD=["inherit","light","dark"],ED=[...xD,"gray"],jD=[...bD,"auto"],$D=["solid","translucent"],RD=["none","small","medium","large","full"],TD=["90%","95%","100%","105%","110%"],Ht={hasBackground:{type:"boolean",default:!0},appearance:{type:"enum",values:SD,default:"inherit"},accentColor:{type:"enum",values:ED,default:"indigo"},grayColor:{type:"enum",values:jD,default:"auto"},panelBackground:{type:"enum",values:$D,default:"translucent"},radius:{type:"enum",values:RD,default:"medium"},scaling:{type:"enum",values:TD,default:"100%"}};function a4(e){return e==="gray"?"gray":CD(e)}const ki=()=>{},Su=f.createContext(void 0);function s4(){const e=f.useContext(Su);if(e===void 0)throw new Error("`useThemeContext` must be used within a `Theme`");return e}const xi=f.forwardRef((e,t)=>f.useContext(Su)===void 0?f.createElement(hD,null,f.createElement(mD,{dir:"ltr"},f.createElement(l4,{...e,ref:t}))):f.createElement(dx,{...e,ref:t}));xi.displayName="Theme";const l4=f.forwardRef((e,t)=>{const{appearance:n=Ht.appearance.default,accentColor:r=Ht.accentColor.default,grayColor:o=Ht.grayColor.default,panelBackground:i=Ht.panelBackground.default,radius:a=Ht.radius.default,scaling:s=Ht.scaling.default,hasBackground:l=Ht.hasBackground.default,...u}=e,[d,p]=f.useState(n);f.useEffect(()=>p(n),[n]);const[h,m]=f.useState(r);f.useEffect(()=>m(r),[r]);const[v,g]=f.useState(o);f.useEffect(()=>g(o),[o]);const[b,y]=f.useState(i);f.useEffect(()=>y(i),[i]);const[x,_]=f.useState(a);f.useEffect(()=>_(a),[a]);const[w,E]=f.useState(s);f.useEffect(()=>E(s),[s]);const j=f.memo(({appearance:A})=>f.createElement("script",{dangerouslySetInnerHTML:{__html:`!(function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');d.style.colorScheme='${A}';c.add('${A}');}catch(e){}})();`}}),()=>!0);j.displayName="ExplicitRootAppearanceScript",f.useEffect(()=>kD(n),[n]);const $=v==="auto"?a4(h):v;return f.createElement(f.Fragment,null,d!=="inherit"&&f.createElement(j,{appearance:d}),l&&f.createElement("style",{dangerouslySetInnerHTML:{__html:`
:root, .light, .light-theme { --color-page-background: white; }
.dark, .dark-theme { --color-page-background: var(--${$}-1); }
body { background-color: var(--color-page-background); }
`}}),f.createElement(dx,{...u,ref:t,isRoot:!0,hasBackground:l,appearance:d,accentColor:h,grayColor:v,panelBackground:b,radius:x,scaling:w,onAppearanceChange:p,onAccentColorChange:m,onGrayColorChange:g,onPanelBackgroundChange:y,onRadiusChange:_,onScalingChange:E}))});l4.displayName="ThemeRoot";const dx=f.forwardRef((e,t)=>{var n,r,o,i,a,s;const l=f.useContext(Su),{asChild:u,isRoot:d,hasBackground:p,appearance:h=(n=l==null?void 0:l.appearance)!==null&&n!==void 0?n:Ht.appearance.default,accentColor:m=(r=l==null?void 0:l.accentColor)!==null&&r!==void 0?r:Ht.accentColor.default,grayColor:v=(o=l==null?void 0:l.resolvedGrayColor)!==null&&o!==void 0?o:Ht.grayColor.default,panelBackground:g=(i=l==null?void 0:l.panelBackground)!==null&&i!==void 0?i:Ht.panelBackground.default,radius:b=(a=l==null?void 0:l.radius)!==null&&a!==void 0?a:Ht.radius.default,scaling:y=(s=l==null?void 0:l.scaling)!==null&&s!==void 0?s:Ht.scaling.default,onAppearanceChange:x=ki,onAccentColorChange:_=ki,onGrayColorChange:w=ki,onPanelBackgroundChange:E=ki,onRadiusChange:j=ki,onScalingChange:$=ki,...A}=e,C=u?Kt:"div",S=v==="auto"?a4(m):v,D=e.appearance!==void 0&&e.appearance!=="inherit",O=e.grayColor!==void 0,F=!d&&(p===!0||p!==!1&&(D||O));return f.createElement(Su.Provider,{value:f.useMemo(()=>({appearance:h,accentColor:m,grayColor:v,resolvedGrayColor:S,panelBackground:g,radius:b,scaling:y,onAppearanceChange:x,onAccentColorChange:_,onGrayColorChange:w,onPanelBackgroundChange:E,onRadiusChange:j,onScalingChange:$}),[h,m,v,S,g,b,y,x,_,w,E,j,$])},f.createElement(C,{"data-is-root-theme":d?"true":"false","data-accent-color":m,"data-gray-color":S,"data-has-background":F?"true":"false","data-panel-background":g,"data-radius":b,"data-scaling":y,ref:t,...A,className:Ee("radix-themes",{light:!d&&h==="light",dark:!d&&h==="dark"},A.className)}))});dx.displayName="ThemeImpl";function kD(e){if(e==="inherit")return;const t=document.documentElement;(t.classList.contains("light-theme")||t.classList.contains("dark-theme"))&&(t.classList.remove("light-theme","dark-theme"),t.style.colorScheme=e,t.classList.add(`${e}-theme`)),(t.classList.contains("light")||t.classList.contains("dark"))&&(t.classList.remove("light","dark"),t.style.colorScheme=e,t.classList.add(e))}const ND=["none","inline","inline-block","block"],PD={display:{type:"enum",values:ND,default:void 0,responsive:!0}},Jt={type:"enum",values:Ht.accentColor.values,default:void 0},Zr={type:"boolean",default:void 0};function xe(e,t="",n){var r,o,i,a;const s=[];if(typeof e=="object"){for(const l of Object.keys(e))if(l in e){const u=(r=e[l])===null||r===void 0?void 0:r.toString(),d=u==null?void 0:u.startsWith("-"),p=t===""?"":"-",h=d?`-${t}`:t,m=d?u==null?void 0:u.substring(1):u;if(m===void 0)continue;const v=(o=n==null?void 0:n[m])!==null&&o!==void 0?o:m,g=l==="initial"?`${h}${p}${v}`:`${l}:${h}${p}${v}`;s.push(g)}}if(typeof e=="string"){const l=e.startsWith("-"),u=t===""?"":"-",d=l?`-${t}`:t,p=l?e.substring(1):e,h=(i=n==null?void 0:n[p])!==null&&i!==void 0?i:p;s.push(`${d}${u}${h}`)}if(typeof e=="boolean"){const l=t===""?"":"-",u=e.toString(),d=(a=n==null?void 0:n[u])!==null&&a!==void 0?a:u;s.push(`${t}${l}${d}`)}return s.join(" ")}function Yw(e){return typeof e=="object"}const Bo=["0","1","2","3","4","5","6","7","8","9"],DD={p:{type:"enum",values:Bo,default:void 0,responsive:!0},px:{type:"enum",values:Bo,default:void 0,responsive:!0},py:{type:"enum",values:Bo,default:void 0,responsive:!0},pt:{type:"enum",values:Bo,default:void 0,responsive:!0},pr:{type:"enum",values:Bo,default:void 0,responsive:!0},pb:{type:"enum",values:Bo,default:void 0,responsive:!0},pl:{type:"enum",values:Bo,default:void 0,responsive:!0}};function fx(e){const{p:t=Dt.p.default,px:n=Dt.px.default,py:r=Dt.py.default,pt:o=Dt.pt.default,pr:i=Dt.pr.default,pb:a=Dt.pb.default,pl:s=Dt.pl.default,...l}=e;return{p:t,px:n,py:r,pt:o,pr:i,pb:a,pl:s,rest:l}}function px(e){return[xe(e.p,"rt-r-p"),xe(e.px,"rt-r-px"),xe(e.py,"rt-r-py"),xe(e.pt,"rt-r-pt"),xe(e.pr,"rt-r-pr"),xe(e.pb,"rt-r-pb"),xe(e.pl,"rt-r-pl")].filter(Boolean).join(" ")}const AD=["static","relative","absolute","fixed","sticky"],rs=["auto","0","50%","100%"],Xw=["auto","min-content","max-content","100%","0","1","2","3","4","5","6","7","8","9"],ID=["0","1"],MD=["0","1"],Dt={...DD,position:{type:"enum",values:AD,default:void 0,responsive:!0},inset:{type:"enum",values:rs,default:void 0,responsive:!0},top:{type:"enum",values:rs,default:void 0,responsive:!0},right:{type:"enum",values:rs,default:void 0,responsive:!0},bottom:{type:"enum",values:rs,default:void 0,responsive:!0},left:{type:"enum",values:rs,default:void 0,responsive:!0},width:{type:"enum",values:Xw,default:void 0,responsive:!0},height:{type:"enum",values:Xw,default:void 0,responsive:!0},shrink:{type:"enum",values:ID,default:void 0,responsive:!0},grow:{type:"enum",values:MD,default:void 0,responsive:!0}};function hx(e){const{rest:t,...n}=fx(e),{position:r=Dt.position.default,width:o=Dt.width.default,height:i=Dt.height.default,inset:a=Dt.inset.default,top:s=Dt.top.default,bottom:l=Dt.bottom.default,left:u=Dt.left.default,right:d=Dt.right.default,shrink:p=Dt.shrink.default,grow:h=Dt.grow.default,...m}=t;return{...n,position:r,width:o,height:i,inset:a,top:s,bottom:l,left:u,right:d,shrink:p,grow:h,rest:m}}function mx(e){return[px(e),xe(e.position,"rt-r-position"),xe(e.shrink,"rt-r-fs"),xe(e.grow,"rt-r-fg"),xe(e.width,"rt-r-w"),xe(e.height,"rt-r-h"),xe(e.inset,"rt-r-inset"),xe(e.top,"rt-r-top"),xe(e.bottom,"rt-r-bottom"),xe(e.left,"rt-r-left"),xe(e.right,"rt-r-right")].filter(Boolean).join(" ")}const OD=["normal","start","end","both"],c4={type:"enum",values:OD,default:void 0,responsive:!0},Vo=["auto","0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],Ho={m:{type:"enum",values:Vo,default:void 0,responsive:!0},mx:{type:"enum",values:Vo,default:void 0,responsive:!0},my:{type:"enum",values:Vo,default:void 0,responsive:!0},mt:{type:"enum",values:Vo,default:void 0,responsive:!0},mr:{type:"enum",values:Vo,default:void 0,responsive:!0},mb:{type:"enum",values:Vo,default:void 0,responsive:!0},ml:{type:"enum",values:Vo,default:void 0,responsive:!0}};function xt(e){const{m:t=Ho.m.default,mx:n=Ho.mx.default,my:r=Ho.my.default,mt:o=Ho.mt.default,mr:i=Ho.mr.default,mb:a=Ho.mb.default,ml:s=Ho.ml.default,...l}=e;return{m:t,mx:n,my:r,mt:o,mr:i,mb:a,ml:s,rest:l}}function Et(e){return[xe(e.m,"rt-r-m"),xe(e.mx,"rt-r-mx"),xe(e.my,"rt-r-my"),xe(e.mt,"rt-r-mt"),xe(e.mr,"rt-r-mr"),xe(e.mb,"rt-r-mb"),xe(e.ml,"rt-r-ml")].filter(Boolean).join(" ")}const Ia={type:"enum",values:Ht.radius.values,default:void 0},LD=["left","center","right"],u4={type:"enum",values:LD,default:void 0,responsive:!0},zD=["light","regular","medium","bold"],d4={type:"enum",values:zD,default:void 0,responsive:!0};function Zw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const te=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{rest:o,...i}=hx(n),{className:a,asChild:s,display:l=PD.display.default,...u}=o,d=s?Kt:"div";return f.createElement(d,{...u,ref:t,className:Ee("rt-Box",a,xe(l,"rt-r-display"),mx(i),Et(r))})});te.displayName="Box";const FD=["none","inline-flex","flex"],qD=["row","column","row-reverse","column-reverse"],BD=["start","center","end","baseline","stretch"],VD=["start","center","end","between"],HD=["nowrap","wrap","wrap-reverse"],UD=["0","1","2","3","4","5","6","7","8","9"],Wo={display:{type:"enum",values:FD,default:"flex",responsive:!0},direction:{type:"enum",values:qD,default:void 0,responsive:!0},align:{type:"enum",values:BD,default:void 0,responsive:!0},justify:{type:"enum",values:VD,default:"start",responsive:!0},wrap:{type:"enum",values:HD,default:void 0,responsive:!0},gap:{type:"enum",values:UD,default:void 0,responsive:!0}},M=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{rest:o,...i}=hx(n),{className:a,asChild:s,display:l=Wo.display.default,direction:u=Wo.direction.default,align:d=Wo.align.default,justify:p=Wo.justify.default,wrap:h=Wo.wrap.default,gap:m=Wo.gap.default,...v}=o,g=s?Kt:"div";return f.createElement(g,{...v,ref:t,className:Ee("rt-Flex",a,xe(l,"rt-r-display"),xe(u,"rt-r-fd"),xe(d,"rt-r-ai"),xe(p,"rt-r-jc",{between:"space-between"}),xe(h,"rt-r-fw"),xe(m,"rt-r-gap"),mx(i),Et(r))})});M.displayName="Flex";const GD=["none","inline-grid","grid"],WD=["row","column","dense","row-dense","column-dense"],KD=["start","center","end","baseline","stretch"],YD=["start","center","end","between"],ep=["0","1","2","3","4","5","6","7","8","9"],Sr={display:{type:"enum",values:GD,default:void 0,responsive:!0},columns:{type:"string",default:void 0,responsive:!0},rows:{type:"string",default:void 0,responsive:!0},flow:{type:"enum",values:WD,default:void 0,responsive:!0},align:{type:"enum",values:KD,default:void 0,responsive:!0},justify:{type:"enum",values:YD,default:void 0,responsive:!0},gap:{type:"enum",values:ep,default:void 0,responsive:!0},gapX:{type:"enum",values:ep,default:void 0,responsive:!0},gapY:{type:"enum",values:ep,default:void 0,responsive:!0}},Qo=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{rest:o,...i}=hx(n),{className:a,asChild:s,display:l=Sr.display.default,columns:u=Sr.columns.default,rows:d=Sr.rows.default,flow:p=Sr.flow.default,align:h=Sr.align.default,justify:m=Sr.justify.default,gap:v=Sr.gap.default,gapX:g=Sr.gapX.default,gapY:b=Sr.gapY.default,style:y,...x}=o,_=s?Kt:"div";let w={...y};if(typeof u=="string"&&(w={"--grid-template-columns-initial":sc(u),...w}),typeof d=="string"&&(w={"--grid-template-rows-initial":sc(d),...w}),Yw(u))for(const E in u)Zw(u,E)&&(w={[`--grid-template-columns-${E}`]:sc(u[E]),...w});if(Yw(d))for(const E in d)Zw(d,E)&&(w={[`--grid-template-rows-${E}`]:sc(d[E]),...w});return f.createElement(_,{...x,ref:t,className:Ee("rt-Grid",a,xe(l,"rt-r-display"),xe(p,"rt-r-gaf"),xe(h,"rt-r-ai"),xe(m,"rt-r-jc",{between:"space-between"}),xe(v,"rt-r-gap"),xe(g,"rt-r-cg"),xe(b,"rt-r-rg"),mx(i),Et(r)),style:Object.keys(w).length?w:void 0})});Qo.displayName="Grid";function sc(e){return e!=null&&e.match(/^\d+$/)?`repeat(${e}, minmax(0, 1fr))`:e}const XD=["1","2","3","4","5","6","7","8","9"],Ni={size:{type:"enum",values:XD,default:"6",responsive:!0},weight:{...d4,default:"bold"},align:u4,trim:c4,color:Jt,highContrast:Zr},mt=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{children:o,className:i,asChild:a=!1,as:s="h1",size:l=Ni.size.default,weight:u=Ni.weight.default,align:d=Ni.align.default,trim:p=Ni.trim.default,color:h=Ni.color.default,highContrast:m=Ni.highContrast.default,...v}=n;return f.createElement(Kt,{"data-accent-color":h,...v,ref:t,className:Ee("rt-Heading",i,xe(l,"rt-r-size"),xe(u,"rt-r-weight"),xe(d,"rt-r-ta"),xe(p,"rt-r-lt"),{"rt-high-contrast":m},Et(r))},a?o:f.createElement(s,null,o))});mt.displayName="Heading";const ZD=["1","2","3","4","5","6","7","8","9"],Pi={size:{type:"enum",values:ZD,default:void 0,responsive:!0},weight:d4,align:u4,trim:c4,color:Jt,highContrast:Zr},k=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{children:o,className:i,asChild:a=!1,as:s="span",size:l=Pi.size.default,weight:u=Pi.weight.default,align:d=Pi.align.default,trim:p=Pi.trim.default,color:h=Pi.color.default,highContrast:m=Pi.highContrast.default,...v}=n;return f.createElement(Kt,{"data-accent-color":h,...v,ref:t,className:Ee("rt-Text",i,xe(l,"rt-r-size"),xe(u,"rt-r-weight"),xe(d,"rt-r-ta"),xe(p,"rt-r-lt"),{"rt-high-contrast":m},Et(r))},a?o:f.createElement(s,null,o))});k.displayName="Text";function fd(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const f4="Checkbox",[QD,Oee]=Zt(f4),[JD,eA]=QD(f4),tA=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:i,required:a,disabled:s,value:l="on",onCheckedChange:u,...d}=e,[p,h]=f.useState(null),m=ze(t,_=>h(_)),v=f.useRef(!1),g=p?!!p.closest("form"):!0,[b=!1,y]=gr({prop:o,defaultProp:i,onChange:u}),x=f.useRef(b);return f.useEffect(()=>{const _=p==null?void 0:p.form;if(_){const w=()=>y(x.current);return _.addEventListener("reset",w),()=>_.removeEventListener("reset",w)}},[p,y]),f.createElement(JD,{scope:n,state:b,disabled:s},f.createElement(Ne.button,ne({type:"button",role:"checkbox","aria-checked":ii(b)?"mixed":b,"aria-required":a,"data-state":p4(b),"data-disabled":s?"":void 0,disabled:s,value:l},d,{ref:m,onKeyDown:_e(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:_e(e.onClick,_=>{y(w=>ii(w)?!0:!w),g&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})})),g&&f.createElement(oA,{control:p,bubbles:!v.current,name:r,value:l,checked:b,required:a,disabled:s,style:{transform:"translateX(-100%)"}}))}),nA="CheckboxIndicator",rA=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,i=eA(nA,n);return f.createElement(Qt,{present:r||ii(i.state)||i.state===!0},f.createElement(Ne.span,ne({"data-state":p4(i.state),"data-disabled":i.disabled?"":void 0},o,{ref:t,style:{pointerEvents:"none",...e.style}})))}),oA=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,i=f.useRef(null),a=fd(n),s=ud(t);return f.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&p){const h=new Event("click",{bubbles:r});l.indeterminate=ii(n),p.call(l,ii(n)?!1:n),l.dispatchEvent(h)}},[a,n,r]),f.createElement("input",ne({type:"checkbox","aria-hidden":!0,defaultChecked:ii(n)?!1:n},o,{tabIndex:-1,ref:i,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function ii(e){return e==="indeterminate"}function p4(e){return ii(e)?"indeterminate":e?"checked":"unchecked"}const iA=tA,aA=rA,sA=["1","2","3"],lA=["classic","surface","soft"],lc={size:{type:"enum",values:sA,default:"2",responsive:!0},variant:{type:"enum",values:lA,default:"surface"},color:Jt,highContrast:Zr},bl=f.forwardRef(({color:e="currentColor",...t},n)=>f.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:e,xmlns:"http://www.w3.org/2000/svg",...t,ref:n},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));bl.displayName="ThickCheckIcon";const h4=f.forwardRef(({color:e="currentColor",...t},n)=>f.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:e,xmlns:"http://www.w3.org/2000/svg",...t,ref:n},f.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));h4.displayName="ChevronDownIcon";const m4=f.forwardRef(({color:e="currentColor",...t},n)=>f.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:e,xmlns:"http://www.w3.org/2000/svg",...t,ref:n},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));m4.displayName="ThickChevronRightIcon";const cA=f.forwardRef(({color:e="currentColor",...t},n)=>f.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n},f.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:e,fillRule:"evenodd",clipRule:"evenodd"})));cA.displayName="InfoCircledIcon";const qt=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,style:i,size:a=lc.size.default,variant:s=lc.variant.default,color:l=lc.color.default,highContrast:u=lc.highContrast.default,...d}=n;return f.createElement("span",{className:Ee("rt-CheckboxRoot",o,xe(a,"rt-r-size"),Et(r)),style:i},f.createElement(iA,{"data-accent-color":l,...d,ref:t,className:Ee("rt-reset","rt-CheckboxButton",`rt-variant-${s}`,{"rt-high-contrast":u})},f.createElement(aA,{className:"rt-CheckboxIndicator"},f.createElement(bl,{className:"rt-CheckboxIndicatorIcon"}))))});qt.displayName="Checkbox";function gx(e){const t=e+"CollectionProvider",[n,r]=Zt(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:v,children:g}=m,b=Z.useRef(null),y=Z.useRef(new Map).current;return Z.createElement(o,{scope:v,itemMap:y,collectionRef:b},g)},s=e+"CollectionSlot",l=Z.forwardRef((m,v)=>{const{scope:g,children:b}=m,y=i(s,g),x=ze(v,y.collectionRef);return Z.createElement(Kt,{ref:x},b)}),u=e+"CollectionItemSlot",d="data-radix-collection-item",p=Z.forwardRef((m,v)=>{const{scope:g,children:b,...y}=m,x=Z.useRef(null),_=ze(v,x),w=i(u,g);return Z.useEffect(()=>(w.itemMap.set(x,{ref:x,...y}),()=>void w.itemMap.delete(x))),Z.createElement(Kt,{[d]:"",ref:_},b)});function h(m){const v=i(e+"CollectionConsumer",m);return Z.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((w,E)=>y.indexOf(w.ref.current)-y.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:l,ItemSlot:p},h,r]}const tp="rovingFocusGroup.onEntryFocus",uA={bubbles:!1,cancelable:!0},vx="RovingFocusGroup",[wv,g4,dA]=gx(vx),[fA,Ma]=Zt(vx,[dA]),[pA,hA]=fA(vx),mA=f.forwardRef((e,t)=>f.createElement(wv.Provider,{scope:e.__scopeRovingFocusGroup},f.createElement(wv.Slot,{scope:e.__scopeRovingFocusGroup},f.createElement(gA,ne({},e,{ref:t}))))),gA=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,...d}=e,p=f.useRef(null),h=ze(t,p),m=Aa(i),[v=null,g]=gr({prop:a,defaultProp:s,onChange:l}),[b,y]=f.useState(!1),x=vt(u),_=g4(n),w=f.useRef(!1),[E,j]=f.useState(0);return f.useEffect(()=>{const $=p.current;if($)return $.addEventListener(tp,x),()=>$.removeEventListener(tp,x)},[x]),f.createElement(pA,{scope:n,orientation:r,dir:m,loop:o,currentTabStopId:v,onItemFocus:f.useCallback($=>g($),[g]),onItemShiftTab:f.useCallback(()=>y(!0),[]),onFocusableItemAdd:f.useCallback(()=>j($=>$+1),[]),onFocusableItemRemove:f.useCallback(()=>j($=>$-1),[])},f.createElement(Ne.div,ne({tabIndex:b||E===0?-1:0,"data-orientation":r},d,{ref:h,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{w.current=!0}),onFocus:_e(e.onFocus,$=>{const A=!w.current;if($.target===$.currentTarget&&A&&!b){const C=new CustomEvent(tp,uA);if($.currentTarget.dispatchEvent(C),!C.defaultPrevented){const S=_().filter(L=>L.focusable),D=S.find(L=>L.active),O=S.find(L=>L.id===v),N=[D,O,...S].filter(Boolean).map(L=>L.ref.current);v4(N)}}w.current=!1}),onBlur:_e(e.onBlur,()=>y(!1))})))}),vA="RovingFocusGroupItem",yA=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,...a}=e,s=Nn(),l=i||s,u=hA(vA,n),d=u.currentTabStopId===l,p=g4(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return f.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),f.createElement(wv.ItemSlot,{scope:n,id:l,focusable:r,active:o},f.createElement(Ne.span,ne({tabIndex:d?0:-1,"data-orientation":u.orientation},a,{ref:t,onMouseDown:_e(e.onMouseDown,v=>{r?u.onItemFocus(l):v.preventDefault()}),onFocus:_e(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:_e(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=wA(v,u.orientation,u.dir);if(g!==void 0){v.preventDefault();let y=p().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const x=y.indexOf(v.currentTarget);y=u.loop?bA(y,x+1):y.slice(x+1)}setTimeout(()=>v4(y))}})})))}),xA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _A(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wA(e,t,n){const r=_A(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xA[r]}function v4(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function bA(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const yx=mA,xx=yA,y4="Radio",[CA,x4]=Zt(y4),[SA,EA]=CA(y4),jA=f.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:i,disabled:a,value:s="on",onCheck:l,...u}=e,[d,p]=f.useState(null),h=ze(t,g=>p(g)),m=f.useRef(!1),v=d?!!d.closest("form"):!0;return f.createElement(SA,{scope:n,checked:o,disabled:a},f.createElement(Ne.button,ne({type:"button",role:"radio","aria-checked":o,"data-state":_4(o),"data-disabled":a?"":void 0,disabled:a,value:s},u,{ref:h,onClick:_e(e.onClick,g=>{o||l==null||l(),v&&(m.current=g.isPropagationStopped(),m.current||g.stopPropagation())})})),v&&f.createElement(TA,{control:d,bubbles:!m.current,name:r,value:s,checked:o,required:i,disabled:a,style:{transform:"translateX(-100%)"}}))}),$A="RadioIndicator",RA=f.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,i=EA($A,n);return f.createElement(Qt,{present:r||i.checked},f.createElement(Ne.span,ne({"data-state":_4(i.checked),"data-disabled":i.disabled?"":void 0},o,{ref:t})))}),TA=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,i=f.useRef(null),a=fd(n),s=ud(t);return f.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&p){const h=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(h)}},[a,n,r]),f.createElement("input",ne({type:"radio","aria-hidden":!0,defaultChecked:n},o,{tabIndex:-1,ref:i,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function _4(e){return e?"checked":"unchecked"}const kA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],w4="RadioGroup",[NA,Lee]=Zt(w4,[Ma,x4]),b4=Ma(),C4=x4(),[PA,DA]=NA(w4),AA=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:i,required:a=!1,disabled:s=!1,orientation:l,dir:u,loop:d=!0,onValueChange:p,...h}=e,m=b4(n),v=Aa(u),[g,b]=gr({prop:i,defaultProp:o,onChange:p});return f.createElement(PA,{scope:n,name:r,required:a,disabled:s,value:g,onValueChange:b},f.createElement(yx,ne({asChild:!0},m,{orientation:l,dir:v,loop:d}),f.createElement(Ne.div,ne({role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":s?"":void 0,dir:v},h,{ref:t}))))}),IA="RadioGroupItem",MA=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,i=DA(IA,n),a=i.disabled||r,s=b4(n),l=C4(n),u=f.useRef(null),d=ze(t,u),p=i.value===o.value,h=f.useRef(!1);return f.useEffect(()=>{const m=g=>{kA.includes(g.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",v)}},[]),f.createElement(xx,ne({asChild:!0},s,{focusable:!a,active:p}),f.createElement(jA,ne({disabled:a,required:i.required,checked:p},l,o,{name:i.name,ref:d,onCheck:()=>i.onValueChange(o.value),onKeyDown:_e(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:_e(o.onFocus,()=>{var m;h.current&&((m=u.current)===null||m===void 0||m.click())})})))}),OA=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=C4(n);return f.createElement(RA,ne({},o,r,{ref:t}))}),LA=AA,zA=MA,FA=OA,qA=["1","2","3"],BA=["classic","surface","soft"],cc={size:{type:"enum",values:qA,default:"2",responsive:!0},variant:{type:"enum",values:BA,default:"surface"},color:Jt,highContrast:Zr},S4=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,size:i=cc.size.default,variant:a=cc.variant.default,color:s=cc.color.default,highContrast:l=cc.highContrast.default,...u}=n;return f.createElement(LA,{"data-accent-color":s,...u,ref:t,className:Ee("rt-RadioGroupRoot",o,xe(i,"rt-r-size"),`rt-variant-${a}`,{"rt-high-contrast":l},Et(r))})});S4.displayName="RadioGroupRoot";const E4=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,style:i,...a}=n;return f.createElement("span",{className:Ee("rt-RadioGroupItem",o,Et(r)),style:i},f.createElement(zA,{...a,ref:t,className:Ee("rt-reset","rt-RadioGroupButton")},f.createElement(FA,{className:"rt-RadioGroupIndicator"})))});E4.displayName="RadioGroupItem";const np=Object.assign({},{Root:S4,Item:E4});function bv(e,[t,n]){return Math.min(n,Math.max(t,e))}let rp=0;function _x(){f.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Qw()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Qw()),rp++,()=>{rp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),rp--}},[])}function Qw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const op="focusScope.autoFocusOnMount",ip="focusScope.autoFocusOnUnmount",Jw={bubbles:!1,cancelable:!0},wx=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[s,l]=f.useState(null),u=vt(o),d=vt(i),p=f.useRef(null),h=ze(t,g=>l(g)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let x=function(j){if(m.paused||!s)return;const $=j.target;s.contains($)?p.current=$:lo(p.current,{select:!0})},_=function(j){if(m.paused||!s)return;const $=j.relatedTarget;$!==null&&(s.contains($)||lo(p.current,{select:!0}))},w=function(j){if(document.activeElement===document.body)for(const A of j)A.removedNodes.length>0&&lo(s)};var g=x,b=_,y=w;document.addEventListener("focusin",x),document.addEventListener("focusout",_);const E=new MutationObserver(w);return s&&E.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),E.disconnect()}}},[r,s,m.paused]),f.useEffect(()=>{if(s){tb.add(m);const g=document.activeElement;if(!s.contains(g)){const y=new CustomEvent(op,Jw);s.addEventListener(op,u),s.dispatchEvent(y),y.defaultPrevented||(VA(KA(j4(s)),{select:!0}),document.activeElement===g&&lo(s))}return()=>{s.removeEventListener(op,u),setTimeout(()=>{const y=new CustomEvent(ip,Jw);s.addEventListener(ip,d),s.dispatchEvent(y),y.defaultPrevented||lo(g??document.body,{select:!0}),s.removeEventListener(ip,d),tb.remove(m)},0)}}},[s,u,d,m]);const v=f.useCallback(g=>{if(!n&&!r||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(b&&y){const x=g.currentTarget,[_,w]=HA(x);_&&w?!g.shiftKey&&y===w?(g.preventDefault(),n&&lo(_,{select:!0})):g.shiftKey&&y===_&&(g.preventDefault(),n&&lo(w,{select:!0})):y===x&&g.preventDefault()}},[n,r,m.paused]);return f.createElement(Ne.div,ne({tabIndex:-1},a,{ref:h,onKeyDown:v}))});function VA(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(lo(r,{select:t}),document.activeElement!==n)return}function HA(e){const t=j4(e),n=eb(t,e),r=eb(t.reverse(),e);return[n,r]}function j4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eb(e,t){for(const n of e)if(!UA(n,{upTo:t}))return n}function UA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GA(e){return e instanceof HTMLInputElement&&"select"in e}function lo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&GA(e)&&t&&e.select()}}const tb=WA();function WA(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nb(e,t),e.unshift(t)},remove(t){var n;e=nb(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function nb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function KA(e){return e.filter(t=>t.tagName!=="A")}var YA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Di=new WeakMap,uc=new WeakMap,dc={},ap=0,$4=function(e){return e&&(e.host||$4(e.parentNode))},XA=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=$4(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ZA=function(e,t,n,r){var o=XA(t,Array.isArray(e)?e:[e]);dc[n]||(dc[n]=new WeakMap);var i=dc[n],a=[],s=new Set,l=new Set(o),u=function(p){!p||s.has(p)||(s.add(p),u(p.parentNode))};o.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(h){if(s.has(h))d(h);else{var m=h.getAttribute(r),v=m!==null&&m!=="false",g=(Di.get(h)||0)+1,b=(i.get(h)||0)+1;Di.set(h,g),i.set(h,b),a.push(h),g===1&&v&&uc.set(h,!0),b===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}})};return d(t),s.clear(),ap++,function(){a.forEach(function(p){var h=Di.get(p)-1,m=i.get(p)-1;Di.set(p,h),i.set(p,m),h||(uc.has(p)||p.removeAttribute(r),uc.delete(p)),m||p.removeAttribute(n)}),ap--,ap||(Di=new WeakMap,Di=new WeakMap,uc=new WeakMap,dc={})}},bx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||YA(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),ZA(r,o,n,"aria-hidden")):function(){return null}},sr=function(){return sr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sr.apply(this,arguments)};function R4(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function QA(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var qc="right-scroll-bar-position",Bc="width-before-scroll-bar",JA="with-scroll-bars-hidden",eI="--removed-body-scroll-bar-size";function sp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tI(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var rb=new WeakMap;function nI(e,t){var n=tI(t||null,function(r){return e.forEach(function(o){return sp(o,r)})});return f.useLayoutEffect(function(){var r=rb.get(n);if(r){var o=new Set(r),i=new Set(e),a=n.current;o.forEach(function(s){i.has(s)||sp(s,null)}),i.forEach(function(s){o.has(s)||sp(s,a)})}rb.set(n,e)},[e]),n}function rI(e){return e}function oI(e,t){t===void 0&&(t=rI);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(s){return i(s)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(i),a=n}var l=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return o}function iI(e){e===void 0&&(e={});var t=oI(null);return t.options=sr({async:!0,ssr:!1},e),t}var T4=function(e){var t=e.sideCar,n=R4(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,sr({},n))};T4.isSideCarExport=!0;function aI(e,t){return e.useMedium(t),T4}var k4=iI(),lp=function(){},pd=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:lp,onWheelCapture:lp,onTouchMoveCapture:lp}),o=r[0],i=r[1],a=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,p=e.shards,h=e.sideCar,m=e.noIsolation,v=e.inert,g=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,x=R4(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),_=h,w=nI([n,t]),E=sr(sr({},x),o);return f.createElement(f.Fragment,null,d&&f.createElement(_,{sideCar:k4,removeScrollBar:u,shards:p,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:n}),a?f.cloneElement(f.Children.only(s),sr(sr({},E),{ref:w})):f.createElement(y,sr({},E,{className:l,ref:w}),s))});pd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pd.classNames={fullWidth:Bc,zeroRight:qc};var sI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sI();return t&&e.setAttribute("nonce",t),e}function cI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dI=function(){var e=0,t=null;return{add:function(n){e==0&&(t=lI())&&(cI(t,n),uI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fI=function(){var e=dI();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},N4=function(){var e=fI(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},pI={left:0,top:0,right:0,gap:0},cp=function(e){return parseInt(e||"",10)||0},hI=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[cp(n),cp(r),cp(o)]},mI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pI;var t=hI(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},gI=N4(),Eu="data-scroll-locked",vI=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(JA,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Eu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qc,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Bc,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(qc," .").concat(qc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bc," .").concat(Bc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Eu,`] {
    `).concat(eI,": ").concat(s,`px;
  }
`)},yI=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,i=f.useMemo(function(){return mI(o)},[o]);return f.useEffect(function(){return document.body.setAttribute(Eu,""),function(){document.body.removeAttribute(Eu)}},[]),f.createElement(gI,{styles:vI(i,!t,o,n?"":"!important")})},Cv=!1;if(typeof window<"u")try{var fc=Object.defineProperty({},"passive",{get:function(){return Cv=!0,!0}});window.addEventListener("test",fc,fc),window.removeEventListener("test",fc,fc)}catch{Cv=!1}var Ai=Cv?{passive:!1}:!1,xI=function(e){return e.tagName==="TEXTAREA"},P4=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!xI(e)&&n[t]==="visible")},_I=function(e){return P4(e,"overflowY")},wI=function(e){return P4(e,"overflowX")},ob=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=D4(e,n);if(r){var o=A4(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},bI=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},CI=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},D4=function(e,t){return e==="v"?_I(t):wI(t)},A4=function(e,t){return e==="v"?bI(t):CI(t)},SI=function(e,t){return e==="h"&&t==="rtl"?-1:1},EI=function(e,t,n,r,o){var i=SI(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,l=t.contains(s),u=!1,d=a>0,p=0,h=0;do{var m=A4(e,s),v=m[0],g=m[1],b=m[2],y=g-b-i*v;(v||y)&&D4(e,s)&&(p+=y,h+=v),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&(o&&p===0||!o&&a>p)||!d&&(o&&h===0||!o&&-a>h))&&(u=!0),u},pc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ib=function(e){return[e.deltaX,e.deltaY]},ab=function(e){return e&&"current"in e?e.current:e},jI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$I=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},RI=0,Ii=[];function TI(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(RI++)[0],i=f.useState(function(){return N4()})[0],a=f.useRef(e);f.useEffect(function(){a.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=QA([e.lockRef.current],(e.shards||[]).map(ab),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=f.useCallback(function(g,b){if("touches"in g&&g.touches.length===2)return!a.current.allowPinchZoom;var y=pc(g),x=n.current,_="deltaX"in g?g.deltaX:x[0]-y[0],w="deltaY"in g?g.deltaY:x[1]-y[1],E,j=g.target,$=Math.abs(_)>Math.abs(w)?"h":"v";if("touches"in g&&$==="h"&&j.type==="range")return!1;var A=ob($,j);if(!A)return!0;if(A?E=$:(E=$==="v"?"h":"v",A=ob($,j)),!A)return!1;if(!r.current&&"changedTouches"in g&&(_||w)&&(r.current=E),!E)return!0;var C=r.current||E;return EI(C,b,g,C==="h"?_:w,!0)},[]),l=f.useCallback(function(g){var b=g;if(!(!Ii.length||Ii[Ii.length-1]!==i)){var y="deltaY"in b?ib(b):pc(b),x=t.current.filter(function(E){return E.name===b.type&&E.target===b.target&&jI(E.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var _=(a.current.shards||[]).map(ab).filter(Boolean).filter(function(E){return E.contains(b.target)}),w=_.length>0?s(b,_[0]):!a.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(g,b,y,x){var _={name:g,delta:b,target:y,should:x};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(w){return w!==_})},1)},[]),d=f.useCallback(function(g){n.current=pc(g),r.current=void 0},[]),p=f.useCallback(function(g){u(g.type,ib(g),g.target,s(g,e.lockRef.current))},[]),h=f.useCallback(function(g){u(g.type,pc(g),g.target,s(g,e.lockRef.current))},[]);f.useEffect(function(){return Ii.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ai),document.addEventListener("touchmove",l,Ai),document.addEventListener("touchstart",d,Ai),function(){Ii=Ii.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ai),document.removeEventListener("touchmove",l,Ai),document.removeEventListener("touchstart",d,Ai)}},[]);var m=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(i,{styles:$I(o)}):null,m?f.createElement(yI,{gapMode:"margin"}):null)}const kI=aI(k4,TI);var I4=f.forwardRef(function(e,t){return f.createElement(pd,sr({},e,{ref:t,sideCar:kI}))});I4.classNames=pd.classNames;const Cx=I4,NI=[" ","Enter","ArrowUp","ArrowDown"],PI=[" ","Enter"],hd="Select",[md,Sx,DI]=gx(hd),[Oa,zee]=Zt(hd,[DI,Da]),Ex=Da(),[AI,_i]=Oa(hd),[II,MI]=Oa(hd),OI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:a,defaultValue:s,onValueChange:l,dir:u,name:d,autoComplete:p,disabled:h,required:m}=e,v=Ex(t),[g,b]=f.useState(null),[y,x]=f.useState(null),[_,w]=f.useState(!1),E=Aa(u),[j=!1,$]=gr({prop:r,defaultProp:o,onChange:i}),[A,C]=gr({prop:a,defaultProp:s,onChange:l}),S=f.useRef(null),D=g?!!g.closest("form"):!0,[O,F]=f.useState(new Set),N=Array.from(O).map(L=>L.props.value).join(";");return f.createElement(cx,v,f.createElement(AI,{required:m,scope:t,trigger:g,onTriggerChange:b,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:Nn(),value:A,onValueChange:C,open:j,onOpenChange:$,dir:E,triggerPointerDownPosRef:S,disabled:h},f.createElement(md.Provider,{scope:t},f.createElement(II,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(L=>{F(T=>new Set(T).add(L))},[]),onNativeOptionRemove:f.useCallback(L=>{F(T=>{const B=new Set(T);return B.delete(L),B})},[])},n)),D?f.createElement(z4,{key:N,"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:p,value:A,onChange:L=>C(L.target.value),disabled:h},A===void 0?f.createElement("option",{value:""}):null,Array.from(O)):null))},LI="SelectTrigger",zI=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=Ex(n),a=_i(LI,n),s=a.disabled||r,l=ze(t,a.onTriggerChange),u=Sx(n),[d,p,h]=F4(v=>{const g=u().filter(x=>!x.disabled),b=g.find(x=>x.value===a.value),y=q4(g,v,b);y!==void 0&&a.onValueChange(y.value)}),m=()=>{s||(a.onOpenChange(!0),h())};return f.createElement(n4,ne({asChild:!0},i),f.createElement(Ne.button,ne({type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":L4(a.value)?"":void 0},o,{ref:l,onClick:_e(o.onClick,v=>{v.currentTarget.focus()}),onPointerDown:_e(o.onPointerDown,v=>{const g=v.target;g.hasPointerCapture(v.pointerId)&&g.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(m(),a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)},v.preventDefault())}),onKeyDown:_e(o.onKeyDown,v=>{const g=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(g&&v.key===" ")&&NI.includes(v.key)&&(m(),v.preventDefault())})})))}),FI="SelectValue",qI=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:a="",...s}=e,l=_i(FI,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,p=ze(t,l.onValueNodeChange);return On(()=>{u(d)},[u,d]),f.createElement(Ne.span,ne({},s,{ref:p,style:{pointerEvents:"none"}}),L4(l.value)?f.createElement(f.Fragment,null,a):i)}),BI=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return f.createElement(Ne.span,ne({"aria-hidden":!0},o,{ref:t}),r||"")}),VI=e=>f.createElement(ux,ne({asChild:!0},e)),xa="SelectContent",HI=f.forwardRef((e,t)=>{const n=_i(xa,e.__scopeSelect),[r,o]=f.useState();if(On(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?yi.createPortal(f.createElement(M4,{scope:e.__scopeSelect},f.createElement(md.Slot,{scope:e.__scopeSelect},f.createElement("div",null,e.children))),i):null}return f.createElement(UI,ne({},e,{ref:t}))}),Rr=10,[M4,gd]=Oa(xa),UI=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:a,side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:b,...y}=e,x=_i(xa,n),[_,w]=f.useState(null),[E,j]=f.useState(null),$=ze(t,z=>w(z)),[A,C]=f.useState(null),[S,D]=f.useState(null),O=Sx(n),[F,N]=f.useState(!1),L=f.useRef(!1);f.useEffect(()=>{if(_)return bx(_)},[_]),_x();const T=f.useCallback(z=>{const[U,...V]=O().map(H=>H.ref.current),[P]=V.slice(-1),W=document.activeElement;for(const H of z)if(H===W||(H==null||H.scrollIntoView({block:"nearest"}),H===U&&E&&(E.scrollTop=0),H===P&&E&&(E.scrollTop=E.scrollHeight),H==null||H.focus(),document.activeElement!==W))return},[O,E]),B=f.useCallback(()=>T([A,_]),[T,A,_]);f.useEffect(()=>{F&&B()},[F,B]);const{onOpenChange:I,triggerPointerDownPosRef:R}=x;f.useEffect(()=>{if(_){let z={x:0,y:0};const U=P=>{var W,H,ge,ce;z={x:Math.abs(Math.round(P.pageX)-((W=(H=R.current)===null||H===void 0?void 0:H.x)!==null&&W!==void 0?W:0)),y:Math.abs(Math.round(P.pageY)-((ge=(ce=R.current)===null||ce===void 0?void 0:ce.y)!==null&&ge!==void 0?ge:0))}},V=P=>{z.x<=10&&z.y<=10?P.preventDefault():_.contains(P.target)||I(!1),document.removeEventListener("pointermove",U),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",U),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",V,{capture:!0})}}},[_,I,R]),f.useEffect(()=>{const z=()=>I(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[I]);const[q,G]=F4(z=>{const U=O().filter(W=>!W.disabled),V=U.find(W=>W.ref.current===document.activeElement),P=q4(U,z,V);P&&setTimeout(()=>P.ref.current.focus())}),Q=f.useCallback((z,U,V)=>{const P=!L.current&&!V;(x.value!==void 0&&x.value===U||P)&&(C(z),P&&(L.current=!0))},[x.value]),le=f.useCallback(()=>_==null?void 0:_.focus(),[_]),ie=f.useCallback((z,U,V)=>{const P=!L.current&&!V;(x.value!==void 0&&x.value===U||P)&&D(z)},[x.value]),fe=r==="popper"?sb:GI,he=fe===sb?{side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return f.createElement(M4,{scope:n,content:_,viewport:E,onViewportChange:j,itemRefCallback:Q,selectedItem:A,onItemLeave:le,itemTextRefCallback:ie,focusSelectedItem:B,selectedItemText:S,position:r,isPositioned:F,searchRef:q},f.createElement(Cx,{as:Kt,allowPinchZoom:!0},f.createElement(wx,{asChild:!0,trapped:x.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:_e(o,z=>{var U;(U=x.trigger)===null||U===void 0||U.focus({preventScroll:!0}),z.preventDefault()})},f.createElement(nx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>x.onOpenChange(!1)},f.createElement(fe,ne({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:z=>z.preventDefault()},y,he,{onPlaced:()=>N(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:_e(y.onKeyDown,z=>{const U=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!U&&z.key.length===1&&G(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let P=O().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(z.key)&&(P=P.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const W=z.target,H=P.indexOf(W);P=P.slice(H+1)}setTimeout(()=>T(P)),z.preventDefault()}})}))))))}),GI=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=_i(xa,n),a=gd(xa,n),[s,l]=f.useState(null),[u,d]=f.useState(null),p=ze(t,$=>d($)),h=Sx(n),m=f.useRef(!1),v=f.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:y,focusSelectedItem:x}=a,_=f.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&u&&g&&b&&y){const $=i.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),S=y.getBoundingClientRect();if(i.dir!=="rtl"){const W=S.left-A.left,H=C.left-W,ge=$.left-H,ce=$.width+ge,K=Math.max(ce,A.width),Y=window.innerWidth-Rr,oe=bv(H,[Rr,Y-K]);s.style.minWidth=ce+"px",s.style.left=oe+"px"}else{const W=A.right-S.right,H=window.innerWidth-C.right-W,ge=window.innerWidth-$.right-H,ce=$.width+ge,K=Math.max(ce,A.width),Y=window.innerWidth-Rr,oe=bv(H,[Rr,Y-K]);s.style.minWidth=ce+"px",s.style.right=oe+"px"}const D=h(),O=window.innerHeight-Rr*2,F=g.scrollHeight,N=window.getComputedStyle(u),L=parseInt(N.borderTopWidth,10),T=parseInt(N.paddingTop,10),B=parseInt(N.borderBottomWidth,10),I=parseInt(N.paddingBottom,10),R=L+T+F+I+B,q=Math.min(b.offsetHeight*5,R),G=window.getComputedStyle(g),Q=parseInt(G.paddingTop,10),le=parseInt(G.paddingBottom,10),ie=$.top+$.height/2-Rr,fe=O-ie,he=b.offsetHeight/2,z=b.offsetTop+he,U=L+T+z,V=R-U;if(U<=ie){const W=b===D[D.length-1].ref.current;s.style.bottom="0px";const H=u.clientHeight-g.offsetTop-g.offsetHeight,ge=Math.max(fe,he+(W?le:0)+H+B),ce=U+ge;s.style.height=ce+"px"}else{const W=b===D[0].ref.current;s.style.top="0px";const ge=Math.max(ie,L+g.offsetTop+(W?Q:0)+he)+V;s.style.height=ge+"px",g.scrollTop=U-ie+g.offsetTop}s.style.margin=`${Rr}px 0`,s.style.minHeight=q+"px",s.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,s,u,g,b,y,i.dir,r]);On(()=>_(),[_]);const[w,E]=f.useState();On(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const j=f.useCallback($=>{$&&v.current===!0&&(_(),x==null||x(),v.current=!1)},[_,x]);return f.createElement(WI,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:j},f.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w}},f.createElement(Ne.div,ne({},o,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),sb=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Rr,...i}=e,a=Ex(n);return f.createElement(r4,ne({},a,i,{ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[WI,KI]=Oa(xa,{}),lb="SelectViewport",YI=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=gd(lb,n),i=KI(lb,n),a=ze(t,o.onViewportChange),s=f.useRef(0);return f.createElement(f.Fragment,null,f.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),f.createElement(md.Slot,{scope:n},f.createElement(Ne.div,ne({"data-radix-select-viewport":"",role:"presentation"},r,{ref:a,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:_e(r.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&d){const h=Math.abs(s.current-u.scrollTop);if(h>0){const m=window.innerHeight-Rr*2,v=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),b=Math.max(v,g);if(b<m){const y=b+h,x=Math.min(m,y),_=y-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}s.current=u.scrollTop})}))))}),XI="SelectGroup",[ZI,QI]=Oa(XI),JI=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Nn();return f.createElement(ZI,{scope:n,id:o},f.createElement(Ne.div,ne({role:"group","aria-labelledby":o},r,{ref:t})))}),eM="SelectLabel",tM=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=QI(eM,n);return f.createElement(Ne.div,ne({id:o.id},r,{ref:t}))}),Sv="SelectItem",[nM,O4]=Oa(Sv),rM=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...a}=e,s=_i(Sv,n),l=gd(Sv,n),u=s.value===r,[d,p]=f.useState(i??""),[h,m]=f.useState(!1),v=ze(t,y=>{var x;return(x=l.itemRefCallback)===null||x===void 0?void 0:x.call(l,y,r,o)}),g=Nn(),b=()=>{o||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.createElement(nM,{scope:n,value:r,disabled:o,textId:g,isSelected:u,onItemTextChange:f.useCallback(y=>{p(x=>{var _;return x||((_=y==null?void 0:y.textContent)!==null&&_!==void 0?_:"").trim()})},[])},f.createElement(md.ItemSlot,{scope:n,value:r,disabled:o,textValue:d},f.createElement(Ne.div,ne({role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},a,{ref:v,onFocus:_e(a.onFocus,()=>m(!0)),onBlur:_e(a.onBlur,()=>m(!1)),onPointerUp:_e(a.onPointerUp,b),onPointerMove:_e(a.onPointerMove,y=>{if(o){var x;(x=l.onItemLeave)===null||x===void 0||x.call(l)}else y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(a.onPointerLeave,y=>{if(y.currentTarget===document.activeElement){var x;(x=l.onItemLeave)===null||x===void 0||x.call(l)}}),onKeyDown:_e(a.onKeyDown,y=>{var x;((x=l.searchRef)===null||x===void 0?void 0:x.current)!==""&&y.key===" "||(PI.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})}))))}),hc="SelectItemText",oM=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,a=_i(hc,n),s=gd(hc,n),l=O4(hc,n),u=MI(hc,n),[d,p]=f.useState(null),h=ze(t,y=>p(y),l.onItemTextChange,y=>{var x;return(x=s.itemTextRefCallback)===null||x===void 0?void 0:x.call(s,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=f.useMemo(()=>f.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},m),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return On(()=>(g(v),()=>b(v)),[g,b,v]),f.createElement(f.Fragment,null,f.createElement(Ne.span,ne({id:l.textId},i,{ref:h})),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?yi.createPortal(i.children,a.valueNode):null)}),iM="SelectItemIndicator",aM=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return O4(iM,n).isSelected?f.createElement(Ne.span,ne({"aria-hidden":!0},r,{ref:t})):null}),sM=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f.createElement(Ne.div,ne({"aria-hidden":!0},r,{ref:t}))});function L4(e){return e===""||e===void 0}const z4=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=f.useRef(null),i=ze(t,o),a=fd(n);return f.useEffect(()=>{const s=o.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&d){const p=new Event("change",{bubbles:!0});d.call(s,n),s.dispatchEvent(p)}},[a,n]),f.createElement(lD,{asChild:!0},f.createElement("select",ne({},r,{ref:i,defaultValue:n})))});z4.displayName="BubbleSelect";function F4(e){const t=vt(e),n=f.useRef(""),r=f.useRef(0),o=f.useCallback(a=>{const s=n.current+a;t(s),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[t]),i=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function q4(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=lM(e,Math.max(i,0));o.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function lM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const cM=OI,uM=zI,dM=qI,fM=BI,pM=VI,hM=HI,mM=YI,gM=JI,vM=tM,yM=rM,xM=oM,_M=aM,wM=sM;function bM(e,t){return f.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const B4="ScrollArea",[V4,Fee]=Zt(B4),[CM,zn]=V4(B4),SM=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...a}=e,[s,l]=f.useState(null),[u,d]=f.useState(null),[p,h]=f.useState(null),[m,v]=f.useState(null),[g,b]=f.useState(null),[y,x]=f.useState(0),[_,w]=f.useState(0),[E,j]=f.useState(!1),[$,A]=f.useState(!1),C=ze(t,D=>l(D)),S=Aa(o);return f.createElement(CM,{scope:n,type:r,dir:S,scrollHideDelay:i,scrollArea:s,viewport:u,onViewportChange:d,content:p,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:$,onScrollbarYEnabledChange:A,onCornerWidthChange:x,onCornerHeightChange:w},f.createElement(Ne.div,ne({dir:S},a,{ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})))}),EM="ScrollAreaViewport",jM=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...o}=e,i=zn(EM,n),a=f.useRef(null),s=ze(t,a,i.onViewportChange);return f.createElement(f.Fragment,null,f.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),f.createElement(Ne.div,ne({"data-radix-scroll-area-viewport":""},o,{ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style}}),f.createElement("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Qr="ScrollAreaScrollbar",$M=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=zn(Qr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=o,s=e.orientation==="horizontal";return f.useEffect(()=>(s?i(!0):a(!0),()=>{s?i(!1):a(!1)}),[s,i,a]),o.type==="hover"?f.createElement(RM,ne({},r,{ref:t,forceMount:n})):o.type==="scroll"?f.createElement(TM,ne({},r,{ref:t,forceMount:n})):o.type==="auto"?f.createElement(H4,ne({},r,{ref:t,forceMount:n})):o.type==="always"?f.createElement(jx,ne({},r,{ref:t})):null}),RM=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=zn(Qr,e.__scopeScrollArea),[i,a]=f.useState(!1);return f.useEffect(()=>{const s=o.scrollArea;let l=0;if(s){const u=()=>{window.clearTimeout(l),a(!0)},d=()=>{l=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),f.createElement(Qt,{present:n||i},f.createElement(H4,ne({"data-state":i?"visible":"hidden"},r,{ref:t})))}),TM=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=zn(Qr,e.__scopeScrollArea),i=e.orientation==="horizontal",a=yd(()=>l("SCROLL_END"),100),[s,l]=bM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,o.scrollHideDelay,l]),f.useEffect(()=>{const u=o.viewport,d=i?"scrollLeft":"scrollTop";if(u){let p=u[d];const h=()=>{const m=u[d];p!==m&&(l("SCROLL"),a()),p=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[o.viewport,i,l,a]),f.createElement(Qt,{present:n||s!=="hidden"},f.createElement(jx,ne({"data-state":s==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:_e(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:_e(e.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),H4=f.forwardRef((e,t)=>{const n=zn(Qr,e.__scopeScrollArea),{forceMount:r,...o}=e,[i,a]=f.useState(!1),s=e.orientation==="horizontal",l=yd(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(s?u:d)}},10);return _a(n.viewport,l),_a(n.content,l),f.createElement(Qt,{present:r||i},f.createElement(jx,ne({"data-state":i?"visible":"hidden"},o,{ref:t})))}),jx=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=zn(Qr,e.__scopeScrollArea),i=f.useRef(null),a=f.useRef(0),[s,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=K4(s.viewport,s.content),d={...r,sizes:s,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function p(h,m){return OM(h,a.current,s,m)}return n==="horizontal"?f.createElement(kM,ne({},d,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const h=o.viewport.scrollLeft,m=cb(h,s,o.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=p(h,o.dir))}})):n==="vertical"?f.createElement(NM,ne({},d,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const h=o.viewport.scrollTop,m=cb(h,s);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=p(h))}})):null}),kM=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=zn(Qr,e.__scopeScrollArea),[a,s]=f.useState(),l=f.useRef(null),u=ze(t,l,i.onScrollbarXChange);return f.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),f.createElement(G4,ne({"data-orientation":"horizontal"},o,{ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),X4(h,p)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:ju(a.paddingLeft),paddingEnd:ju(a.paddingRight)}})}}))}),NM=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=zn(Qr,e.__scopeScrollArea),[a,s]=f.useState(),l=f.useRef(null),u=ze(t,l,i.onScrollbarYChange);return f.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),f.createElement(G4,ne({"data-orientation":"vertical"},o,{ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),X4(h,p)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:ju(a.paddingTop),paddingEnd:ju(a.paddingBottom)}})}}))}),[PM,U4]=V4(Qr),G4=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:p,...h}=e,m=zn(Qr,n),[v,g]=f.useState(null),b=ze(t,C=>g(C)),y=f.useRef(null),x=f.useRef(""),_=m.viewport,w=r.content-r.viewport,E=vt(d),j=vt(l),$=yd(p,10);function A(C){if(y.current){const S=C.clientX-y.current.left,D=C.clientY-y.current.top;u({x:S,y:D})}}return f.useEffect(()=>{const C=S=>{const D=S.target;(v==null?void 0:v.contains(D))&&E(S,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[_,v,w,E]),f.useEffect(j,[r,j]),_a(v,$),_a(m.content,$),f.createElement(PM,{scope:n,scrollbar:v,hasThumb:o,onThumbChange:vt(i),onThumbPointerUp:vt(a),onThumbPositionChange:j,onThumbPointerDown:vt(s)},f.createElement(Ne.div,ne({},h,{ref:b,style:{position:"absolute",...h.style},onPointerDown:_e(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),A(C))}),onPointerMove:_e(e.onPointerMove,A),onPointerUp:_e(e.onPointerUp,C=>{const S=C.target;S.hasPointerCapture(C.pointerId)&&S.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})))}),Ev="ScrollAreaThumb",DM=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=U4(Ev,e.__scopeScrollArea);return f.createElement(Qt,{present:n||o.hasThumb},f.createElement(AM,ne({ref:t},r)))}),AM=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,i=zn(Ev,n),a=U4(Ev,n),{onThumbPositionChange:s}=a,l=ze(t,p=>a.onThumbChange(p)),u=f.useRef(),d=yd(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const p=i.viewport;if(p){const h=()=>{if(d(),!u.current){const m=LM(p,s);u.current=m,s()}};return s(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[i.viewport,d,s]),f.createElement(Ne.div,ne({"data-state":a.hasThumb?"visible":"hidden"},o,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:_e(e.onPointerDownCapture,p=>{const m=p.target.getBoundingClientRect(),v=p.clientX-m.left,g=p.clientY-m.top;a.onThumbPointerDown({x:v,y:g})}),onPointerUp:_e(e.onPointerUp,a.onThumbPointerUp)}))}),W4="ScrollAreaCorner",IM=f.forwardRef((e,t)=>{const n=zn(W4,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.createElement(MM,ne({},e,{ref:t})):null}),MM=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=zn(W4,n),[i,a]=f.useState(0),[s,l]=f.useState(0),u=!!(i&&s);return _a(o.scrollbarX,()=>{var d;const p=((d=o.scrollbarX)===null||d===void 0?void 0:d.offsetHeight)||0;o.onCornerHeightChange(p),l(p)}),_a(o.scrollbarY,()=>{var d;const p=((d=o.scrollbarY)===null||d===void 0?void 0:d.offsetWidth)||0;o.onCornerWidthChange(p),a(p)}),u?f.createElement(Ne.div,ne({},r,{ref:t,style:{width:i,height:s,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function ju(e){return e?parseInt(e,10):0}function K4(e,t){const n=e/t;return isNaN(n)?0:n}function vd(e){const t=K4(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function OM(e,t,n,r="ltr"){const o=vd(n),i=o/2,a=t||i,s=o-a,l=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-s,d=n.content-n.viewport,p=r==="ltr"?[0,d]:[d*-1,0];return Y4([l,u],p)(e)}function cb(e,t,n="ltr"){const r=vd(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,a=t.content-t.viewport,s=i-r,l=n==="ltr"?[0,a]:[a*-1,0],u=bv(e,l);return Y4([0,a],[0,s])(u)}function Y4(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function X4(e,t){return e>0&&e<t}const LM=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,s=n.top!==i.top;(a||s)&&t(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function yd(e,t){const n=vt(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function _a(e,t){const n=vt(t);On(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const Z4=SM,Q4=jM,jv=$M,$v=DM,zM=IM,FM=["1","2","3"],qM={size:{type:"enum",values:FM,default:"2",responsive:!0}},BM=["classic","surface","soft","ghost"],up={variant:{type:"enum",values:BM,default:"surface"},color:Jt,radius:Ia},VM=["solid","soft"],dp={variant:{type:"enum",values:VM,default:"solid"},color:Jt,highContrast:Zr},$x=f.createContext({}),J4=e=>{const{children:t,size:n=qM.size.default,...r}=e;return f.createElement(cM,{...r},f.createElement($x.Provider,{value:f.useMemo(()=>({size:n}),[n])},t))};J4.displayName="SelectRoot";const e7=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,variant:i=up.variant.default,color:a=up.color.default,radius:s=up.radius.default,placeholder:l,...u}=n,{size:d}=f.useContext($x);return f.createElement(uM,{asChild:!0},f.createElement("button",{"data-accent-color":a,"data-radius":s,...u,ref:t,className:Ee("rt-reset","rt-SelectTrigger",o,xe(d,"rt-r-size"),`rt-variant-${i}`,Et(r))},f.createElement("span",{className:"rt-SelectTriggerInner"},f.createElement(dM,{placeholder:l})),f.createElement(fM,{asChild:!0},f.createElement(h4,{className:"rt-SelectIcon"}))))});e7.displayName="SelectTrigger";const t7=f.forwardRef((e,t)=>{const{className:n,children:r,variant:o=dp.variant.default,highContrast:i=dp.highContrast.default,color:a=dp.color.default,container:s,...l}=e,{size:u}=f.useContext($x),d=s4(),p=a??d.accentColor;return f.createElement(pM,{container:s},f.createElement(xi,{asChild:!0},f.createElement(hM,{"data-accent-color":p,sideOffset:4,...l,ref:t,className:Ee({"rt-PopperContent":l.position==="popper"},"rt-SelectContent",n,xe(u,"rt-r-size"),`rt-variant-${o}`,{"rt-high-contrast":i})},f.createElement(Z4,{type:"auto",className:"rt-ScrollAreaRoot"},f.createElement(mM,{asChild:!0,className:"rt-SelectViewport"},f.createElement(Q4,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},r)),f.createElement(jv,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},f.createElement($v,{className:"rt-ScrollAreaThumb"}))))))});t7.displayName="SelectContent";const n7=f.forwardRef((e,t)=>{const{className:n,children:r,...o}=e;return f.createElement(yM,{...o,ref:t,className:Ee("rt-SelectItem",n)},f.createElement(_M,{className:"rt-SelectItemIndicator"},f.createElement(bl,{className:"rt-SelectItemIndicatorIcon"})),f.createElement(xM,null,r))});n7.displayName="SelectItem";const r7=f.forwardRef((e,t)=>f.createElement(gM,{...e,ref:t,className:Ee("rt-SelectGroup",e.className)}));r7.displayName="SelectGroup";const o7=f.forwardRef((e,t)=>f.createElement(vM,{...e,ref:t,className:Ee("rt-SelectLabel",e.className)}));o7.displayName="SelectLabel";const i7=f.forwardRef((e,t)=>f.createElement(wM,{...e,ref:t,className:Ee("rt-SelectSeparator",e.className)}));i7.displayName="SelectSeparator";const J=Object.assign({},{Root:J4,Trigger:e7,Content:t7,Item:n7,Group:r7,Label:o7,Separator:i7}),a7="Switch",[HM,qee]=Zt(a7),[UM,GM]=HM(a7),WM=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:i,required:a,disabled:s,value:l="on",onCheckedChange:u,...d}=e,[p,h]=f.useState(null),m=ze(t,x=>h(x)),v=f.useRef(!1),g=p?!!p.closest("form"):!0,[b=!1,y]=gr({prop:o,defaultProp:i,onChange:u});return f.createElement(UM,{scope:n,checked:b,disabled:s},f.createElement(Ne.button,ne({type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":s7(b),"data-disabled":s?"":void 0,disabled:s,value:l},d,{ref:m,onClick:_e(e.onClick,x=>{y(_=>!_),g&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})})),g&&f.createElement(XM,{control:p,bubbles:!v.current,name:r,value:l,checked:b,required:a,disabled:s,style:{transform:"translateX(-100%)"}}))}),KM="SwitchThumb",YM=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=GM(KM,n);return f.createElement(Ne.span,ne({"data-state":s7(o.checked),"data-disabled":o.disabled?"":void 0},r,{ref:t}))}),XM=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,i=f.useRef(null),a=fd(n),s=ud(t);return f.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&p){const h=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(h)}},[a,n,r]),f.createElement("input",ne({type:"checkbox","aria-hidden":!0,defaultChecked:n},o,{tabIndex:-1,ref:i,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function s7(e){return e?"checked":"unchecked"}const ZM=WM,QM=YM,JM=["1","2","3"],eO=["classic","surface","soft"],os={size:{type:"enum",values:JM,default:"2",responsive:!0},variant:{type:"enum",values:eO,default:"surface"},color:Jt,highContrast:Zr,radius:Ia},Rv=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,style:i,size:a=os.size.default,variant:s=os.variant.default,color:l=os.color.default,highContrast:u=os.highContrast.default,radius:d=os.radius.default,...p}=n;return f.createElement("span",{"data-radius":d,className:Ee("rt-SwitchRoot",o,xe(a,"rt-r-size"),`rt-variant-${s}`,{"rt-high-contrast":u},Et(r)),style:i},f.createElement(ZM,{"data-accent-color":l,...p,ref:t,className:Ee("rt-reset","rt-SwitchButton",{"rt-high-contrast":u})},f.createElement(QM,{className:Ee("rt-SwitchThumb",{"rt-high-contrast":u})})))});Rv.displayName="Switch";const tO=["1","2","3"],nO=["classic","surface","soft"],fp={size:{type:"enum",values:tO,default:"2",responsive:!0},variant:{type:"enum",values:nO,default:"surface"},color:Jt},vr=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,size:i=fp.size.default,variant:a=fp.variant.default,color:s=fp.color.default,style:l,...u}=n;return f.createElement("div",{"data-accent-color":s,style:l,className:Ee("rt-TextAreaRoot",o,xe(i,"rt-r-size"),`rt-variant-${a}`,Et(r))},f.createElement("textarea",{className:"rt-TextAreaInput",ref:t,...u}),f.createElement("div",{className:"rt-TextAreaChrome"}))});vr.displayName="TextArea";const rO=["1","2","3"],oO=["classic","surface","soft"],xo={size:{type:"enum",values:rO,default:"2",responsive:!0},variant:{type:"enum",values:oO,default:"surface"},color:Jt,radius:Ia},ub={color:Jt,gap:Wo.gap},Rx=f.createContext(void 0),Tx=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{children:o,className:i,size:a=xo.size.default,variant:s=xo.variant.default,color:l=xo.color.default,radius:u=xo.radius.default,...d}=n;return f.createElement("div",{"data-radius":u,...d,ref:t,className:Ee("rt-TextFieldRoot",i,Et(r)),onPointerDown:_e(d.onPointerDown,p=>{const h=p.target;if(h.closest("input, button, a"))return;const m=p.currentTarget.querySelector(".rt-TextFieldInput");if(!m)return;const b=(m.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_PRECEDING)!==0?0:m.value.length;requestAnimationFrame(()=>{m.setSelectionRange(b,b),m.focus()})})},f.createElement(Rx.Provider,{value:{size:a,variant:s,color:l,radius:u}},o))});Tx.displayName="TextFieldRoot";const l7=f.forwardRef((e,t)=>{const{rest:n,...r}=fx(e),{className:o,color:i=ub.color.default,gap:a=ub.gap.default,...s}=n,l=f.useContext(Rx);return f.createElement("div",{"data-accent-color":i,...s,ref:t,className:Ee("rt-TextFieldSlot",o,xe(l==null?void 0:l.size,"rt-r-size"),xe(a,"rt-r-gap"),px(r))})});l7.displayName="TextFieldSlot";const c7=f.forwardRef((e,t)=>{var n,r,o,i;const{rest:a,...s}=xt(e),l=f.useContext(Rx),u=l!==void 0,{className:d,size:p=(n=l==null?void 0:l.size)!==null&&n!==void 0?n:xo.size.default,variant:h=(r=l==null?void 0:l.variant)!==null&&r!==void 0?r:xo.variant.default,color:m=(o=l==null?void 0:l.color)!==null&&o!==void 0?o:xo.color.default,radius:v=(i=l==null?void 0:l.radius)!==null&&i!==void 0?i:xo.radius.default,...g}=a,b=f.createElement(f.Fragment,null,f.createElement("input",{"data-accent-color":m,spellCheck:"false",...g,ref:t,className:Ee("rt-TextFieldInput",d,xe(p,"rt-r-size"),`rt-variant-${h}`)}),f.createElement("div",{"data-accent-color":m,"data-radius":l!=null&&l.radius?void 0:v,className:"rt-TextFieldChrome"}));return u?b:f.createElement(Tx,{...s,size:p,variant:h,color:m,radius:v},b)});c7.displayName="TextFieldInput";const we=Object.assign({},{Root:Tx,Slot:l7,Input:c7}),u7="Dialog",[d7,f7]=Zt(u7),[iO,er]=d7(u7),aO=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,s=f.useRef(null),l=f.useRef(null),[u=!1,d]=gr({prop:r,defaultProp:o,onChange:i});return f.createElement(iO,{scope:t,triggerRef:s,contentRef:l,contentId:Nn(),titleId:Nn(),descriptionId:Nn(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(p=>!p),[d]),modal:a},n)},sO="DialogTrigger",lO=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=er(sO,n),i=ze(t,o.triggerRef);return f.createElement(Ne.button,ne({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":kx(o.open)},r,{ref:i,onClick:_e(e.onClick,o.onOpenToggle)}))}),p7="DialogPortal",[cO,h7]=d7(p7,{forceMount:void 0}),uO=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=er(p7,t);return f.createElement(cO,{scope:t,forceMount:n},f.Children.map(r,a=>f.createElement(Qt,{present:n||i.open},f.createElement(ux,{asChild:!0,container:o},a))))},Tv="DialogOverlay",dO=f.forwardRef((e,t)=>{const n=h7(Tv,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=er(Tv,e.__scopeDialog);return i.modal?f.createElement(Qt,{present:r||i.open},f.createElement(fO,ne({},o,{ref:t}))):null}),fO=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=er(Tv,n);return f.createElement(Cx,{as:Kt,allowPinchZoom:!0,shards:[o.contentRef]},f.createElement(Ne.div,ne({"data-state":kx(o.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),wa="DialogContent",pO=f.forwardRef((e,t)=>{const n=h7(wa,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=er(wa,e.__scopeDialog);return f.createElement(Qt,{present:r||i.open},i.modal?f.createElement(hO,ne({},o,{ref:t})):f.createElement(mO,ne({},o,{ref:t})))}),hO=f.forwardRef((e,t)=>{const n=er(wa,e.__scopeDialog),r=f.useRef(null),o=ze(t,n.contentRef,r);return f.useEffect(()=>{const i=r.current;if(i)return bx(i)},[]),f.createElement(m7,ne({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&i.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault())}))}),mO=f.forwardRef((e,t)=>{const n=er(wa,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return f.createElement(m7,ne({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,i),!i.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),i.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:i=>{var a,s;(a=e.onInteractOutside)===null||a===void 0||a.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}}))}),m7=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...a}=e,s=er(wa,n),l=f.useRef(null),u=ze(t,l);return _x(),f.createElement(f.Fragment,null,f.createElement(wx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i},f.createElement(nx,ne({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":kx(s.open)},a,{ref:u,onDismiss:()=>s.onOpenChange(!1)}))),!1)}),g7="DialogTitle",gO=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=er(g7,n);return f.createElement(Ne.h2,ne({id:o.titleId},r,{ref:t}))}),vO="DialogDescription",yO=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=er(vO,n);return f.createElement(Ne.p,ne({id:o.descriptionId},r,{ref:t}))}),xO="DialogClose",_O=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=er(xO,n);return f.createElement(Ne.button,ne({type:"button"},r,{ref:t,onClick:_e(e.onClick,()=>o.onOpenChange(!1))}))});function kx(e){return e?"open":"closed"}const wO="DialogTitleWarning",[bO,Bee]=KN(wO,{contentName:wa,titleName:g7,docsSlug:"dialog"}),v7=aO,y7=lO,x7=uO,_7=dO,w7=pO,b7=gO,C7=yO,Nx=_O,CO=["1","2","3","4"],S7={size:{type:"enum",values:CO,default:"3",responsive:!0}},E7=e=>f.createElement(v7,{...e,modal:!0});E7.displayName="DialogRoot";const j7=f.forwardRef((e,t)=>f.createElement(y7,{...e,ref:t,asChild:!0}));j7.displayName="DialogTrigger";const $7=f.forwardRef((e,t)=>{const{className:n,forceMount:r,container:o,size:i=S7.size.default,...a}=e;return f.createElement(x7,{container:o,forceMount:r},f.createElement(xi,{asChild:!0},f.createElement(_7,{className:"rt-DialogOverlay"},f.createElement(w7,{...a,ref:t,className:Ee("rt-DialogContent",n,xe(i,"rt-r-size"))}))))});$7.displayName="DialogContent";const R7=f.forwardRef((e,t)=>f.createElement(b7,{asChild:!0},f.createElement(mt,{size:"5",mb:"3",trim:"start",...e,ref:t})));R7.displayName="DialogTitle";const T7=f.forwardRef((e,t)=>f.createElement(C7,{asChild:!0},f.createElement(k,{as:"p",size:"3",...e,ref:t})));T7.displayName="DialogDescription";const k7=f.forwardRef((e,t)=>f.createElement(Nx,{...e,ref:t,asChild:!0}));k7.displayName="DialogClose";const me=Object.assign({},{Root:E7,Trigger:j7,Content:$7,Title:R7,Description:T7,Close:k7}),SO="AlertDialog",[EO,Vee]=Zt(SO,[f7]),Jr=f7(),jO=e=>{const{__scopeAlertDialog:t,...n}=e,r=Jr(t);return f.createElement(v7,ne({},r,n,{modal:!0}))},$O=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Jr(n);return f.createElement(y7,ne({},o,r,{ref:t}))}),RO=e=>{const{__scopeAlertDialog:t,...n}=e,r=Jr(t);return f.createElement(x7,ne({},r,n))},TO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Jr(n);return f.createElement(_7,ne({},o,r,{ref:t}))}),N7="AlertDialogContent",[kO,NO]=EO(N7),PO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,i=Jr(n),a=f.useRef(null),s=ze(t,a),l=f.useRef(null);return f.createElement(bO,{contentName:N7,titleName:DO,docsSlug:"alert-dialog"},f.createElement(kO,{scope:n,cancelRef:l},f.createElement(w7,ne({role:"alertdialog"},i,o,{ref:s,onOpenAutoFocus:_e(o.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)===null||d===void 0||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault()}),f.createElement(ka,null,r),!1)))}),DO="AlertDialogTitle",AO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Jr(n);return f.createElement(b7,ne({},o,r,{ref:t}))}),IO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Jr(n);return f.createElement(C7,ne({},o,r,{ref:t}))}),MO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Jr(n);return f.createElement(Nx,ne({},o,r,{ref:t}))}),OO="AlertDialogCancel",LO=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=NO(OO,n),i=Jr(n),a=ze(t,o);return f.createElement(Nx,ne({},i,r,{ref:a}))}),zO=jO,FO=$O,qO=RO,BO=TO,VO=PO,HO=MO,UO=LO,GO=AO,WO=IO,P7=e=>f.createElement(zO,{...e});P7.displayName="AlertDialogRoot";const D7=f.forwardRef((e,t)=>f.createElement(FO,{...e,ref:t,asChild:!0}));D7.displayName="AlertDialogTrigger";const A7=f.forwardRef((e,t)=>{const{className:n,forceMount:r,container:o,size:i=S7.size.default,...a}=e;return f.createElement(qO,{container:o,forceMount:r},f.createElement(xi,{asChild:!0},f.createElement(BO,{className:"rt-DialogOverlay rt-AlertDialogOverlay"},f.createElement(VO,{...a,ref:t,className:Ee("rt-DialogContent","rt-AlertDialogContent",n,xe(i,"rt-r-size"))}))))});A7.displayName="AlertDialogContent";const I7=f.forwardRef((e,t)=>f.createElement(GO,{asChild:!0},f.createElement(mt,{size:"5",mb:"3",trim:"start",...e,ref:t})));I7.displayName="AlertDialogTitle";const M7=f.forwardRef((e,t)=>f.createElement(WO,{asChild:!0},f.createElement(k,{as:"p",size:"3",...e,ref:t})));M7.displayName="AlertDialogDescription";const O7=f.forwardRef((e,t)=>f.createElement(HO,{...e,ref:t,asChild:!0}));O7.displayName="AlertDialogAction";const L7=f.forwardRef((e,t)=>f.createElement(UO,{...e,ref:t,asChild:!0}));L7.displayName="AlertDialogCancel";const mc=Object.assign({},{Root:P7,Trigger:D7,Content:A7,Title:I7,Description:M7,Action:O7,Cancel:L7}),kv=["Enter"," "],KO=["ArrowDown","PageUp","Home"],z7=["ArrowUp","PageDown","End"],YO=[...KO,...z7],XO={ltr:[...kv,"ArrowRight"],rtl:[...kv,"ArrowLeft"]},ZO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xd="Menu",[tl,QO,JO]=gx(xd),[wi,F7]=Zt(xd,[JO,Da,Ma]),_d=Da(),q7=Ma(),[B7,zo]=wi(xd),[eL,Cl]=wi(xd),tL=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:i,modal:a=!0}=e,s=_d(t),[l,u]=f.useState(null),d=f.useRef(!1),p=vt(i),h=Aa(o);return f.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),f.createElement(cx,s,f.createElement(B7,{scope:t,open:n,onOpenChange:p,content:l,onContentChange:u},f.createElement(eL,{scope:t,onClose:f.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:h,modal:a},r)))},V7=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=_d(n);return f.createElement(n4,ne({},o,r,{ref:t}))}),H7="MenuPortal",[nL,U7]=wi(H7,{forceMount:void 0}),rL=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,i=zo(H7,t);return f.createElement(nL,{scope:t,forceMount:n},f.createElement(Qt,{present:n||i.open},f.createElement(ux,{asChild:!0,container:o},r)))},Xn="MenuContent",[oL,Px]=wi(Xn),iL=f.forwardRef((e,t)=>{const n=U7(Xn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=zo(Xn,e.__scopeMenu),a=Cl(Xn,e.__scopeMenu);return f.createElement(tl.Provider,{scope:e.__scopeMenu},f.createElement(Qt,{present:r||i.open},f.createElement(tl.Slot,{scope:e.__scopeMenu},a.modal?f.createElement(aL,ne({},o,{ref:t})):f.createElement(sL,ne({},o,{ref:t})))))}),aL=f.forwardRef((e,t)=>{const n=zo(Xn,e.__scopeMenu),r=f.useRef(null),o=ze(t,r);return f.useEffect(()=>{const i=r.current;if(i)return bx(i)},[]),f.createElement(Dx,ne({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),sL=f.forwardRef((e,t)=>{const n=zo(Xn,e.__scopeMenu);return f.createElement(Dx,ne({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Dx=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...g}=e,b=zo(Xn,n),y=Cl(Xn,n),x=_d(n),_=q7(n),w=QO(n),[E,j]=f.useState(null),$=f.useRef(null),A=ze(t,$,b.onContentChange),C=f.useRef(0),S=f.useRef(""),D=f.useRef(0),O=f.useRef(null),F=f.useRef("right"),N=f.useRef(0),L=v?Cx:f.Fragment,T=v?{as:Kt,allowPinchZoom:!0}:void 0,B=R=>{var q,G;const Q=S.current+R,le=w().filter(V=>!V.disabled),ie=document.activeElement,fe=(q=le.find(V=>V.ref.current===ie))===null||q===void 0?void 0:q.textValue,he=le.map(V=>V.textValue),z=jL(he,Q,fe),U=(G=le.find(V=>V.textValue===z))===null||G===void 0?void 0:G.ref.current;(function V(P){S.current=P,window.clearTimeout(C.current),P!==""&&(C.current=window.setTimeout(()=>V(""),1e3))})(Q),U&&setTimeout(()=>U.focus())};f.useEffect(()=>()=>window.clearTimeout(C.current),[]),_x();const I=f.useCallback(R=>{var q,G;return F.current===((q=O.current)===null||q===void 0?void 0:q.side)&&RL(R,(G=O.current)===null||G===void 0?void 0:G.area)},[]);return f.createElement(oL,{scope:n,searchRef:S,onItemEnter:f.useCallback(R=>{I(R)&&R.preventDefault()},[I]),onItemLeave:f.useCallback(R=>{var q;I(R)||((q=$.current)===null||q===void 0||q.focus(),j(null))},[I]),onTriggerLeave:f.useCallback(R=>{I(R)&&R.preventDefault()},[I]),pointerGraceTimerRef:D,onPointerGraceIntentChange:f.useCallback(R=>{O.current=R},[])},f.createElement(L,T,f.createElement(wx,{asChild:!0,trapped:o,onMountAutoFocus:_e(i,R=>{var q;R.preventDefault(),(q=$.current)===null||q===void 0||q.focus()}),onUnmountAutoFocus:a},f.createElement(nx,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:h,onDismiss:m},f.createElement(yx,ne({asChild:!0},_,{dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:j,onEntryFocus:_e(l,R=>{y.isUsingKeyboardRef.current||R.preventDefault()})}),f.createElement(r4,ne({role:"menu","aria-orientation":"vertical","data-state":Q7(b.open),"data-radix-menu-content":"",dir:y.dir},x,g,{ref:A,style:{outline:"none",...g.style},onKeyDown:_e(g.onKeyDown,R=>{const G=R.target.closest("[data-radix-menu-content]")===R.currentTarget,Q=R.ctrlKey||R.altKey||R.metaKey,le=R.key.length===1;G&&(R.key==="Tab"&&R.preventDefault(),!Q&&le&&B(R.key));const ie=$.current;if(R.target!==ie||!YO.includes(R.key))return;R.preventDefault();const he=w().filter(z=>!z.disabled).map(z=>z.ref.current);z7.includes(R.key)&&he.reverse(),SL(he)}),onBlur:_e(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(C.current),S.current="")}),onPointerMove:_e(e.onPointerMove,nl(R=>{const q=R.target,G=N.current!==R.clientX;if(R.currentTarget.contains(q)&&G){const Q=R.clientX>N.current?"right":"left";F.current=Q,N.current=R.clientX}}))})))))))}),G7=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.createElement(Ne.div,ne({role:"group"},r,{ref:t}))}),lL=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.createElement(Ne.div,ne({},r,{ref:t}))}),Nv="MenuItem",db="menu.itemSelect",Ax=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,i=f.useRef(null),a=Cl(Nv,e.__scopeMenu),s=Px(Nv,e.__scopeMenu),l=ze(t,i),u=f.useRef(!1),d=()=>{const p=i.current;if(!n&&p){const h=new CustomEvent(db,{bubbles:!0,cancelable:!0});p.addEventListener(db,m=>r==null?void 0:r(m),{once:!0}),z8(p,h),h.defaultPrevented?u.current=!1:a.onClose()}};return f.createElement(W7,ne({},o,{ref:l,disabled:n,onClick:_e(e.onClick,d),onPointerDown:p=>{var h;(h=e.onPointerDown)===null||h===void 0||h.call(e,p),u.current=!0},onPointerUp:_e(e.onPointerUp,p=>{var h;u.current||(h=p.currentTarget)===null||h===void 0||h.click()}),onKeyDown:_e(e.onKeyDown,p=>{const h=s.searchRef.current!=="";n||h&&p.key===" "||kv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})}))}),W7=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=e,a=Px(Nv,n),s=q7(n),l=f.useRef(null),u=ze(t,l),[d,p]=f.useState(!1),[h,m]=f.useState("");return f.useEffect(()=>{const v=l.current;if(v){var g;m(((g=v.textContent)!==null&&g!==void 0?g:"").trim())}},[i.children]),f.createElement(tl.ItemSlot,{scope:n,disabled:r,textValue:o??h},f.createElement(xx,ne({asChild:!0},s,{focusable:!r}),f.createElement(Ne.div,ne({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},i,{ref:u,onPointerMove:_e(e.onPointerMove,nl(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus())})),onPointerLeave:_e(e.onPointerLeave,nl(v=>a.onItemLeave(v))),onFocus:_e(e.onFocus,()=>p(!0)),onBlur:_e(e.onBlur,()=>p(!1))}))))}),cL=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return f.createElement(Y7,{scope:e.__scopeMenu,checked:n},f.createElement(Ax,ne({role:"menuitemcheckbox","aria-checked":$u(n)?"mixed":n},o,{ref:t,"data-state":Ix(n),onSelect:_e(o.onSelect,()=>r==null?void 0:r($u(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),uL="MenuRadioGroup",[dL,fL]=wi(uL,{value:void 0,onValueChange:()=>{}}),pL=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,i=vt(r);return f.createElement(dL,{scope:e.__scopeMenu,value:n,onValueChange:i},f.createElement(G7,ne({},o,{ref:t})))}),hL="MenuRadioItem",mL=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=fL(hL,e.__scopeMenu),i=n===o.value;return f.createElement(Y7,{scope:e.__scopeMenu,checked:i},f.createElement(Ax,ne({role:"menuitemradio","aria-checked":i},r,{ref:t,"data-state":Ix(i),onSelect:_e(r.onSelect,()=>{var a;return(a=o.onValueChange)===null||a===void 0?void 0:a.call(o,n)},{checkForDefaultPrevented:!1})})))}),K7="MenuItemIndicator",[Y7,gL]=wi(K7,{checked:!1}),vL=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,i=gL(K7,n);return f.createElement(Qt,{present:r||$u(i.checked)||i.checked===!0},f.createElement(Ne.span,ne({},o,{ref:t,"data-state":Ix(i.checked)})))}),yL=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.createElement(Ne.div,ne({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),X7="MenuSub",[xL,Z7]=wi(X7),_L=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:o}=e,i=zo(X7,t),a=_d(t),[s,l]=f.useState(null),[u,d]=f.useState(null),p=vt(o);return f.useEffect(()=>(i.open===!1&&p(!1),()=>p(!1)),[i.open,p]),f.createElement(cx,a,f.createElement(B7,{scope:t,open:r,onOpenChange:p,content:u,onContentChange:d},f.createElement(xL,{scope:t,contentId:Nn(),triggerId:Nn(),trigger:s,onTriggerChange:l},n)))},gc="MenuSubTrigger",wL=f.forwardRef((e,t)=>{const n=zo(gc,e.__scopeMenu),r=Cl(gc,e.__scopeMenu),o=Z7(gc,e.__scopeMenu),i=Px(gc,e.__scopeMenu),a=f.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const p=s.current;return()=>{window.clearTimeout(p),l(null)}},[s,l]),f.createElement(V7,ne({asChild:!0},u),f.createElement(W7,ne({id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Q7(n.open)},e,{ref:sd(t,o.onTriggerChange),onClick:p=>{var h;(h=e.onClick)===null||h===void 0||h.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:_e(e.onPointerMove,nl(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:_e(e.onPointerLeave,nl(p=>{var h;d();const m=(h=n.content)===null||h===void 0?void 0:h.getBoundingClientRect();if(m){var v;const g=(v=n.content)===null||v===void 0?void 0:v.dataset.side,b=g==="right",y=b?-5:5,x=m[b?"left":"right"],_=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x,y:m.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:_e(e.onKeyDown,p=>{const h=i.searchRef.current!=="";if(!(e.disabled||h&&p.key===" ")&&XO[r.dir].includes(p.key)){var m;n.onOpenChange(!0),(m=n.content)===null||m===void 0||m.focus(),p.preventDefault()}})})))}),bL="MenuSubContent",CL=f.forwardRef((e,t)=>{const n=U7(Xn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=zo(Xn,e.__scopeMenu),a=Cl(Xn,e.__scopeMenu),s=Z7(bL,e.__scopeMenu),l=f.useRef(null),u=ze(t,l);return f.createElement(tl.Provider,{scope:e.__scopeMenu},f.createElement(Qt,{present:r||i.open},f.createElement(tl.Slot,{scope:e.__scopeMenu},f.createElement(Dx,ne({id:s.contentId,"aria-labelledby":s.triggerId},o,{ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var p;a.isUsingKeyboardRef.current&&((p=l.current)===null||p===void 0||p.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:_e(e.onFocusOutside,d=>{d.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:_e(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:_e(e.onKeyDown,d=>{const p=d.currentTarget.contains(d.target),h=ZO[a.dir].includes(d.key);if(p&&h){var m;i.onOpenChange(!1),(m=s.trigger)===null||m===void 0||m.focus(),d.preventDefault()}})})))))});function Q7(e){return e?"open":"closed"}function $u(e){return e==="indeterminate"}function Ix(e){return $u(e)?"indeterminate":e?"checked":"unchecked"}function SL(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function EL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function jL(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=EL(e,Math.max(i,0));o.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function $L(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const s=t[i].x,l=t[i].y,u=t[a].x,d=t[a].y;l>r!=d>r&&n<(u-s)*(r-l)/(d-l)+s&&(o=!o)}return o}function RL(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return $L(n,t)}function nl(e){return t=>t.pointerType==="mouse"?e(t):void 0}const TL=tL,kL=V7,NL=rL,PL=iL,DL=G7,AL=lL,IL=Ax,ML=cL,OL=pL,LL=mL,zL=vL,FL=yL,qL=_L,BL=wL,VL=CL,J7="DropdownMenu",[HL,Hee]=Zt(J7,[F7]),en=F7(),[UL,ej]=HL(J7),GL=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=en(t),u=f.useRef(null),[d=!1,p]=gr({prop:o,defaultProp:i,onChange:a});return f.createElement(UL,{scope:t,triggerId:Nn(),triggerRef:u,contentId:Nn(),open:d,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(h=>!h),[p]),modal:s},f.createElement(TL,ne({},l,{open:d,onOpenChange:p,dir:r,modal:s}),n))},WL="DropdownMenuTrigger",KL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,i=ej(WL,n),a=en(n);return f.createElement(kL,ne({asChild:!0},a),f.createElement(Ne.button,ne({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o,{ref:sd(t,i.triggerRef),onPointerDown:_e(e.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(i.onOpenToggle(),i.open||s.preventDefault())}),onKeyDown:_e(e.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&i.onOpenToggle(),s.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})))}),YL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=en(t);return f.createElement(NL,ne({},r,n))},XL="DropdownMenuContent",ZL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ej(XL,n),i=en(n),a=f.useRef(!1);return f.createElement(PL,ne({id:o.contentId,"aria-labelledby":o.triggerId},i,r,{ref:t,onCloseAutoFocus:_e(e.onCloseAutoFocus,s=>{var l;a.current||(l=o.triggerRef.current)===null||l===void 0||l.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:_e(e.onInteractOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!o.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),QL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return f.createElement(DL,ne({},o,r,{ref:t}))}),JL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return f.createElement(AL,ne({},o,r,{ref:t}))}),ez=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return f.createElement(IL,ne({},o,r,{ref:t}))}),tz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return f.createElement(ML,ne({},o,r,{ref:t}))}),nz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return f.createElement(OL,ne({},o,r,{ref:t}))}),rz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return f.createElement(LL,ne({},o,r,{ref:t}))}),oz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return f.createElement(zL,ne({},o,r,{ref:t}))}),iz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return f.createElement(FL,ne({},o,r,{ref:t}))}),az=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:o,defaultOpen:i}=e,a=en(t),[s=!1,l]=gr({prop:r,defaultProp:i,onChange:o});return f.createElement(qL,ne({},a,{open:s,onOpenChange:l}),n)},sz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return f.createElement(BL,ne({},o,r,{ref:t}))}),lz=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return f.createElement(VL,ne({},o,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),cz=GL,uz=KL,tj=YL,dz=ZL,fz=QL,pz=JL,hz=ez,mz=tz,gz=nz,vz=rz,nj=oz,yz=iz,xz=az,_z=sz,wz=lz,bz=["1","2","3"],Cz=["vertical","horizontal","both"],pp={size:{type:"enum",values:bz,default:"1",responsive:!0},radius:Ia,scrollbars:{type:"enum",values:Cz,default:"both"}},Gt=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,style:i,type:a,scrollHideDelay:s=a!=="scroll"?0:void 0,dir:l,size:u=pp.size.default,radius:d=pp.radius.default,scrollbars:p=pp.scrollbars.default,...h}=n;return f.createElement(Z4,{type:a,scrollHideDelay:s,className:Ee("rt-ScrollAreaRoot",o,Et(r)),style:i},f.createElement(Q4,{...h,ref:t,className:"rt-ScrollAreaViewport"}),f.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),p!=="vertical"?f.createElement(jv,{"data-radius":d,orientation:"horizontal",className:Ee("rt-ScrollAreaScrollbar",xe(u,"rt-r-size"))},f.createElement($v,{className:"rt-ScrollAreaThumb"})):null,p!=="horizontal"?f.createElement(jv,{"data-radius":d,orientation:"vertical",className:Ee("rt-ScrollAreaScrollbar",xe(u,"rt-r-size"))},f.createElement($v,{className:"rt-ScrollAreaThumb"})):null,p==="both"?f.createElement(zM,{className:"rt-ScrollAreaCorner"}):null)});Gt.displayName="ScrollArea";const Sz=["1","2"],Ez=["solid","soft"],hp={size:{type:"enum",values:Sz,default:"2",responsive:!0},variant:{type:"enum",values:Ez,default:"solid"},color:Jt,highContrast:Zr},rj={color:Jt,shortcut:{type:"string",default:void 0}},oj=e=>f.createElement(cz,{...e});oj.displayName="DropdownMenuRoot";const ij=f.forwardRef((e,t)=>f.createElement(uz,{...e,ref:t,asChild:!0}));ij.displayName="DropdownMenuTrigger";const aj=f.createContext({}),sj=f.forwardRef((e,t)=>{const n=s4(),{className:r,children:o,size:i=hp.size.default,variant:a=hp.variant.default,highContrast:s=hp.highContrast.default,color:l=rj.color.default,container:u,forceMount:d,...p}=e,h=l??n.accentColor;return f.createElement(tj,{container:u,forceMount:d},f.createElement(xi,{asChild:!0},f.createElement(dz,{"data-accent-color":h,align:"start",sideOffset:4,collisionPadding:10,...p,ref:t,className:Ee("rt-PopperContent","rt-BaseMenuContent","rt-DropdownMenuContent",r,xe(i,"rt-r-size"),`rt-variant-${a}`,{"rt-high-contrast":s})},f.createElement(Gt,{type:"auto"},f.createElement("div",{className:Ee("rt-BaseMenuViewport","rt-DropdownMenuViewport")},f.createElement(aj.Provider,{value:f.useMemo(()=>({size:i,variant:a,color:h,highContrast:s}),[i,a,h,s])},o))))))});sj.displayName="DropdownMenuContent";const lj=f.forwardRef((e,t)=>f.createElement(pz,{...e,ref:t,className:Ee("rt-BaseMenuLabel","rt-DropdownMenuLabel",e.className)}));lj.displayName="DropdownMenuLabel";const cj=f.forwardRef((e,t)=>{const{className:n,children:r,color:o=rj.color.default,shortcut:i,...a}=e;return f.createElement(hz,{"data-accent-color":o,...a,ref:t,className:Ee("rt-reset","rt-BaseMenuItem","rt-DropdownMenuItem",n)},f.createElement(ka,null,r),i&&f.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},i))});cj.displayName="DropdownMenuItem";const uj=f.forwardRef((e,t)=>f.createElement(fz,{...e,ref:t,className:Ee("rt-BaseMenuGroup","rt-DropdownMenuGroup",e.className)}));uj.displayName="DropdownMenuGroup";const dj=f.forwardRef((e,t)=>f.createElement(gz,{...e,ref:t,className:Ee("rt-BaseMenuRadioGroup","rt-DropdownMenuRadioGroup",e.className)}));dj.displayName="DropdownMenuRadioGroup";const fj=f.forwardRef((e,t)=>{const{children:n,className:r,...o}=e;return f.createElement(vz,{...o,ref:t,className:Ee("rt-BaseMenuItem","rt-BaseMenuRadioItem","rt-DropdownMenuItem","rt-DropdownMenuRadioItem",r)},f.createElement(ka,null,n),f.createElement(nj,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},f.createElement(bl,{className:"rt-BaseMenuItemIndicatorIcon rt-DropdownMenuItemIndicatorIcon"})))});fj.displayName="DropdownMenuRadioItem";const pj=f.forwardRef((e,t)=>{const{children:n,className:r,shortcut:o,...i}=e;return f.createElement(mz,{...i,ref:t,className:Ee("rt-BaseMenuItem","rt-BaseMenuCheckboxItem","rt-DropdownMenuItem","rt-DropdownMenuCheckboxItem",r)},f.createElement(ka,null,n),f.createElement(nj,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},f.createElement(bl,{className:"rt-BaseMenuItemIndicatorIcon rt-ContextMenuItemIndicatorIcon"})),o&&f.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},o))});pj.displayName="DropdownMenuCheckboxItem";const hj=e=>f.createElement(xz,{...e});hj.displayName="DropdownMenuSub";const mj=f.forwardRef((e,t)=>{const{className:n,children:r,...o}=e;return f.createElement(_z,{...o,ref:t,className:Ee("rt-BaseMenuItem","rt-BaseMenuSubTrigger","rt-DropdownMenuItem","rt-DropdownMenuSubTrigger",n)},f.createElement(ka,null,r),f.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},f.createElement(m4,{className:"rt-BaseMenuSubTriggerIcon rt-DropdownMenuSubtriggerIcon"})))});mj.displayName="DropdownMenuSubTrigger";const gj=f.forwardRef((e,t)=>{const{className:n,children:r,container:o,forceMount:i,...a}=e,{size:s,variant:l,color:u,highContrast:d}=f.useContext(aj);return f.createElement(tj,{container:o,forceMount:i},f.createElement(xi,{asChild:!0},f.createElement(wz,{"data-accent-color":u,alignOffset:-Number(s)*4,sideOffset:1,collisionPadding:10,...a,ref:t,className:Ee("rt-PopperContent","rt-BaseMenuContent","rt-BaseMenuSubContent","rt-DropdownMenuContent","rt-DropdownMenuSubContent",n,xe(s,"rt-r-size"),`rt-variant-${l}`,{"rt-high-contrast":d})},f.createElement(Gt,{type:"auto"},f.createElement("div",{className:Ee("rt-BaseMenuViewport","rt-DropdownMenuViewport")},r)))))});gj.displayName="DropdownMenuSubContent";const vj=f.forwardRef((e,t)=>f.createElement(yz,{...e,ref:t,className:Ee("rt-BaseMenuSeparator","rt-DropdownMenuSeparator",e.className)}));vj.displayName="DropdownMenuSeparator";const Te=Object.assign({},{Root:oj,Trigger:ij,Content:sj,Label:lj,Item:cj,Group:uj,RadioGroup:dj,RadioItem:fj,CheckboxItem:pj,Sub:hj,SubTrigger:mj,SubContent:gj,Separator:vj}),jz=["1","2"],$z=["solid","soft","surface","outline"],is={size:{type:"enum",values:jz,default:"1",responsive:!0},variant:{type:"enum",values:$z,default:"soft"},color:{...Jt,default:void 0},highContrast:Zr,radius:Ia},Se=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,size:i=is.size.default,variant:a=is.variant.default,color:s=is.color.default,highContrast:l=is.highContrast.default,radius:u=is.radius.default,...d}=n;return f.createElement("span",{"data-accent-color":s,"data-radius":u,...d,ref:t,className:Ee("rt-Badge",o,xe(i,"rt-r-size"),`rt-variant-${a}`,{"rt-high-contrast":l},Et(r))})});Se.displayName="Badge";const Rz=["1","2","3","4"],Tz=["classic","solid","soft","surface","outline","ghost"],as={size:{type:"enum",values:Rz,default:"2",responsive:!0},variant:{type:"enum",values:Tz,default:"solid"},color:Jt,highContrast:Zr,radius:Ia},Mx=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,asChild:i=!1,size:a=as.size.default,variant:s=as.variant.default,color:l=as.color.default,highContrast:u=as.highContrast.default,radius:d=as.radius.default,...p}=n,h=i?Kt:"button";return f.createElement(h,{"data-disabled":p.disabled||void 0,"data-accent-color":l,"data-radius":d,...p,ref:t,className:Ee("rt-reset","rt-BaseButton",o,xe(a,"rt-r-size"),`rt-variant-${s}`,{"rt-high-contrast":u},Et(r))})});Mx.displayName="BaseButton";const pe=f.forwardRef((e,t)=>f.createElement(Mx,{...e,ref:t,className:Ee("rt-Button",e.className)}));pe.displayName="Button";const kz=["1","2","3","4","5"],Nz=["surface","classic","ghost"],fb={size:{type:"enum",values:kz,default:"1",responsive:!0},variant:{type:"enum",values:Nz,default:"surface"}},Ve=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{asChild:o,children:i,className:a,size:s=fb.size.default,variant:l=fb.variant.default,...u}=n,d=o?Kt:"div";function p(){const h=f.Children.only(i);return f.cloneElement(h,{children:f.createElement("div",{className:"rt-CardInner"},h.props.children)})}return f.createElement(d,{ref:t,...u,className:Ee("rt-reset","rt-Card",a,xe(s,"rt-r-size"),`rt-variant-${l}`,Et(r))},o?p():f.createElement("div",{className:"rt-CardInner"},i))});Ve.displayName="Card";const Zn=f.forwardRef((e,t)=>f.createElement(Mx,{...e,ref:t,className:Ee("rt-IconButton",e.className)}));Zn.displayName="IconButton";const Pv="horizontal",Pz=["horizontal","vertical"],yj=f.forwardRef((e,t)=>{const{decorative:n,orientation:r=Pv,...o}=e,i=xj(r)?r:Pv,s=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.createElement(Ne.div,ne({"data-orientation":i},s,o,{ref:t}))});yj.propTypes={orientation(e,t,n){const r=e[t],o=String(r);return r&&!xj(r)?new Error(Dz(o,n)):null}};function Dz(e,t){return`Invalid prop \`orientation\` of value \`${e}\` supplied to \`${t}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${Pv}\`.`}function xj(e){return Pz.includes(e)}const Az=yj,Iz=["1","2","3","4"],pb={size:{type:"enum",values:Iz,default:"1",responsive:!0},color:{...Jt,default:"gray"}},Pn=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,size:i=pb.size.default,color:a=pb.color.default,...s}=n;return f.createElement(Az,{"data-accent-color":a,...s,ref:t,className:Ee("rt-Separator",o,xe(i,"rt-r-size"),Et(r))})});Pn.displayName="Separator";const Mz=["1","2","3"],Oz=["surface","ghost"],hb={size:{type:"enum",values:Mz,default:"2",responsive:!0},variant:{type:"enum",values:Oz,default:"ghost"}},Lz=["start","center","end","baseline"],zz={align:{type:"enum",values:Lz,default:void 0,responsive:!0}},Fz=["start","center","end"],mb={justify:{type:"enum",values:Fz,default:void 0,responsive:!0},width:{type:"string | number",default:void 0}},_j=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,children:i,size:a=hb.size.default,variant:s=hb.variant.default,...l}=n;return f.createElement("div",{ref:t,className:Ee("rt-TableRoot",o,`rt-variant-${s}`,xe(a,"rt-r-size"),Et(r)),...l},f.createElement(Gt,null,f.createElement("table",{className:"rt-TableRootTable"},i)))});_j.displayName="Table";const wj=f.forwardRef((e,t)=>f.createElement("thead",{...e,ref:t,className:Ee("rt-TableHeader",e.className)}));wj.displayName="TableHeader";const bj=f.forwardRef((e,t)=>f.createElement("tbody",{...e,ref:t,className:Ee("rt-TableBody",e.className)}));bj.displayName="TableBody";const Cj=f.forwardRef((e,t)=>{const{className:n,align:r=zz.align.default,...o}=e;return f.createElement("tr",{...o,ref:t,className:Ee("rt-TableRow",n,xe(r,"rt-r-va",{baseline:"baseline",start:"top",center:"middle",end:"bottom"}))})});Cj.displayName="TableRow";const wd=f.forwardRef((e,t)=>{const{rest:n,...r}=fx(e),{tag:o="td",className:i,style:a,justify:s=mb.justify.default,width:l=mb.width.default,...u}=n;return f.createElement(o,{...u,ref:t,className:Ee("rt-TableCell",i,px(r),xe(s,"rt-r-ta",{start:"left",center:"center",end:"right"})),style:{width:l,...a}})});wd.displayName="TableCellImpl";const Sj=f.forwardRef((e,t)=>f.createElement(wd,{...e,tag:"td",ref:t}));Sj.displayName="TableCell";const Ej=f.forwardRef((e,t)=>f.createElement(wd,{scope:"col",...e,tag:"th",ref:t,className:Ee("rt-TableColumnHeaderCell",e.className)}));Ej.displayName="TableColumnHeaderCell";const jj=f.forwardRef((e,t)=>f.createElement(wd,{scope:"row",...e,tag:"th",ref:t,className:Ee("rt-TableRowHeaderCell",e.className)}));jj.displayName="TableRowHeaderCell";const ft=Object.assign({},{Root:_j,Header:wj,Body:bj,Row:Cj,Cell:Sj,ColumnHeaderCell:Ej,RowHeaderCell:jj}),$j="Tabs",[qz,Uee]=Zt($j,[Ma]),Rj=Ma(),[Bz,Ox]=qz($j),Vz=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:a="horizontal",dir:s,activationMode:l="automatic",...u}=e,d=Aa(s),[p,h]=gr({prop:r,onChange:o,defaultProp:i});return f.createElement(Bz,{scope:n,baseId:Nn(),value:p,onValueChange:h,orientation:a,dir:d,activationMode:l},f.createElement(Ne.div,ne({dir:d,"data-orientation":a},u,{ref:t})))}),Hz="TabsList",Uz=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=Ox(Hz,n),a=Rj(n);return f.createElement(yx,ne({asChild:!0},a,{orientation:i.orientation,dir:i.dir,loop:r}),f.createElement(Ne.div,ne({role:"tablist","aria-orientation":i.orientation},o,{ref:t})))}),Gz="TabsTrigger",Wz=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,a=Ox(Gz,n),s=Rj(n),l=Tj(a.baseId,r),u=kj(a.baseId,r),d=r===a.value;return f.createElement(xx,ne({asChild:!0},s,{focusable:!o,active:d}),f.createElement(Ne.button,ne({type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:l},i,{ref:t,onMouseDown:_e(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?a.onValueChange(r):p.preventDefault()}),onKeyDown:_e(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(r)}),onFocus:_e(e.onFocus,()=>{const p=a.activationMode!=="manual";!d&&!o&&p&&a.onValueChange(r)})})))}),Kz="TabsContent",Yz=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...a}=e,s=Ox(Kz,n),l=Tj(s.baseId,r),u=kj(s.baseId,r),d=r===s.value,p=f.useRef(d);return f.useEffect(()=>{const h=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(h)},[]),f.createElement(Qt,{present:o||d},({present:h})=>f.createElement(Ne.div,ne({"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0},a,{ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0}}),h&&i))});function Tj(e,t){return`${e}-trigger-${t}`}function kj(e,t){return`${e}-content-${t}`}const Xz=Vz,Zz=Uz,Qz=Wz,Jz=Yz,eF=["1","2"],tF={size:{type:"enum",values:eF,default:"2",responsive:!0}},Nj=f.forwardRef((e,t)=>{const{rest:n,...r}=xt(e),{className:o,...i}=n;return f.createElement(Xz,{...i,ref:t,className:Ee("rt-TabsRoot",o,Et(r))})});Nj.displayName="TabsRoot";const Pj=f.forwardRef((e,t)=>{const{className:n,size:r=tF.size.default,...o}=e;return f.createElement(Zz,{...o,ref:t,className:Ee("rt-TabsList",n,xe(r,"rt-r-size"))})});Pj.displayName="TabsList";const Dj=f.forwardRef((e,t)=>{const{className:n,children:r,...o}=e;return f.createElement(Qz,{...o,ref:t,className:Ee("rt-reset","rt-TabsTrigger",n)},f.createElement("span",{className:"rt-TabsTriggerInner"},r),f.createElement("span",{className:"rt-TabsTriggerInnerHidden"},r))});Dj.displayName="TabsTrigger";const Aj=f.forwardRef((e,t)=>f.createElement(Jz,{...e,ref:t,className:Ee("rt-TabsContent",e.className)}));Aj.displayName="TabsContent";const Le=Object.assign({},{Root:Nj,List:Pj,Trigger:Dj,Content:Aj});var nF={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const gb=e=>{let t;const n=new Set,r=(d,p)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=p??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(v=>v(t,m))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(nF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,l);return l},Ij=e=>e?gb(e):gb;var Mj={exports:{}},Oj={},Lj={exports:{}},zj={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=f;function rF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oF=typeof Object.is=="function"?Object.is:rF,iF=ba.useState,aF=ba.useEffect,sF=ba.useLayoutEffect,lF=ba.useDebugValue;function cF(e,t){var n=t(),r=iF({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return sF(function(){o.value=n,o.getSnapshot=t,mp(o)&&i({inst:o})},[e,n,t]),aF(function(){return mp(o)&&i({inst:o}),e(function(){mp(o)&&i({inst:o})})},[e]),lF(n),n}function mp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oF(e,n)}catch{return!0}}function uF(e,t){return t()}var dF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uF:cF;zj.useSyncExternalStore=ba.useSyncExternalStore!==void 0?ba.useSyncExternalStore:dF;Lj.exports=zj;var fF=Lj.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=f,pF=fF;function hF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mF=typeof Object.is=="function"?Object.is:hF,gF=pF.useSyncExternalStore,vF=bd.useRef,yF=bd.useEffect,xF=bd.useMemo,_F=bd.useDebugValue;Oj.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=vF(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=xF(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&a.hasValue){var v=a.value;if(o(v,m))return p=v}return p=m}if(v=p,mF(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,p=g)}var u=!1,d,p,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,o]);var s=gF(e,i[0],i[1]);return yF(function(){a.hasValue=!0,a.value=s},[s]),_F(s),s};Mj.exports=Oj;var wF=Mj.exports;const Fj=ml(wF);var qj={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:bF}=Z,{useSyncExternalStoreWithSelector:CF}=Fj;let vb=!1;const SF=e=>e;function EF(e,t=SF,n){(qj?"production":void 0)!=="production"&&n&&!vb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),vb=!0);const r=CF(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return bF(r),r}const yb=e=>{(qj?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ij(e):e,n=(r,o)=>EF(t,r,o);return Object.assign(n,t),n},jF=e=>e?yb(e):yb;function Bj(e,t){return function(){return e.apply(t,arguments)}}const{toString:$F}=Object.prototype,{getPrototypeOf:Lx}=Object,Cd=(e=>t=>{const n=$F.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=e=>(e=e.toLowerCase(),t=>Cd(t)===e),Sd=e=>t=>typeof t===e,{isArray:La}=Array,rl=Sd("undefined");function RF(e){return e!==null&&!rl(e)&&e.constructor!==null&&!rl(e.constructor)&&Dn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vj=yr("ArrayBuffer");function TF(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Vj(e.buffer),t}const kF=Sd("string"),Dn=Sd("function"),Hj=Sd("number"),Ed=e=>e!==null&&typeof e=="object",NF=e=>e===!0||e===!1,Vc=e=>{if(Cd(e)!=="object")return!1;const t=Lx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},PF=yr("Date"),DF=yr("File"),AF=yr("Blob"),IF=yr("FileList"),MF=e=>Ed(e)&&Dn(e.pipe),OF=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Dn(e.append)&&((t=Cd(e))==="formdata"||t==="object"&&Dn(e.toString)&&e.toString()==="[object FormData]"))},LF=yr("URLSearchParams"),zF=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),La(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let s;for(r=0;r<a;r++)s=i[r],t.call(null,e[s],s,e)}}function Uj(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Gj=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wj=e=>!rl(e)&&e!==Gj;function Dv(){const{caseless:e}=Wj(this)&&this||{},t={},n=(r,o)=>{const i=e&&Uj(t,o)||o;Vc(t[i])&&Vc(r)?t[i]=Dv(t[i],r):Vc(r)?t[i]=Dv({},r):La(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Sl(arguments[r],n);return t}const FF=(e,t,n,{allOwnKeys:r}={})=>(Sl(t,(o,i)=>{n&&Dn(o)?e[i]=Bj(o,n):e[i]=o},{allOwnKeys:r}),e),qF=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BF=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},VF=(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!r||r(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=n!==!1&&Lx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},HF=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},UF=e=>{if(!e)return null;if(La(e))return e;let t=e.length;if(!Hj(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},GF=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Lx(Uint8Array)),WF=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},KF=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},YF=yr("HTMLFormElement"),XF=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),xb=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ZF=yr("RegExp"),Kj=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Sl(n,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(r[i]=a||o)}),Object.defineProperties(e,r)},QF=e=>{Kj(e,(t,n)=>{if(Dn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Dn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JF=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return La(e)?r(e):r(String(e).split(t)),n},eq=()=>{},tq=(e,t)=>(e=+e,Number.isFinite(e)?e:t),gp="abcdefghijklmnopqrstuvwxyz",_b="0123456789",Yj={DIGIT:_b,ALPHA:gp,ALPHA_DIGIT:gp+gp.toUpperCase()+_b},nq=(e=16,t=Yj.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function rq(e){return!!(e&&Dn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const oq=e=>{const t=new Array(10),n=(r,o)=>{if(Ed(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=La(r)?[]:{};return Sl(r,(a,s)=>{const l=n(a,o+1);!rl(l)&&(i[s]=l)}),t[o]=void 0,i}}return r};return n(e,0)},iq=yr("AsyncFunction"),aq=e=>e&&(Ed(e)||Dn(e))&&Dn(e.then)&&Dn(e.catch),re={isArray:La,isArrayBuffer:Vj,isBuffer:RF,isFormData:OF,isArrayBufferView:TF,isString:kF,isNumber:Hj,isBoolean:NF,isObject:Ed,isPlainObject:Vc,isUndefined:rl,isDate:PF,isFile:DF,isBlob:AF,isRegExp:ZF,isFunction:Dn,isStream:MF,isURLSearchParams:LF,isTypedArray:GF,isFileList:IF,forEach:Sl,merge:Dv,extend:FF,trim:zF,stripBOM:qF,inherits:BF,toFlatObject:VF,kindOf:Cd,kindOfTest:yr,endsWith:HF,toArray:UF,forEachEntry:WF,matchAll:KF,isHTMLForm:YF,hasOwnProperty:xb,hasOwnProp:xb,reduceDescriptors:Kj,freezeMethods:QF,toObjectSet:JF,toCamelCase:XF,noop:eq,toFiniteNumber:tq,findKey:Uj,global:Gj,isContextDefined:Wj,ALPHABET:Yj,generateString:nq,isSpecCompliantForm:rq,toJSONObject:oq,isAsyncFn:iq,isThenable:aq};function Be(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}re.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Xj=Be.prototype,Zj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zj[e]={value:e}});Object.defineProperties(Be,Zj);Object.defineProperty(Xj,"isAxiosError",{value:!0});Be.from=(e,t,n,r,o,i)=>{const a=Object.create(Xj);return re.toFlatObject(e,a,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),Be.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const sq=null;function Av(e){return re.isPlainObject(e)||re.isArray(e)}function Qj(e){return re.endsWith(e,"[]")?e.slice(0,-2):e}function wb(e,t,n){return e?e.concat(t).map(function(o,i){return o=Qj(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function lq(e){return re.isArray(e)&&!e.some(Av)}const cq=re.toFlatObject(re,{},null,function(t){return/^is[A-Z]/.test(t)});function jd(e,t,n){if(!re.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!re.isUndefined(b[g])});const r=n.metaTokens,o=n.visitor||d,i=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(t);if(!re.isFunction(o))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(re.isDate(v))return v.toISOString();if(!l&&re.isBlob(v))throw new Be("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(v)||re.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,g,b){let y=v;if(v&&!b&&typeof v=="object"){if(re.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(re.isArray(v)&&lq(v)||(re.isFileList(v)||re.endsWith(g,"[]"))&&(y=re.toArray(v)))return g=Qj(g),y.forEach(function(_,w){!(re.isUndefined(_)||_===null)&&t.append(a===!0?wb([g],w,i):a===null?g:g+"[]",u(_))}),!1}return Av(v)?!0:(t.append(wb(b,g,i),u(v)),!1)}const p=[],h=Object.assign(cq,{defaultVisitor:d,convertValue:u,isVisitable:Av});function m(v,g){if(!re.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(v),re.forEach(v,function(y,x){(!(re.isUndefined(y)||y===null)&&o.call(t,y,re.isString(x)?x.trim():x,g,h))===!0&&m(y,g?g.concat(x):[x])}),p.pop()}}if(!re.isObject(e))throw new TypeError("data must be an object");return m(e),t}function bb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function zx(e,t){this._pairs=[],e&&jd(e,this,t)}const Jj=zx.prototype;Jj.append=function(t,n){this._pairs.push([t,n])};Jj.toString=function(t){const n=t?function(r){return t.call(this,r,bb)}:bb;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function uq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function e$(e,t,n){if(!t)return e;const r=n&&n.encode||uq,o=n&&n.serialize;let i;if(o?i=o(t,n):i=re.isURLSearchParams(t)?t.toString():new zx(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Cb{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){re.forEach(this.handlers,function(r){r!==null&&t(r)})}}const t$={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dq=typeof URLSearchParams<"u"?URLSearchParams:zx,fq=typeof FormData<"u"?FormData:null,pq=typeof Blob<"u"?Blob:null,hq={isBrowser:!0,classes:{URLSearchParams:dq,FormData:fq,Blob:pq},protocols:["http","https","file","blob","url","data"]},n$=typeof window<"u"&&typeof document<"u",mq=(e=>n$&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),gq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:n$,hasStandardBrowserEnv:mq,hasStandardBrowserWebWorkerEnv:gq},Symbol.toStringTag,{value:"Module"})),lr={...vq,...hq};function yq(e,t){return jd(e,new lr.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return lr.isNode&&re.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function xq(e){return re.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _q(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function r$(e){function t(n,r,o,i){let a=n[i++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=i>=n.length;return a=!a&&re.isArray(o)?o.length:a,l?(re.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!s):((!o[a]||!re.isObject(o[a]))&&(o[a]=[]),t(n,r,o[a],i)&&re.isArray(o[a])&&(o[a]=_q(o[a])),!s)}if(re.isFormData(e)&&re.isFunction(e.entries)){const n={};return re.forEachEntry(e,(r,o)=>{t(xq(r),o,n,0)}),n}return null}function wq(e,t,n){if(re.isString(e))try{return(t||JSON.parse)(e),re.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Fx={transitional:t$,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=re.isObject(t);if(i&&re.isHTMLForm(t)&&(t=new FormData(t)),re.isFormData(t))return o?JSON.stringify(r$(t)):t;if(re.isArrayBuffer(t)||re.isBuffer(t)||re.isStream(t)||re.isFile(t)||re.isBlob(t))return t;if(re.isArrayBufferView(t))return t.buffer;if(re.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yq(t,this.formSerializer).toString();if((s=re.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return jd(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),wq(t)):t}],transformResponse:[function(t){const n=this.transitional||Fx.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&re.isString(t)&&(r&&!this.responseType||o)){const a=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(s){if(a)throw s.name==="SyntaxError"?Be.from(s,Be.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lr.classes.FormData,Blob:lr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],e=>{Fx.headers[e]={}});const qx=Fx,bq=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cq=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),n=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!n||t[n]&&bq[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Sb=Symbol("internals");function ss(e){return e&&String(e).trim().toLowerCase()}function Hc(e){return e===!1||e==null?e:re.isArray(e)?e.map(Hc):String(e)}function Sq(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Eq=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vp(e,t,n,r,o){if(re.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!re.isString(t)){if(re.isString(r))return t.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(t)}}function jq(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function $q(e,t){const n=re.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,a){return this[r].call(this,t,o,i,a)},configurable:!0})})}class $d{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(s,l,u){const d=ss(l);if(!d)throw new Error("header name must be a non-empty string");const p=re.findKey(o,d);(!p||o[p]===void 0||u===!0||u===void 0&&o[p]!==!1)&&(o[p||l]=Hc(s))}const a=(s,l)=>re.forEach(s,(u,d)=>i(u,d,l));return re.isPlainObject(t)||t instanceof this.constructor?a(t,n):re.isString(t)&&(t=t.trim())&&!Eq(t)?a(Cq(t),n):t!=null&&i(n,t,r),this}get(t,n){if(t=ss(t),t){const r=re.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return Sq(o);if(re.isFunction(n))return n.call(this,o,r);if(re.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ss(t),t){const r=re.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||vp(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(a){if(a=ss(a),a){const s=re.findKey(r,a);s&&(!n||vp(r,r[s],s,n))&&(delete r[s],o=!0)}}return re.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||vp(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return re.forEach(this,(o,i)=>{const a=re.findKey(r,i);if(a){n[a]=Hc(o),delete n[i];return}const s=t?jq(i):String(i).trim();s!==i&&delete n[i],n[s]=Hc(o),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return re.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&re.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[Sb]=this[Sb]={accessors:{}}).accessors,o=this.prototype;function i(a){const s=ss(a);r[s]||($q(o,a),r[s]=!0)}return re.isArray(t)?t.forEach(i):i(t),this}}$d.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors($d.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});re.freezeMethods($d);const Or=$d;function yp(e,t){const n=this||qx,r=t||n,o=Or.from(r.headers);let i=r.data;return re.forEach(e,function(s){i=s.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function o$(e){return!!(e&&e.__CANCEL__)}function El(e,t,n){Be.call(this,e??"canceled",Be.ERR_CANCELED,t,n),this.name="CanceledError"}re.inherits(El,Be,{__CANCEL__:!0});function Rq(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Be("Request failed with status code "+n.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Tq=lr.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];re.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),re.isString(r)&&a.push("path="+r),re.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kq(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Nq(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function i$(e,t){return e&&!kq(t)?Nq(e,t):t}const Pq=lr.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let a=i;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(a){const s=re.isString(a)?o(a):a;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();function Dq(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Aq(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=r[i];a||(a=u),n[o]=l,r[o]=u;let p=i,h=0;for(;p!==o;)h+=n[p++],p=p%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),u-a<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function Eb(e,t){let n=0;const r=Aq(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-n,l=r(s),u=i<=a;n=i;const d={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&u?(a-i)/l:void 0,event:o};d[t?"download":"upload"]=!0,e(d)}}const Iq=typeof XMLHttpRequest<"u",Mq=Iq&&function(e){return new Promise(function(n,r){let o=e.data;const i=Or.from(e.headers).normalize();let{responseType:a,withXSRFToken:s}=e,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let d;if(re.isFormData(o)){if(lr.hasStandardBrowserEnv||lr.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((d=i.getContentType())!==!1){const[g,...b]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];i.setContentType([g||"multipart/form-data",...b].join("; "))}}let p=new XMLHttpRequest;if(e.auth){const g=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(g+":"+b))}const h=i$(e.baseURL,e.url);p.open(e.method.toUpperCase(),e$(h,e.params,e.paramsSerializer),!0),p.timeout=e.timeout;function m(){if(!p)return;const g=Or.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),y={data:!a||a==="text"||a==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:g,config:e,request:p};Rq(function(_){n(_),u()},function(_){r(_),u()},y),p=null}if("onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(m)},p.onabort=function(){p&&(r(new Be("Request aborted",Be.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new Be("Network Error",Be.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let b=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const y=e.transitional||t$;e.timeoutErrorMessage&&(b=e.timeoutErrorMessage),r(new Be(b,y.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,e,p)),p=null},lr.hasStandardBrowserEnv&&(s&&re.isFunction(s)&&(s=s(e)),s||s!==!1&&Pq(h))){const g=e.xsrfHeaderName&&e.xsrfCookieName&&Tq.read(e.xsrfCookieName);g&&i.set(e.xsrfHeaderName,g)}o===void 0&&i.setContentType(null),"setRequestHeader"in p&&re.forEach(i.toJSON(),function(b,y){p.setRequestHeader(y,b)}),re.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),a&&a!=="json"&&(p.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&p.addEventListener("progress",Eb(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",Eb(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=g=>{p&&(r(!g||g.type?new El(null,e,p):g),p.abort(),p=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const v=Dq(h);if(v&&lr.protocols.indexOf(v)===-1){r(new Be("Unsupported protocol "+v+":",Be.ERR_BAD_REQUEST,e));return}p.send(o||null)})},Iv={http:sq,xhr:Mq};re.forEach(Iv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const jb=e=>`- ${e}`,Oq=e=>re.isFunction(e)||e===null||e===!1,a$={getAdapter:e=>{e=re.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){n=e[i];let a;if(r=n,!Oq(n)&&(r=Iv[(a=String(n)).toLowerCase()],r===void 0))throw new Be(`Unknown adapter '${a}'`);if(r)break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(jb).join(`
`):" "+jb(i[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Iv};function xp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new El(null,e)}function $b(e){return xp(e),e.headers=Or.from(e.headers),e.data=yp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),a$.getAdapter(e.adapter||qx.adapter)(e).then(function(r){return xp(e),r.data=yp.call(e,e.transformResponse,r),r.headers=Or.from(r.headers),r},function(r){return o$(r)||(xp(e),r&&r.response&&(r.response.data=yp.call(e,e.transformResponse,r.response),r.response.headers=Or.from(r.response.headers))),Promise.reject(r)})}const Rb=e=>e instanceof Or?e.toJSON():e;function Ca(e,t){t=t||{};const n={};function r(u,d,p){return re.isPlainObject(u)&&re.isPlainObject(d)?re.merge.call({caseless:p},u,d):re.isPlainObject(d)?re.merge({},d):re.isArray(d)?d.slice():d}function o(u,d,p){if(re.isUndefined(d)){if(!re.isUndefined(u))return r(void 0,u,p)}else return r(u,d,p)}function i(u,d){if(!re.isUndefined(d))return r(void 0,d)}function a(u,d){if(re.isUndefined(d)){if(!re.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function s(u,d,p){if(p in t)return r(u,d);if(p in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(u,d)=>o(Rb(u),Rb(d),!0)};return re.forEach(Object.keys(Object.assign({},e,t)),function(d){const p=l[d]||o,h=p(e[d],t[d],d);re.isUndefined(h)&&p!==s||(n[d]=h)}),n}const s$="1.6.7",Bx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bx[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Tb={};Bx.transitional=function(t,n,r){function o(i,a){return"[Axios v"+s$+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,s)=>{if(t===!1)throw new Be(o(a," has been removed"+(n?" in "+n:"")),Be.ERR_DEPRECATED);return n&&!Tb[a]&&(Tb[a]=!0,console.warn(o(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,s):!0}};function Lq(e,t,n){if(typeof e!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const s=e[i],l=s===void 0||a(s,i,e);if(l!==!0)throw new Be("option "+i+" must be "+l,Be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Be("Unknown option "+i,Be.ERR_BAD_OPTION)}}const Mv={assertOptions:Lq,validators:Bx},io=Mv.validators;class Ru{constructor(t){this.defaults=t,this.interceptors={request:new Cb,response:new Cb}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ca(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Mv.assertOptions(r,{silentJSONParsing:io.transitional(io.boolean),forcedJSONParsing:io.transitional(io.boolean),clarifyTimeoutError:io.transitional(io.boolean)},!1),o!=null&&(re.isFunction(o)?n.paramsSerializer={serialize:o}:Mv.assertOptions(o,{encode:io.function,serialize:io.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&re.merge(i.common,i[n.method]);i&&re.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Or.concat(a,i);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,p=0,h;if(!l){const v=[$b.bind(this),void 0];for(v.unshift.apply(v,s),v.push.apply(v,u),h=v.length,d=Promise.resolve(n);p<h;)d=d.then(v[p++],v[p++]);return d}h=s.length;let m=n;for(p=0;p<h;){const v=s[p++],g=s[p++];try{m=v(m)}catch(b){g.call(this,b);break}}try{d=$b.call(this,m)}catch(v){return Promise.reject(v)}for(p=0,h=u.length;p<h;)d=d.then(u[p++],u[p++]);return d}getUri(t){t=Ca(this.defaults,t);const n=i$(t.baseURL,t.url);return e$(n,t.params,t.paramsSerializer)}}re.forEach(["delete","get","head","options"],function(t){Ru.prototype[t]=function(n,r){return this.request(Ca(r||{},{method:t,url:n,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,s){return this.request(Ca(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Ru.prototype[t]=n(),Ru.prototype[t+"Form"]=n(!0)});const Uc=Ru;class Vx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(s=>{r.subscribe(s),i=s}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,s){r.reason||(r.reason=new El(i,a,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Vx(function(o){t=o}),cancel:t}}}const zq=Vx;function Fq(e){return function(n){return e.apply(null,n)}}function qq(e){return re.isObject(e)&&e.isAxiosError===!0}const Ov={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ov).forEach(([e,t])=>{Ov[t]=e});const Bq=Ov;function l$(e){const t=new Uc(e),n=Bj(Uc.prototype.request,t);return re.extend(n,Uc.prototype,t,{allOwnKeys:!0}),re.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return l$(Ca(e,o))},n}const Oe=l$(qx);Oe.Axios=Uc;Oe.CanceledError=El;Oe.CancelToken=zq;Oe.isCancel=o$;Oe.VERSION=s$;Oe.toFormData=jd;Oe.AxiosError=Be;Oe.Cancel=Oe.CanceledError;Oe.all=function(t){return Promise.all(t)};Oe.spread=Fq;Oe.isAxiosError=qq;Oe.mergeConfig=Ca;Oe.AxiosHeaders=Or;Oe.formToJSON=e=>r$(re.isHTMLForm(e)?new FormData(e):e);Oe.getAdapter=a$.getAdapter;Oe.HttpStatusCode=Bq;Oe.default=Oe;var Vq={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Rt=Vq.VITE_BACKEND_HOST||"",Ke=()=>"xxxx-xxxx-yxxx-yxxx-xxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)}),Hq=(e,t,n)=>{var i;if(!e.is_foreign_key||!e.foreign_key_reference)return!1;const r=t.find(a=>a.id===e.foreign_key_reference.referenced_table_id),o=(i=r==null?void 0:r.fields)==null?void 0:i.find(a=>a.id===e.foreign_key_reference.referenced_field_id);return e.name===(o==null?void 0:o.name)},Uq=(e,t,n,r,o)=>r.map(i=>i.id===n?{...i,fields:i.fields.map(a=>a.id===e.id?e:a)}:{...i,fields:i.fields.map(a=>{var s,l;if(a.is_foreign_key&&((s=a.foreign_key_reference)==null?void 0:s.referenced_table_id)===n&&((l=a.foreign_key_reference)==null?void 0:l.referenced_field_id)===e.id){const u=a.name===t.name;console.log(` Syncing ${u?"drag-and-drop":"manual"} FK field:`,a.name," PK:",e.name),console.log("    PK tags:",e.tags),console.log("    FK tags (before):",a.tags);const d={...e.tags||{},...a.tags||{}};return console.log("    Merged tags:",d),{...a,name:u?e.name:a.name,data_type:e.data_type,type_parameters:e.type_parameters,nullable:e.nullable,comment:e.comment,logical_name:a.logical_name||e.logical_name,tags:d,is_foreign_key:!0,foreign_key_reference:a.foreign_key_reference}}return a})}),Lv=e=>{const t=new WeakSet,n=r=>{if(r===null||typeof r!="object")return r;if(t.has(r))return null;try{if(r.constructor&&r.constructor.name){const o=r.constructor.name;if(o.startsWith("HTML")||o==="FiberNode"||o==="Element"||o==="Node")return null}}catch{return null}t.add(r);try{if(Array.isArray(r)){const i=r.map(n).filter(a=>a!==null);return t.delete(r),i}const o={};for(const i in r){if(i.startsWith("__react")||i.startsWith("_react")||i==="stateNode"||typeof r[i]=="function")continue;const a=n(r[i]);a!==null&&(o[i]=a)}return t.delete(r),o}catch{return t.delete(r),null}};return n(e)},Mi=e=>{const t=Lv(e);return t.map(n=>({...n,id:String(n.id),fields:n.fields.map(r=>{var i;let o={...r,id:String(r.id),type_parameters:(()=>{if(!r.type_parameters)return null;if(typeof r.type_parameters=="string")return r.type_parameters;if(typeof r.type_parameters=="object"&&Object.keys(r.type_parameters).length>0){const a=r.type_parameters;return a.precision!==void 0?a.scale!==void 0?`${a.precision},${a.scale}`:String(a.precision):JSON.stringify(a)}return null})()};if(r.is_foreign_key&&r.foreign_key_reference&&typeof r.foreign_key_reference=="string"&&r.foreign_key_reference.includes(".")){const[a,s]=r.foreign_key_reference.split("."),l=t.find(d=>d.name===a),u=(i=l==null?void 0:l.fields)==null?void 0:i.find(d=>d.name===s);l&&u&&(o.foreign_key_reference={referenced_table_id:l.id,referenced_field_id:u.id,constraint_name:`fk_${n.name}_${a}`,on_delete:"NO ACTION",on_update:"NO ACTION"})}return o}),created_at:(()=>{if(!n.created_at)return new Date().toISOString();if(typeof n.created_at=="string"){if(n.created_at.includes("GMT"))return new Date(n.created_at).toISOString();if(n.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return n.created_at}return new Date().toISOString()})(),updated_at:(()=>{if(!n.updated_at)return new Date().toISOString();if(typeof n.updated_at=="string"){if(n.updated_at.includes("GMT"))return new Date(n.updated_at).toISOString();if(n.updated_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return n.updated_at}return new Date().toISOString()})()}))},ht=jF((e,t)=>({currentProject:null,projectName:"",catalogName:"",schemaName:"",tables:[],metricViews:[],traditionalViews:[],relationships:[],metricRelationships:[],selectedTables:[],selectedMetricViews:[],selectedTraditionalViews:[],selectedRelationships:[],showTableDialog:!1,showFieldDialog:!1,showRelationshipDialog:!1,showMetricViewDialog:!1,showTraditionalViewDialog:!1,showFieldMappingDialog:!1,showImportDialog:!1,showProjectDialog:!1,showProjectStartupDialog:!0,projectStartupMode:"select",selectedTableForEditing:null,selectedFieldForEditing:null,selectedMetricViewForEditing:null,selectedTraditionalViewForEditing:null,editingTable:null,editingMetricView:null,editingTraditionalView:null,fieldMappingSourceTable:null,fieldMappingTargetMetricView:null,availableCatalogs:[],availableSchemas:[],availableTables:[],availableDatatypes:[],savedProjects:[],appState:{needs_project_selection:!0,has_existing_projects:!1,project_count:0},displayAlertDialog:!1,currentAlertDialogErrorType:null,errors:{loadCatalogs:null,loadSchemas:null,loadTables:null,importTables:null,saveProject:null,loadProject:null,generateDDL:null,applyChanges:null},isDragAndDropFK:(n,r)=>{const o=t();return Hq(n,o.tables,o.relationships)},getPKFieldForFK:n=>{var a;const r=t();if(!n.is_foreign_key||!n.foreign_key_reference)return null;const o=r.tables.find(s=>s.id===n.foreign_key_reference.referenced_table_id);return(a=o==null?void 0:o.fields)==null?void 0:a.find(s=>s.id===n.foreign_key_reference.referenced_field_id)},setCurrentProject:n=>e({currentProject:n}),setProjectMetadata:(n,r,o)=>{const i=t().currentProject;e({projectName:n,catalogName:r,schemaName:o,currentProject:i?{...i,catalog_name:r,schema_name:o}:null})},createNewProject:(n,r,o,i)=>{const a={id:Ke(),name:n,description:r,catalog_name:o,schema_name:i,tables:[],relationships:[],version:"1.0",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),canvas_settings:{}};return e({currentProject:a,projectName:n,catalogName:o,schemaName:i,tables:[],relationships:[]}),a},addTable:n=>{const r={id:n.id||Ke(),name:n.name,logical_name:n.logical_name,comment:n.comment,table_type:n.table_type||"MANAGED",file_format:n.file_format||"DELTA",tags:n.tags||{},position_x:n.position_x||100,position_y:n.position_y||100,width:n.width||200,height:n.height||150,fields:n.fields||[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e(o=>({tables:[...o.tables,r],currentProject:o.currentProject?{...o.currentProject,tables:[...o.currentProject.tables,r],updated_at:new Date().toISOString()}:null})),r},updateTable:(n,r)=>{e(o=>{let i=o.tables.map(a=>a.id===n?{...a,...r,updated_at:new Date().toISOString()}:a);if(r.fields){i.find(s=>s.id===n);const a=o.tables.find(s=>s.id===n);r.fields.forEach(s=>{var u;const l=(u=a==null?void 0:a.fields)==null?void 0:u.find(d=>d.id===s.id);if(s.is_primary_key&&l){const d=JSON.stringify(l.tags||{}),p=JSON.stringify(s.tags||{}),h=d!==p,m=l.data_type!==s.data_type||l.type_parameters!==s.type_parameters||l.nullable!==s.nullable||l.comment!==s.comment||l.logical_name!==s.logical_name||l.name!==s.name||h;console.log(" PK Change Detection:"),console.log("    Original tags:",l.tags),console.log("    Updated tags:",s.tags),console.log("    Tags changed:",h),m&&(console.log(" PK field changed, syncing to FK fields:",s.name),console.log(" Original PK field name:",l.name),console.log(" Before sync - tables count:",i.length),console.log(" Looking for FK fields that reference table:",n,"field:",s.id),i.forEach(v=>{const g=v.fields.filter(b=>{var y,x;return b.is_foreign_key&&((y=b.foreign_key_reference)==null?void 0:y.referenced_table_id)===n&&((x=b.foreign_key_reference)==null?void 0:x.referenced_field_id)===s.id});if(g.length>0){const b=g.filter(x=>x.name===l.name),y=g.filter(x=>x.name!==l.name);console.log(" Found FK fields to sync in table",v.name,":"),console.log("    Drag-and-drop FKs (same name):",b.map(x=>x.name)),console.log("    Manual FKs (different names):",y.map(x=>x.name))}}),i=Uq(s,l,n,i,o.relationships),console.log(" After sync - tables count:",i.length))}})}return{tables:i,currentProject:o.currentProject?{...o.currentProject,tables:i,updated_at:new Date().toISOString()}:null}})},deleteTable:n=>{e(r=>{console.log(" Deleting table with ID:",n);const o=r.relationships.filter(l=>l.source_table_id===n||l.target_table_id===n);console.log(" Found relationships to handle:",o.length);let i=[...r.tables];o.forEach(l=>{var h;if(console.log(" Processing relationship:",l.id),l.fk_table_id===n){console.log(" FK table is being deleted, skipping FK field handling");return}let u,d;if(l.fk_table_id&&l.fk_field_id?(u=l.fk_table_id,d=l.fk_field_id,console.log(" Using explicit FK tracking fields")):(u=l.target_table_id,d=l.target_field_id,console.log(" Using target table/field as FK location")),u===n){console.log(" FK table is being deleted, skipping FK field handling");return}console.log(" FK table ID (has FK):",u),console.log(" FK field ID (FK field):",d);const p=i.find(m=>m.id===u);if(p){console.log(" Found FK table:",p.name);const m=p.fields.find(v=>v.id===d);if(console.log(" FK field to modify:",m==null?void 0:m.name),m){const v=i.find(y=>y.id===l.source_table_id),g=(h=v==null?void 0:v.fields)==null?void 0:h.find(y=>y.id===l.source_field_id);if(console.log(" Referenced PK field name:",g==null?void 0:g.name),console.log(" FK field name:",m.name),m.name===(g==null?void 0:g.name)){console.log(" Drag-and-drop FK (same name as PK): Removing entire field");const y=p.fields.filter(x=>x.id!==d);i=i.map(x=>x.id===u?{...x,fields:y}:x),console.log(" Removed entire FK field from FK table:",p.name)}else{console.log(" Manual FK (different name from PK): Removing only FK reference, keeping field");const y=p.fields.map(x=>x.id===d?{...x,is_foreign_key:!1,foreign_key_reference:null}:x);i=i.map(x=>x.id===u?{...x,fields:y}:x),console.log(" Removed FK reference from field, kept field:",m.name)}}}});const a=i.filter(l=>l.id!==n),s=r.relationships.filter(l=>l.source_table_id!==n&&l.target_table_id!==n);return console.log(" Table deletion complete. Remaining tables:",a.length),console.log(" Remaining relationships:",s.length),{tables:a,relationships:s,currentProject:r.currentProject?{...r.currentProject,tables:a,relationships:s,updated_at:new Date().toISOString()}:null}})},addFieldToTable:(n,r)=>{var i;const o={id:Ke(),name:r.name,data_type:r.data_type,type_parameters:r.type_parameters,nullable:r.nullable!==!1,default_value:r.default_value,comment:r.comment,logical_name:r.logical_name,tags:r.tags||{},is_primary_key:r.is_primary_key||!1,is_foreign_key:r.is_foreign_key||!1,foreign_key_reference:r.foreign_key_reference||null};return t().updateTable(n,{fields:[...((i=t().tables.find(a=>a.id===n))==null?void 0:i.fields)||[],o]}),o},updateField:(n,r,o)=>{const i=t().tables.find(a=>a.id===n);if(i){const a=i.fields.map(s=>s.id===r?{...s,...o}:s);t().updateTable(n,{fields:a})}},deleteField:(n,r)=>{const o=t().tables.find(i=>i.id===n);if(o){const i=o.fields.filter(a=>a.id!==r);t().updateTable(n,{fields:i}),e(a=>({relationships:a.relationships.filter(s=>s.source_field_id!==r&&s.target_field_id!==r)}))}},addRelationship:n=>{const r={id:Ke(),source_table_id:n.source_table_id,target_table_id:n.target_table_id,source_field_id:n.source_field_id,target_field_id:n.target_field_id,relationship_type:n.relationship_type||"many_to_one",constraint_name:n.constraint_name,line_points:n.line_points||[],fk_table_id:n.fk_table_id,fk_field_id:n.fk_field_id,foreign_key_reference:n.foreign_key_reference};return e(o=>({relationships:[...o.relationships,r],currentProject:o.currentProject?{...o.currentProject,relationships:[...o.currentProject.relationships,r],updated_at:new Date().toISOString()}:null})),r},updateRelationship:(n,r)=>{e(o=>{const i=o.relationships.map(a=>a.id===n?{...a,...r}:a);return{relationships:i,currentProject:o.currentProject?{...o.currentProject,relationships:i,updated_at:new Date().toISOString()}:null}})},removeRelationshipLine:n=>{e(r=>{console.log(" Removing relationship line only (no FK field changes):",n);const o=r.relationships.filter(i=>i.id!==n);return{relationships:o,currentProject:r.currentProject?{...r.currentProject,relationships:o,updated_at:new Date().toISOString()}:null}})},deleteRelationship:n=>{e(r=>{var a;const o=r.relationships.find(s=>s.id===n),i=r.relationships.filter(s=>s.id!==n);if(o){console.log(" Deleting relationship:",o);let s,l;console.log(" Relationship fk_table_id:",o.fk_table_id),console.log(" Relationship fk_field_id:",o.fk_field_id),o.fk_table_id&&o.fk_field_id?(s=o.fk_table_id,l=o.fk_field_id,console.log(" Using explicit FK tracking fields (drag-and-drop)")):(s=o.target_table_id,l=o.target_field_id,console.log(" Using target table/field as FK location (manual)")),console.log(" FK table ID (has FK):",s),console.log(" FK field ID (FK field):",l);const u=r.tables.find(d=>d.id===s);if(u){console.log(" Found FK table:",u.name);const d=u.fields.find(g=>g.id===l);console.log(" FK field to modify:",d==null?void 0:d.name,"(is_foreign_key:",d==null?void 0:d.is_foreign_key,")");let p;const h=r.tables.find(g=>g.id===o.source_table_id),m=(a=h==null?void 0:h.fields)==null?void 0:a.find(g=>g.id===o.source_field_id);if(console.log(" Referenced PK field name:",m==null?void 0:m.name),console.log(" FK field name:",d.name),d.name===(m==null?void 0:m.name)){console.log(" Drag-and-drop FK (same name as PK): Removing entire field");const g=u.fields.filter(b=>b.id!==l);p=r.tables.map(b=>b.id===s?{...b,fields:g}:b),console.log(" Removed entire FK field from FK table:",u.name)}else{console.log(" Manual FK (different name from PK): Removing only FK reference, keeping field");const g=u.fields.map(b=>b.id===l?{...b,is_foreign_key:!1,foreign_key_reference:null}:b);p=r.tables.map(b=>b.id===s?{...b,fields:g}:b),console.log(" Removed FK reference from field, kept field:",d==null?void 0:d.name)}return{relationships:i,tables:p,currentProject:r.currentProject?{...r.currentProject,relationships:i,tables:p,updated_at:new Date().toISOString()}:null}}}return{relationships:i,currentProject:r.currentProject?{...r.currentProject,relationships:i,updated_at:new Date().toISOString()}:null}})},addMetricView:n=>{const r={id:n.id||Ke(),name:n.name,description:n.description||"",version:n.version||"0.1",source_table_id:n.source_table_id,dimensions:n.dimensions||[],measures:n.measures||[],joins:n.joins||[],tags:n.tags||{},position_x:n.position_x||100,position_y:n.position_y||100,width:n.width||280,height:n.height||220,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e(o=>({metricViews:[...o.metricViews,r],currentProject:o.currentProject?{...o.currentProject,metric_views:[...o.currentProject.metric_views||[],r],updated_at:new Date().toISOString()}:null})),r},updateMetricView:(n,r)=>{e(o=>({metricViews:o.metricViews.map(i=>i.id===n?{...i,...r,updated_at:new Date().toISOString()}:i),currentProject:o.currentProject?{...o.currentProject,metric_views:(o.currentProject.metric_views||[]).map(i=>i.id===n?{...i,...r,updated_at:new Date().toISOString()}:i),updated_at:new Date().toISOString()}:null}))},deleteMetricView:n=>{e(r=>({metricViews:r.metricViews.filter(o=>o.id!==n),selectedMetricViews:r.selectedMetricViews.filter(o=>o!==n),currentProject:r.currentProject?{...r.currentProject,metric_views:(r.currentProject.metric_views||[]).filter(o=>o.id!==n),updated_at:new Date().toISOString()}:null}))},setSelectedTables:n=>e({selectedTables:n}),setSelectedRelationships:n=>e({selectedRelationships:n}),setShowTableDialog:(n,r=null)=>e({showTableDialog:n,selectedTableForEditing:r,editingTable:r}),setEditingTable:n=>e({editingTable:n}),setShowFieldDialog:(n,r=null)=>e({showFieldDialog:n,selectedFieldForEditing:r}),setShowRelationshipDialog:n=>e({showRelationshipDialog:n}),setShowImportDialog:n=>e({showImportDialog:n}),setShowProjectDialog:n=>e({showProjectDialog:n}),setShowProjectStartupDialog:(n,r="select")=>e({showProjectStartupDialog:n,projectStartupMode:r}),loadCatalogs:async()=>{var n;try{e({errors:{...t().errors,loadCatalogs:null}});const r=await Oe.get(`${Rt}/api/data_modeling/catalogs`);return e({availableCatalogs:r.data}),r.data}catch(r){throw console.error("Error loading catalogs:",r),e({errors:{...t().errors,loadCatalogs:((n=r.response)==null?void 0:n.data)||r.message},currentAlertDialogErrorType:"loadCatalogs",displayAlertDialog:!0}),r}},loadSchemas:async n=>{var r;try{e({errors:{...t().errors,loadSchemas:null}});const o=await Oe.get(`${Rt}/api/data_modeling/schemas/${n}`);return e({availableSchemas:o.data}),o.data}catch(o){throw console.error("Error loading schemas:",o),e({errors:{...t().errors,loadSchemas:((r=o.response)==null?void 0:r.data)||o.message},currentAlertDialogErrorType:"loadSchemas",displayAlertDialog:!0}),o}},loadTables:async(n,r)=>{var o;try{e({errors:{...t().errors,loadTables:null}});const i=await Oe.get(`${Rt}/api/data_modeling/tables/${n}/${r}`);return e({availableTables:i.data}),i.data}catch(i){throw console.error("Error loading tables:",i),e({errors:{...t().errors,loadTables:((o=i.response)==null?void 0:o.data)||i.message},currentAlertDialogErrorType:"loadTables",displayAlertDialog:!0}),i}},loadDatatypes:async()=>{try{const n=await Oe.get(`${Rt}/api/data_modeling/datatypes`);return e({availableDatatypes:n.data}),n.data}catch(n){return console.error("Error loading datatypes:",n),[]}},importExistingTables:async(n,r,o,i=null)=>{var a;try{e({errors:{...t().errors,importTables:null}});const s={catalog_name:n,schema_name:r,table_names:o,include_constraints:!0,position_strategy:"auto_layout"};i&&(s.session_id=i);const u=(await Oe.post(`${Rt}/api/data_modeling/import_existing`,s)).data,d=t(),p=new Set(d.tables.map(y=>y.id)),h=new Set(d.tables.map(y=>y.name.toLowerCase())),m=[],v=u.tables.filter(y=>p.has(y.id)?!1:h.has(y.name.toLowerCase())?(m.push(y.name),!1):!0).map(y=>({...y,fields:(y.fields||[]).map(x=>{let _={...x};if(x.data_type==="DECIMAL"&&typeof x.type_parameters=="string"){const w=x.type_parameters;if(w&&w.trim()){const E=w.split(",");if(E.length>=1){const j=parseInt(E[0].trim()),$=E.length>1?parseInt(E[1].trim()):0;_.type_parameters={precision:isNaN(j)?10:j,scale:isNaN($)?0:$}}}}return _})}));if(m.length>0){const y=`The following tables were not imported because tables with the same names already exist in the canvas: ${m.join(", ")}`;if(console.warn(y),e({errors:{...t().errors,importTables:y}}),v.length===0)throw new Error(y)}const g=new Set(d.relationships.map(y=>`${y.source_table_id}-${y.target_table_id}-${y.source_field_id}-${y.target_field_id}`)),b=u.relationships.filter(y=>{const x=`${y.source_table_id}-${y.target_table_id}-${y.source_field_id}-${y.target_field_id}`;return!g.has(x)});return e({currentProject:{...d.currentProject,tables:[...d.tables,...v],relationships:[...d.relationships,...b]},tables:[...d.tables,...v],relationships:[...d.relationships,...b]}),u}catch(s){throw console.error("Error importing tables:",s),e({errors:{...t().errors,importTables:((a=s.response)==null?void 0:a.data)||s.message},currentAlertDialogErrorType:"importTables",displayAlertDialog:!0}),s}},saveProject:async(n,r="yaml",o=!1)=>{var i,a,s,l,u;try{e({errors:{...t().errors,saveProject:null}});const d=t().currentProject;if(!d)throw new Error("No project to save");const p=Mi(t().tables),h=t().metricRelationships.map(x=>({...x,created_at:x.created_at&&typeof x.created_at=="string"?x.created_at.includes("GMT")?new Date(x.created_at).toISOString():x.created_at:new Date().toISOString(),updated_at:x.updated_at&&typeof x.updated_at=="string"?x.updated_at.includes("GMT")?new Date(x.updated_at).toISOString():x.updated_at:new Date().toISOString()})),m=Lv({...d,catalog_name:d.catalog_name||t().catalogName||"default",schema_name:d.schema_name||t().schemaName||"default",tables:p,relationships:t().relationships,metric_views:t().metricViews,metric_relationships:h,created_at:d.created_at&&typeof d.created_at=="string"&&d.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?d.created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),v={name:n||d.name,format:r,overwrite:o,project:m};console.log("Saving project data:",v),console.log("Transformed tables:",p);const g=Lv(v);console.log("Final cleaned data:",g);const b=await Oe.post(`${Rt}/api/data_modeling/project/save`,g),y=b.data.project||v.project;return e({currentProject:{...y,name:n||d.name},projectName:n||d.name}),console.log("Project saved successfully. Updated project name to:",n||d.name),b.data}catch(d){console.error("Error saving project:",d);const p=((a=(i=d.response)==null?void 0:i.data)==null?void 0:a.error)||((l=(s=d.response)==null?void 0:s.data)==null?void 0:l.validation_errors)||d.message||"Unknown error occurred while saving project";throw console.error("Save project error details:",(u=d.response)==null?void 0:u.data),e({errors:{...t().errors,saveProject:p},currentAlertDialogErrorType:"saveProject",displayAlertDialog:!0}),d}},loadProject:async n=>{var r;try{e({errors:{...t().errors,loadProject:null}});const i=(await Oe.get(`${Rt}/api/data_modeling/project/load/${n}`)).data;let a=i.project;console.log(" LoadProject: Raw response data:",i),console.log(" LoadProject: Project name in response:",a==null?void 0:a.name),a={...a,created_at:a.created_at&&typeof a.created_at=="string"&&a.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?a.created_at:new Date().toISOString(),updated_at:a.updated_at&&typeof a.updated_at=="string"&&a.updated_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?a.updated_at:new Date().toISOString(),tables:(a.tables||[]).map(u=>({...u,created_at:u.created_at&&typeof u.created_at=="string"&&u.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?u.created_at:new Date().toISOString(),updated_at:u.updated_at&&typeof u.updated_at=="string"&&u.updated_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?u.updated_at:new Date().toISOString(),fields:(u.fields||[]).map(d=>{var h;let p={...d};if(d.data_type==="DECIMAL"&&typeof d.type_parameters=="string"){const m=d.type_parameters;if(m&&m.trim()){const v=m.split(",");if(v.length>=1){const g=parseInt(v[0].trim()),b=v.length>1?parseInt(v[1].trim()):0;p.type_parameters={precision:isNaN(g)?10:g,scale:isNaN(b)?0:b}}}}if(d.is_foreign_key&&d.foreign_key_reference&&typeof d.foreign_key_reference=="string"&&d.foreign_key_reference.includes(".")){const[m,v]=d.foreign_key_reference.split("."),g=(a.tables||[]).find(y=>y.name===m),b=(h=g==null?void 0:g.fields)==null?void 0:h.find(y=>y.name===v);g&&b?(p.foreign_key_reference={referenced_table_id:g.id,referenced_field_id:b.id,constraint_name:`fk_${u.name}_${m}`,on_delete:"NO ACTION",on_update:"NO ACTION"},console.log(" Converted string FK reference to object:",d.foreign_key_reference,"",p.foreign_key_reference)):(console.warn(" Could not resolve string FK reference:",d.foreign_key_reference),p.foreign_key_reference=null)}return p})})),metric_views:Array.isArray(a.metric_views)?a.metric_views.map(u=>({...u,created_at:u.created_at&&typeof u.created_at=="string"&&u.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?u.created_at:new Date().toISOString(),updated_at:u.updated_at&&typeof u.updated_at=="string"&&u.updated_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?u.updated_at:new Date().toISOString(),dimensions:Array.isArray(u.dimensions)?u.dimensions:[],measures:Array.isArray(u.measures)?u.measures:[],joins:Array.isArray(u.joins)?u.joins:[],tags:u.tags&&typeof u.tags=="object"?u.tags:{}})):[]};const s=i.name||a.name;console.log(" LoadProject: Setting project state"),console.log(" Correct project name (savedData.name):",i.name),console.log(" Project name from project object:",a.name),console.log(" Using project name:",s);const l={...a,name:s};return e({currentProject:l,projectName:s,catalogName:a.catalog_name,schemaName:a.schema_name,tables:a.tables,metricViews:Array.isArray(a.metric_views)?a.metric_views:[],relationships:Array.isArray(a.relationships)?a.relationships:[],metricRelationships:Array.isArray(a.metric_relationships)?a.metric_relationships:[]}),console.log(" LoadProject: State updated successfully"),i}catch(o){throw console.error("Error loading project:",o),e({errors:{...t().errors,loadProject:((r=o.response)==null?void 0:r.data)||o.message},currentAlertDialogErrorType:"loadProject",displayAlertDialog:!0}),o}},getSavedProjects:async()=>{try{const n=await Oe.get(`${Rt}/api/data_modeling/projects`);return console.log(" getSavedProjects response:",n.data),e({savedProjects:n.data}),n.data}catch(n){return console.error("Error getting saved projects:",n),e({savedProjects:[]}),[]}},deleteProject:async n=>{var r,o;try{e({errors:{...t().errors,deleteProject:null}}),console.log(" Deleting project with identifier:",n);const i=await Oe.delete(`${Rt}/api/data_modeling/project/${n}`);await t().getSavedProjects();const a=t().currentProject;return a&&(a.id===n||a.name===n)&&e({currentProject:null,projectName:"",tables:[],relationships:[]}),i.data}catch(i){console.error("Error deleting project:",i);const a=((o=(r=i.response)==null?void 0:r.data)==null?void 0:o.error)||i.message||"Failed to delete project";throw e({errors:{...t().errors,deleteProject:a},currentAlertDialogErrorType:"deleteProject",displayAlertDialog:!0}),i}},downloadProject:async n=>{var r,o;try{e({errors:{...t().errors,downloadProject:null}}),console.log(" Downloading project with identifier:",n);const i=await Oe.get(`${Rt}/api/data_modeling/project/${n}/download`,{responseType:"blob"}),a=new Blob([i.data],{type:"application/x-yaml"}),s=window.URL.createObjectURL(a),l=document.createElement("a");l.href=s;const u=i.headers["content-disposition"];let d=`${n}.yaml`;if(u){const p=u.match(/filename="(.+)"/);p&&(d=p[1])}return l.setAttribute("download",d),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(s),i.data}catch(i){console.error("Error downloading project:",i);const a=((o=(r=i.response)==null?void 0:r.data)==null?void 0:o.error)||i.message||"Failed to download project";throw e({errors:{...t().errors,downloadProject:a},currentAlertDialogErrorType:"downloadProject",displayAlertDialog:!0}),i}},importProject:async(n,r,o=!1,i="yaml")=>{var a,s,l,u,d;try{e({errors:{...t().errors,importProject:null}}),console.log(" Importing project:",r,"type:",i);let p;typeof n=="string"?p=n:n&&typeof n.toString=="function"?p=n.toString():p=String(n),typeof p=="string"&&p.includes("__reactFiber")&&(console.warn(" Detected React fiber references in content, attempting to clean..."),p=p.replace(/__reactFiber\$[^'"\s]*/g,""));const h={};h.project_name=String(r),h.overwrite=!!o,i==="json"?h.json_content=String(p):h.yaml_content=String(p);const m=await Oe.post(`${Rt}/api/data_modeling/project/import`,h);return await t().getSavedProjects(),m.data}catch(p){console.error("Error importing project:",p),console.error("Error response status:",(a=p.response)==null?void 0:a.status),console.error("Error response data:",(s=p.response)==null?void 0:s.data),console.error("Error response headers:",(l=p.response)==null?void 0:l.headers);let h;throw p.response?h=((d=(u=p.response)==null?void 0:u.data)==null?void 0:d.error)||p.message||"Failed to import project":h="Network error: Unable to connect to the backend server. Please ensure the server is running on ",e({errors:{...t().errors,importProject:h},currentAlertDialogErrorType:"importProject",displayAlertDialog:!0}),p}},getAppState:async()=>{try{const n=await Oe.get(`${Rt}/api/data_modeling/app_state`);return e({appState:n.data}),n.data}catch(n){return console.error("Error getting app state:",n),t().appState}},generateDDL:async(n=[])=>{var r,o;try{e({errors:{...t().errors,generateDDL:null}});const i=t().currentProject;if(!i)throw new Error("No project available");console.log("Generating DDL for project ID:",i.id),console.log("Project data keys:",Object.keys(i)),console.log("Tables count:",t().tables.length);const a=Mi(t().tables);console.log("Project data being sent:",{project:{...i,catalog_name:i.catalog_name||t().catalogName||"default",schema_name:i.schema_name||t().schemaName||"default",tables:a,relationships:t().relationships,created_at:i.created_at&&typeof i.created_at=="string"&&i.created_at.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?i.created_at:new Date().toISOString(),updated_at:new Date().toISOString()},table_ids:n});const s=p=>{if(!p)return new Date().toISOString();if(typeof p=="string"){if(p.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return p;try{return new Date(p).toISOString()}catch{return new Date().toISOString()}}return p instanceof Date?p.toISOString():new Date().toISOString()},l=(t().metricRelationships||[]).map(p=>({...p,created_at:s(p.created_at),updated_at:s(p.updated_at)})),u=(t().metricViews||[]).map(p=>({...p,created_at:s(p.created_at),updated_at:s(p.updated_at)}));return(await Oe.post(`${Rt}/api/data_modeling/project/${i.id}/generate_ddl`,{project:{...i,catalog_name:i.catalog_name||t().catalogName||"default",schema_name:i.schema_name||t().schemaName||"default",tables:a,relationships:t().relationships,metric_views:u,metric_relationships:l,created_at:s(i.created_at),updated_at:s(i.updated_at)},table_ids:n})).data}catch(i){console.error("Error generating DDL:",i);let a=i.message;if(((r=i.response)==null?void 0:r.status)===422&&((o=i.response)!=null&&o.data)){const s=i.response.data;s.validation_errors&&s.validation_errors.length>0?a=`Validation Error: ${s.error}

Details:
${s.validation_errors.map(l=>{var u;return`- ${(u=l.loc)==null?void 0:u.join(".")}: ${l.msg}`}).join(`
`)}`:a=s.error||a}throw e({errors:{...t().errors,generateDDL:a},currentAlertDialogErrorType:"generateDDL",displayAlertDialog:!0}),i}},applyChanges:async(n=[],r=!0,o=null,i=null)=>{var a,s;try{e({errors:{...t().errors,applyChanges:null}});const l=t().currentProject;if(!l)throw new Error("No project available");console.log("Applying changes for project ID:",l.id),console.log("Project data keys:",Object.keys(l)),console.log("Tables count:",t().tables.length);const u=Mi(t().tables),d=v=>{if(!v)return new Date().toISOString();if(typeof v=="string"){if(v.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return v;try{return new Date(v).toISOString()}catch{return new Date().toISOString()}}return v instanceof Date?v.toISOString():new Date().toISOString()},p=(t().metricRelationships||[]).map(v=>({...v,created_at:d(v.created_at),updated_at:d(v.updated_at)})),h=(t().metricViews||[]).map(v=>({...v,created_at:d(v.created_at),updated_at:d(v.updated_at)}));return(await Oe.post(`${Rt}/api/data_modeling/project/${l.id}/apply_changes`,{project:{...l,catalog_name:l.catalog_name||t().catalogName||"default",schema_name:l.schema_name||t().schemaName||"default",tables:u,relationships:t().relationships,metric_views:h,metric_relationships:p,created_at:d(l.created_at),updated_at:d(l.updated_at)},table_ids:n,create_only:r,warehouse_id:o,session_id:i})).data}catch(l){console.error("Error applying changes:",l);let u=l.message;if(((a=l.response)==null?void 0:a.status)===422&&((s=l.response)!=null&&s.data)){const d=l.response.data;d.validation_errors&&d.validation_errors.length>0?u=`Validation Error: ${d.error}

Details:
${d.validation_errors.map(p=>{var h;return`- ${(h=p.loc)==null?void 0:h.join(".")}: ${p.msg}`}).join(`
`)}`:u=d.error||u}throw e({errors:{...t().errors,applyChanges:u},currentAlertDialogErrorType:"applyChanges",displayAlertDialog:!0}),l}},setShowMetricViewDialog:(n,r=null,o=null)=>{console.log(" Setting metric view dialog:",{show:n,metricView:r==null?void 0:r.name,sourceTableId:o}),e({showMetricViewDialog:n,editingMetricView:r,selectedMetricViewForEditing:r,fieldMappingSourceTable:o?t().tables.find(i=>i.id===o):null})},setShowFieldMappingDialog:(n,r=null,o=null)=>{console.log(" Setting field mapping dialog:",{show:n,sourceTable:r==null?void 0:r.name,targetMetricView:o==null?void 0:o.name}),e({showFieldMappingDialog:n,fieldMappingSourceTable:r,fieldMappingTargetMetricView:o})},createMetricView:n=>{console.log(" Creating metric view:",n);const r={...n,id:n.id||Ke(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};e(o=>({metricViews:[...o.metricViews,r],showMetricViewDialog:!1,editingMetricView:null})),console.log(" Metric view created successfully:",r.name)},updateMetricView:(n,r)=>{console.log(" Updating metric view:",n,r),e(o=>({metricViews:o.metricViews.map(i=>i.id===n?{...i,...r,updated_at:new Date().toISOString()}:i),showMetricViewDialog:!1,editingMetricView:null})),console.log(" Metric view updated successfully")},deleteMetricView:n=>{console.log(" Deleting metric view:",n),e(r=>({metricViews:r.metricViews.filter(o=>o.id!==n),metricRelationships:r.metricRelationships.filter(o=>o.metric_view_id!==n),selectedMetricViews:r.selectedMetricViews.filter(o=>o!==n)})),console.log(" Metric view deleted successfully")},setSelectedMetricViews:n=>{console.log(" Setting selected metric views:",n),e({selectedMetricViews:n})},updateMetricViewPosition:(n,r,o)=>{e(i=>({metricViews:i.metricViews.map(a=>a.id===n?{...a,position_x:r,position_y:o}:a)}))},updateMetricViewSize:(n,r,o)=>{console.log(" Updating metric view size:",n,{width:r,height:o}),e(i=>({metricViews:i.metricViews.map(a=>a.id===n?{...a,width:r,height:o}:a)}))},createMetricRelationship:(n,r,o=[])=>{console.log(" Creating metric relationship:",{sourceTableId:n,metricViewId:r,fieldMappings:o});const i={id:Ke(),source_table_id:n,metric_view_id:r,relationship_type:"source_to_metric",field_mappings:o,line_points:[],created_at:new Date().toISOString()};return e(a=>({metricRelationships:[...a.metricRelationships,i]})),console.log(" Metric relationship created successfully"),i},deleteMetricRelationship:n=>{console.log(" Deleting metric relationship:",n),e(r=>({metricRelationships:r.metricRelationships.filter(o=>o.id!==n)})),console.log(" Metric relationship deleted successfully")},loadProjectWithMetricViews:n=>{console.log(" Loading project with metric views and traditional views:",n),e({currentProject:n,projectName:n.name||"",catalogName:n.catalog_name||"",schemaName:n.schema_name||"",tables:n.tables||[],metricViews:n.metric_views||[],traditionalViews:n.traditional_views||[],relationships:n.relationships||[],metricRelationships:n.metric_relationships||[]}),console.log(" Project loaded with metric views")},saveProjectWithMetricViews:async()=>{try{const n=t(),r=n.currentProject;if(!r)throw new Error("No current project to save");console.log(" Saving project with metric views...");const o={...r,tables:n.tables,metric_views:n.metricViews,relationships:n.relationships,metric_relationships:n.metricRelationships,updated_at:new Date().toISOString()},i=await Oe.put(`${Rt}/api/data_modeling/project/${r.id}`,o);return e({currentProject:i.data}),console.log(" Project saved with metric views successfully"),i.data}catch(n){throw console.error(" Error saving project with metric views:",n),n}},applyMetricView:async(n,r=!1,o=null)=>{const i=t(),{currentProject:a}=i;if(!a)throw new Error("No project loaded");try{console.log(" Applying metric view to Databricks:",n);const s=a.name||i.projectName||"Untitled Project",l=a.catalog_name||i.catalogName||"default",u=a.schema_name||i.schemaName||"default";console.log(" Project data for apply:",{name:s,catalog_name:l,schema_name:u,currentProject_catalog:a.catalog_name,state_catalog:i.catalogName,currentProject_schema:a.schema_name,state_schema:i.schemaName});const d=g=>{if(!g)return new Date().toISOString();if(typeof g=="string"){if(g.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return g;try{return new Date(g).toISOString()}catch{return new Date().toISOString()}}return g instanceof Date?g.toISOString():new Date().toISOString()},p=(a.metric_relationships||i.metricRelationships||[]).map(g=>({...g,created_at:d(g.created_at),updated_at:d(g.updated_at)})),h=Mi(a.tables||i.tables||[]),m={project:{...a,name:s,catalog_name:l,schema_name:u,tables:h,metric_views:a.metric_views||i.metricViews||[],traditional_views:a.traditional_views||i.traditionalViews||[],relationships:a.relationships||i.relationships||[],metric_relationships:p,version:a.version||"1.0",created_at:d(a.created_at),updated_at:d(a.updated_at)},create_only:r,warehouse_id:o},v=await Oe.post(`${Rt}/api/data_modeling/project/${a.id}/metric_views/${n}/apply`,m);return console.log(" Metric view applied successfully:",v.data),v.data}catch(s){throw console.error(" Error applying metric view:",s),s}},setShowTraditionalViewDialog:(n,r=null)=>{console.log(" Setting traditional view dialog:",{show:n,traditionalView:r==null?void 0:r.name}),e({showTraditionalViewDialog:n,editingTraditionalView:r,selectedTraditionalViewForEditing:r})},createTraditionalView:n=>{console.log(" Creating traditional view:",n);const r={...n,id:n.id||Ke(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e(o=>({traditionalViews:[...o.traditionalViews,r],showTraditionalViewDialog:!1,editingTraditionalView:null})),console.log(" Traditional view created successfully:",r.name),r},updateTraditionalView:(n,r)=>{console.log(" Updating traditional view:",n,r),e(o=>({traditionalViews:o.traditionalViews.map(i=>i.id===n?{...i,...r,updated_at:new Date().toISOString()}:i),showTraditionalViewDialog:!1,editingTraditionalView:null})),console.log(" Traditional view updated successfully")},deleteTraditionalView:n=>{console.log(" Deleting traditional view:",n),e(r=>({traditionalViews:r.traditionalViews.filter(o=>o.id!==n),selectedTraditionalViews:r.selectedTraditionalViews.filter(o=>o!==n)})),console.log(" Traditional view deleted successfully")},setSelectedTraditionalViews:n=>{console.log(" Setting selected traditional views:",n),e({selectedTraditionalViews:n})},updateTraditionalViewPosition:(n,r,o)=>{e(i=>({traditionalViews:i.traditionalViews.map(a=>a.id===n?{...a,position_x:r,position_y:o}:a)}))},updateTraditionalViewSize:(n,r,o)=>{console.log(" Updating traditional view size:",n,{width:r,height:o}),e(i=>({traditionalViews:i.traditionalViews.map(a=>a.id===n?{...a,width:r,height:o}:a)}))},applyTraditionalView:async(n,r=!1,o=null)=>{const i=t(),{currentProject:a}=i;if(!a)throw new Error("No project loaded");try{console.log(" Applying traditional view to Databricks:",n);const s=a.name||i.projectName||"Untitled Project",l=a.catalog_name||i.catalogName||"default",u=a.schema_name||i.schemaName||"default";console.log(" Project data for apply:",{name:s,catalog_name:l,schema_name:u});const d=v=>{if(!v)return new Date().toISOString();if(typeof v=="string"){if(v.includes("T")&&v.includes("Z"))return v;const g=new Date(v);if(!isNaN(g.getTime()))return g.toISOString()}return new Date().toISOString()},p=Mi(a.tables||i.tables||[]),h={project:{...a,name:s,catalog_name:l,schema_name:u,tables:p,metric_views:a.metric_views||i.metricViews||[],traditional_views:a.traditional_views||i.traditionalViews||[],relationships:a.relationships||i.relationships||[],metric_relationships:a.metric_relationships||i.metricRelationships||[],version:a.version||"1.0",created_at:d(a.created_at),updated_at:d(a.updated_at)},create_only:r,warehouse_id:o},m=await Oe.post(`${Rt}/api/data_modeling/project/${a.id}/traditional_views/${n}/apply`,h);return console.log(" Traditional view applied successfully:",m.data),m.data}catch(s){throw console.error(" Error applying traditional view:",s),s}},generateTraditionalViewDDL:async n=>{const r=t(),{currentProject:o}=r;if(!o)throw new Error("No project loaded");try{console.log(" Generating DDL for traditional view:",n);const i=o.name||r.projectName||"Untitled Project",a=o.catalog_name||r.catalogName||"default",s=o.schema_name||r.schemaName||"default",l=h=>{if(!h)return new Date().toISOString();if(typeof h=="string"){if(h.includes("T")&&h.includes("Z"))return h;const m=new Date(h);if(!isNaN(m.getTime()))return m.toISOString()}return new Date().toISOString()},u=Mi(o.tables||r.tables||[]),d={project:{...o,name:i,catalog_name:a,schema_name:s,tables:u,metric_views:o.metric_views||r.metricViews||[],traditional_views:o.traditional_views||r.traditionalViews||[],relationships:o.relationships||r.relationships||[],metric_relationships:o.metric_relationships||r.metricRelationships||[],version:o.version||"1.0",created_at:l(o.created_at),updated_at:l(o.updated_at)}},p=await Oe.post(`${Rt}/api/data_modeling/project/${o.id}/traditional_views/${n}/generate_ddl`,d);return console.log(" Traditional view DDL generated successfully:",p.data),p.data}catch(i){throw console.error(" Error generating traditional view DDL:",i),i}},toggleAlertDialog:()=>{e({displayAlertDialog:!t().displayAlertDialog})}}));function rt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var Gq=["color"],Wq=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,Gq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Kq=["color"],Ut=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,Kq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Yq=["color"],c$=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,Yq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Xq=["color"],_p=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,Xq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Zq=["color"],u$=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,Zq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Qq=["color"],Jo=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,Qq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Jq=["color"],Tu=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,Jq);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M8.625 2.5C8.625 3.12132 8.12132 3.625 7.5 3.625C6.87868 3.625 6.375 3.12132 6.375 2.5C6.375 1.87868 6.87868 1.375 7.5 1.375C8.12132 1.375 8.625 1.87868 8.625 2.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM7.5 13.625C8.12132 13.625 8.625 13.1213 8.625 12.5C8.625 11.8787 8.12132 11.375 7.5 11.375C6.87868 11.375 6.375 11.8787 6.375 12.5C6.375 13.1213 6.87868 13.625 7.5 13.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),eB=["color"],ol=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,eB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M7.50005 1.04999C7.74858 1.04999 7.95005 1.25146 7.95005 1.49999V8.41359L10.1819 6.18179C10.3576 6.00605 10.6425 6.00605 10.8182 6.18179C10.994 6.35753 10.994 6.64245 10.8182 6.81819L7.81825 9.81819C7.64251 9.99392 7.35759 9.99392 7.18185 9.81819L4.18185 6.81819C4.00611 6.64245 4.00611 6.35753 4.18185 6.18179C4.35759 6.00605 4.64251 6.00605 4.81825 6.18179L7.05005 8.41359V1.49999C7.05005 1.25146 7.25152 1.04999 7.50005 1.04999ZM2.5 10C2.77614 10 3 10.2239 3 10.5V12C3 12.5539 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2239 12.2239 10 12.5 10C12.7761 10 13 10.2239 13 10.5V12C13 13.1041 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2239 2.22386 10 2.5 10Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),tB=["color"],kb=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,tB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M5.5 4.625C6.12132 4.625 6.625 4.12132 6.625 3.5C6.625 2.87868 6.12132 2.375 5.5 2.375C4.87868 2.375 4.375 2.87868 4.375 3.5C4.375 4.12132 4.87868 4.625 5.5 4.625ZM9.5 4.625C10.1213 4.625 10.625 4.12132 10.625 3.5C10.625 2.87868 10.1213 2.375 9.5 2.375C8.87868 2.375 8.375 2.87868 8.375 3.5C8.375 4.12132 8.87868 4.625 9.5 4.625ZM10.625 7.5C10.625 8.12132 10.1213 8.625 9.5 8.625C8.87868 8.625 8.375 8.12132 8.375 7.5C8.375 6.87868 8.87868 6.375 9.5 6.375C10.1213 6.375 10.625 6.87868 10.625 7.5ZM5.5 8.625C6.12132 8.625 6.625 8.12132 6.625 7.5C6.625 6.87868 6.12132 6.375 5.5 6.375C4.87868 6.375 4.375 6.87868 4.375 7.5C4.375 8.12132 4.87868 8.625 5.5 8.625ZM10.625 11.5C10.625 12.1213 10.1213 12.625 9.5 12.625C8.87868 12.625 8.375 12.1213 8.375 11.5C8.375 10.8787 8.87868 10.375 9.5 10.375C10.1213 10.375 10.625 10.8787 10.625 11.5ZM5.5 12.625C6.12132 12.625 6.625 12.1213 6.625 11.5C6.625 10.8787 6.12132 10.375 5.5 10.375C4.87868 10.375 4.375 10.8787 4.375 11.5C4.375 12.1213 4.87868 12.625 5.5 12.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),nB=["color"],d$=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,nB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),rB=["color"],cr=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,rB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),oB=["color"],zv=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,oB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M3.5 2C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V6H8.5C8.22386 6 8 5.77614 8 5.5V2H3.5ZM9 2.70711L11.2929 5H9V2.70711ZM2 2.5C2 1.67157 2.67157 1 3.5 1H8.5C8.63261 1 8.75979 1.05268 8.85355 1.14645L12.8536 5.14645C12.9473 5.24021 13 5.36739 13 5.5V12.5C13 13.3284 12.3284 14 11.5 14H3.5C2.67157 14 2 13.3284 2 12.5V2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),iB=["color"],ku=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,iB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M3 2.5C3 2.22386 3.22386 2 3.5 2H9.08579C9.21839 2 9.34557 2.05268 9.43934 2.14645L11.8536 4.56066C11.9473 4.65443 12 4.78161 12 4.91421V12.5C12 12.7761 11.7761 13 11.5 13H3.5C3.22386 13 3 12.7761 3 12.5V2.5ZM3.5 1C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V4.91421C13 4.51639 12.842 4.13486 12.5607 3.85355L10.1464 1.43934C9.86514 1.15804 9.48361 1 9.08579 1H3.5ZM4.5 4C4.22386 4 4 4.22386 4 4.5C4 4.77614 4.22386 5 4.5 5H7.5C7.77614 5 8 4.77614 8 4.5C8 4.22386 7.77614 4 7.5 4H4.5ZM4.5 7C4.22386 7 4 7.22386 4 7.5C4 7.77614 4.22386 8 4.5 8H10.5C10.7761 8 11 7.77614 11 7.5C11 7.22386 10.7761 7 10.5 7H4.5ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H10.5C10.7761 11 11 10.7761 11 10.5C11 10.2239 10.7761 10 10.5 10H4.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),aB=["color"],il=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,aB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M7.07095 0.650238C6.67391 0.650238 6.32977 0.925096 6.24198 1.31231L6.0039 2.36247C5.6249 2.47269 5.26335 2.62363 4.92436 2.81013L4.01335 2.23585C3.67748 2.02413 3.23978 2.07312 2.95903 2.35386L2.35294 2.95996C2.0722 3.2407 2.0232 3.6784 2.23493 4.01427L2.80942 4.92561C2.62307 5.2645 2.47227 5.62594 2.36216 6.00481L1.31209 6.24287C0.924883 6.33065 0.650024 6.6748 0.650024 7.07183V7.92897C0.650024 8.32601 0.924883 8.67015 1.31209 8.75794L2.36228 8.99603C2.47246 9.375 2.62335 9.73652 2.80979 10.0755L2.2354 10.9867C2.02367 11.3225 2.07267 11.7602 2.35341 12.041L2.95951 12.6471C3.24025 12.9278 3.67795 12.9768 4.01382 12.7651L4.92506 12.1907C5.26384 12.377 5.62516 12.5278 6.0039 12.6379L6.24198 13.6881C6.32977 14.0753 6.67391 14.3502 7.07095 14.3502H7.92809C8.32512 14.3502 8.66927 14.0753 8.75705 13.6881L8.99505 12.6383C9.37411 12.5282 9.73573 12.3773 10.0748 12.1909L10.986 12.7653C11.3218 12.977 11.7595 12.928 12.0403 12.6473L12.6464 12.0412C12.9271 11.7604 12.9761 11.3227 12.7644 10.9869L12.1902 10.076C12.3768 9.73688 12.5278 9.37515 12.638 8.99596L13.6879 8.75794C14.0751 8.67015 14.35 8.32601 14.35 7.92897V7.07183C14.35 6.6748 14.0751 6.33065 13.6879 6.24287L12.6381 6.00488C12.528 5.62578 12.3771 5.26414 12.1906 4.92507L12.7648 4.01407C12.9766 3.6782 12.9276 3.2405 12.6468 2.95975L12.0407 2.35366C11.76 2.07292 11.3223 2.02392 10.9864 2.23565L10.0755 2.80989C9.73622 2.62328 9.37437 2.47229 8.99505 2.36209L8.75705 1.31231C8.66927 0.925096 8.32512 0.650238 7.92809 0.650238H7.07095ZM4.92053 3.81251C5.44724 3.44339 6.05665 3.18424 6.71543 3.06839L7.07095 1.50024H7.92809L8.28355 3.06816C8.94267 3.18387 9.5524 3.44302 10.0794 3.81224L11.4397 2.9547L12.0458 3.56079L11.1882 4.92117C11.5573 5.44798 11.8164 6.0575 11.9321 6.71638L13.5 7.07183V7.92897L11.932 8.28444C11.8162 8.94342 11.557 9.55301 11.1878 10.0798L12.0453 11.4402L11.4392 12.0462L10.0787 11.1886C9.55192 11.5576 8.94241 11.8166 8.28355 11.9323L7.92809 13.5002H7.07095L6.71543 11.932C6.0569 11.8162 5.44772 11.5572 4.92116 11.1883L3.56055 12.046L2.95445 11.4399L3.81213 10.0794C3.4431 9.55266 3.18403 8.94326 3.06825 8.2845L1.50002 7.92897V7.07183L3.06818 6.71632C3.18388 6.05765 3.44283 5.44833 3.81171 4.92165L2.95398 3.561L3.56008 2.95491L4.92053 3.81251ZM9.02496 7.50008C9.02496 8.34226 8.34223 9.02499 7.50005 9.02499C6.65786 9.02499 5.97513 8.34226 5.97513 7.50008C5.97513 6.65789 6.65786 5.97516 7.50005 5.97516C8.34223 5.97516 9.02496 6.65789 9.02496 7.50008ZM9.92496 7.50008C9.92496 8.83932 8.83929 9.92499 7.50005 9.92499C6.1608 9.92499 5.07513 8.83932 5.07513 7.50008C5.07513 6.16084 6.1608 5.07516 7.50005 5.07516C8.83929 5.07516 9.92496 6.16084 9.92496 7.50008Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),sB=["color"],lB=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,sB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),cB=["color"],f$=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,cB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M8.51194 3.00541C9.18829 2.54594 10.0435 2.53694 10.6788 2.95419C10.8231 3.04893 10.9771 3.1993 11.389 3.61119C11.8009 4.02307 11.9513 4.17714 12.046 4.32141C12.4633 4.95675 12.4543 5.81192 11.9948 6.48827C11.8899 6.64264 11.7276 6.80811 11.3006 7.23511L10.6819 7.85383C10.4867 8.04909 10.4867 8.36567 10.6819 8.56093C10.8772 8.7562 11.1938 8.7562 11.389 8.56093L12.0077 7.94221L12.0507 7.89929C12.4203 7.52976 12.6568 7.2933 12.822 7.0502C13.4972 6.05623 13.5321 4.76252 12.8819 3.77248C12.7233 3.53102 12.4922 3.30001 12.1408 2.94871L12.0961 2.90408L12.0515 2.85942C11.7002 2.508 11.4692 2.27689 11.2277 2.11832C10.2377 1.46813 8.94398 1.50299 7.95001 2.17822C7.70691 2.34336 7.47044 2.57991 7.1009 2.94955L7.058 2.99247L6.43928 3.61119C6.24401 3.80645 6.24401 4.12303 6.43928 4.31829C6.63454 4.51355 6.95112 4.51355 7.14638 4.31829L7.7651 3.69957C8.1921 3.27257 8.35757 3.11027 8.51194 3.00541ZM4.31796 7.14672C4.51322 6.95146 4.51322 6.63487 4.31796 6.43961C4.12269 6.24435 3.80611 6.24435 3.61085 6.43961L2.99213 7.05833L2.94922 7.10124C2.57957 7.47077 2.34303 7.70724 2.17788 7.95035C1.50265 8.94432 1.4678 10.238 2.11799 11.2281C2.27656 11.4695 2.50766 11.7005 2.8591 12.0518L2.90374 12.0965L2.94837 12.1411C3.29967 12.4925 3.53068 12.7237 3.77214 12.8822C4.76219 13.5324 6.05589 13.4976 7.04986 12.8223C7.29296 12.6572 7.52943 12.4206 7.89896 12.051L7.89897 12.051L7.94188 12.0081L8.5606 11.3894C8.75586 11.1941 8.75586 10.8775 8.5606 10.6823C8.36533 10.487 8.04875 10.487 7.85349 10.6823L7.23477 11.301C6.80777 11.728 6.6423 11.8903 6.48794 11.9951C5.81158 12.4546 4.95642 12.4636 4.32107 12.0464C4.17681 11.9516 4.02274 11.8012 3.61085 11.3894C3.19896 10.9775 3.0486 10.8234 2.95385 10.6791C2.53661 10.0438 2.54561 9.18863 3.00507 8.51227C3.10993 8.35791 3.27224 8.19244 3.69924 7.76544L4.31796 7.14672ZM9.62172 6.08558C9.81698 5.89032 9.81698 5.57373 9.62172 5.37847C9.42646 5.18321 9.10988 5.18321 8.91461 5.37847L5.37908 8.91401C5.18382 9.10927 5.18382 9.42585 5.37908 9.62111C5.57434 9.81637 5.89092 9.81637 6.08619 9.62111L9.62172 6.08558Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),uB=["color"],Fv=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,uB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M4.50021 0C4.77635 0 5.0002 0.223853 5.0002 0.49999V2.49995C5.0002 2.77609 4.77635 2.99994 4.50021 2.99994C4.22408 2.99994 4.00022 2.77609 4.00022 2.49995V0.49999C4.00022 0.223853 4.22408 0 4.50021 0ZM0.646451 0.64647C0.84171 0.451212 1.15829 0.451212 1.35354 0.64647L2.85351 2.14644C3.04877 2.3417 3.04877 2.65827 2.85351 2.85353C2.65826 3.04879 2.34168 3.04879 2.14642 2.85353L0.646452 1.35356C0.451193 1.1583 0.451193 0.841728 0.646451 0.64647ZM0.00030517 4.49991C0.00030517 4.22377 0.224158 3.99992 0.500295 3.99992H2.50025C2.77639 3.99992 3.00024 4.22377 3.00024 4.49991C3.00024 4.77605 2.77639 4.9999 2.50025 4.9999H0.500295C0.224158 4.9999 0.00030517 4.77605 0.00030517 4.49991ZM12.0001 10.4998C12.0001 10.2236 12.2239 9.9998 12.5001 9.9998H14.5C14.7761 9.9998 15 10.2236 15 10.4998C15 10.7759 14.7761 10.9998 14.5 10.9998H12.5001C12.2239 10.9998 12.0001 10.7759 12.0001 10.4998ZM10.5001 11.9998C10.7762 11.9998 11.0001 12.2236 11.0001 12.4997V14.4997C11.0001 14.7758 10.7762 14.9997 10.5001 14.9997C10.224 14.9997 10.0001 14.7758 10.0001 14.4997V12.4997C10.0001 12.2236 10.224 11.9998 10.5001 11.9998ZM12.1462 12.1462C12.3415 11.951 12.658 11.951 12.8533 12.1462L14.3533 13.6462C14.5485 13.8415 14.5485 14.158 14.3533 14.3533C14.158 14.5485 13.8414 14.5485 13.6462 14.3533L12.1462 12.8533C11.951 12.6581 11.951 12.3415 12.1462 12.1462ZM7.76478 3.69938C8.19177 3.27238 8.35724 3.11008 8.5116 3.00522C9.18794 2.54577 10.0431 2.53677 10.6784 2.95401C10.8227 3.04875 10.9767 3.19911 11.3886 3.61099C11.8005 4.02287 11.9509 4.17694 12.0456 4.3212C12.4628 4.95653 12.4539 5.81168 11.9944 6.48802C11.8895 6.64238 11.7272 6.80785 11.3002 7.23484L10.6815 7.85354C10.4863 8.0488 10.4863 8.36538 10.6815 8.56064C10.8768 8.75589 11.1934 8.75589 11.3886 8.56064L12.0073 7.94193L12.0502 7.89903C12.4199 7.5295 12.6564 7.29303 12.8216 7.04993C13.4968 6.05598 13.5316 4.7623 12.8815 3.77228C12.7229 3.53083 12.4918 3.29982 12.1404 2.94853L12.0957 2.9039L12.0511 2.85925C11.6998 2.50782 11.4688 2.27672 11.2273 2.11816C10.2373 1.46798 8.94364 1.50284 7.94968 2.17805C7.70659 2.34319 7.47012 2.57973 7.1006 2.94936L7.1006 2.94937L7.05769 2.99228L6.43898 3.61099C6.24372 3.80625 6.24372 4.12282 6.43898 4.31808C6.63424 4.51334 6.95081 4.51334 7.14607 4.31808L7.76478 3.69938ZM2.99191 7.05807L2.94899 7.10097C2.57935 7.4705 2.34282 7.70697 2.17767 7.95006C1.50246 8.94401 1.4676 10.2377 2.11778 11.2277C2.27634 11.4692 2.50744 11.7002 2.85886 12.0515L2.85888 12.0515L2.90352 12.0961L2.94815 12.1407L2.94815 12.1407L2.94817 12.1408C3.29945 12.4922 3.53045 12.7233 3.7719 12.8818C4.76193 13.532 6.0556 13.4972 7.04956 12.8219C7.29265 12.6568 7.52912 12.4203 7.89865 12.0506L7.94155 12.0077L8.56026 11.389C8.75552 11.1937 8.75552 10.8772 8.56026 10.6819C8.365 10.4867 8.04842 10.4867 7.85317 10.6819L7.23446 11.3006C6.80747 11.7276 6.642 11.8899 6.48764 11.9948C5.8113 12.4542 4.95615 12.4632 4.32082 12.046C4.17656 11.9512 4.02249 11.8009 3.61061 11.389C3.19873 10.9771 3.04837 10.8231 2.95363 10.6788C2.53639 10.0435 2.54539 9.18832 3.00484 8.51198C3.10971 8.35761 3.27201 8.19215 3.699 7.76516L4.3177 7.14645C4.51296 6.95119 4.51296 6.63462 4.3177 6.43936C4.12245 6.2441 3.80587 6.2441 3.61061 6.43936L2.99191 7.05807Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),dB=["color"],fB=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,dB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),pB=["color"],vs=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,pB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),hB=["color"],Nu=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,hB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),mB=["color"],Rd=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,mB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M3.24182 2.32181C3.3919 2.23132 3.5784 2.22601 3.73338 2.30781L12.7334 7.05781C12.8974 7.14436 13 7.31457 13 7.5C13 7.68543 12.8974 7.85564 12.7334 7.94219L3.73338 12.6922C3.5784 12.774 3.3919 12.7687 3.24182 12.6782C3.09175 12.5877 3 12.4252 3 12.25V2.75C3 2.57476 3.09175 2.4123 3.24182 2.32181ZM4 3.57925V11.4207L11.4288 7.5L4 3.57925Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),gB=["color"],pr=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,gB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),vB=["color"],An=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,vB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),yB=["color"],xB=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=rt(e,yB);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),f.createElement("path",{d:"M7.81825 1.18188C7.64251 1.00615 7.35759 1.00615 7.18185 1.18188L4.18185 4.18188C4.00611 4.35762 4.00611 4.64254 4.18185 4.81828C4.35759 4.99401 4.64251 4.99401 4.81825 4.81828L7.05005 2.58648V9.49996C7.05005 9.74849 7.25152 9.94996 7.50005 9.94996C7.74858 9.94996 7.95005 9.74849 7.95005 9.49996V2.58648L10.1819 4.81828C10.3576 4.99401 10.6425 4.99401 10.8182 4.81828C10.994 4.64254 10.994 4.35762 10.8182 4.18188L7.81825 1.18188ZM2.5 9.99997C2.77614 9.99997 3 10.2238 3 10.5V12C3 12.5538 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2238 12.2239 9.99997 12.5 9.99997C12.7761 9.99997 13 10.2238 13 10.5V12C13 13.104 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2238 2.22386 9.99997 2.5 9.99997Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const _B=({isOpen:e,onClose:t,mode:n})=>{var A,C;const{currentProject:r,saveProject:o,loadProject:i,getSavedProjects:a}=ht(),[s,l]=f.useState(""),[u,d]=f.useState("yaml"),[p,h]=f.useState([]),[m,v]=f.useState(""),[g,b]=f.useState(!1);f.useEffect(()=>{e&&n==="load"&&y(),e&&n==="save"&&r&&(console.log(" Save dialog opened. Setting project name to:",r.name||""),l(r.name||""))},[e,n,r]);const y=async()=>{try{b(!0);const S=await a();h(S||[])}catch(S){console.error("Error loading saved projects:",S),h([])}finally{b(!1)}},x=async(S=!1)=>{var D,O,F;if(s.trim())try{b(!0),console.log(" Saving project with name:",s.trim()),console.log(" Current project name before save:",r==null?void 0:r.name),await o(s.trim(),u,S),console.log(" Project saved successfully"),t(),l("")}catch(N){if(console.error("Error saving project:",N),((D=N.response)==null?void 0:D.status)===409&&((F=(O=N.response)==null?void 0:O.data)==null?void 0:F.code)==="DUPLICATE_NAME"&&window.confirm(`A different project named "${s.trim()}" already exists. This will overwrite the existing project.

Are you sure you want to continue?`))return x(!0)}finally{b(!1)}},_=async S=>{try{b(!0),await i(S),t()}catch(D){console.error("Error loading project:",D)}finally{b(!1)}},w=p.filter(S=>S.name.toLowerCase().includes(m.toLowerCase())),E=S=>new Date(S).toLocaleDateString()+" "+new Date(S).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),j=S=>S==="yaml"?"blue":"green",$=()=>{l(""),v(""),t()};return c.jsx(me.Root,{open:e,onOpenChange:$,children:c.jsxs(me.Content,{style:{maxWidth:n==="load"?600:450},children:[c.jsx(me.Title,{children:n==="save"?"Save Data Model Project":"Load Data Model Project"}),c.jsx(me.Description,{size:"2",mb:"4",children:n==="save"?"Save your current data model project to a file.":"Load a previously saved data model project."}),n==="save"&&c.jsxs(M,{direction:"column",gap:"3",children:[c.jsxs("label",{children:[c.jsx(k,{as:"div",size:"2",mb:"1",weight:"bold",children:"Project Name"}),c.jsx(we.Input,{placeholder:"Enter project name...",value:s,onChange:S=>l(S.target.value),disabled:g})]}),c.jsxs("label",{children:[c.jsx(k,{as:"div",size:"2",mb:"1",weight:"bold",children:"File Format"}),c.jsx(np.Root,{value:u,onValueChange:d,disabled:g,children:c.jsxs(M,{gap:"4",children:[c.jsx("label",{children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(np.Item,{value:"yaml"}),c.jsx(k,{size:"2",children:"YAML (.yaml)"}),c.jsx(Se,{color:"blue",size:"1",children:"Recommended"})]})}),c.jsx("label",{children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(np.Item,{value:"json"}),c.jsx(k,{size:"2",children:"JSON (.json)"})]})})]})})]}),r&&c.jsxs(te,{className:"project-summary",children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Project Summary:"}),c.jsxs(k,{size:"1",color:"gray",children:["Tables: ",((A=r.tables)==null?void 0:A.length)||0," | Relationships: ",((C=r.relationships)==null?void 0:C.length)||0," | Catalog: ",r.catalog_name," | Schema: ",r.schema_name]})]})]}),n==="load"&&c.jsxs(M,{direction:"column",gap:"3",children:[c.jsxs("label",{children:[c.jsx(k,{as:"div",size:"2",mb:"1",weight:"bold",children:"Search Projects"}),c.jsxs(we.Root,{children:[c.jsx(we.Slot,{children:c.jsx(vs,{height:"16",width:"16"})}),c.jsx(we.Input,{placeholder:"Search by project name...",value:m,onChange:S=>v(S.target.value)})]})]}),c.jsxs(te,{children:[c.jsxs(k,{size:"2",weight:"bold",mb:"2",children:["Saved Projects (",w.length,")"]}),c.jsx(Gt,{style:{height:"300px"},children:c.jsx(te,{className:"projects-list",children:g?c.jsx(te,{className:"loading-state",children:c.jsx(k,{size:"2",color:"gray",children:"Loading projects..."})}):w.length>0?w.map((S,D)=>{var O;return c.jsx(te,{className:"project-item",children:c.jsxs(M,{justify:"between",align:"start",children:[c.jsxs(te,{className:"project-info",style:{flex:1},children:[c.jsxs(M,{align:"center",gap:"2",mb:"1",children:[c.jsx(zv,{size:"14"}),c.jsx(k,{size:"2",weight:"medium",children:S.name}),c.jsx(Se,{color:j(S.format),size:"1",children:((O=S.format)==null?void 0:O.toUpperCase())||"JSON"})]}),c.jsxs(k,{size:"1",color:"gray",children:["Saved: ",E(S.saved_at)]})]}),c.jsx(M,{gap:"1",children:c.jsxs(pe,{size:"1",onClick:()=>_(S.name),disabled:g,children:[c.jsx(ol,{})," Load"]})})]})},D)}):c.jsx(te,{className:"empty-state",children:c.jsx(k,{size:"2",color:"gray",align:"center",children:m?"No projects match your search.":"No saved projects found."})})})})]})]}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",disabled:g,children:"Cancel"})}),n==="save"&&c.jsx(pe,{onClick:x,disabled:!s.trim()||g,children:g?"Saving...":"Save Project"}),n==="load"&&c.jsx(pe,{variant:"soft",onClick:y,disabled:g,children:g?"Refreshing...":"Refresh List"})]})]})})},wB=({isOpen:e,onClose:t})=>{const{currentProject:n,catalogName:r,schemaName:o,availableCatalogs:i,availableSchemas:a,loadCatalogs:s,loadSchemas:l,setProjectMetadata:u,saveProject:d}=ht(),[p,h]=f.useState(""),[m,v]=f.useState(""),[g,b]=f.useState(!1),[y,x]=f.useState(!1),[_,w]=f.useState(!1);f.useEffect(()=>{if(e&&n){console.log(" ProjectSettings: Dialog opened",{availableCatalogs:(i==null?void 0:i.length)||0,availableSchemas:(a==null?void 0:a.length)||0});const S=r||n.catalog_name||"",D=o||n.schema_name||"";h(S),v(D),!i||i.length===0?(console.log(" ProjectSettings: Loading catalogs..."),E()):console.log(" ProjectSettings: Using existing catalogs:",i.length),S&&(console.log(" ProjectSettings: Loading schemas for current catalog:",S),j(S))}},[e,n,r,o,i]),f.useEffect(()=>{p&&p!==(r||(n==null?void 0:n.catalog_name))&&j(p)},[p]);const E=async()=>{b(!0);try{await s()}catch(S){console.error("Error loading catalogs:",S)}finally{b(!1)}},j=async S=>{if(S){console.log(" ProjectSettings: handleLoadSchemas called for catalog:",S),x(!0);try{const D=await l(S);console.log(" ProjectSettings: Schemas loaded:",(D==null?void 0:D.length)||0)}catch(D){console.error("Error loading schemas:",D)}finally{x(!1)}}},$=async(S=!1)=>{var D,O,F,N,L;if(!(!n||!p||!m)){w(!0);try{u(n.name,p,m),await d(n.name,"yaml",S),t()}catch(T){if(console.error("Error saving project settings:",T),((D=T.response)==null?void 0:D.status)===409&&((F=(O=T.response)==null?void 0:O.data)==null?void 0:F.code)==="DUPLICATE_NAME"){if(window.confirm(`A different project named "${n.name}" already exists. This will overwrite the existing project.

Are you sure you want to continue?`))return $(!0)}else alert("Error saving project settings: "+(((L=(N=T.response)==null?void 0:N.data)==null?void 0:L.error)||T.message))}finally{w(!1)}}},A=()=>{h(r||(n==null?void 0:n.catalog_name)||""),v(o||(n==null?void 0:n.schema_name)||""),t()},C=p!==(r||(n==null?void 0:n.catalog_name))||m!==(o||(n==null?void 0:n.schema_name));return c.jsx(me.Root,{open:e,onOpenChange:t,children:c.jsxs(me.Content,{style:{maxWidth:500},children:[c.jsx(me.Title,{children:"Project Settings"}),c.jsx(me.Description,{size:"2",mb:"4",children:"Change the catalog and schema for this project. This will affect where tables are created when applying changes."}),c.jsxs(M,{direction:"column",gap:"4",children:[c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(k,{as:"label",size:"2",weight:"bold",children:"Project Name"}),c.jsx(k,{size:"2",color:"gray",children:(n==null?void 0:n.name)||"Untitled Project"})]}),c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(k,{as:"label",size:"2",weight:"bold",children:"Catalog *"}),c.jsxs(M,{align:"center",gap:"2",children:[c.jsxs(J.Root,{value:p,onValueChange:h,disabled:g,children:[c.jsx(J.Trigger,{placeholder:"Select a catalog...",style:{width:"100%"}}),c.jsxs(J.Content,{children:[i==null?void 0:i.map(S=>c.jsx(J.Item,{value:S.name,children:S.name},S.name)),(!i||i.length===0)&&!g&&c.jsx(J.Item,{value:"no-catalogs",disabled:!0,children:"No catalogs available"})]})]}),g&&c.jsx(k,{size:"1",color:"gray",children:""})]})]}),c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(k,{as:"label",size:"2",weight:"bold",children:"Schema *"}),c.jsxs(M,{align:"center",gap:"2",children:[c.jsxs(J.Root,{value:m,onValueChange:v,disabled:!p||y,children:[c.jsx(J.Trigger,{placeholder:"Select a schema...",style:{width:"100%"}}),c.jsxs(J.Content,{children:[a==null?void 0:a.map(S=>c.jsx(J.Item,{value:S.name,children:S.name},S.name)),(!a||a.length===0)&&!y&&p&&c.jsx(J.Item,{value:"no-schemas",disabled:!0,children:"No schemas available"})]})]}),y&&c.jsx(k,{size:"1",color:"gray",children:""})]})]}),C&&c.jsxs(M,{direction:"column",gap:"2",p:"3",style:{backgroundColor:"var(--gray-2)",borderRadius:"6px"},children:[c.jsx(k,{size:"2",weight:"bold",children:"Changes:"}),c.jsxs(k,{size:"1",color:"gray",children:["Current: ",r||(n==null?void 0:n.catalog_name)||"default",".",o||(n==null?void 0:n.schema_name)||"default"]}),c.jsxs(k,{size:"1",color:"blue",children:["New: ",p,".",m]})]})]}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",onClick:A,children:"Cancel"})}),c.jsx(pe,{onClick:$,disabled:!p||!m||!C||_,children:_?" Saving...":"Save Changes"})]}),c.jsx(me.Close,{children:c.jsx(pe,{variant:"ghost",color:"gray",style:{position:"absolute",top:"10px",right:"10px"},children:c.jsx(Jo,{})})})]})})},qv=({isOpen:e,onClose:t,onApply:n,projectData:r})=>{const[o,i]=f.useState(!1),[a,s]=f.useState([]),[l,u]=f.useState(0),[d,p]=f.useState(""),[h,m]=f.useState(null),[v,g]=f.useState([]),[b,y]=f.useState(""),[x,_]=f.useState(!1),w=f.useRef(!1);f.useEffect(()=>{e&&E()},[e]);const E=async()=>{try{const O=await fetch("/api/data_modeling/warehouses");if(O.ok){const F=await O.json();g(F);const N=F.find(L=>L.state==="RUNNING");N?y(N.id):F.length>0&&y(F[0].id),j(` Loaded ${F.length} warehouses`,"info")}else{const F=await O.text();console.error("Failed to load warehouses:",O.status,F),j(" Could not load warehouses from server","warning")}}catch(O){console.error("Error loading warehouses:",O),j(" Could not connect to server for warehouses","warning")}},j=(O,F="info")=>{const N=new Date().toLocaleTimeString();s(L=>[...L,{id:Date.now()+Math.random(),message:O,type:F,timestamp:N}])},$=O=>{console.log("SSE Update received:",O);try{switch(O.type){case"connected":j(" Connected to progress stream","info");break;case"started":const F=O.table_names||[],N=O.total_tables||0;j(` Processing ${N} tables: ${F.join(", ")}`,"info"),p("Processing Tables");break;case"table_started":j(` Starting table ${O.table_name}...`,"info"),u(O.progress);break;case"table_completed":const L=O.result;if(L.success){if(j(` Table ${L.table_name}: created/updated successfully`,"success"),L.warnings&&L.warnings.length>0&&L.warnings.forEach(q=>{j(`    Warning: ${q}`,"warning")}),L.tags){const q=L.tags,G=q.tag_changes_count||0;if(G>0){const Q=q.table_tags_count||0,le=q.column_tags_count||0;if(q.tag_success){j(`    Applied ${G} tags (${Q} table, ${le} column)`,"success");const ie=q.tag_details||[];ie.length>0&&ie.forEach(fe=>{if(fe&&fe.entity_type&&fe.tag_key){const he=fe.entity_type==="tables"?"table":`column ${fe.entity_name||"unknown"}`,z=fe.action==="CREATE"?"":fe.action==="UPDATE"?"":"";j(`     ${z} ${fe.action} ${he}.${fe.tag_key} = '${fe.tag_value||""}'`,"info")}})}else j(`    Tag processing failed for ${L.table_name}`,"warning")}else j(`    No tag changes needed for ${L.table_name}`,"info")}}else j(` Table ${L.table_name}: failed to create/update`,"error"),L.error&&j(`    Error: ${L.error}`,"error");u(O.progress);break;case"completed":console.log(" Processing completed message:",O),p("Completed"),u(100),_(!0),w.current=!0,console.log(" Progress set to 100%");const T=O.results||[],B=T.length,I=T.filter(q=>q&&q.success).length,R=B-I;console.log(` Results summary: ${B} total, ${I} success, ${R} failure`),m({catalog_name:O.catalog_name||"Unknown",schema_name:O.schema_name||"Unknown",total:B,success:I,failure:R}),I===B?j(` All ${B} tables processed successfully!`,"success"):j(` Completed with ${I} successes and ${R} failures`,"warning"),console.log(" Setting isApplying to false"),i(!1);break;case"error":j(` SSE Error: ${O.message}`,"error"),i(!1);break;default:console.log("Unknown progress update type:",O.type,O)}}catch(F){console.error("Error processing SSE update:",F,"Update data:",O),j(` Error processing progress update: ${F.message}`,"warning")}},A=async()=>{if(!r){j(" No project data available","error");return}i(!0),s([]),u(0),m(null),_(!1),w.current=!1;let O=null;try{j(" Starting Apply Changes process...","info"),p("Initializing"),u(10);const F=`apply_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;O=new EventSource(`/api/data_modeling/project/${r.id}/apply_progress/${F}`),O.onmessage=L=>{try{console.log("Raw SSE data:",L.data);const T=JSON.parse(L.data);console.log("Parsed SSE update:",T),$(T)}catch(T){console.error("Error parsing SSE data:",T,"Raw data:",L.data),j(` Error parsing progress data: ${T.message}`,"warning")}},O.onerror=L=>{w.current?console.log("SSE connection closed after successful completion"):(console.error("SSE Error:",L),j(" Connection to progress stream lost","warning"),i(!1)),O&&(O.close(),O=null)},console.log(" About to call onApply with sessionId:",F),await n(r,b,F)||(j(" No response received from server","warning"),i(!1))}catch(F){j(` Apply Changes failed: ${F.message}`,"error"),p("Failed"),console.error("Apply Changes error:",F)}finally{O&&(O.close(),O=null),i(!1)}},C=()=>{o||(s([]),u(0),p(""),m(null),_(!1),w.current=!1,t())},S=O=>{switch(O){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}},D=O=>{switch(O){case"success":return"green";case"error":return"red";case"warning":return"orange";case"info":return"blue";default:return"gray"}};return c.jsx(me.Root,{open:e,onOpenChange:C,children:c.jsxs(me.Content,{className:"apply-progress-dialog",style:{maxWidth:"800px"},children:[c.jsx(me.Title,{children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(k,{size:"5",weight:"bold",children:"Apply Changes to Databricks"}),o&&c.jsx(Se,{color:"blue",variant:"soft",children:d})]})}),c.jsx(me.Description,{children:c.jsx(k,{color:"gray",children:r?`Applying changes to ${r.catalog_name}.${r.schema_name}`:"Ready to apply changes to Databricks"})}),c.jsxs(M,{direction:"column",gap:"4",mt:"4",children:[!o&&!h&&v.length>0&&c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(k,{weight:"bold",size:"2",children:"SQL Warehouse"}),c.jsxs(J.Root,{value:b,onValueChange:y,children:[c.jsx(J.Trigger,{placeholder:"Select a warehouse..."}),c.jsx(J.Content,{children:v.map(O=>c.jsx(J.Item,{value:O.id,children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Se,{color:O.state==="RUNNING"?"green":"gray",variant:"soft",size:"1",children:O.state}),c.jsx(k,{children:O.name}),c.jsxs(k,{size:"1",color:"gray",children:["(",O.size,")"]})]})},O.id))})]}),c.jsx(k,{size:"1",color:"gray",children:"Choose the SQL warehouse to execute DDL statements"})]}),(o||l>0)&&c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx("div",{className:"progress-bar-container",children:c.jsx("div",{className:"progress-bar-fill",style:{width:`${l}%`}})}),c.jsxs(k,{size:"2",color:"gray",children:[l,"% complete ",d&&`- ${d}`]})]}),h&&c.jsxs(M,{direction:"column",gap:"2",p:"3",className:"results-summary",children:[c.jsx(k,{weight:"bold",children:"Results Summary"}),c.jsxs(M,{gap:"4",children:[c.jsxs(Se,{color:"green",variant:"soft",children:[" ",h.success," Success"]}),h.failure>0&&c.jsxs(Se,{color:"red",variant:"soft",children:[" ",h.failure," Failed"]}),c.jsxs(Se,{color:"gray",variant:"soft",children:[" ",h.total," Total"]})]}),c.jsxs(k,{size:"2",color:"gray",children:["Target: ",h.catalog_name,".",h.schema_name]})]}),c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(k,{weight:"bold",children:"Execution Logs"}),c.jsx(Gt,{className:"logs-container",style:{height:"300px",border:"1px solid var(--gray-6)",borderRadius:"6px"},children:c.jsx(M,{direction:"column",gap:"1",p:"3",children:a.length===0?c.jsx(k,{color:"gray",size:"2",children:o?"Initializing...":'Click "Start Apply" to begin'}):a.map(O=>c.jsxs(M,{gap:"2",align:"start",className:"log-entry",children:[c.jsx(k,{size:"1",color:"gray",style:{minWidth:"60px"},children:O.timestamp}),c.jsxs(k,{size:"2",color:D(O.type),style:{fontFamily:"monospace",wordBreak:"break-all"},children:[S(O.type)," ",O.message]})]},O.id))})})]}),c.jsxs(M,{gap:"3",justify:"end",mt:"4",children:[c.jsx(me.Close,{asChild:!0,children:c.jsx(pe,{variant:"soft",color:"gray",disabled:o,children:h?"Close":"Cancel"})}),!h&&c.jsx(pe,{onClick:A,disabled:o||!r,color:"blue",children:o?"Applying...":"Start Apply"})]})]})]})})},Bv=({isOpen:e,onClose:t,onGenerateDDL:n,projectData:r,tableIds:o=null})=>{var A;const[i,a]=f.useState(!1),[s,l]=f.useState([]),[u,d]=f.useState(0),[p,h]=f.useState(""),[m,v]=f.useState(null),[g,b]=f.useState("");f.useEffect(()=>{e&&(l([]),d(0),h(""),v(null),b(""),a(!1))},[e]);const y=(C,S="info")=>{const D=new Date().toLocaleTimeString();l(O=>[...O,{id:Date.now()+Math.random(),message:C,type:S,timestamp:D}])},x=async()=>{var C;if(!r){y(" No project data available","error");return}a(!0),l([]),d(0),v(null),b("");try{const S=o?o.length:((C=r.tables)==null?void 0:C.length)||0;y(` Starting DDL generation for ${o?"individual table":"all tables"}...`,"info"),h("Initializing"),d(10);const O=await n(o);if(O&&O.ddl_statements){h("Processing DDL Results"),d(70);const F=O.ddl_statements.length;let N=0,L=0,T="";O.ddl_statements.forEach((B,I)=>{B.ddl&&B.ddl.trim()?(N++,y(` ${B.table_name}: DDL generated successfully`,"success"),T+=`-- DDL for ${B.table_name}
${B.ddl}

`,B.warnings&&B.warnings.length>0&&B.warnings.forEach(R=>{y(`    Warning: ${R}`,"warning")})):(L++,y(` ${B.table_name}: Failed to generate DDL`,"error"),B.error&&y(`   Error: ${B.error}`,"error"))}),d(90),h("Finalizing"),v({total:F,success:N,failure:L,ddl_statements:O.ddl_statements}),b(T),y(` DDL Generation Summary: ${N}/${F} successful`,"info"),L>0&&y(` ${L} table(s) failed DDL generation`,"warning"),d(100),h("Complete")}else throw new Error("Invalid response format from DDL generation")}catch(S){console.error("DDL Generation Error:",S),y(` DDL generation failed: ${S.message}`,"error"),h("Failed"),v({total:0,success:0,failure:1,error:S.message})}finally{a(!1)}},_=()=>{if(!g){y(" No DDL content to download","error");return}try{const C=new Blob([g],{type:"text/sql"}),S=URL.createObjectURL(C),D=document.createElement("a");D.href=S;const O=o&&o.length===1?`${r.name}_single_table_ddl.sql`:`${r.name}_ddl.sql`;D.download=O,D.click(),URL.revokeObjectURL(S),y(` DDL downloaded as ${O}`,"success")}catch(C){console.error("Download error:",C),y(` Failed to download DDL: ${C.message}`,"error")}},w=C=>{switch(C){case"success":return"";case"error":return"";case"warning":return"";default:return""}},E=C=>{switch(C){case"success":return"green";case"error":return"red";case"warning":return"orange";default:return"blue"}},j=o?o.length:((A=r==null?void 0:r.tables)==null?void 0:A.length)||0,$=o?"Individual Table":"All Tables";return c.jsx(me.Root,{open:e,onOpenChange:t,children:c.jsxs(me.Content,{className:"ddl-progress-dialog",style:{maxWidth:"800px"},children:[c.jsxs(me.Title,{children:["Generate ",$," DDL"]}),c.jsxs(me.Description,{children:["Generate DDL statements for ",j,' table(s) in project "',r==null?void 0:r.name,'"']}),c.jsxs(M,{direction:"column",gap:"4",style:{minHeight:"400px"},children:[c.jsxs(M,{direction:"column",gap:"2",children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(k,{size:"2",weight:"medium",children:p&&`Phase: ${p}`}),c.jsxs(k,{size:"2",color:"gray",children:[u,"%"]})]}),c.jsx("div",{className:"progress-bar",children:c.jsx("div",{className:"progress-fill",style:{width:`${u}%`}})})]}),m&&c.jsxs(M,{gap:"2",wrap:"wrap",children:[c.jsxs(Se,{color:"blue",size:"2",children:["Total: ",m.total]}),c.jsxs(Se,{color:"green",size:"2",children:["Success: ",m.success]}),m.failure>0&&c.jsxs(Se,{color:"red",size:"2",children:["Failed: ",m.failure]})]}),c.jsx(Gt,{style:{height:"300px"},scrollbars:"vertical",children:c.jsxs(M,{direction:"column",gap:"1",p:"2",children:[s.map(C=>c.jsxs(M,{gap:"2",align:"start",children:[c.jsx(k,{size:"1",color:"gray",style:{minWidth:"60px"},children:C.timestamp}),c.jsxs(k,{size:"2",color:E(C.type),children:[w(C.type)," ",C.message]})]},C.id)),s.length===0&&c.jsx(k,{size:"2",color:"gray",style:{fontStyle:"italic"},children:'Click "Generate DDL" to start...'})]})}),c.jsxs(M,{gap:"3",justify:"end",children:[!i&&!m&&c.jsx(pe,{onClick:x,disabled:!r||j===0,children:"Generate DDL"}),m&&g&&c.jsx(pe,{onClick:_,variant:"solid",color:"green",children:" Download DDL"}),c.jsx(pe,{variant:"soft",onClick:t,disabled:i,children:m?"Close":"Cancel"})]})]})]})})},bB="/assets/databricks_logo_navigation_bar-BqANxcry.svg",CB=()=>{const{currentProject:e,tables:t,catalogName:n,schemaName:r,generateDDL:o,applyChanges:i,setShowProjectDialog:a,setShowProjectStartupDialog:s,setShowTableDialog:l,setShowImportDialog:u}=ht();Z.useEffect(()=>{console.log(" NavigationBar: currentProject changed:",e==null?void 0:e.name)},[e==null?void 0:e.name]);const[d,p]=f.useState(!1),[h,m]=f.useState(!1),[v,g]=f.useState(!1),[b,y]=f.useState(!1),x=()=>{p(!0)},_=()=>{s(!0)},w=()=>{m(!0)},E=()=>{console.log(" NavigationBar: handleGenerateDDL called"),console.log(" Current project:",e),console.log(" Tables count:",(t==null?void 0:t.length)||0),y(!0)},j=async C=>(console.log(" NavigationBar: handleGenerateDDLWithProgress called"),console.log(" Table IDs:",C),await o(C||[])),$=()=>{console.log(" NavigationBar: handleApplyChanges called"),console.log(" Current project:",e),console.log(" Tables count:",(t==null?void 0:t.length)||0),g(!0)},A=async(C,S,D)=>{console.log(" NavigationBar: handleApplyChangesWithProgress called"),console.log(" Selected warehouse:",S),console.log(" Session ID:",D);try{console.log(" Calling applyChanges for all tables...");const O=await i([],!0,S,D);return console.log(" NavigationBar: Apply changes result:",O),O}catch(O){throw console.error(" NavigationBar: Error applying changes:",O),O}};return c.jsxs("div",{id:"navigation-bar-ctr",children:[c.jsxs(M,{gap:"3",justify:"between",align:"center",style:{width:"100%"},children:[c.jsxs(M,{gap:"3",align:"center",children:[c.jsx(te,{width:"10",className:"prevent-select",children:c.jsx("img",{id:"navigation-bar-logo",src:bB,alt:"Databricks Logo"})}),c.jsx("div",{className:"navigation-bar-divider"}),c.jsx(te,{className:"prevent-select",children:c.jsx(mt,{as:"h1",id:"navigation-bar-title",children:"Databricks Data Modeler"})})]}),e&&c.jsxs(M,{gap:"2",className:"project-info-center",children:[c.jsxs(Se,{color:"blue",size:"2",children:[e.name," (",(t==null?void 0:t.length)||0," tables)"]}),(n||r)&&c.jsxs(Se,{color:"gray",size:"2",variant:"soft",children:[n||e.catalog_name||"default",".",r||e.schema_name||"default"]})]}),c.jsxs(M,{gap:"2",className:"toolbar-buttons",children:[c.jsxs(Te.Root,{children:[c.jsx(Te.Trigger,{children:c.jsxs(pe,{color:"gray",variant:"surface",children:[c.jsx(zv,{})," Project ",c.jsx(_p,{})]})}),c.jsxs(Te.Content,{children:[c.jsxs(Te.Item,{onClick:()=>s(!0,"create"),children:[c.jsx(pr,{})," New Project"]}),c.jsxs(Te.Item,{onClick:_,children:[c.jsx(ol,{})," Load Project"]}),c.jsx(Te.Separator,{}),c.jsxs(Te.Item,{onClick:w,disabled:!e,children:[c.jsx(il,{})," Project Settings"]}),c.jsxs(Te.Item,{onClick:x,disabled:!e,children:[c.jsx(zv,{})," Save Project"]})]})]}),c.jsxs(Te.Root,{children:[c.jsx(Te.Trigger,{children:c.jsxs(pe,{color:"green",variant:"surface",disabled:!e,children:[c.jsx(pr,{})," Tables ",c.jsx(_p,{})]})}),c.jsxs(Te.Content,{children:[c.jsxs(Te.Item,{onClick:()=>l(!0),disabled:!e,children:[c.jsx(pr,{})," Create New Table"]}),c.jsxs(Te.Item,{onClick:()=>u(!0),disabled:!e,children:[c.jsx(ol,{})," Import Existing Tables"]})]})]}),c.jsxs(Te.Root,{children:[c.jsx(Te.Trigger,{children:c.jsxs(pe,{color:"violet",variant:"surface",disabled:!e||((t==null?void 0:t.length)||0)===0,children:[c.jsx(il,{})," Actions ",c.jsx(_p,{})]})}),c.jsxs(Te.Content,{children:[c.jsx(Te.Item,{onClick:E,children:"Generate All Tables DDL"}),c.jsxs(Te.Item,{onClick:$,children:[c.jsx(Rd,{})," Apply All Tables to Databricks"]})]})]})]})]}),c.jsx(_B,{isOpen:d,onClose:()=>p(!1),mode:"save"}),c.jsx(wB,{isOpen:h,onClose:()=>m(!1)}),c.jsx(qv,{isOpen:v,onClose:()=>g(!1),onApply:A,projectData:e}),c.jsx(Bv,{isOpen:b,onClose:()=>y(!1),onGenerateDDL:j,projectData:e,tableIds:null})]})};function Mt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Mt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const{useDebugValue:SB}=Z,{useSyncExternalStoreWithSelector:EB}=Fj,jB=e=>e;function p$(e,t=jB,n){const r=EB(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return SB(r),r}const Nb=(e,t)=>{const n=Ij(e),r=(o,i=t)=>p$(n,o,i);return Object.assign(r,n),r},$B=(e,t)=>e?Nb(e,t):Nb;function Nt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var RB={value:()=>{}};function Td(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gc(n)}function Gc(e){this._=e}function TB(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gc.prototype=Td.prototype={constructor:Gc,on:function(e,t){var n=this._,r=TB(e+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(e=r[i]).type)&&(o=kB(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(o=(e=r[i]).type)n[o]=Pb(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Pb(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gc(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function kB(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Pb(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=RB,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Vv="http://www.w3.org/1999/xhtml";const Db={svg:"http://www.w3.org/2000/svg",xhtml:Vv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kd(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Db.hasOwnProperty(t)?{space:Db[t],local:e}:e}function NB(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Vv&&t.documentElement.namespaceURI===Vv?t.createElement(e):t.createElementNS(n,e)}}function PB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function h$(e){var t=kd(e);return(t.local?PB:NB)(t)}function DB(){}function Hx(e){return e==null?DB:function(){return this.querySelector(e)}}function AB(e){typeof e!="function"&&(e=Hx(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=new Array(a),l,u,d=0;d<a;++d)(l=i[d])&&(u=e.call(l,l.__data__,d,i))&&("__data__"in l&&(u.__data__=l.__data__),s[d]=u);return new gn(r,this._parents)}function IB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function MB(){return[]}function m$(e){return e==null?MB:function(){return this.querySelectorAll(e)}}function OB(e){return function(){return IB(e.apply(this,arguments))}}function LB(e){typeof e=="function"?e=OB(e):e=m$(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a=t[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),o.push(l));return new gn(r,o)}function g$(e){return function(){return this.matches(e)}}function v$(e){return function(t){return t.matches(e)}}var zB=Array.prototype.find;function FB(e){return function(){return zB.call(this.children,e)}}function qB(){return this.firstElementChild}function BB(e){return this.select(e==null?qB:FB(typeof e=="function"?e:v$(e)))}var VB=Array.prototype.filter;function HB(){return Array.from(this.children)}function UB(e){return function(){return VB.call(this.children,e)}}function GB(e){return this.selectAll(e==null?HB:UB(typeof e=="function"?e:v$(e)))}function WB(e){typeof e!="function"&&(e=g$(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new gn(r,this._parents)}function y$(e){return new Array(e.length)}function KB(){return new gn(this._enter||this._groups.map(y$),this._parents)}function Pu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pu.prototype={constructor:Pu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function YB(e){return function(){return e}}function XB(e,t,n,r,o,i){for(var a=0,s,l=t.length,u=i.length;a<u;++a)(s=t[a])?(s.__data__=i[a],r[a]=s):n[a]=new Pu(e,i[a]);for(;a<l;++a)(s=t[a])&&(o[a]=s)}function ZB(e,t,n,r,o,i,a){var s,l,u=new Map,d=t.length,p=i.length,h=new Array(d),m;for(s=0;s<d;++s)(l=t[s])&&(h[s]=m=a.call(l,l.__data__,s,t)+"",u.has(m)?o[s]=l:u.set(m,l));for(s=0;s<p;++s)m=a.call(e,i[s],s,i)+"",(l=u.get(m))?(r[s]=l,l.__data__=i[s],u.delete(m)):n[s]=new Pu(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(h[s])===l&&(o[s]=l)}function QB(e){return e.__data__}function JB(e,t){if(!arguments.length)return Array.from(this,QB);var n=t?ZB:XB,r=this._parents,o=this._groups;typeof e!="function"&&(e=YB(e));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var d=r[u],p=o[u],h=p.length,m=eV(e.call(d,d&&d.__data__,u,r)),v=m.length,g=s[u]=new Array(v),b=a[u]=new Array(v),y=l[u]=new Array(h);n(d,p,g,b,y,m,t);for(var x=0,_=0,w,E;x<v;++x)if(w=g[x]){for(x>=_&&(_=x+1);!(E=b[_])&&++_<v;);w._next=E||null}}return a=new gn(a,r),a._enter=s,a._exit=l,a}function eV(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tV(){return new gn(this._exit||this._groups.map(y$),this._parents)}function nV(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function rV(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var u=n[l],d=r[l],p=u.length,h=s[l]=new Array(p),m,v=0;v<p;++v)(m=u[v]||d[v])&&(h[v]=m);for(;l<o;++l)s[l]=n[l];return new gn(s,this._parents)}function oV(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function iV(e){e||(e=aV);function t(p,h){return p&&h?e(p.__data__,h.__data__):!p-!h}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],s=a.length,l=o[i]=new Array(s),u,d=0;d<s;++d)(u=a[d])&&(l[d]=u);l.sort(t)}return new gn(o,this._parents).order()}function aV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sV(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lV(){return Array.from(this)}function cV(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function uV(){let e=0;for(const t of this)++e;return e}function dV(){return!this.node()}function fV(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length,s;i<a;++i)(s=o[i])&&e.call(s,s.__data__,i,o);return this}function pV(e){return function(){this.removeAttribute(e)}}function hV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mV(e,t){return function(){this.setAttribute(e,t)}}function gV(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function vV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function yV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function xV(e,t){var n=kd(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?hV:pV:typeof t=="function"?n.local?yV:vV:n.local?gV:mV)(n,t))}function x$(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _V(e){return function(){this.style.removeProperty(e)}}function wV(e,t,n){return function(){this.style.setProperty(e,t,n)}}function bV(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function CV(e,t,n){return arguments.length>1?this.each((t==null?_V:typeof t=="function"?bV:wV)(e,t,n??"")):Sa(this.node(),e)}function Sa(e,t){return e.style.getPropertyValue(t)||x$(e).getComputedStyle(e,null).getPropertyValue(t)}function SV(e){return function(){delete this[e]}}function EV(e,t){return function(){this[e]=t}}function jV(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function $V(e,t){return arguments.length>1?this.each((t==null?SV:typeof t=="function"?jV:EV)(e,t)):this.node()[e]}function _$(e){return e.trim().split(/^|\s+/)}function Ux(e){return e.classList||new w$(e)}function w$(e){this._node=e,this._names=_$(e.getAttribute("class")||"")}w$.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function b$(e,t){for(var n=Ux(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function C$(e,t){for(var n=Ux(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function RV(e){return function(){b$(this,e)}}function TV(e){return function(){C$(this,e)}}function kV(e,t){return function(){(t.apply(this,arguments)?b$:C$)(this,e)}}function NV(e,t){var n=_$(e+"");if(arguments.length<2){for(var r=Ux(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?kV:t?RV:TV)(n,t))}function PV(){this.textContent=""}function DV(e){return function(){this.textContent=e}}function AV(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function IV(e){return arguments.length?this.each(e==null?PV:(typeof e=="function"?AV:DV)(e)):this.node().textContent}function MV(){this.innerHTML=""}function OV(e){return function(){this.innerHTML=e}}function LV(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function zV(e){return arguments.length?this.each(e==null?MV:(typeof e=="function"?LV:OV)(e)):this.node().innerHTML}function FV(){this.nextSibling&&this.parentNode.appendChild(this)}function qV(){return this.each(FV)}function BV(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function VV(){return this.each(BV)}function HV(e){var t=typeof e=="function"?e:h$(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function UV(){return null}function GV(e,t){var n=typeof e=="function"?e:h$(e),r=t==null?UV:typeof t=="function"?t:Hx(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function WV(){var e=this.parentNode;e&&e.removeChild(this)}function KV(){return this.each(WV)}function YV(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function XV(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZV(e){return this.select(e?XV:YV)}function QV(e){return arguments.length?this.property("__data__",e):this.node().__data__}function JV(e){return function(t){e.call(this,t,this.__data__)}}function eH(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function tH(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function nH(e,t,n){return function(){var r=this.__on,o,i=JV(t);if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function rH(e,t,n){var r=eH(e+""),o,i=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,d;l<u;++l)for(o=0,d=s[l];o<i;++o)if((a=r[o]).type===d.type&&a.name===d.name)return d.value}return}for(s=t?nH:tH,o=0;o<i;++o)this.each(s(r[o],t,n));return this}function S$(e,t,n){var r=x$(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function oH(e,t){return function(){return S$(this,e,t)}}function iH(e,t){return function(){return S$(this,e,t.apply(this,arguments))}}function aH(e,t){return this.each((typeof t=="function"?iH:oH)(e,t))}function*sH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var E$=[null];function gn(e,t){this._groups=e,this._parents=t}function jl(){return new gn([[document.documentElement]],E$)}function lH(){return this}gn.prototype=jl.prototype={constructor:gn,select:AB,selectAll:LB,selectChild:BB,selectChildren:GB,filter:WB,data:JB,enter:KB,exit:tV,join:nV,merge:rV,selection:lH,order:oV,sort:iV,call:sV,nodes:lV,node:cV,size:uV,empty:dV,each:fV,attr:xV,style:CV,property:$V,classed:NV,text:IV,html:zV,raise:qV,lower:VV,append:HV,insert:GV,remove:KV,clone:ZV,datum:QV,on:rH,dispatch:aH,[Symbol.iterator]:sH};function jn(e){return typeof e=="string"?new gn([[document.querySelector(e)]],[document.documentElement]):new gn([[e]],E$)}function cH(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Un(e,t){if(e=cH(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const uH={passive:!1},al={capture:!0,passive:!1};function wp(e){e.stopImmediatePropagation()}function la(e){e.preventDefault(),e.stopImmediatePropagation()}function j$(e){var t=e.document.documentElement,n=jn(e).on("dragstart.drag",la,al);"onselectstart"in t?n.on("selectstart.drag",la,al):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $$(e,t){var n=e.document.documentElement,r=jn(e).on("dragstart.drag",null);t&&(r.on("click.drag",la,al),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const vc=e=>()=>e;function Hv(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Hv.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function dH(e){return!e.ctrlKey&&!e.button}function fH(){return this.parentNode}function pH(e,t){return t??{x:e.x,y:e.y}}function hH(){return navigator.maxTouchPoints||"ontouchstart"in this}function mH(){var e=dH,t=fH,n=pH,r=hH,o={},i=Td("start","drag","end"),a=0,s,l,u,d,p=0;function h(w){w.on("mousedown.drag",m).filter(r).on("touchstart.drag",b).on("touchmove.drag",y,uH).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(w,E){if(!(d||!e.call(this,w,E))){var j=_(this,t.call(this,w,E),w,E,"mouse");j&&(jn(w.view).on("mousemove.drag",v,al).on("mouseup.drag",g,al),j$(w.view),wp(w),u=!1,s=w.clientX,l=w.clientY,j("start",w))}}function v(w){if(la(w),!u){var E=w.clientX-s,j=w.clientY-l;u=E*E+j*j>p}o.mouse("drag",w)}function g(w){jn(w.view).on("mousemove.drag mouseup.drag",null),$$(w.view,u),la(w),o.mouse("end",w)}function b(w,E){if(e.call(this,w,E)){var j=w.changedTouches,$=t.call(this,w,E),A=j.length,C,S;for(C=0;C<A;++C)(S=_(this,$,w,E,j[C].identifier,j[C]))&&(wp(w),S("start",w,j[C]))}}function y(w){var E=w.changedTouches,j=E.length,$,A;for($=0;$<j;++$)(A=o[E[$].identifier])&&(la(w),A("drag",w,E[$]))}function x(w){var E=w.changedTouches,j=E.length,$,A;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),$=0;$<j;++$)(A=o[E[$].identifier])&&(wp(w),A("end",w,E[$]))}function _(w,E,j,$,A,C){var S=i.copy(),D=Un(C||j,E),O,F,N;if((N=n.call(w,new Hv("beforestart",{sourceEvent:j,target:h,identifier:A,active:a,x:D[0],y:D[1],dx:0,dy:0,dispatch:S}),$))!=null)return O=N.x-D[0]||0,F=N.y-D[1]||0,function L(T,B,I){var R=D,q;switch(T){case"start":o[A]=L,q=a++;break;case"end":delete o[A],--a;case"drag":D=Un(I||B,E),q=a;break}S.call(T,w,new Hv(T,{sourceEvent:B,subject:N,target:h,identifier:A,active:q,x:D[0]+O,y:D[1]+F,dx:D[0]-R[0],dy:D[1]-R[1],dispatch:S}),$)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:vc(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:vc(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:vc(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:vc(!!w),h):r},h.on=function(){var w=i.on.apply(i,arguments);return w===i?h:w},h.clickDistance=function(w){return arguments.length?(p=(w=+w)*w,h):Math.sqrt(p)},h}function Gx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function R$(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $l(){}var sl=.7,Du=1/sl,ca="\\s*([+-]?\\d+)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gH=/^#([0-9a-f]{3,8})$/,vH=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),yH=new RegExp(`^rgb\\(${hr},${hr},${hr}\\)$`),xH=new RegExp(`^rgba\\(${ca},${ca},${ca},${ll}\\)$`),_H=new RegExp(`^rgba\\(${hr},${hr},${hr},${ll}\\)$`),wH=new RegExp(`^hsl\\(${ll},${hr},${hr}\\)$`),bH=new RegExp(`^hsla\\(${ll},${hr},${hr},${ll}\\)$`),Ab={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gx($l,cl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ib,formatHex:Ib,formatHex8:CH,formatHsl:SH,formatRgb:Mb,toString:Mb});function Ib(){return this.rgb().formatHex()}function CH(){return this.rgb().formatHex8()}function SH(){return T$(this).formatHsl()}function Mb(){return this.rgb().formatRgb()}function cl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ob(t):n===3?new rn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vH.exec(e))?new rn(t[1],t[2],t[3],1):(t=yH.exec(e))?new rn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xH.exec(e))?yc(t[1],t[2],t[3],t[4]):(t=_H.exec(e))?yc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wH.exec(e))?Fb(t[1],t[2]/100,t[3]/100,1):(t=bH.exec(e))?Fb(t[1],t[2]/100,t[3]/100,t[4]):Ab.hasOwnProperty(e)?Ob(Ab[e]):e==="transparent"?new rn(NaN,NaN,NaN,0):null}function Ob(e){return new rn(e>>16&255,e>>8&255,e&255,1)}function yc(e,t,n,r){return r<=0&&(e=t=n=NaN),new rn(e,t,n,r)}function EH(e){return e instanceof $l||(e=cl(e)),e?(e=e.rgb(),new rn(e.r,e.g,e.b,e.opacity)):new rn}function Uv(e,t,n,r){return arguments.length===1?EH(e):new rn(e,t,n,r??1)}function rn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Gx(rn,Uv,R$($l,{brighter(e){return e=e==null?Du:Math.pow(Du,e),new rn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sl:Math.pow(sl,e),new rn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rn(ai(this.r),ai(this.g),ai(this.b),Au(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lb,formatHex:Lb,formatHex8:jH,formatRgb:zb,toString:zb}));function Lb(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function jH(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function zb(){const e=Au(this.opacity);return`${e===1?"rgb(":"rgba("}${ai(this.r)}, ${ai(this.g)}, ${ai(this.b)}${e===1?")":`, ${e})`}`}function Au(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ai(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ei(e){return e=ai(e),(e<16?"0":"")+e.toString(16)}function Fb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wn(e,t,n,r)}function T$(e){if(e instanceof Wn)return new Wn(e.h,e.s,e.l,e.opacity);if(e instanceof $l||(e=cl(e)),!e)return new Wn;if(e instanceof Wn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(t===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Wn(a,s,l,e.opacity)}function $H(e,t,n,r){return arguments.length===1?T$(e):new Wn(e,t,n,r??1)}function Wn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Gx(Wn,$H,R$($l,{brighter(e){return e=e==null?Du:Math.pow(Du,e),new Wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sl:Math.pow(sl,e),new Wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new rn(bp(e>=240?e-240:e+120,o,r),bp(e,o,r),bp(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Wn(qb(this.h),xc(this.s),xc(this.l),Au(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Au(this.opacity);return`${e===1?"hsl(":"hsla("}${qb(this.h)}, ${xc(this.s)*100}%, ${xc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qb(e){return e=(e||0)%360,e<0?e+360:e}function xc(e){return Math.max(0,Math.min(1,e||0))}function bp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const k$=e=>()=>e;function RH(e,t){return function(n){return e+n*t}}function TH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function kH(e){return(e=+e)==1?N$:function(t,n){return n-t?TH(t,n,e):k$(isNaN(t)?n:t)}}function N$(e,t){var n=t-e;return n?RH(e,n):k$(isNaN(e)?t:e)}const Bb=function e(t){var n=kH(t);function r(o,i){var a=n((o=Uv(o)).r,(i=Uv(i)).r),s=n(o.g,i.g),l=n(o.b,i.b),u=N$(o.opacity,i.opacity);return function(d){return o.r=a(d),o.g=s(d),o.b=l(d),o.opacity=u(d),o+""}}return r.gamma=e,r}(1);function fo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Gv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cp=new RegExp(Gv.source,"g");function NH(e){return function(){return e}}function PH(e){return function(t){return e(t)+""}}function DH(e,t){var n=Gv.lastIndex=Cp.lastIndex=0,r,o,i,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Gv.exec(e))&&(o=Cp.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:fo(r,o)})),n=Cp.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?PH(l[0].x):NH(t):(t=l.length,function(u){for(var d=0,p;d<t;++d)s[(p=l[d]).i]=p.x(u);return s.join("")})}var Vb=180/Math.PI,Wv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function P$(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Vb,skewX:Math.atan(l)*Vb,scaleX:a,scaleY:s}}var _c;function AH(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wv:P$(t.a,t.b,t.c,t.d,t.e,t.f)}function IH(e){return e==null||(_c||(_c=document.createElementNS("http://www.w3.org/2000/svg","g")),_c.setAttribute("transform",e),!(e=_c.transform.baseVal.consolidate()))?Wv:(e=e.matrix,P$(e.a,e.b,e.c,e.d,e.e,e.f))}function D$(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,d,p,h,m,v){if(u!==p||d!==h){var g=m.push("translate(",null,t,null,n);v.push({i:g-4,x:fo(u,p)},{i:g-2,x:fo(d,h)})}else(p||h)&&m.push("translate("+p+t+h+n)}function a(u,d,p,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:p.push(o(p)+"rotate(",null,r)-2,x:fo(u,d)})):d&&p.push(o(p)+"rotate("+d+r)}function s(u,d,p,h){u!==d?h.push({i:p.push(o(p)+"skewX(",null,r)-2,x:fo(u,d)}):d&&p.push(o(p)+"skewX("+d+r)}function l(u,d,p,h,m,v){if(u!==p||d!==h){var g=m.push(o(m)+"scale(",null,",",null,")");v.push({i:g-4,x:fo(u,p)},{i:g-2,x:fo(d,h)})}else(p!==1||h!==1)&&m.push(o(m)+"scale("+p+","+h+")")}return function(u,d){var p=[],h=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,p,h),a(u.rotate,d.rotate,p,h),s(u.skewX,d.skewX,p,h),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,p,h),u=d=null,function(m){for(var v=-1,g=h.length,b;++v<g;)p[(b=h[v]).i]=b.x(m);return p.join("")}}}var MH=D$(AH,"px, ","px)","deg)"),OH=D$(IH,", ",")",")"),LH=1e-12;function Hb(e){return((e=Math.exp(e))+1/e)/2}function zH(e){return((e=Math.exp(e))-1/e)/2}function FH(e){return((e=Math.exp(2*e))-1)/(e+1)}const qH=function e(t,n,r){function o(i,a){var s=i[0],l=i[1],u=i[2],d=a[0],p=a[1],h=a[2],m=d-s,v=p-l,g=m*m+v*v,b,y;if(g<LH)y=Math.log(h/u)/t,b=function($){return[s+$*m,l+$*v,u*Math.exp(t*$*y)]};else{var x=Math.sqrt(g),_=(h*h-u*u+r*g)/(2*u*n*x),w=(h*h-u*u-r*g)/(2*h*n*x),E=Math.log(Math.sqrt(_*_+1)-_),j=Math.log(Math.sqrt(w*w+1)-w);y=(j-E)/t,b=function($){var A=$*y,C=Hb(E),S=u/(n*x)*(C*FH(t*A+E)-zH(E));return[s+S*m,l+S*v,u*C/Hb(t*A+E)]}}return b.duration=y*1e3*t/Math.SQRT2,b}return o.rho=function(i){var a=Math.max(.001,+i),s=a*a,l=s*s;return e(a,s,l)},o}(Math.SQRT2,2,4);var Ea=0,ys=0,ls=0,A$=1e3,Iu,xs,Mu=0,hi=0,Nd=0,ul=typeof performance=="object"&&performance.now?performance:Date,I$=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wx(){return hi||(I$(BH),hi=ul.now()+Nd)}function BH(){hi=0}function Ou(){this._call=this._time=this._next=null}Ou.prototype=M$.prototype={constructor:Ou,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Wx():+n)+(t==null?0:+t),!this._next&&xs!==this&&(xs?xs._next=this:Iu=this,xs=this),this._call=e,this._time=n,Kv()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kv())}};function M$(e,t,n){var r=new Ou;return r.restart(e,t,n),r}function VH(){Wx(),++Ea;for(var e=Iu,t;e;)(t=hi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ea}function Ub(){hi=(Mu=ul.now())+Nd,Ea=ys=0;try{VH()}finally{Ea=0,UH(),hi=0}}function HH(){var e=ul.now(),t=e-Mu;t>A$&&(Nd-=t,Mu=e)}function UH(){for(var e,t=Iu,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Iu=n);xs=e,Kv(r)}function Kv(e){if(!Ea){ys&&(ys=clearTimeout(ys));var t=e-hi;t>24?(e<1/0&&(ys=setTimeout(Ub,e-ul.now()-Nd)),ls&&(ls=clearInterval(ls))):(ls||(Mu=ul.now(),ls=setInterval(HH,A$)),Ea=1,I$(Ub))}}function Gb(e,t,n){var r=new Ou;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var GH=Td("start","end","cancel","interrupt"),WH=[],O$=0,Wb=1,Yv=2,Wc=3,Kb=4,Xv=5,Kc=6;function Pd(e,t,n,r,o,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;KH(e,n,{name:t,index:r,group:o,on:GH,tween:WH,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:O$})}function Kx(e,t){var n=tr(e,t);if(n.state>O$)throw new Error("too late; already scheduled");return n}function xr(e,t){var n=tr(e,t);if(n.state>Wc)throw new Error("too late; already running");return n}function tr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function KH(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=M$(i,0,n.time);function i(u){n.state=Wb,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var d,p,h,m;if(n.state!==Wb)return l();for(d in r)if(m=r[d],m.name===n.name){if(m.state===Wc)return Gb(a);m.state===Kb?(m.state=Kc,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=Kc,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(Gb(function(){n.state===Wc&&(n.state=Kb,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Yv,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Yv){for(n.state=Wc,o=new Array(h=n.tween.length),d=0,p=-1;d<h;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=m);o.length=p+1}}function s(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Xv,1),p=-1,h=o.length;++p<h;)o[p].call(e,d);n.state===Xv&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Kc,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Yc(e,t){var n=e.__transition,r,o,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}o=r.state>Yv&&r.state<Xv,r.state=Kc,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function YH(e){return this.each(function(){Yc(this,e)})}function XH(e,t){var n,r;return function(){var o=xr(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function ZH(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=xr(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,u=o.length;l<u;++l)if(o[l].name===t){o[l]=s;break}l===u&&o.push(s)}i.tween=o}}function QH(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=tr(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((t==null?XH:ZH)(n,e,t))}function Yx(e,t,n){var r=e._id;return e.each(function(){var o=xr(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return tr(o,r).value[t]}}function L$(e,t){var n;return(typeof t=="number"?fo:t instanceof cl?Bb:(n=cl(t))?(t=n,Bb):DH)(e,t)}function JH(e){return function(){this.removeAttribute(e)}}function eU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tU(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function nU(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function rU(e,t,n){var r,o,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s)))}}function oU(e,t,n){var r,o,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s)))}}function iU(e,t){var n=kd(e),r=n==="transform"?OH:L$;return this.attrTween(e,typeof t=="function"?(n.local?oU:rU)(n,r,Yx(this,"attr."+e,t)):t==null?(n.local?eU:JH)(n):(n.local?nU:tU)(n,r,t))}function aU(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function sU(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function lU(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&sU(e,i)),n}return o._value=t,o}function cU(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&aU(e,i)),n}return o._value=t,o}function uU(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=kd(e);return this.tween(n,(r.local?lU:cU)(r,t))}function dU(e,t){return function(){Kx(this,e).delay=+t.apply(this,arguments)}}function fU(e,t){return t=+t,function(){Kx(this,e).delay=t}}function pU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dU:fU)(t,e)):tr(this.node(),t).delay}function hU(e,t){return function(){xr(this,e).duration=+t.apply(this,arguments)}}function mU(e,t){return t=+t,function(){xr(this,e).duration=t}}function gU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hU:mU)(t,e)):tr(this.node(),t).duration}function vU(e,t){if(typeof t!="function")throw new Error;return function(){xr(this,e).ease=t}}function yU(e){var t=this._id;return arguments.length?this.each(vU(t,e)):tr(this.node(),t).ease}function xU(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;xr(this,e).ease=n}}function _U(e){if(typeof e!="function")throw new Error;return this.each(xU(this._id,e))}function wU(e){typeof e!="function"&&(e=g$(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new Gr(r,this._parents,this._name,this._id)}function bU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l=t[s],u=n[s],d=l.length,p=a[s]=new Array(d),h,m=0;m<d;++m)(h=l[m]||u[m])&&(p[m]=h);for(;s<r;++s)a[s]=t[s];return new Gr(a,this._parents,this._name,this._id)}function CU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function SU(e,t,n){var r,o,i=CU(t)?Kx:xr;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}function EU(e,t){var n=this._id;return arguments.length<2?tr(this.node(),n).on.on(e):this.each(SU(n,e,t))}function jU(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function $U(){return this.on("end.remove",jU(this._id))}function RU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hx(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s=r[a],l=s.length,u=i[a]=new Array(l),d,p,h=0;h<l;++h)(d=s[h])&&(p=e.call(d,d.__data__,h,s))&&("__data__"in d&&(p.__data__=d.__data__),u[h]=p,Pd(u[h],t,n,h,u,tr(d,n)));return new Gr(i,this._parents,t,n)}function TU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=m$(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l=r[s],u=l.length,d,p=0;p<u;++p)if(d=l[p]){for(var h=e.call(d,d.__data__,p,l),m,v=tr(d,n),g=0,b=h.length;g<b;++g)(m=h[g])&&Pd(m,t,n,g,h,v);i.push(h),a.push(d)}return new Gr(i,a,t,n)}var kU=jl.prototype.constructor;function NU(){return new kU(this._groups,this._parents)}function PU(e,t){var n,r,o;return function(){var i=Sa(this,e),a=(this.style.removeProperty(e),Sa(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function z$(e){return function(){this.style.removeProperty(e)}}function DU(e,t,n){var r,o=n+"",i;return function(){var a=Sa(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}function AU(e,t,n){var r,o,i;return function(){var a=Sa(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Sa(this,e))),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}function IU(e,t){var n,r,o,i="style."+t,a="end."+i,s;return function(){var l=xr(this,e),u=l.on,d=l.value[i]==null?s||(s=z$(t)):void 0;(u!==n||o!==d)&&(r=(n=u).copy()).on(a,o=d),l.on=r}}function MU(e,t,n){var r=(e+="")=="transform"?MH:L$;return t==null?this.styleTween(e,PU(e,r)).on("end.style."+e,z$(e)):typeof t=="function"?this.styleTween(e,AU(e,r,Yx(this,"style."+e,t))).each(IU(this._id,e)):this.styleTween(e,DU(e,r,t),n).on("end.style."+e,null)}function OU(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function LU(e,t,n){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&OU(e,a,n)),r}return i._value=t,i}function zU(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,LU(e,t,n??""))}function FU(e){return function(){this.textContent=e}}function qU(e){return function(){var t=e(this);this.textContent=t??""}}function BU(e){return this.tween("text",typeof e=="function"?qU(Yx(this,"text",e)):FU(e==null?"":e+""))}function VU(e){return function(t){this.textContent=e.call(this,t)}}function HU(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&VU(o)),t}return r._value=e,r}function UU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,HU(e))}function GU(){for(var e=this._name,t=this._id,n=F$(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var d=tr(l,t);Pd(l,e,n,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Gr(r,this._parents,e,n)}function WU(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--o===0&&i()}};n.each(function(){var u=xr(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),o===0&&i()})}var KU=0;function Gr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function F$(){return++KU}var Er=jl.prototype;Gr.prototype={constructor:Gr,select:RU,selectAll:TU,selectChild:Er.selectChild,selectChildren:Er.selectChildren,filter:wU,merge:bU,selection:NU,transition:GU,call:Er.call,nodes:Er.nodes,node:Er.node,size:Er.size,empty:Er.empty,each:Er.each,on:EU,attr:iU,attrTween:uU,style:MU,styleTween:zU,text:BU,textTween:UU,remove:$U,tween:QH,delay:pU,duration:gU,ease:yU,easeVarying:_U,end:WU,[Symbol.iterator]:Er[Symbol.iterator]};function YU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var XU={time:null,delay:0,duration:250,ease:YU};function ZU(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function QU(e){var t,n;e instanceof Gr?(t=e._id,e=e._name):(t=F$(),(n=XU).time=Wx(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Pd(l,e,t,u,a,n||ZU(l,t));return new Gr(r,this._parents,e,t)}jl.prototype.interrupt=YH;jl.prototype.transition=QU;const wc=e=>()=>e;function JU(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Dr(e,t,n){this.k=e,this.x=t,this.y=n}Dr.prototype={constructor:Dr,scale:function(e){return e===1?this:new Dr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Dr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Lr=new Dr(1,0,0);Dr.prototype;function Sp(e){e.stopImmediatePropagation()}function cs(e){e.preventDefault(),e.stopImmediatePropagation()}function eG(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function tG(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Yb(){return this.__zoom||Lr}function nG(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function rG(){return navigator.maxTouchPoints||"ontouchstart"in this}function oG(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function q$(){var e=eG,t=tG,n=oG,r=nG,o=rG,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=qH,u=Td("start","zoom","end"),d,p,h,m=500,v=150,g=0,b=10;function y(N){N.property("__zoom",Yb).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",S).filter(o).on("touchstart.zoom",D).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(N,L,T,B){var I=N.selection?N.selection():N;I.property("__zoom",Yb),N!==I?E(N,L,T,B):I.interrupt().each(function(){j(this,arguments).event(B).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},y.scaleBy=function(N,L,T,B){y.scaleTo(N,function(){var I=this.__zoom.k,R=typeof L=="function"?L.apply(this,arguments):L;return I*R},T,B)},y.scaleTo=function(N,L,T,B){y.transform(N,function(){var I=t.apply(this,arguments),R=this.__zoom,q=T==null?w(I):typeof T=="function"?T.apply(this,arguments):T,G=R.invert(q),Q=typeof L=="function"?L.apply(this,arguments):L;return n(_(x(R,Q),q,G),I,a)},T,B)},y.translateBy=function(N,L,T,B){y.transform(N,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),a)},null,B)},y.translateTo=function(N,L,T,B,I){y.transform(N,function(){var R=t.apply(this,arguments),q=this.__zoom,G=B==null?w(R):typeof B=="function"?B.apply(this,arguments):B;return n(Lr.translate(G[0],G[1]).scale(q.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof T=="function"?-T.apply(this,arguments):-T),R,a)},B,I)};function x(N,L){return L=Math.max(i[0],Math.min(i[1],L)),L===N.k?N:new Dr(L,N.x,N.y)}function _(N,L,T){var B=L[0]-T[0]*N.k,I=L[1]-T[1]*N.k;return B===N.x&&I===N.y?N:new Dr(N.k,B,I)}function w(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function E(N,L,T,B){N.on("start.zoom",function(){j(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(B).end()}).tween("zoom",function(){var I=this,R=arguments,q=j(I,R).event(B),G=t.apply(I,R),Q=T==null?w(G):typeof T=="function"?T.apply(I,R):T,le=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),ie=I.__zoom,fe=typeof L=="function"?L.apply(I,R):L,he=l(ie.invert(Q).concat(le/ie.k),fe.invert(Q).concat(le/fe.k));return function(z){if(z===1)z=fe;else{var U=he(z),V=le/U[2];z=new Dr(V,Q[0]-U[0]*V,Q[1]-U[1]*V)}q.zoom(null,z)}})}function j(N,L,T){return!T&&N.__zooming||new $(N,L)}function $(N,L){this.that=N,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,L),this.taps=0}$.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,L){return this.mouse&&N!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var L=jn(this.that).datum();u.call(N,this.that,new JU(N,{sourceEvent:this.sourceEvent,target:y,type:N,transform:this.that.__zoom,dispatch:u}),L)}};function A(N,...L){if(!e.apply(this,arguments))return;var T=j(this,L).event(N),B=this.__zoom,I=Math.max(i[0],Math.min(i[1],B.k*Math.pow(2,r.apply(this,arguments)))),R=Un(N);if(T.wheel)(T.mouse[0][0]!==R[0]||T.mouse[0][1]!==R[1])&&(T.mouse[1]=B.invert(T.mouse[0]=R)),clearTimeout(T.wheel);else{if(B.k===I)return;T.mouse=[R,B.invert(R)],Yc(this),T.start()}cs(N),T.wheel=setTimeout(q,v),T.zoom("mouse",n(_(x(B,I),T.mouse[0],T.mouse[1]),T.extent,a));function q(){T.wheel=null,T.end()}}function C(N,...L){if(h||!e.apply(this,arguments))return;var T=N.currentTarget,B=j(this,L,!0).event(N),I=jn(N.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",le,!0),R=Un(N,T),q=N.clientX,G=N.clientY;j$(N.view),Sp(N),B.mouse=[R,this.__zoom.invert(R)],Yc(this),B.start();function Q(ie){if(cs(ie),!B.moved){var fe=ie.clientX-q,he=ie.clientY-G;B.moved=fe*fe+he*he>g}B.event(ie).zoom("mouse",n(_(B.that.__zoom,B.mouse[0]=Un(ie,T),B.mouse[1]),B.extent,a))}function le(ie){I.on("mousemove.zoom mouseup.zoom",null),$$(ie.view,B.moved),cs(ie),B.event(ie).end()}}function S(N,...L){if(e.apply(this,arguments)){var T=this.__zoom,B=Un(N.changedTouches?N.changedTouches[0]:N,this),I=T.invert(B),R=T.k*(N.shiftKey?.5:2),q=n(_(x(T,R),B,I),t.apply(this,L),a);cs(N),s>0?jn(this).transition().duration(s).call(E,q,B,N):jn(this).call(y.transform,q,B,N)}}function D(N,...L){if(e.apply(this,arguments)){var T=N.touches,B=T.length,I=j(this,L,N.changedTouches.length===B).event(N),R,q,G,Q;for(Sp(N),q=0;q<B;++q)G=T[q],Q=Un(G,this),Q=[Q,this.__zoom.invert(Q),G.identifier],I.touch0?!I.touch1&&I.touch0[2]!==Q[2]&&(I.touch1=Q,I.taps=0):(I.touch0=Q,R=!0,I.taps=1+!!d);d&&(d=clearTimeout(d)),R&&(I.taps<2&&(p=Q[0],d=setTimeout(function(){d=null},m)),Yc(this),I.start())}}function O(N,...L){if(this.__zooming){var T=j(this,L).event(N),B=N.changedTouches,I=B.length,R,q,G,Q;for(cs(N),R=0;R<I;++R)q=B[R],G=Un(q,this),T.touch0&&T.touch0[2]===q.identifier?T.touch0[0]=G:T.touch1&&T.touch1[2]===q.identifier&&(T.touch1[0]=G);if(q=T.that.__zoom,T.touch1){var le=T.touch0[0],ie=T.touch0[1],fe=T.touch1[0],he=T.touch1[1],z=(z=fe[0]-le[0])*z+(z=fe[1]-le[1])*z,U=(U=he[0]-ie[0])*U+(U=he[1]-ie[1])*U;q=x(q,Math.sqrt(z/U)),G=[(le[0]+fe[0])/2,(le[1]+fe[1])/2],Q=[(ie[0]+he[0])/2,(ie[1]+he[1])/2]}else if(T.touch0)G=T.touch0[0],Q=T.touch0[1];else return;T.zoom("touch",n(_(q,G,Q),T.extent,a))}}function F(N,...L){if(this.__zooming){var T=j(this,L).event(N),B=N.changedTouches,I=B.length,R,q;for(Sp(N),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),R=0;R<I;++R)q=B[R],T.touch0&&T.touch0[2]===q.identifier?delete T.touch0:T.touch1&&T.touch1[2]===q.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(q=Un(q,this),Math.hypot(p[0]-q[0],p[1]-q[1])<b)){var G=jn(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return y.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:wc(+N),y):r},y.filter=function(N){return arguments.length?(e=typeof N=="function"?N:wc(!!N),y):e},y.touchable=function(N){return arguments.length?(o=typeof N=="function"?N:wc(!!N),y):o},y.extent=function(N){return arguments.length?(t=typeof N=="function"?N:wc([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),y):t},y.scaleExtent=function(N){return arguments.length?(i[0]=+N[0],i[1]=+N[1],y):[i[0],i[1]]},y.translateExtent=function(N){return arguments.length?(a[0][0]=+N[0][0],a[1][0]=+N[1][0],a[0][1]=+N[0][1],a[1][1]=+N[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(N){return arguments.length?(n=N,y):n},y.duration=function(N){return arguments.length?(s=+N,y):s},y.interpolate=function(N){return arguments.length?(l=N,y):l},y.on=function(){var N=u.on.apply(u,arguments);return N===u?y:N},y.clickDistance=function(N){return arguments.length?(g=(N=+N)*N,y):Math.sqrt(g)},y.tapDistance=function(N){return arguments.length?(b=+N,y):b},y}const Dd=f.createContext(null),iG=Dd.Provider,Wr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},B$=Wr.error001();function Qe(e,t){const n=f.useContext(Dd);if(n===null)throw new Error(B$);return p$(n,e,t)}const jt=()=>{const e=f.useContext(Dd);if(e===null)throw new Error(B$);return f.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},aG=e=>e.userSelectionActive?"none":"all";function dl({position:e,children:t,className:n,style:r,...o}){const i=Qe(aG),a=`${e}`.split("-");return Z.createElement("div",{className:Mt(["react-flow__panel",n,...a]),style:{...r,pointerEvents:i},...o},t)}function sG({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:Z.createElement(dl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Z.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const lG=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:u,...d})=>{const p=f.useRef(null),[h,m]=f.useState({x:0,y:0,width:0,height:0}),v=Mt(["react-flow__edge-textwrapper",u]);return f.useEffect(()=>{if(p.current){const g=p.current.getBBox();m({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:Z.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:v,visibility:h.width?"visible":"hidden",...d},o&&Z.createElement("rect",{width:h.width+2*a[0],x:-a[0],y:-a[1],height:h.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),Z.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:p,style:r},n),l)};var cG=f.memo(lG);const Xx=e=>({width:e.offsetWidth,height:e.offsetHeight}),ja=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Zx=(e={x:0,y:0},t)=>({x:ja(e.x,t[0][0],t[1][0]),y:ja(e.y,t[0][1],t[1][1])}),Xb=(e,t,n)=>e<t?ja(Math.abs(e-t),1,50)/50:e>n?-ja(Math.abs(e-n),1,50)/50:0,V$=(e,t)=>{const n=Xb(e.x,35,t.width-35)*20,r=Xb(e.y,35,t.height-35)*20;return[n,r]},H$=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},U$=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),fl=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),G$=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Zb=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),uG=(e,t)=>G$(U$(fl(e),fl(t))),Zv=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},dG=e=>Rn(e.width)&&Rn(e.height)&&Rn(e.x)&&Rn(e.y),Rn=e=>!isNaN(e)&&isFinite(e),yt=Symbol.for("internals"),W$=["Enter"," ","Escape"],fG=(e,t)=>{},pG=e=>"nativeEvent"in e;function Qv(e){var o,i;const t=pG(e)?e.nativeEvent:e,n=((i=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const K$=e=>"clientX"in e,Ro=(e,t)=>{var i,a;const n=K$(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Lu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Rl=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:h,interactionWidth:m=20})=>Z.createElement(Z.Fragment,null,Z.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:p,markerStart:h}),m&&Z.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&Rn(n)&&Rn(r)?Z.createElement(cG,{x:n,y:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u}):null);Rl.displayName="BaseEdge";function us(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(i=>i.id===e);o&&n(r,{...o})}}function Y$({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[i,s,o,a]}function X$({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){const l=e*.125+o*.375+a*.375+n*.125,u=t*.125+i*.375+s*.375+r*.125,d=Math.abs(l-e),p=Math.abs(u-t);return[l,u,d,p]}var mi;(function(e){e.Strict="strict",e.Loose="loose"})(mi||(mi={}));var ti;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ti||(ti={}));var pl;(function(e){e.Partial="partial",e.Full="full"})(pl||(pl={}));var kr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(kr||(kr={}));var zu;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(zu||(zu={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));function Qb({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Ce.Left||e===Ce.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Z$({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:o,targetPosition:i=Ce.Top}){const[a,s]=Qb({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,u]=Qb({pos:i,x1:r,y1:o,x2:e,y2:t}),[d,p,h,m]=X$({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${s} ${l},${u} ${r},${o}`,d,p,h,m]}const Qx=f.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Ce.Bottom,targetPosition:i=Ce.Top,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:m,markerStart:v,interactionWidth:g})=>{const[b,y,x]=Z$({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return Z.createElement(Rl,{path:b,labelX:y,labelY:x,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:m,markerStart:v,interactionWidth:g})});Qx.displayName="SimpleBezierEdge";const Jb={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},hG=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},e2=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function mG({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:r=Ce.Top,center:o,offset:i}){const a=Jb[t],s=Jb[r],l={x:e.x+a.x*i,y:e.y+a.y*i},u={x:n.x+s.x*i,y:n.y+s.y*i},d=hG({source:l,sourcePosition:t,target:u}),p=d.x!==0?"x":"y",h=d[p];let m=[],v,g;const b={x:0,y:0},y={x:0,y:0},[x,_,w,E]=Y$({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[p]*s[p]===-1){v=o.x||x,g=o.y||_;const $=[{x:v,y:l.y},{x:v,y:u.y}],A=[{x:l.x,y:g},{x:u.x,y:g}];a[p]===h?m=p==="x"?$:A:m=p==="x"?A:$}else{const $=[{x:l.x,y:u.y}],A=[{x:u.x,y:l.y}];if(p==="x"?m=a.x===h?A:$:m=a.y===h?$:A,t===r){const F=Math.abs(e[p]-n[p]);if(F<=i){const N=Math.min(i-1,i-F);a[p]===h?b[p]=(l[p]>e[p]?-1:1)*N:y[p]=(u[p]>n[p]?-1:1)*N}}if(t!==r){const F=p==="x"?"y":"x",N=a[p]===s[F],L=l[F]>u[F],T=l[F]<u[F];(a[p]===1&&(!N&&L||N&&T)||a[p]!==1&&(!N&&T||N&&L))&&(m=p==="x"?$:A)}const C={x:l.x+b.x,y:l.y+b.y},S={x:u.x+y.x,y:u.y+y.y},D=Math.max(Math.abs(C.x-m[0].x),Math.abs(S.x-m[0].x)),O=Math.max(Math.abs(C.y-m[0].y),Math.abs(S.y-m[0].y));D>=O?(v=(C.x+S.x)/2,g=m[0].y):(v=m[0].x,g=(C.y+S.y)/2)}return[[e,{x:l.x+b.x,y:l.y+b.y},...m,{x:u.x+y.x,y:u.y+y.y},n],v,g,w,E]}function gG(e,t,n,r){const o=Math.min(e2(e,t)/2,e2(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+o*u},${a}Q ${i},${a} ${i},${a+o*d}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${a+o*l}Q ${i},${a} ${i+o*s},${a}`}function Jv({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:o,targetPosition:i=Ce.Top,borderRadius:a=5,centerX:s,centerY:l,offset:u=20}){const[d,p,h,m,v]=mG({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:l},offset:u});return[d.reduce((b,y,x)=>{let _="";return x>0&&x<d.length-1?_=gG(d[x-1],y,d[x+1],a):_=`${x===0?"M":"L"}${y.x} ${y.y}`,b+=_,b},""),p,h,m,v]}const Ad=f.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,sourcePosition:p=Ce.Bottom,targetPosition:h=Ce.Top,markerEnd:m,markerStart:v,pathOptions:g,interactionWidth:b})=>{const[y,x,_]=Jv({sourceX:e,sourceY:t,sourcePosition:p,targetX:n,targetY:r,targetPosition:h,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return Z.createElement(Rl,{path:y,labelX:x,labelY:_,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:v,interactionWidth:b})});Ad.displayName="SmoothStepEdge";const Jx=f.memo(e=>{var t;return Z.createElement(Ad,{...e,pathOptions:f.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Jx.displayName="StepEdge";function vG({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,a,s]=Y$({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,a,s]}const e_=f.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:h,interactionWidth:m})=>{const[v,g,b]=vG({sourceX:e,sourceY:t,targetX:n,targetY:r});return Z.createElement(Rl,{path:v,labelX:g,labelY:b,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:h,interactionWidth:m})});e_.displayName="StraightEdge";function bc(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function t2({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Ce.Left:return[t-bc(t-r,i),n];case Ce.Right:return[t+bc(r-t,i),n];case Ce.Top:return[t,n-bc(n-o,i)];case Ce.Bottom:return[t,n+bc(o-n,i)]}}function Q$({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:o,targetPosition:i=Ce.Top,curvature:a=.25}){const[s,l]=t2({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[u,d]=t2({pos:i,x1:r,y1:o,x2:e,y2:t,c:a}),[p,h,m,v]=X$({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${t} C${s},${l} ${u},${d} ${r},${o}`,p,h,m,v]}const Fu=f.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Ce.Bottom,targetPosition:i=Ce.Top,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:m,markerStart:v,pathOptions:g,interactionWidth:b})=>{const[y,x,_]=Q$({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:g==null?void 0:g.curvature});return Z.createElement(Rl,{path:y,labelX:x,labelY:_,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:m,markerStart:v,interactionWidth:b})});Fu.displayName="BezierEdge";const t_=f.createContext(null),yG=t_.Provider;t_.Consumer;const xG=()=>f.useContext(t_),_G=e=>"id"in e&&"source"in e&&"target"in e,wG=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,ey=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,bG=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),CG=(e,t)=>{if(!e.source||!e.target)return t;let n;return _G(e)?n={...e}:n={...e,id:wG(e)},bG(n,t)?t:t.concat(n)},ty=({x:e,y:t},[n,r,o],i,[a,s])=>{const l={x:(e-n)/o,y:(t-r)/o};return i?{x:a*Math.round(l.x/a),y:s*Math.round(l.y/s)}:l},J$=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),si=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},Id=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:i,y:a}=si(o,t).positionAbsolute;return U$(r,fl({x:i,y:a,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return G$(n)},e9=(e,t,[n,r,o]=[0,0,1],i=!1,a=!1,s=[0,0])=>{const l={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(d=>{const{width:p,height:h,selectable:m=!0,hidden:v=!1}=d;if(a&&!m||v)return!1;const{positionAbsolute:g}=si(d,s),b={x:g.x,y:g.y,width:p||0,height:h||0},y=Zv(l,b),x=typeof p>"u"||typeof h>"u"||p===null||h===null,_=i&&y>0,w=(p||0)*(h||0);(x||_||y>=w||d.dragging)&&u.push(d)}),u},t9=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},n9=(e,t,n,r,o,i=.1)=>{const a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(a,s),u=ja(l,r,o),d=e.x+e.width/2,p=e.y+e.height/2,h=t/2-d*u,m=n/2-p*u;return{x:h,y:m,zoom:u}},Ko=(e,t=0)=>e.transition().duration(t);function n2(e,t,n,r){return(t[n]||[]).reduce((o,i)=>{var a,s;return`${e.id}-${i.id}-${n}`!==r&&o.push({id:i.id||null,type:n,nodeId:e.id,x:(((a=e.positionAbsolute)==null?void 0:a.x)??0)+i.x+i.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+i.y+i.height/2}),o},[])}function SG(e,t,n,r,o,i){const{x:a,y:s}=Ro(e),u=t.elementsFromPoint(a,s).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const g=n_(void 0,u),b=u.getAttribute("data-handleid"),y=i({nodeId:v,id:b,type:g});if(y){const x=o.find(_=>_.nodeId===v&&_.type===g&&_.id===b);return{handle:{id:b,type:g,nodeId:v,x:(x==null?void 0:x.x)||n.x,y:(x==null?void 0:x.y)||n.y},validHandleResult:y}}}}let d=[],p=1/0;if(o.forEach(v=>{const g=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(g<=r){const b=i(v);g<=p&&(g<p?d=[{handle:v,validHandleResult:b}]:g===p&&d.push({handle:v,validHandleResult:b}),p=g)}}),!d.length)return{handle:null,validHandleResult:r9()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:v})=>v.isValid),m=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:g})=>m?v.type==="target":h?g.isValid:!0)||d[0]}const EG={source:null,target:null,sourceHandle:null,targetHandle:null},r9=()=>({handleDomNode:null,isValid:!1,connection:EG,endHandle:null});function o9(e,t,n,r,o,i,a){const s=o==="target",l=a.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...r9(),handleDomNode:l};if(l){const d=n_(void 0,l),p=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),m=l.classList.contains("connectable"),v=l.classList.contains("connectableend"),g={source:s?p:n,sourceHandle:s?h:r,target:s?n:p,targetHandle:s?r:h};u.connection=g,m&&v&&(t===mi.Strict?s&&d==="source"||!s&&d==="target":p!==n||h!==r)&&(u.endHandle={nodeId:p,handleId:h,type:d},u.isValid=i(g))}return u}function jG({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,i)=>{if(i[yt]){const{handleBounds:a}=i[yt];let s=[],l=[];a&&(s=n2(i,a,"source",`${t}-${n}-${r}`),l=n2(i,a,"target",`${t}-${n}-${r}`)),o.push(...s,...l)}return o},[])}function n_(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ep(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function $G(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function i9({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:a,isValidConnection:s,edgeUpdaterType:l,onEdgeUpdateEnd:u}){const d=H$(e.target),{connectionMode:p,domNode:h,autoPanOnConnect:m,connectionRadius:v,onConnectStart:g,panBy:b,getNodes:y,cancelConnection:x}=i();let _=0,w;const{x:E,y:j}=Ro(e),$=d==null?void 0:d.elementFromPoint(E,j),A=n_(l,$),C=h==null?void 0:h.getBoundingClientRect();if(!C||!A)return;let S,D=Ro(e,C),O=!1,F=null,N=!1,L=null;const T=jG({nodes:y(),nodeId:n,handleId:t,handleType:A}),B=()=>{if(!m)return;const[q,G]=V$(D,C);b({x:q,y:G}),_=requestAnimationFrame(B)};a({connectionPosition:D,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:A,connectionStartHandle:{nodeId:n,handleId:t,type:A},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:A});function I(q){const{transform:G}=i();D=Ro(q,C);const{handle:Q,validHandleResult:le}=SG(q,d,ty(D,G,!1,[1,1]),v,T,ie=>o9(ie,p,n,t,o?"target":"source",s,d));if(w=Q,O||(B(),O=!0),L=le.handleDomNode,F=le.connection,N=le.isValid,a({connectionPosition:w&&N?J$({x:w.x,y:w.y},G):D,connectionStatus:$G(!!w,N),connectionEndHandle:le.endHandle}),!w&&!N&&!L)return Ep(S);F.source!==F.target&&L&&(Ep(S),S=L,L.classList.add("connecting","react-flow__handle-connecting"),L.classList.toggle("valid",N),L.classList.toggle("react-flow__handle-valid",N))}function R(q){var G,Q;(w||L)&&F&&N&&(r==null||r(F)),(Q=(G=i()).onConnectEnd)==null||Q.call(G,q),l&&(u==null||u(q)),Ep(S),x(),cancelAnimationFrame(_),O=!1,N=!1,F=null,L=null,d.removeEventListener("mousemove",I),d.removeEventListener("mouseup",R),d.removeEventListener("touchmove",I),d.removeEventListener("touchend",R)}d.addEventListener("mousemove",I),d.addEventListener("mouseup",R),d.addEventListener("touchmove",I),d.addEventListener("touchend",R)}const r2=()=>!0,RG=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),TG=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:a}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n}},a9=f.forwardRef(({type:e="source",position:t=Ce.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:a,onConnect:s,children:l,className:u,onMouseDown:d,onTouchStart:p,...h},m)=>{var C,S;const v=a||null,g=e==="target",b=jt(),y=xG(),{connectOnClick:x,noPanClassName:_}=Qe(RG,Nt),{connecting:w,clickConnecting:E}=Qe(TG(y,v,e),Nt);y||(S=(C=b.getState()).onError)==null||S.call(C,"010",Wr.error010());const j=D=>{const{defaultEdgeOptions:O,onConnect:F,hasDefaultEdges:N}=b.getState(),L={...O,...D};if(N){const{edges:T,setEdges:B}=b.getState();B(CG(L,T))}F==null||F(L),s==null||s(L)},$=D=>{if(!y)return;const O=K$(D);o&&(O&&D.button===0||!O)&&i9({event:D,handleId:v,nodeId:y,onConnect:j,isTarget:g,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||r2}),O?d==null||d(D):p==null||p(D)},A=D=>{const{onClickConnectStart:O,onClickConnectEnd:F,connectionClickStartHandle:N,connectionMode:L,isValidConnection:T}=b.getState();if(!y||!N&&!o)return;if(!N){O==null||O(D,{nodeId:y,handleId:v,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:v}});return}const B=H$(D.target),I=n||T||r2,{connection:R,isValid:q}=o9({nodeId:y,id:v,type:e},L,N.nodeId,N.handleId||null,N.type,I,B);q&&j(R),F==null||F(D),b.setState({connectionClickStartHandle:null})};return Z.createElement("div",{"data-handleid":v,"data-nodeid":y,"data-handlepos":t,"data-id":`${y}-${v}-${e}`,className:Mt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,u,{source:!g,target:g,connectable:r,connectablestart:o,connectableend:i,connecting:E,connectionindicator:r&&(o&&!w||i&&w)}]),onMouseDown:$,onTouchStart:$,onClick:x?A:void 0,ref:m,...h},l)});a9.displayName="Handle";var Tn=f.memo(a9);const s9=({data:e,isConnectable:t,targetPosition:n=Ce.Top,sourcePosition:r=Ce.Bottom})=>Z.createElement(Z.Fragment,null,Z.createElement(Tn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,Z.createElement(Tn,{type:"source",position:r,isConnectable:t}));s9.displayName="DefaultNode";var ny=f.memo(s9);const l9=({data:e,isConnectable:t,sourcePosition:n=Ce.Bottom})=>Z.createElement(Z.Fragment,null,e==null?void 0:e.label,Z.createElement(Tn,{type:"source",position:n,isConnectable:t}));l9.displayName="InputNode";var c9=f.memo(l9);const u9=({data:e,isConnectable:t,targetPosition:n=Ce.Top})=>Z.createElement(Z.Fragment,null,Z.createElement(Tn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);u9.displayName="OutputNode";var d9=f.memo(u9);const r_=()=>null;r_.displayName="GroupNode";const kG=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),Cc=e=>e.id;function NG(e,t){return Nt(e.selectedNodes.map(Cc),t.selectedNodes.map(Cc))&&Nt(e.selectedEdges.map(Cc),t.selectedEdges.map(Cc))}const f9=f.memo(({onSelectionChange:e})=>{const t=jt(),{selectedNodes:n,selectedEdges:r}=Qe(kG,NG);return f.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(i=>i(o))},[n,r,e]),null});f9.displayName="SelectionListener";const PG=e=>!!e.onSelectionChange;function DG({onSelectionChange:e}){const t=Qe(PG);return e||t?Z.createElement(f9,{onSelectionChange:e}):null}const AG=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Oi(e,t){f.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Me(e,t,n){f.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const IG=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:a,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:d,nodesFocusable:p,edgesFocusable:h,edgesUpdatable:m,elevateNodesOnSelect:v,minZoom:g,maxZoom:b,nodeExtent:y,onNodesChange:x,onEdgesChange:_,elementsSelectable:w,connectionMode:E,snapGrid:j,snapToGrid:$,translateExtent:A,connectOnClick:C,defaultEdgeOptions:S,fitView:D,fitViewOptions:O,onNodesDelete:F,onEdgesDelete:N,onNodeDrag:L,onNodeDragStart:T,onNodeDragStop:B,onSelectionDrag:I,onSelectionDragStart:R,onSelectionDragStop:q,noPanClassName:G,nodeOrigin:Q,rfId:le,autoPanOnConnect:ie,autoPanOnNodeDrag:fe,onError:he,connectionRadius:z,isValidConnection:U,nodeDragThreshold:V})=>{const{setNodes:P,setEdges:W,setDefaultNodesAndEdges:H,setMinZoom:ge,setMaxZoom:ce,setTranslateExtent:K,setNodeExtent:Y,reset:oe}=Qe(AG,Nt),ae=jt();return f.useEffect(()=>{const ve=r==null?void 0:r.map(Ae=>({...Ae,...S}));return H(n,ve),()=>{oe()}},[]),Me("defaultEdgeOptions",S,ae.setState),Me("connectionMode",E,ae.setState),Me("onConnect",o,ae.setState),Me("onConnectStart",i,ae.setState),Me("onConnectEnd",a,ae.setState),Me("onClickConnectStart",s,ae.setState),Me("onClickConnectEnd",l,ae.setState),Me("nodesDraggable",u,ae.setState),Me("nodesConnectable",d,ae.setState),Me("nodesFocusable",p,ae.setState),Me("edgesFocusable",h,ae.setState),Me("edgesUpdatable",m,ae.setState),Me("elementsSelectable",w,ae.setState),Me("elevateNodesOnSelect",v,ae.setState),Me("snapToGrid",$,ae.setState),Me("snapGrid",j,ae.setState),Me("onNodesChange",x,ae.setState),Me("onEdgesChange",_,ae.setState),Me("connectOnClick",C,ae.setState),Me("fitViewOnInit",D,ae.setState),Me("fitViewOnInitOptions",O,ae.setState),Me("onNodesDelete",F,ae.setState),Me("onEdgesDelete",N,ae.setState),Me("onNodeDrag",L,ae.setState),Me("onNodeDragStart",T,ae.setState),Me("onNodeDragStop",B,ae.setState),Me("onSelectionDrag",I,ae.setState),Me("onSelectionDragStart",R,ae.setState),Me("onSelectionDragStop",q,ae.setState),Me("noPanClassName",G,ae.setState),Me("nodeOrigin",Q,ae.setState),Me("rfId",le,ae.setState),Me("autoPanOnConnect",ie,ae.setState),Me("autoPanOnNodeDrag",fe,ae.setState),Me("onError",he,ae.setState),Me("connectionRadius",z,ae.setState),Me("isValidConnection",U,ae.setState),Me("nodeDragThreshold",V,ae.setState),Oi(e,P),Oi(t,W),Oi(g,ge),Oi(b,ce),Oi(A,K),Oi(y,Y),null},o2={display:"none"},MG={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},p9="react-flow__node-desc",h9="react-flow__edge-desc",OG="react-flow__aria-live",LG=e=>e.ariaLiveMessage;function zG({rfId:e}){const t=Qe(LG);return Z.createElement("div",{id:`${OG}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:MG},t)}function FG({rfId:e,disableKeyboardA11y:t}){return Z.createElement(Z.Fragment,null,Z.createElement("div",{id:`${p9}-${e}`,style:o2},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Z.createElement("div",{id:`${h9}-${e}`,style:o2},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&Z.createElement(zG,{rfId:e}))}var hl=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=f.useState(!1),o=f.useRef(!1),i=f.useRef(new Set([])),[a,s]=f.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.split("+")),d=u.reduce((p,h)=>p.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return f.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const d=m=>{if(o.current=m.ctrlKey||m.metaKey||m.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Qv(m))return!1;const g=a2(m.code,s);i.current.add(m[g]),i2(a,i.current,!1)&&(m.preventDefault(),r(!0))},p=m=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Qv(m))return!1;const g=a2(m.code,s);i2(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(m[g]),m.key==="Meta"&&i.current.clear(),o.current=!1},h=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",p),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",p),window.removeEventListener("blur",h)}}},[e,r]),n};function i2(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function a2(e,t){return t.includes(e)?"code":"key"}function m9(e,t,n,r){var a,s;if(!e.parentNode)return n;const o=t.get(e.parentNode),i=si(o,r);return m9(o,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((a=o[yt])==null?void 0:a.z)??0)>(n.z??0)?((s=o[yt])==null?void 0:s.z)??0:n.z??0},r)}function g9(e,t,n){e.forEach(r=>{var o;if(r.parentNode&&!e.has(r.parentNode))throw new Error(`Parent node ${r.parentNode} not found`);if(r.parentNode||n!=null&&n[r.id]){const{x:i,y:a,z:s}=m9(r,e,{...r.position,z:((o=r[yt])==null?void 0:o.z)??0},t);r.positionAbsolute={x:i,y:a},r[yt].z=s,n!=null&&n[r.id]&&(r[yt].isParent=!0)}})}function jp(e,t,n,r){const o=new Map,i={},a=r?1e3:0;return e.forEach(s=>{var h;const l=(Rn(s.zIndex)?s.zIndex:0)+(s.selected?a:0),u=t.get(s.id),d={...s,positionAbsolute:{x:s.position.x,y:s.position.y}};s.parentNode&&(i[s.parentNode]=!0);const p=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==s.type;Object.defineProperty(d,yt,{enumerable:!1,value:{handleBounds:p||(h=u==null?void 0:u[yt])==null?void 0:h.handleBounds,z:l}}),o.set(s.id,d)}),g9(o,n,i),o}function v9(e,t={}){const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:a,d3Zoom:s,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:p}=e(),h=t.initial&&!u&&d;if(s&&l&&(h||!t.initial)){const v=n().filter(b=>{var x;const y=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(x=t.nodes)!=null&&x.length?y&&t.nodes.some(_=>_.id===b.id):y}),g=v.every(b=>b.width&&b.height);if(v.length>0&&g){const b=Id(v,p),{x:y,y:x,zoom:_}=n9(b,r,o,t.minZoom??i,t.maxZoom??a,t.padding??.1),w=Lr.translate(y,x).scale(_);return typeof t.duration=="number"&&t.duration>0?s.transform(Ko(l,t.duration),w):s.transform(l,w),!0}}return!1}function qG(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[yt]:r[yt],selected:n.selected})}),new Map(t)}function BG(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function Sc({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:a,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:qG(e,o)}),a==null||a(e)),t!=null&&t.length&&(u&&r({edges:BG(t,i)}),s==null||s(t))}const Li=()=>{},VG={zoomIn:Li,zoomOut:Li,zoomTo:Li,getZoom:()=>1,setViewport:Li,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Li,fitBounds:Li,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},HG=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),UG=()=>{const e=jt(),{d3Zoom:t,d3Selection:n}=Qe(HG,Nt);return f.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Ko(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Ko(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(Ko(n,i==null?void 0:i.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{const[a,s,l]=e.getState().transform,u=Lr.translate(o.x??a,o.y??s).scale(o.zoom??l);t.transform(Ko(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[o,i,a]=e.getState().transform;return{x:o,y:i,zoom:a}},fitView:o=>v9(e.getState,o),setCenter:(o,i,a)=>{const{width:s,height:l,maxZoom:u}=e.getState(),d=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:u,p=s/2-o*d,h=l/2-i*d,m=Lr.translate(p,h).scale(d);t.transform(Ko(n,a==null?void 0:a.duration),m)},fitBounds:(o,i)=>{const{width:a,height:s,minZoom:l,maxZoom:u}=e.getState(),{x:d,y:p,zoom:h}=n9(o,a,s,l,u,(i==null?void 0:i.padding)??.1),m=Lr.translate(d,p).scale(h);t.transform(Ko(n,i==null?void 0:i.duration),m)},project:o=>{const{transform:i,snapToGrid:a,snapGrid:s}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ty(o,i,a,s)},screenToFlowPosition:o=>{const{transform:i,snapToGrid:a,snapGrid:s,domNode:l}=e.getState();if(!l)return o;const{x:u,y:d}=l.getBoundingClientRect(),p={x:o.x-u,y:o.y-d};return ty(p,i,a,s)},flowToScreenPosition:o=>{const{transform:i,domNode:a}=e.getState();if(!a)return o;const{x:s,y:l}=a.getBoundingClientRect(),u=J$(o,i);return{x:u.x+s,y:u.y+l}},viewportInitialized:!0}:VG,[t,n])};function o_(){const e=UG(),t=jt(),n=f.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=f.useCallback(g=>t.getState().nodeInternals.get(g),[]),o=f.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(b=>({...b}))},[]),i=f.useCallback(g=>{const{edges:b=[]}=t.getState();return b.find(y=>y.id===g)},[]),a=f.useCallback(g=>{const{getNodes:b,setNodes:y,hasDefaultNodes:x,onNodesChange:_}=t.getState(),w=b(),E=typeof g=="function"?g(w):g;if(x)y(E);else if(_){const j=E.length===0?w.map($=>({type:"remove",id:$.id})):E.map($=>({item:$,type:"reset"}));_(j)}},[]),s=f.useCallback(g=>{const{edges:b=[],setEdges:y,hasDefaultEdges:x,onEdgesChange:_}=t.getState(),w=typeof g=="function"?g(b):g;if(x)y(w);else if(_){const E=w.length===0?b.map(j=>({type:"remove",id:j.id})):w.map(j=>({item:j,type:"reset"}));_(E)}},[]),l=f.useCallback(g=>{const b=Array.isArray(g)?g:[g],{getNodes:y,setNodes:x,hasDefaultNodes:_,onNodesChange:w}=t.getState();if(_){const j=[...y(),...b];x(j)}else if(w){const E=b.map(j=>({item:j,type:"add"}));w(E)}},[]),u=f.useCallback(g=>{const b=Array.isArray(g)?g:[g],{edges:y=[],setEdges:x,hasDefaultEdges:_,onEdgesChange:w}=t.getState();if(_)x([...y,...b]);else if(w){const E=b.map(j=>({item:j,type:"add"}));w(E)}},[]),d=f.useCallback(()=>{const{getNodes:g,edges:b=[],transform:y}=t.getState(),[x,_,w]=y;return{nodes:g().map(E=>({...E})),edges:b.map(E=>({...E})),viewport:{x,y:_,zoom:w}}},[]),p=f.useCallback(({nodes:g,edges:b})=>{const{nodeInternals:y,getNodes:x,edges:_,hasDefaultNodes:w,hasDefaultEdges:E,onNodesDelete:j,onEdgesDelete:$,onNodesChange:A,onEdgesChange:C}=t.getState(),S=(g||[]).map(L=>L.id),D=(b||[]).map(L=>L.id),O=x().reduce((L,T)=>{const B=!S.includes(T.id)&&T.parentNode&&L.find(R=>R.id===T.parentNode);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(S.includes(T.id)||B)&&L.push(T),L},[]),F=_.filter(L=>typeof L.deletable=="boolean"?L.deletable:!0),N=F.filter(L=>D.includes(L.id));if(O||N){const L=t9(O,F),T=[...N,...L],B=T.reduce((I,R)=>(I.includes(R.id)||I.push(R.id),I),[]);if((E||w)&&(E&&t.setState({edges:_.filter(I=>!B.includes(I.id))}),w&&(O.forEach(I=>{y.delete(I.id)}),t.setState({nodeInternals:new Map(y)}))),B.length>0&&($==null||$(T),C&&C(B.map(I=>({id:I,type:"remove"})))),O.length>0&&(j==null||j(O),A)){const I=O.map(R=>({id:R.id,type:"remove"}));A(I)}}},[]),h=f.useCallback(g=>{const b=dG(g),y=b?null:t.getState().nodeInternals.get(g.id);return!b&&!y?[null,null,b]:[b?g:Zb(y),y,b]},[]),m=f.useCallback((g,b=!0,y)=>{const[x,_,w]=h(g);return x?(y||t.getState().getNodes()).filter(E=>{if(!w&&(E.id===_.id||!E.positionAbsolute))return!1;const j=Zb(E),$=Zv(j,x);return b&&$>0||$>=x.width*x.height}):[]},[]),v=f.useCallback((g,b,y=!0)=>{const[x]=h(g);if(!x)return!1;const _=Zv(x,b);return y&&_>0||_>=x.width*x.height},[]);return f.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:a,setEdges:s,addNodes:l,addEdges:u,toObject:d,deleteElements:p,getIntersectingNodes:m,isNodeIntersecting:v}),[e,n,r,o,i,a,s,l,u,d,p,m,v])}const GG={actInsideInputWithModifier:!1};var WG=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=jt(),{deleteElements:r}=o_(),o=hl(e,GG),i=hl(t);f.useEffect(()=>{if(o){const{edges:a,getNodes:s}=n.getState(),l=s().filter(d=>d.selected),u=a.filter(d=>d.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),f.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function KG(e){const t=jt();f.useEffect(()=>{let n;const r=()=>{var i,a;if(!e.current)return;const o=Xx(e.current);(o.height===0||o.width===0)&&((a=(i=t.getState()).onError)==null||a.call(i,"004",Wr.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const i_={position:"absolute",width:"100%",height:"100%",top:0,left:0},YG=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ec=e=>({x:e.x,y:e.y,zoom:e.k}),zi=(e,t)=>e.target.closest(`.${t}`),s2=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),l2=e=>{const t=e.ctrlKey&&Lu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},XG=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),ZG=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=ti.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:p=!0,defaultViewport:h,translateExtent:m,minZoom:v,maxZoom:g,zoomActivationKeyCode:b,preventScrolling:y=!0,children:x,noWheelClassName:_,noPanClassName:w})=>{const E=f.useRef(),j=jt(),$=f.useRef(!1),A=f.useRef(!1),C=f.useRef(null),S=f.useRef({x:0,y:0,zoom:0}),{d3Zoom:D,d3Selection:O,d3ZoomHandler:F,userSelectionActive:N}=Qe(XG,Nt),L=hl(b),T=f.useRef(0),B=f.useRef(!1),I=f.useRef();return KG(C),f.useEffect(()=>{if(C.current){const R=C.current.getBoundingClientRect(),q=q$().scaleExtent([v,g]).translateExtent(m),G=jn(C.current).call(q),Q=Lr.translate(h.x,h.y).scale(ja(h.zoom,v,g)),le=[[0,0],[R.width,R.height]],ie=q.constrain()(Q,le,m);q.transform(G,ie),q.wheelDelta(l2),j.setState({d3Zoom:q,d3Selection:G,d3ZoomHandler:G.on("wheel.zoom"),transform:[ie.x,ie.y,ie.k],domNode:C.current.closest(".react-flow")})}},[]),f.useEffect(()=>{O&&D&&(a&&!L&&!N?O.on("wheel.zoom",R=>{if(zi(R,_))return!1;R.preventDefault(),R.stopImmediatePropagation();const q=O.property("__zoom").k||1,G=Lu();if(R.ctrlKey&&i&&G){const V=Un(R),P=l2(R),W=q*Math.pow(2,P);D.scaleTo(O,W,V,R);return}const Q=R.deltaMode===1?20:1;let le=l===ti.Vertical?0:R.deltaX*Q,ie=l===ti.Horizontal?0:R.deltaY*Q;!G&&R.shiftKey&&l!==ti.Vertical&&(le=R.deltaY*Q,ie=0),D.translateBy(O,-(le/q)*s,-(ie/q)*s,{internal:!0});const fe=Ec(O.property("__zoom")),{onViewportChangeStart:he,onViewportChange:z,onViewportChangeEnd:U}=j.getState();clearTimeout(I.current),B.current||(B.current=!0,t==null||t(R,fe),he==null||he(fe)),B.current&&(e==null||e(R,fe),z==null||z(fe),I.current=setTimeout(()=>{n==null||n(R,fe),U==null||U(fe),B.current=!1},150))},{passive:!1}):typeof F<"u"&&O.on("wheel.zoom",function(R,q){if(!y||zi(R,_))return null;R.preventDefault(),F.call(this,R,q)},{passive:!1}))},[N,a,l,O,D,F,L,i,y,_,t,e,n]),f.useEffect(()=>{D&&D.on("start",R=>{var Q,le;if(!R.sourceEvent||R.sourceEvent.internal)return null;T.current=(Q=R.sourceEvent)==null?void 0:Q.button;const{onViewportChangeStart:q}=j.getState(),G=Ec(R.transform);$.current=!0,S.current=G,((le=R.sourceEvent)==null?void 0:le.type)==="mousedown"&&j.setState({paneDragging:!0}),q==null||q(G),t==null||t(R.sourceEvent,G)})},[D,t]),f.useEffect(()=>{D&&(N&&!$.current?D.on("zoom",null):N||D.on("zoom",R=>{var G;const{onViewportChange:q}=j.getState();if(j.setState({transform:[R.transform.x,R.transform.y,R.transform.k]}),A.current=!!(r&&s2(p,T.current??0)),(e||q)&&!((G=R.sourceEvent)!=null&&G.internal)){const Q=Ec(R.transform);q==null||q(Q),e==null||e(R.sourceEvent,Q)}}))},[N,D,e,p,r]),f.useEffect(()=>{D&&D.on("end",R=>{if(!R.sourceEvent||R.sourceEvent.internal)return null;const{onViewportChangeEnd:q}=j.getState();if($.current=!1,j.setState({paneDragging:!1}),r&&s2(p,T.current??0)&&!A.current&&r(R.sourceEvent),A.current=!1,(n||q)&&YG(S.current,R.transform)){const G=Ec(R.transform);S.current=G,clearTimeout(E.current),E.current=setTimeout(()=>{q==null||q(G),n==null||n(R.sourceEvent,G)},a?150:0)}})},[D,a,p,n,r]),f.useEffect(()=>{D&&D.filter(R=>{const q=L||o,G=i&&R.ctrlKey;if((p===!0||Array.isArray(p)&&p.includes(1))&&R.button===1&&R.type==="mousedown"&&(zi(R,"react-flow__node")||zi(R,"react-flow__edge")))return!0;if(!p&&!q&&!a&&!u&&!i||N||!u&&R.type==="dblclick"||zi(R,_)&&R.type==="wheel"||zi(R,w)&&(R.type!=="wheel"||a&&R.type==="wheel"&&!L)||!i&&R.ctrlKey&&R.type==="wheel"||!q&&!a&&!G&&R.type==="wheel"||!p&&(R.type==="mousedown"||R.type==="touchstart")||Array.isArray(p)&&!p.includes(R.button)&&(R.type==="mousedown"||R.type==="touchstart"))return!1;const Q=Array.isArray(p)&&p.includes(R.button)||!R.button||R.button<=1;return(!R.ctrlKey||R.type==="wheel")&&Q})},[N,D,o,i,a,u,p,d,L]),Z.createElement("div",{className:"react-flow__renderer",ref:C,style:i_},x)},QG=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function JG(){const{userSelectionActive:e,userSelectionRect:t}=Qe(QG,Nt);return e&&t?Z.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function c2(e,t){const n=e.find(r=>r.id===t.parentNode);if(n){const r=t.position.x+t.width-n.width,o=t.position.y+t.height-n.height;if(r>0||o>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,r>0&&(n.style.width+=r),o>0&&(n.style.height+=o),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function y9(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const i=e.filter(s=>s.id===o.id);if(i.length===0)return r.push(o),r;const a={...o};for(const s of i)if(s)switch(s.type){case"select":{a.selected=s.selected;break}case"position":{typeof s.position<"u"&&(a.position=s.position),typeof s.positionAbsolute<"u"&&(a.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&c2(r,a);break}case"dimensions":{typeof s.dimensions<"u"&&(a.width=s.dimensions.width,a.height=s.dimensions.height),typeof s.updateStyle<"u"&&(a.style={...a.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(a.resizing=s.resizing),a.expandParent&&c2(r,a);break}case"remove":return r}return r.push(a),r},n)}function x9(e,t){return y9(e,t)}function eW(e,t){return y9(e,t)}const po=(e,t)=>({id:e,type:"select",selected:t});function ea(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(po(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(po(r.id,!1))),n},[])}const $p=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},tW=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),_9=f.memo(({isSelecting:e,selectionMode:t=pl.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:a,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:d,children:p})=>{const h=f.useRef(null),m=jt(),v=f.useRef(0),g=f.useRef(0),b=f.useRef(),{userSelectionActive:y,elementsSelectable:x,dragging:_}=Qe(tW,Nt),w=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,g.current=0},E=F=>{i==null||i(F),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},j=F=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){F.preventDefault();return}a==null||a(F)},$=s?F=>s(F):void 0,A=F=>{const{resetSelectedElements:N,domNode:L}=m.getState();if(b.current=L==null?void 0:L.getBoundingClientRect(),!x||!e||F.button!==0||F.target!==h.current||!b.current)return;const{x:T,y:B}=Ro(F,b.current);N(),m.setState({userSelectionRect:{width:0,height:0,startX:T,startY:B,x:T,y:B}}),r==null||r(F)},C=F=>{const{userSelectionRect:N,nodeInternals:L,edges:T,transform:B,onNodesChange:I,onEdgesChange:R,nodeOrigin:q,getNodes:G}=m.getState();if(!e||!b.current||!N)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const Q=Ro(F,b.current),le=N.startX??0,ie=N.startY??0,fe={...N,x:Q.x<le?Q.x:le,y:Q.y<ie?Q.y:ie,width:Math.abs(Q.x-le),height:Math.abs(Q.y-ie)},he=G(),z=e9(L,fe,B,t===pl.Partial,!0,q),U=t9(z,T).map(P=>P.id),V=z.map(P=>P.id);if(v.current!==V.length){v.current=V.length;const P=ea(he,V);P.length&&(I==null||I(P))}if(g.current!==U.length){g.current=U.length;const P=ea(T,U);P.length&&(R==null||R(P))}m.setState({userSelectionRect:fe})},S=F=>{if(F.button!==0)return;const{userSelectionRect:N}=m.getState();!y&&N&&F.target===h.current&&(E==null||E(F)),m.setState({nodesSelectionActive:v.current>0}),w(),o==null||o(F)},D=F=>{y&&(m.setState({nodesSelectionActive:v.current>0}),o==null||o(F)),w()},O=x&&(e||y);return Z.createElement("div",{className:Mt(["react-flow__pane",{dragging:_,selection:e}]),onClick:O?void 0:$p(E,h),onContextMenu:$p(j,h),onWheel:$p($,h),onMouseEnter:O?void 0:l,onMouseDown:O?A:void 0,onMouseMove:O?C:u,onMouseUp:O?S:void 0,onMouseLeave:O?D:d,ref:h,style:i_},p,Z.createElement(JG,null))});_9.displayName="Pane";function w9(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:w9(n,t):!1}function u2(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function nW(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||!w9(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var i,a;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=o.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((a=o.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,width:o.width,height:o.height,expandParent:o.expandParent}})}function rW(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function b9(e,t,n,r,o=[0,0],i){const a=rW(e,e.extent||r);let s=a;if(e.extent==="parent"&&!e.expandParent)if(e.parentNode&&e.width&&e.height){const d=n.get(e.parentNode),{x:p,y:h}=si(d,o).positionAbsolute;s=d&&Rn(p)&&Rn(h)&&Rn(d.width)&&Rn(d.height)?[[p+e.width*o[0],h+e.height*o[1]],[p+d.width-e.width+e.width*o[0],h+d.height-e.height+e.height*o[1]]]:s}else i==null||i("005",Wr.error005()),s=a;else if(e.extent&&e.parentNode&&e.extent!=="parent"){const d=n.get(e.parentNode),{x:p,y:h}=si(d,o).positionAbsolute;s=[[e.extent[0][0]+p,e.extent[0][1]+h],[e.extent[1][0]+p,e.extent[1][1]+h]]}let l={x:0,y:0};if(e.parentNode){const d=n.get(e.parentNode);l=si(d,o).positionAbsolute}const u=s&&s!=="parent"?Zx(t,s):t;return{position:{x:u.x-l.x,y:u.y-l.y},positionAbsolute:u}}function Rp({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const d2=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),a=t.getBoundingClientRect(),s={x:a.width*r[0],y:a.height*r[1]};return i.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-a.left-s.x)/n,y:(u.top-a.top-s.y)/n,...Xx(l)}})};function ds(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function ry({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:a,nodeInternals:s,onError:l}=t.getState(),u=s.get(e);if(!u){l==null||l("012",Wr.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):o([e])}function oW(){const e=jt();return f.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),a=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(a-r[0])/r[2],y:(s-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(l.x/o[0]):l.x,ySnapped:i?o[1]*Math.round(l.y/o[1]):l.y,...l}},[])}function Tp(e){return(t,n,r)=>e==null?void 0:e(t,r)}function C9({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:a}){const s=jt(),[l,u]=f.useState(!1),d=f.useRef([]),p=f.useRef({x:null,y:null}),h=f.useRef(0),m=f.useRef(null),v=f.useRef({x:0,y:0}),g=f.useRef(null),b=f.useRef(!1),y=f.useRef(!1),x=oW();return f.useEffect(()=>{if(e!=null&&e.current){const _=jn(e.current),w=({x:$,y:A})=>{const{nodeInternals:C,onNodeDrag:S,onSelectionDrag:D,updateNodePositions:O,nodeExtent:F,snapGrid:N,snapToGrid:L,nodeOrigin:T,onError:B}=s.getState();p.current={x:$,y:A};let I=!1,R={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&F){const G=Id(d.current,T);R=fl(G)}if(d.current=d.current.map(G=>{const Q={x:$-G.distance.x,y:A-G.distance.y};L&&(Q.x=N[0]*Math.round(Q.x/N[0]),Q.y=N[1]*Math.round(Q.y/N[1]));const le=[[F[0][0],F[0][1]],[F[1][0],F[1][1]]];d.current.length>1&&F&&!G.extent&&(le[0][0]=G.positionAbsolute.x-R.x+F[0][0],le[1][0]=G.positionAbsolute.x+(G.width??0)-R.x2+F[1][0],le[0][1]=G.positionAbsolute.y-R.y+F[0][1],le[1][1]=G.positionAbsolute.y+(G.height??0)-R.y2+F[1][1]);const ie=b9(G,Q,C,le,T,B);return I=I||G.position.x!==ie.position.x||G.position.y!==ie.position.y,G.position=ie.position,G.positionAbsolute=ie.positionAbsolute,G}),!I)return;O(d.current,!0,!0),u(!0);const q=o?S:Tp(D);if(q&&g.current){const[G,Q]=Rp({nodeId:o,dragItems:d.current,nodeInternals:C});q(g.current,G,Q)}},E=()=>{if(!m.current)return;const[$,A]=V$(v.current,m.current);if($!==0||A!==0){const{transform:C,panBy:S}=s.getState();p.current.x=(p.current.x??0)-$/C[2],p.current.y=(p.current.y??0)-A/C[2],S({x:$,y:A})&&w(p.current)}h.current=requestAnimationFrame(E)},j=$=>{var T;const{nodeInternals:A,multiSelectionActive:C,nodesDraggable:S,unselectNodesAndEdges:D,onNodeDragStart:O,onSelectionDragStart:F}=s.getState();y.current=!0;const N=o?O:Tp(F);(!a||!i)&&!C&&o&&((T=A.get(o))!=null&&T.selected||D()),o&&i&&a&&ry({id:o,store:s,nodeRef:e});const L=x($);if(p.current=L,d.current=nW(A,S,L,o),N&&d.current){const[B,I]=Rp({nodeId:o,dragItems:d.current,nodeInternals:A});N($.sourceEvent,B,I)}};if(t)_.on(".drag",null);else{const $=mH().on("start",A=>{const{domNode:C,nodeDragThreshold:S}=s.getState();S===0&&j(A);const D=x(A);p.current=D,m.current=(C==null?void 0:C.getBoundingClientRect())||null,v.current=Ro(A.sourceEvent,m.current)}).on("drag",A=>{var O,F;const C=x(A),{autoPanOnNodeDrag:S,nodeDragThreshold:D}=s.getState();if(!b.current&&y.current&&S&&(b.current=!0,E()),!y.current){const N=C.xSnapped-(((O=p==null?void 0:p.current)==null?void 0:O.x)??0),L=C.ySnapped-(((F=p==null?void 0:p.current)==null?void 0:F.y)??0);Math.sqrt(N*N+L*L)>D&&j(A)}(p.current.x!==C.xSnapped||p.current.y!==C.ySnapped)&&d.current&&y.current&&(g.current=A.sourceEvent,v.current=Ro(A.sourceEvent,m.current),w(C))}).on("end",A=>{if(y.current&&(u(!1),b.current=!1,y.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:C,nodeInternals:S,onNodeDragStop:D,onSelectionDragStop:O}=s.getState(),F=o?D:Tp(O);if(C(d.current,!1,!1),F){const[N,L]=Rp({nodeId:o,dragItems:d.current,nodeInternals:S});F(A.sourceEvent,N,L)}}}).filter(A=>{const C=A.target;return!A.button&&(!n||!u2(C,`.${n}`,e))&&(!r||u2(C,r,e))});return _.call($),()=>{_.on(".drag",null)}}}},[e,t,n,r,i,s,o,a,x]),l}function S9(){const e=jt();return f.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:i,getNodes:a,snapToGrid:s,snapGrid:l,onError:u,nodesDraggable:d}=e.getState(),p=a().filter(x=>x.selected&&(x.draggable||d&&typeof x.draggable>"u")),h=s?l[0]:5,m=s?l[1]:5,v=n.isShiftPressed?4:1,g=n.x*h*v,b=n.y*m*v,y=p.map(x=>{if(x.positionAbsolute){const _={x:x.positionAbsolute.x+g,y:x.positionAbsolute.y+b};s&&(_.x=l[0]*Math.round(_.x/l[0]),_.y=l[1]*Math.round(_.y/l[1]));const{positionAbsolute:w,position:E}=b9(x,_,r,o,void 0,u);x.position=E,x.positionAbsolute=w}return x});i(y,!0,!1)},[])}const ua={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var fs=e=>{const t=({id:n,type:r,data:o,xPos:i,yPos:a,xPosOrigin:s,yPosOrigin:l,selected:u,onClick:d,onMouseEnter:p,onMouseMove:h,onMouseLeave:m,onContextMenu:v,onDoubleClick:g,style:b,className:y,isDraggable:x,isSelectable:_,isConnectable:w,isFocusable:E,selectNodesOnDrag:j,sourcePosition:$,targetPosition:A,hidden:C,resizeObserver:S,dragHandle:D,zIndex:O,isParent:F,noDragClassName:N,noPanClassName:L,initialized:T,disableKeyboardA11y:B,ariaLabel:I,rfId:R,hasHandleBounds:q})=>{const G=jt(),Q=f.useRef(null),le=f.useRef($),ie=f.useRef(A),fe=f.useRef(r),he=_||x||d||p||h||m,z=S9(),U=ds(n,G.getState,p),V=ds(n,G.getState,h),P=ds(n,G.getState,m),W=ds(n,G.getState,v),H=ds(n,G.getState,g),ge=Y=>{const{nodeDragThreshold:oe}=G.getState();if(_&&(!j||!x||oe>0)&&ry({id:n,store:G,nodeRef:Q}),d){const ae=G.getState().nodeInternals.get(n);ae&&d(Y,{...ae})}},ce=Y=>{if(!Qv(Y))if(W$.includes(Y.key)&&_){const oe=Y.key==="Escape";ry({id:n,store:G,unselect:oe,nodeRef:Q})}else!B&&x&&u&&Object.prototype.hasOwnProperty.call(ua,Y.key)&&(G.setState({ariaLiveMessage:`Moved selected node ${Y.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~a}`}),z({x:ua[Y.key].x,y:ua[Y.key].y,isShiftPressed:Y.shiftKey}))};f.useEffect(()=>()=>{Q.current&&(S==null||S.unobserve(Q.current))},[]),f.useEffect(()=>{if(Q.current&&!C){const Y=Q.current;(!T||!q)&&(S==null||S.unobserve(Y),S==null||S.observe(Y))}},[C,T,q]),f.useEffect(()=>{const Y=fe.current!==r,oe=le.current!==$,ae=ie.current!==A;Q.current&&(Y||oe||ae)&&(Y&&(fe.current=r),oe&&(le.current=$),ae&&(ie.current=A),G.getState().updateNodeDimensions([{id:n,nodeElement:Q.current,forceUpdate:!0}]))},[n,r,$,A]);const K=C9({nodeRef:Q,disabled:C||!x,noDragClassName:N,handleSelector:D,nodeId:n,isSelectable:_,selectNodesOnDrag:j});return C?null:Z.createElement("div",{className:Mt(["react-flow__node",`react-flow__node-${r}`,{[L]:x},y,{selected:u,selectable:_,parent:F,dragging:K}]),ref:Q,style:{zIndex:O,transform:`translate(${s}px,${l}px)`,pointerEvents:he?"all":"none",visibility:T?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:U,onMouseMove:V,onMouseLeave:P,onContextMenu:W,onClick:ge,onDoubleClick:H,onKeyDown:E?ce:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":B?void 0:`${p9}-${R}`,"aria-label":I},Z.createElement(yG,{value:n},Z.createElement(e,{id:n,data:o,type:r,xPos:i,yPos:a,selected:u,isConnectable:w,sourcePosition:$,targetPosition:A,dragging:K,dragHandle:D,zIndex:O})))};return t.displayName="NodeWrapper",f.memo(t)};const iW=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Id(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function aW({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=jt(),{width:o,height:i,x:a,y:s,transformString:l,userSelectionActive:u}=Qe(iW,Nt),d=S9(),p=f.useRef(null);if(f.useEffect(()=>{var v;n||(v=p.current)==null||v.focus({preventScroll:!0})},[n]),C9({nodeRef:p}),u||!o||!i)return null;const h=e?v=>{const g=r.getState().getNodes().filter(b=>b.selected);e(v,g)}:void 0,m=v=>{Object.prototype.hasOwnProperty.call(ua,v.key)&&d({x:ua[v.key].x,y:ua[v.key].y,isShiftPressed:v.shiftKey})};return Z.createElement("div",{className:Mt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},Z.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:o,height:i,top:s,left:a}}))}var sW=f.memo(aW);const lW=e=>e.nodesSelectionActive,E9=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,deleteKeyCode:s,onMove:l,onMoveStart:u,onMoveEnd:d,selectionKeyCode:p,selectionOnDrag:h,selectionMode:m,onSelectionStart:v,onSelectionEnd:g,multiSelectionKeyCode:b,panActivationKeyCode:y,zoomActivationKeyCode:x,elementsSelectable:_,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:j,panOnScrollSpeed:$,panOnScrollMode:A,zoomOnDoubleClick:C,panOnDrag:S,defaultViewport:D,translateExtent:O,minZoom:F,maxZoom:N,preventScrolling:L,onSelectionContextMenu:T,noWheelClassName:B,noPanClassName:I,disableKeyboardA11y:R})=>{const q=Qe(lW),G=hl(p),Q=hl(y),le=Q||S,ie=Q||j,fe=G||h&&le!==!0;return WG({deleteKeyCode:s,multiSelectionKeyCode:b}),Z.createElement(ZG,{onMove:l,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:_,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:ie,panOnScrollSpeed:$,panOnScrollMode:A,zoomOnDoubleClick:C,panOnDrag:!G&&le,defaultViewport:D,translateExtent:O,minZoom:F,maxZoom:N,zoomActivationKeyCode:x,preventScrolling:L,noWheelClassName:B,noPanClassName:I},Z.createElement(_9,{onSelectionStart:v,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:le,isSelecting:!!fe,selectionMode:m},e,q&&Z.createElement(sW,{onSelectionContextMenu:T,noPanClassName:I,disableKeyboardA11y:R})))};E9.displayName="FlowRenderer";var cW=f.memo(E9);function uW(e){return Qe(f.useCallback(n=>e?e9(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function dW(e){const t={input:fs(e.input||c9),default:fs(e.default||ny),output:fs(e.output||d9),group:fs(e.group||r_)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=fs(e[i]||ny),o),n);return{...t,...r}}const fW=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},pW=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),j9=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:a}=Qe(pW,Nt),s=uW(e.onlyRenderVisibleElements),l=f.useRef(),u=f.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(p=>{const h=p.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));i(h)});return l.current=d,d},[]);return f.useEffect(()=>()=>{var d;(d=l==null?void 0:l.current)==null||d.disconnect()},[]),Z.createElement("div",{className:"react-flow__nodes",style:i_},s.map(d=>{var E,j,$;let p=d.type||"default";e.nodeTypes[p]||(a==null||a("003",Wr.error003(p)),p="default");const h=e.nodeTypes[p]||e.nodeTypes.default,m=!!(d.draggable||t&&typeof d.draggable>"u"),v=!!(d.selectable||o&&typeof d.selectable>"u"),g=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||r&&typeof d.focusable>"u"),y=e.nodeExtent?Zx(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,x=(y==null?void 0:y.x)??0,_=(y==null?void 0:y.y)??0,w=fW({x,y:_,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return Z.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:p,data:d.data,sourcePosition:d.sourcePosition||Ce.Bottom,targetPosition:d.targetPosition||Ce.Top,hidden:d.hidden,xPos:x,yPos:_,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:v,isConnectable:g,isFocusable:b,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((E=d[yt])==null?void 0:E.z)??0,isParent:!!((j=d[yt])!=null&&j.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!(($=d[yt])!=null&&$.handleBounds)})}))};j9.displayName="NodeRenderer";var hW=f.memo(j9);const mW=(e,t,n)=>n===Ce.Left?e-t:n===Ce.Right?e+t:e,gW=(e,t,n)=>n===Ce.Top?e-t:n===Ce.Bottom?e+t:e,f2="react-flow__edgeupdater",p2=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:a,type:s})=>Z.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:a,className:Mt([f2,`${f2}-${s}`]),cx:mW(t,r,e),cy:gW(n,r,e),r,stroke:"transparent",fill:"transparent"}),vW=()=>!0;var Fi=e=>{const t=({id:n,className:r,type:o,data:i,onClick:a,onEdgeDoubleClick:s,selected:l,animated:u,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:g,style:b,source:y,target:x,sourceX:_,sourceY:w,targetX:E,targetY:j,sourcePosition:$,targetPosition:A,elementsSelectable:C,hidden:S,sourceHandleId:D,targetHandleId:O,onContextMenu:F,onMouseEnter:N,onMouseMove:L,onMouseLeave:T,edgeUpdaterRadius:B,onEdgeUpdate:I,onEdgeUpdateStart:R,onEdgeUpdateEnd:q,markerEnd:G,markerStart:Q,rfId:le,ariaLabel:ie,isFocusable:fe,isUpdatable:he,pathOptions:z,interactionWidth:U})=>{const V=f.useRef(null),[P,W]=f.useState(!1),[H,ge]=f.useState(!1),ce=jt(),K=f.useMemo(()=>`url('#${ey(Q,le)}')`,[Q,le]),Y=f.useMemo(()=>`url('#${ey(G,le)}')`,[G,le]);if(S)return null;const oe=tt=>{var bn;const{edges:$t,addSelectedEdges:_n,unselectNodesAndEdges:bt,multiSelectionActive:ut}=ce.getState(),wn=$t.find(no=>no.id===n);wn&&(C&&(ce.setState({nodesSelectionActive:!1}),wn.selected&&ut?(bt({nodes:[],edges:[wn]}),(bn=V.current)==null||bn.blur()):_n([n])),a&&a(tt,wn))},ae=us(n,ce.getState,s),ve=us(n,ce.getState,F),Ae=us(n,ce.getState,N),ye=us(n,ce.getState,L),ke=us(n,ce.getState,T),$e=(tt,$t)=>{if(tt.button!==0)return;const{edges:_n,isValidConnection:bt}=ce.getState(),ut=$t?x:y,wn=($t?O:D)||null,bn=$t?"target":"source",no=bt||vW,Ha=$t,wr=_n.find(br=>br.id===n);ge(!0),R==null||R(tt,wr,bn);const Cn=br=>{ge(!1),q==null||q(br,wr,bn)};i9({event:tt,handleId:wn,nodeId:ut,onConnect:br=>I==null?void 0:I(wr,br),isTarget:Ha,getState:ce.getState,setState:ce.setState,isValidConnection:no,edgeUpdaterType:bn,onEdgeUpdateEnd:Cn})},Xe=tt=>$e(tt,!0),wt=tt=>$e(tt,!1),je=()=>W(!0),We=()=>W(!1),Ot=!C&&!a,xn=tt=>{var $t;if(W$.includes(tt.key)&&C){const{unselectNodesAndEdges:_n,addSelectedEdges:bt,edges:ut}=ce.getState();tt.key==="Escape"?(($t=V.current)==null||$t.blur(),_n({edges:[ut.find(bn=>bn.id===n)]})):bt([n])}};return Z.createElement("g",{className:Mt(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:l,animated:u,inactive:Ot,updating:P}]),onClick:oe,onDoubleClick:ae,onContextMenu:ve,onMouseEnter:Ae,onMouseMove:ye,onMouseLeave:ke,onKeyDown:fe?xn:void 0,tabIndex:fe?0:void 0,role:fe?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ie===null?void 0:ie||`Edge from ${y} to ${x}`,"aria-describedby":fe?`${h9}-${le}`:void 0,ref:V},!H&&Z.createElement(e,{id:n,source:y,target:x,selected:l,animated:u,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:g,data:i,style:b,sourceX:_,sourceY:w,targetX:E,targetY:j,sourcePosition:$,targetPosition:A,sourceHandleId:D,targetHandleId:O,markerStart:K,markerEnd:Y,pathOptions:z,interactionWidth:U}),he&&Z.createElement(Z.Fragment,null,(he==="source"||he===!0)&&Z.createElement(p2,{position:$,centerX:_,centerY:w,radius:B,onMouseDown:Xe,onMouseEnter:je,onMouseOut:We,type:"source"}),(he==="target"||he===!0)&&Z.createElement(p2,{position:A,centerX:E,centerY:j,radius:B,onMouseDown:wt,onMouseEnter:je,onMouseOut:We,type:"target"})))};return t.displayName="EdgeWrapper",f.memo(t)};function yW(e){const t={default:Fi(e.default||Fu),straight:Fi(e.bezier||e_),step:Fi(e.step||Jx),smoothstep:Fi(e.step||Ad),simplebezier:Fi(e.simplebezier||Qx)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=Fi(e[i]||Fu),o),n);return{...t,...r}}function h2(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,a=(n==null?void 0:n.height)||t.height;switch(e){case Ce.Top:return{x:r+i/2,y:o};case Ce.Right:return{x:r+i,y:o+a/2};case Ce.Bottom:return{x:r+i/2,y:o+a};case Ce.Left:return{x:r,y:o+a/2}}}function m2(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const xW=(e,t,n,r,o,i)=>{const a=h2(n,e,t),s=h2(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}};function _W({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:a,height:s,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=fl({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:a/l[2],height:s/l[2]}),p=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(p*h)>0}function g2(e){var r,o,i,a,s;const t=((r=e==null?void 0:e[yt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const wW=[{level:0,isMaxLevel:!0,edges:[]}];function bW(e,t,n=!1){let r=-1;const o=e.reduce((a,s)=>{var d,p;const l=Rn(s.zIndex);let u=l?s.zIndex:0;if(n){const h=t.get(s.target),m=t.get(s.source),v=s.selected||(h==null?void 0:h.selected)||(m==null?void 0:m.selected),g=Math.max(((d=m==null?void 0:m[yt])==null?void 0:d.z)||0,((p=h==null?void 0:h[yt])==null?void 0:p.z)||0,1e3);u=(l?s.zIndex:0)+(v?g:0)}return a[u]?a[u].push(s):a[u]=[s],r=u>r?u:r,a},{}),i=Object.entries(o).map(([a,s])=>{const l=+a;return{edges:s,level:l,isMaxLevel:l===r}});return i.length===0?wW:i}function CW(e,t,n){const r=Qe(f.useCallback(o=>e?o.edges.filter(i=>{const a=t.get(i.source),s=t.get(i.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&_W({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:s.width,targetHeight:s.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return bW(r,t,n)}const SW=({color:e="none",strokeWidth:t=1})=>Z.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),EW=({color:e="none",strokeWidth:t=1})=>Z.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),v2={[zu.Arrow]:SW,[zu.ArrowClosed]:EW};function jW(e){const t=jt();return f.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(v2,e)?v2[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Wr.error009(e)),null)},[e])}const $W=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=jW(t);return l?Z.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0"},Z.createElement(l,{color:n,strokeWidth:a})):null},RW=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const s=ey(a,t);r.includes(s)||(o.push({id:s,color:a.color||e,...a}),r.push(s))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},$9=({defaultColor:e,rfId:t})=>{const n=Qe(f.useCallback(RW({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((i,a)=>i.id!==o[a].id)));return Z.createElement("defs",null,n.map(r=>Z.createElement($W,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};$9.displayName="MarkerDefinitions";var TW=f.memo($9);const kW=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),R9=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:i,onEdgeUpdate:a,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:p,edgeUpdaterRadius:h,onEdgeDoubleClick:m,onEdgeUpdateStart:v,onEdgeUpdateEnd:g,children:b})=>{const{edgesFocusable:y,edgesUpdatable:x,elementsSelectable:_,width:w,height:E,connectionMode:j,nodeInternals:$,onError:A}=Qe(kW,Nt),C=CW(t,$,n);return w?Z.createElement(Z.Fragment,null,C.map(({level:S,edges:D,isMaxLevel:O})=>Z.createElement("svg",{key:S,style:{zIndex:S},width:w,height:E,className:"react-flow__edges react-flow__container"},O&&Z.createElement(TW,{defaultColor:e,rfId:r}),Z.createElement("g",null,D.map(F=>{const[N,L,T]=g2($.get(F.source)),[B,I,R]=g2($.get(F.target));if(!T||!R)return null;let q=F.type||"default";o[q]||(A==null||A("011",Wr.error011(q)),q="default");const G=o[q]||o.default,Q=j===mi.Strict?I.target:(I.target??[]).concat(I.source??[]),le=m2(L.source,F.sourceHandle),ie=m2(Q,F.targetHandle),fe=(le==null?void 0:le.position)||Ce.Bottom,he=(ie==null?void 0:ie.position)||Ce.Top,z=!!(F.focusable||y&&typeof F.focusable>"u"),U=typeof a<"u"&&(F.updatable||x&&typeof F.updatable>"u");if(!le||!ie)return A==null||A("008",Wr.error008(le,F)),null;const{sourceX:V,sourceY:P,targetX:W,targetY:H}=xW(N,le,fe,B,ie,he);return Z.createElement(G,{key:F.id,id:F.id,className:Mt([F.className,i]),type:q,data:F.data,selected:!!F.selected,animated:!!F.animated,hidden:!!F.hidden,label:F.label,labelStyle:F.labelStyle,labelShowBg:F.labelShowBg,labelBgStyle:F.labelBgStyle,labelBgPadding:F.labelBgPadding,labelBgBorderRadius:F.labelBgBorderRadius,style:F.style,source:F.source,target:F.target,sourceHandleId:F.sourceHandle,targetHandleId:F.targetHandle,markerEnd:F.markerEnd,markerStart:F.markerStart,sourceX:V,sourceY:P,targetX:W,targetY:H,sourcePosition:fe,targetPosition:he,elementsSelectable:_,onEdgeUpdate:a,onContextMenu:s,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:p,edgeUpdaterRadius:h,onEdgeDoubleClick:m,onEdgeUpdateStart:v,onEdgeUpdateEnd:g,rfId:r,ariaLabel:F.ariaLabel,isFocusable:z,isUpdatable:U,pathOptions:"pathOptions"in F?F.pathOptions:void 0,interactionWidth:F.interactionWidth})})))),b):null};R9.displayName="EdgeRenderer";var NW=f.memo(R9);const PW=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function DW({children:e}){const t=Qe(PW);return Z.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function AW(e){const t=o_(),n=f.useRef(!1);f.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const IW={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top},T9=({nodeId:e,handleType:t,style:n,type:r=kr.Bezier,CustomComponent:o,connectionStatus:i})=>{var j,$,A;const{fromNode:a,handleId:s,toX:l,toY:u,connectionMode:d}=Qe(f.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),Nt),p=(j=a==null?void 0:a[yt])==null?void 0:j.handleBounds;let h=p==null?void 0:p[t];if(d===mi.Loose&&(h=h||(p==null?void 0:p[t==="source"?"target":"source"])),!a||!h)return null;const m=s?h.find(C=>C.id===s):h[0],v=m?m.x+m.width/2:(a.width??0)/2,g=m?m.y+m.height/2:a.height??0,b=((($=a.positionAbsolute)==null?void 0:$.x)??0)+v,y=(((A=a.positionAbsolute)==null?void 0:A.y)??0)+g,x=m==null?void 0:m.position,_=x?IW[x]:null;if(!x||!_)return null;if(o)return Z.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:m,fromX:b,fromY:y,toX:l,toY:u,fromPosition:x,toPosition:_,connectionStatus:i});let w="";const E={sourceX:b,sourceY:y,sourcePosition:x,targetX:l,targetY:u,targetPosition:_};return r===kr.Bezier?[w]=Q$(E):r===kr.Step?[w]=Jv({...E,borderRadius:0}):r===kr.SmoothStep?[w]=Jv(E):r===kr.SimpleBezier?[w]=Z$(E):w=`M${b},${y} ${l},${u}`,Z.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};T9.displayName="ConnectionLine";const MW=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function OW({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:i,nodesConnectable:a,width:s,height:l,connectionStatus:u}=Qe(MW,Nt);return!(o&&i&&s&&a)?null:Z.createElement("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},Z.createElement("g",{className:Mt(["react-flow__connection",u])},Z.createElement(T9,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function y2(e,t){return f.useRef(null),jt(),f.useMemo(()=>t(e),[e])}const k9=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:a,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:p,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:v,onSelectionStart:g,onSelectionEnd:b,connectionLineType:y,connectionLineStyle:x,connectionLineComponent:_,connectionLineContainerStyle:w,selectionKeyCode:E,selectionOnDrag:j,selectionMode:$,multiSelectionKeyCode:A,panActivationKeyCode:C,zoomActivationKeyCode:S,deleteKeyCode:D,onlyRenderVisibleElements:O,elementsSelectable:F,selectNodesOnDrag:N,defaultViewport:L,translateExtent:T,minZoom:B,maxZoom:I,preventScrolling:R,defaultMarkerColor:q,zoomOnScroll:G,zoomOnPinch:Q,panOnScroll:le,panOnScrollSpeed:ie,panOnScrollMode:fe,zoomOnDoubleClick:he,panOnDrag:z,onPaneClick:U,onPaneMouseEnter:V,onPaneMouseMove:P,onPaneMouseLeave:W,onPaneScroll:H,onPaneContextMenu:ge,onEdgeUpdate:ce,onEdgeContextMenu:K,onEdgeMouseEnter:Y,onEdgeMouseMove:oe,onEdgeMouseLeave:ae,edgeUpdaterRadius:ve,onEdgeUpdateStart:Ae,onEdgeUpdateEnd:ye,noDragClassName:ke,noWheelClassName:$e,noPanClassName:Xe,elevateEdgesOnSelect:wt,disableKeyboardA11y:je,nodeOrigin:We,nodeExtent:Ot,rfId:xn})=>{const tt=y2(e,dW),$t=y2(t,yW);return AW(i),Z.createElement(cW,{onPaneClick:U,onPaneMouseEnter:V,onPaneMouseMove:P,onPaneMouseLeave:W,onPaneContextMenu:ge,onPaneScroll:H,deleteKeyCode:D,selectionKeyCode:E,selectionOnDrag:j,selectionMode:$,onSelectionStart:g,onSelectionEnd:b,multiSelectionKeyCode:A,panActivationKeyCode:C,zoomActivationKeyCode:S,elementsSelectable:F,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:G,zoomOnPinch:Q,zoomOnDoubleClick:he,panOnScroll:le,panOnScrollSpeed:ie,panOnScrollMode:fe,panOnDrag:z,defaultViewport:L,translateExtent:T,minZoom:B,maxZoom:I,onSelectionContextMenu:v,preventScrolling:R,noDragClassName:ke,noWheelClassName:$e,noPanClassName:Xe,disableKeyboardA11y:je},Z.createElement(DW,null,Z.createElement(NW,{edgeTypes:$t,onEdgeClick:s,onEdgeDoubleClick:u,onEdgeUpdate:ce,onlyRenderVisibleElements:O,onEdgeContextMenu:K,onEdgeMouseEnter:Y,onEdgeMouseMove:oe,onEdgeMouseLeave:ae,onEdgeUpdateStart:Ae,onEdgeUpdateEnd:ye,edgeUpdaterRadius:ve,defaultMarkerColor:q,noPanClassName:Xe,elevateEdgesOnSelect:!!wt,disableKeyboardA11y:je,rfId:xn},Z.createElement(OW,{style:x,type:y,component:_,containerStyle:w})),Z.createElement("div",{className:"react-flow__edgelabel-renderer"}),Z.createElement(hW,{nodeTypes:tt,onNodeClick:a,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:p,onNodeMouseLeave:h,onNodeContextMenu:m,selectNodesOnDrag:N,onlyRenderVisibleElements:O,noPanClassName:Xe,noDragClassName:ke,disableKeyboardA11y:je,nodeOrigin:We,nodeExtent:Ot,rfId:xn})))};k9.displayName="GraphView";var LW=f.memo(k9);const oy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ao={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:oy,nodeExtent:oy,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:mi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:fG,isValidConnection:void 0},zW=()=>$B((e,t)=>({...ao,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:jp(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",i=typeof r<"u",a=o?jp(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:l,nodeOrigin:u}=t(),d=l==null?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const p=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(p.transform),m=n.reduce((g,b)=>{const y=o.get(b.id);if(y){const x=Xx(b.nodeElement);!!(x.width&&x.height&&(y.width!==x.width||y.height!==x.height||b.forceUpdate))&&(o.set(y.id,{...y,[yt]:{...y[yt],handleBounds:{source:d2(".source",b.nodeElement,h,u),target:d2(".target",b.nodeElement,h,u)}},...x}),g.push({id:y.id,type:"dimensions",dimensions:x}))}return g},[]);g9(o,u);const v=a||i&&!a&&v9(t,{initial:!0,...s});e({nodeInternals:new Map(o),fitViewOnInitDone:v}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:i}=t(),a=n.map(s=>{const l={id:s.id,type:"position",dragging:o};return r&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});i(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(i){const u=x9(n,s()),d=jp(u,o,a,l);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let a,s=null;r?a=n.map(l=>po(l,!0)):(a=ea(i(),n),s=ea(o,[])),Sc({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let a,s=null;r?a=n.map(l=>po(l,!0)):(a=ea(o,n),s=ea(i(),[])),Sc({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),a=n||i(),s=r||o,l=a.map(d=>(d.selected=!1,po(d.id,!1))),u=s.map(d=>po(d.id,!1));Sc({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(s=>s.selected).map(s=>po(s.id,!1)),a=n.filter(s=>s.selected).map(s=>po(s.id,!1));Sc({changedNodes:i,changedEdges:a,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=Zx(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:i,d3Zoom:a,d3Selection:s,translateExtent:l}=t();if(!a||!s||!n.x&&!n.y)return!1;const u=Lr.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[o,i]],p=a==null?void 0:a.constrain()(u,d,l);return a.transform(s,p),r[0]!==p.x||r[1]!==p.y||r[2]!==p.k},cancelConnection:()=>e({connectionNodeId:ao.connectionNodeId,connectionHandleId:ao.connectionHandleId,connectionHandleType:ao.connectionHandleType,connectionStatus:ao.connectionStatus,connectionStartHandle:ao.connectionStartHandle,connectionEndHandle:ao.connectionEndHandle}),reset:()=>e({...ao})}),Object.is),a_=({children:e})=>{const t=f.useRef(null);return t.current||(t.current=zW()),Z.createElement(iG,{value:t.current},e)};a_.displayName="ReactFlowProvider";const N9=({children:e})=>f.useContext(Dd)?Z.createElement(Z.Fragment,null,e):Z.createElement(a_,null,e);N9.displayName="ReactFlowWrapper";const FW={input:c9,default:ny,output:d9,group:r_},qW={default:Fu,straight:e_,step:Jx,smoothstep:Ad,simplebezier:Qx},BW=[0,0],VW=[15,15],HW={x:0,y:0,zoom:1},UW={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},P9=f.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i=FW,edgeTypes:a=qW,onNodeClick:s,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:p,onMoveEnd:h,onConnect:m,onConnectStart:v,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:y,onNodeMouseEnter:x,onNodeMouseMove:_,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:j,onNodeDragStart:$,onNodeDrag:A,onNodeDragStop:C,onNodesDelete:S,onEdgesDelete:D,onSelectionChange:O,onSelectionDragStart:F,onSelectionDrag:N,onSelectionDragStop:L,onSelectionContextMenu:T,onSelectionStart:B,onSelectionEnd:I,connectionMode:R=mi.Strict,connectionLineType:q=kr.Bezier,connectionLineStyle:G,connectionLineComponent:Q,connectionLineContainerStyle:le,deleteKeyCode:ie="Backspace",selectionKeyCode:fe="Shift",selectionOnDrag:he=!1,selectionMode:z=pl.Full,panActivationKeyCode:U="Space",multiSelectionKeyCode:V=Lu()?"Meta":"Control",zoomActivationKeyCode:P=Lu()?"Meta":"Control",snapToGrid:W=!1,snapGrid:H=VW,onlyRenderVisibleElements:ge=!1,selectNodesOnDrag:ce=!0,nodesDraggable:K,nodesConnectable:Y,nodesFocusable:oe,nodeOrigin:ae=BW,edgesFocusable:ve,edgesUpdatable:Ae,elementsSelectable:ye,defaultViewport:ke=HW,minZoom:$e=.5,maxZoom:Xe=2,translateExtent:wt=oy,preventScrolling:je=!0,nodeExtent:We,defaultMarkerColor:Ot="#b1b1b7",zoomOnScroll:xn=!0,zoomOnPinch:tt=!0,panOnScroll:$t=!1,panOnScrollSpeed:_n=.5,panOnScrollMode:bt=ti.Free,zoomOnDoubleClick:ut=!0,panOnDrag:wn=!0,onPaneClick:bn,onPaneMouseEnter:no,onPaneMouseMove:Ha,onPaneMouseLeave:wr,onPaneScroll:Cn,onPaneContextMenu:ro,children:br,onEdgeUpdate:Ua,onEdgeContextMenu:tf,onEdgeDoubleClick:nf,onEdgeMouseEnter:rf,onEdgeMouseMove:of,onEdgeMouseLeave:af,onEdgeUpdateStart:sf,onEdgeUpdateEnd:lf,edgeUpdaterRadius:Al=10,onNodesChange:cf,onEdgesChange:uf,noDragClassName:Il="nodrag",noWheelClassName:df="nowheel",noPanClassName:Ml="nopan",fitView:ff=!1,fitViewOptions:pf,connectOnClick:hf=!0,attributionPosition:mf,proOptions:gf,defaultEdgeOptions:vf,elevateNodesOnSelect:yf=!0,elevateEdgesOnSelect:xf=!1,disableKeyboardA11y:Ol=!1,autoPanOnConnect:_f=!0,autoPanOnNodeDrag:wf=!0,connectionRadius:Ll=20,isValidConnection:zl,onError:bf,style:Ga,id:qo,nodeDragThreshold:Cf,...Wa},$i)=>{const Ka=qo||"1";return Z.createElement("div",{...Wa,style:{...Ga,...UW},ref:$i,className:Mt(["react-flow",o]),"data-testid":"rf__wrapper",id:qo},Z.createElement(N9,null,Z.createElement(LW,{onInit:u,onMove:d,onMoveStart:p,onMoveEnd:h,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:_,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:j,nodeTypes:i,edgeTypes:a,connectionLineType:q,connectionLineStyle:G,connectionLineComponent:Q,connectionLineContainerStyle:le,selectionKeyCode:fe,selectionOnDrag:he,selectionMode:z,deleteKeyCode:ie,multiSelectionKeyCode:V,panActivationKeyCode:U,zoomActivationKeyCode:P,onlyRenderVisibleElements:ge,selectNodesOnDrag:ce,defaultViewport:ke,translateExtent:wt,minZoom:$e,maxZoom:Xe,preventScrolling:je,zoomOnScroll:xn,zoomOnPinch:tt,zoomOnDoubleClick:ut,panOnScroll:$t,panOnScrollSpeed:_n,panOnScrollMode:bt,panOnDrag:wn,onPaneClick:bn,onPaneMouseEnter:no,onPaneMouseMove:Ha,onPaneMouseLeave:wr,onPaneScroll:Cn,onPaneContextMenu:ro,onSelectionContextMenu:T,onSelectionStart:B,onSelectionEnd:I,onEdgeUpdate:Ua,onEdgeContextMenu:tf,onEdgeDoubleClick:nf,onEdgeMouseEnter:rf,onEdgeMouseMove:of,onEdgeMouseLeave:af,onEdgeUpdateStart:sf,onEdgeUpdateEnd:lf,edgeUpdaterRadius:Al,defaultMarkerColor:Ot,noDragClassName:Il,noWheelClassName:df,noPanClassName:Ml,elevateEdgesOnSelect:xf,rfId:Ka,disableKeyboardA11y:Ol,nodeOrigin:ae,nodeExtent:We}),Z.createElement(IG,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:v,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:y,nodesDraggable:K,nodesConnectable:Y,nodesFocusable:oe,edgesFocusable:ve,edgesUpdatable:Ae,elementsSelectable:ye,elevateNodesOnSelect:yf,minZoom:$e,maxZoom:Xe,nodeExtent:We,onNodesChange:cf,onEdgesChange:uf,snapToGrid:W,snapGrid:H,connectionMode:R,translateExtent:wt,connectOnClick:hf,defaultEdgeOptions:vf,fitView:ff,fitViewOptions:pf,onNodesDelete:S,onEdgesDelete:D,onNodeDragStart:$,onNodeDrag:A,onNodeDragStop:C,onSelectionDrag:N,onSelectionDragStart:F,onSelectionDragStop:L,noPanClassName:Ml,nodeOrigin:ae,rfId:Ka,autoPanOnConnect:_f,autoPanOnNodeDrag:wf,onError:bf,connectionRadius:Ll,isValidConnection:zl,nodeDragThreshold:Cf}),Z.createElement(DG,{onSelectionChange:O}),br,Z.createElement(sG,{proOptions:gf,position:mf}),Z.createElement(FG,{rfId:Ka,disableKeyboardA11y:Ol})))});P9.displayName="ReactFlow";function D9(e){return t=>{const[n,r]=f.useState(t),o=f.useCallback(i=>r(a=>e(i,a)),[]);return[n,r,o]}}const GW=D9(x9),WW=D9(eW),A9=({id:e,x:t,y:n,width:r,height:o,style:i,color:a,strokeColor:s,strokeWidth:l,className:u,borderRadius:d,shapeRendering:p,onClick:h,selected:m})=>{const{background:v,backgroundColor:g}=i||{},b=a||v||g;return Z.createElement("rect",{className:Mt(["react-flow__minimap-node",{selected:m},u]),x:t,y:n,rx:d,ry:d,width:r,height:o,fill:b,stroke:s,strokeWidth:l,shapeRendering:p,onClick:h?y=>h(y,e):void 0})};A9.displayName="MiniMapNode";var KW=f.memo(A9);const YW=e=>e.nodeOrigin,XW=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),kp=e=>e instanceof Function?e:()=>e;function ZW({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:i=KW,onClick:a}){const s=Qe(XW,Nt),l=Qe(YW),u=kp(t),d=kp(e),p=kp(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return Z.createElement(Z.Fragment,null,s.map(m=>{const{x:v,y:g}=si(m,l).positionAbsolute;return Z.createElement(i,{key:m.id,x:v,y:g,width:m.width,height:m.height,style:m.style,selected:m.selected,className:p(m),color:u(m),borderRadius:r,strokeColor:d(m),strokeWidth:o,shapeRendering:h,onClick:a,id:m.id})}))}var QW=f.memo(ZW);const JW=200,eK=150,tK=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?uG(Id(t,e.nodeOrigin),n):n,rfId:e.rfId}},nK="react-flow__minimap-desc";function I9({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,nodeComponent:s,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:p="bottom-right",onClick:h,onNodeClick:m,pannable:v=!1,zoomable:g=!1,ariaLabel:b="React Flow mini map",inversePan:y=!1,zoomStep:x=10,offsetScale:_=5}){const w=jt(),E=f.useRef(null),{boundingRect:j,viewBB:$,rfId:A}=Qe(tK,Nt),C=(e==null?void 0:e.width)??JW,S=(e==null?void 0:e.height)??eK,D=j.width/C,O=j.height/S,F=Math.max(D,O),N=F*C,L=F*S,T=_*F,B=j.x-(N-j.width)/2-T,I=j.y-(L-j.height)/2-T,R=N+T*2,q=L+T*2,G=`${nK}-${A}`,Q=f.useRef(0);Q.current=F,f.useEffect(()=>{if(E.current){const fe=jn(E.current),he=V=>{const{transform:P,d3Selection:W,d3Zoom:H}=w.getState();if(V.sourceEvent.type!=="wheel"||!W||!H)return;const ge=-V.sourceEvent.deltaY*(V.sourceEvent.deltaMode===1?.05:V.sourceEvent.deltaMode?1:.002)*x,ce=P[2]*Math.pow(2,ge);H.scaleTo(W,ce)},z=V=>{const{transform:P,d3Selection:W,d3Zoom:H,translateExtent:ge,width:ce,height:K}=w.getState();if(V.sourceEvent.type!=="mousemove"||!W||!H)return;const Y=Q.current*Math.max(1,P[2])*(y?-1:1),oe={x:P[0]-V.sourceEvent.movementX*Y,y:P[1]-V.sourceEvent.movementY*Y},ae=[[0,0],[ce,K]],ve=Lr.translate(oe.x,oe.y).scale(P[2]),Ae=H.constrain()(ve,ae,ge);H.transform(W,Ae)},U=q$().on("zoom",v?z:null).on("zoom.wheel",g?he:null);return fe.call(U),()=>{fe.on("zoom",null)}}},[v,g,y,x]);const le=h?fe=>{const he=Un(fe);h(fe,{x:he[0],y:he[1]})}:void 0,ie=m?(fe,he)=>{const z=w.getState().nodeInternals.get(he);m(fe,z)}:void 0;return Z.createElement(dl,{position:p,style:e,className:Mt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},Z.createElement("svg",{width:C,height:S,viewBox:`${B} ${I} ${R} ${q}`,role:"img","aria-labelledby":G,ref:E,onClick:le},b&&Z.createElement("title",{id:G},b),Z.createElement(QW,{onClick:ie,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:a,nodeComponent:s}),Z.createElement("path",{className:"react-flow__minimap-mask",d:`M${B-T},${I-T}h${R+T*2}v${q+T*2}h${-R-T*2}z
        M${$.x},${$.y}h${$.width}v${$.height}h${-$.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}I9.displayName="MiniMap";var rK=f.memo(I9);function oK(){return Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Z.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function iK(){return Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Z.createElement("path",{d:"M0 0h32v4.2H0z"}))}function aK(){return Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Z.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function sK(){return Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Z.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function lK(){return Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Z.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const _s=({children:e,className:t,...n})=>Z.createElement("button",{type:"button",className:Mt(["react-flow__controls-button",t]),...n},e);_s.displayName="ControlButton";const cK=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),M9=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:u,children:d,position:p="bottom-left"})=>{const h=jt(),[m,v]=f.useState(!1),{isInteractive:g,minZoomReached:b,maxZoomReached:y}=Qe(cK,Nt),{zoomIn:x,zoomOut:_,fitView:w}=o_();if(f.useEffect(()=>{v(!0)},[]),!m)return null;const E=()=>{x(),i==null||i()},j=()=>{_(),a==null||a()},$=()=>{w(o),s==null||s()},A=()=>{h.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)};return Z.createElement(dl,{className:Mt(["react-flow__controls",u]),position:p,style:e,"data-testid":"rf__controls"},t&&Z.createElement(Z.Fragment,null,Z.createElement(_s,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},Z.createElement(oK,null)),Z.createElement(_s,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},Z.createElement(iK,null))),n&&Z.createElement(_s,{className:"react-flow__controls-fitview",onClick:$,title:"fit view","aria-label":"fit view"},Z.createElement(aK,null)),r&&Z.createElement(_s,{className:"react-flow__controls-interactive",onClick:A,title:"toggle interactivity","aria-label":"toggle interactivity"},g?Z.createElement(lK,null):Z.createElement(sK,null)),d)};M9.displayName="Controls";var uK=f.memo(M9),Qn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Qn||(Qn={}));function dK({color:e,dimensions:t,lineWidth:n}){return Z.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function fK({color:e,radius:t}){return Z.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const pK={[Qn.Dots]:"#91919a",[Qn.Lines]:"#eee",[Qn.Cross]:"#e2e2e2"},hK={[Qn.Dots]:1,[Qn.Lines]:1,[Qn.Cross]:6},mK=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function O9({id:e,variant:t=Qn.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=2,color:a,style:s,className:l}){const u=f.useRef(null),{transform:d,patternId:p}=Qe(mK,Nt),h=a||pK[t],m=r||hK[t],v=t===Qn.Dots,g=t===Qn.Cross,b=Array.isArray(n)?n:[n,n],y=[b[0]*d[2]||1,b[1]*d[2]||1],x=m*d[2],_=g?[x,x]:y,w=v?[x/i,x/i]:[_[0]/i,_[1]/i];return Z.createElement("svg",{className:Mt(["react-flow__background",l]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},Z.createElement("pattern",{id:p+e,x:d[0]%y[0],y:d[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},v?Z.createElement(fK,{color:h,radius:x/i}):Z.createElement(dK,{dimensions:_,color:h,lineWidth:o})),Z.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${p+e})`}))}O9.displayName="Background";var gK=f.memo(O9);function s_(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Np,x2;function vK(){if(x2)return Np;x2=1;function e(){this.__data__=[],this.size=0}return Np=e,Np}var Pp,_2;function za(){if(_2)return Pp;_2=1;function e(t,n){return t===n||t!==t&&n!==n}return Pp=e,Pp}var Dp,w2;function Md(){if(w2)return Dp;w2=1;var e=za();function t(n,r){for(var o=n.length;o--;)if(e(n[o][0],r))return o;return-1}return Dp=t,Dp}var Ap,b2;function yK(){if(b2)return Ap;b2=1;var e=Md(),t=Array.prototype,n=t.splice;function r(o){var i=this.__data__,a=e(i,o);if(a<0)return!1;var s=i.length-1;return a==s?i.pop():n.call(i,a,1),--this.size,!0}return Ap=r,Ap}var Ip,C2;function xK(){if(C2)return Ip;C2=1;var e=Md();function t(n){var r=this.__data__,o=e(r,n);return o<0?void 0:r[o][1]}return Ip=t,Ip}var Mp,S2;function _K(){if(S2)return Mp;S2=1;var e=Md();function t(n){return e(this.__data__,n)>-1}return Mp=t,Mp}var Op,E2;function wK(){if(E2)return Op;E2=1;var e=Md();function t(n,r){var o=this.__data__,i=e(o,n);return i<0?(++this.size,o.push([n,r])):o[i][1]=r,this}return Op=t,Op}var Lp,j2;function Od(){if(j2)return Lp;j2=1;var e=vK(),t=yK(),n=xK(),r=_K(),o=wK();function i(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Lp=i,Lp}var zp,$2;function bK(){if($2)return zp;$2=1;var e=Od();function t(){this.__data__=new e,this.size=0}return zp=t,zp}var Fp,R2;function CK(){if(R2)return Fp;R2=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Fp=e,Fp}var qp,T2;function SK(){if(T2)return qp;T2=1;function e(t){return this.__data__.get(t)}return qp=e,qp}var Bp,k2;function EK(){if(k2)return Bp;k2=1;function e(t){return this.__data__.has(t)}return Bp=e,Bp}var Vp,N2;function L9(){if(N2)return Vp;N2=1;var e=typeof ql=="object"&&ql&&ql.Object===Object&&ql;return Vp=e,Vp}var Hp,P2;function nr(){if(P2)return Hp;P2=1;var e=L9(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Hp=n,Hp}var Up,D2;function Fa(){if(D2)return Up;D2=1;var e=nr(),t=e.Symbol;return Up=t,Up}var Gp,A2;function jK(){if(A2)return Gp;A2=1;var e=Fa(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;function i(a){var s=n.call(a,o),l=a[o];try{a[o]=void 0;var u=!0}catch{}var d=r.call(a);return u&&(s?a[o]=l:delete a[o]),d}return Gp=i,Gp}var Wp,I2;function $K(){if(I2)return Wp;I2=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Wp=n,Wp}var Kp,M2;function bi(){if(M2)return Kp;M2=1;var e=Fa(),t=jK(),n=$K(),r="[object Null]",o="[object Undefined]",i=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?o:r:i&&i in Object(s)?t(s):n(s)}return Kp=a,Kp}var Yp,O2;function Fn(){if(O2)return Yp;O2=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Yp=e,Yp}var Xp,L2;function Tl(){if(L2)return Xp;L2=1;var e=bi(),t=Fn(),n="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",i="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==r||l==o||l==n||l==i}return Xp=a,Xp}var Zp,z2;function RK(){if(z2)return Zp;z2=1;var e=nr(),t=e["__core-js_shared__"];return Zp=t,Zp}var Qp,F2;function TK(){if(F2)return Qp;F2=1;var e=RK(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Qp=n,Qp}var Jp,q2;function z9(){if(q2)return Jp;q2=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Jp=n,Jp}var eh,B2;function kK(){if(B2)return eh;B2=1;var e=Tl(),t=TK(),n=Fn(),r=z9(),o=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,d=RegExp("^"+l.call(u).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(h){if(!n(h)||t(h))return!1;var m=e(h)?d:i;return m.test(r(h))}return eh=p,eh}var th,V2;function NK(){if(V2)return th;V2=1;function e(t,n){return t==null?void 0:t[n]}return th=e,th}var nh,H2;function Ci(){if(H2)return nh;H2=1;var e=kK(),t=NK();function n(r,o){var i=t(r,o);return e(i)?i:void 0}return nh=n,nh}var rh,U2;function l_(){if(U2)return rh;U2=1;var e=Ci(),t=nr(),n=e(t,"Map");return rh=n,rh}var oh,G2;function Ld(){if(G2)return oh;G2=1;var e=Ci(),t=e(Object,"create");return oh=t,oh}var ih,W2;function PK(){if(W2)return ih;W2=1;var e=Ld();function t(){this.__data__=e?e(null):{},this.size=0}return ih=t,ih}var ah,K2;function DK(){if(K2)return ah;K2=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return ah=e,ah}var sh,Y2;function AK(){if(Y2)return sh;Y2=1;var e=Ld(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function o(i){var a=this.__data__;if(e){var s=a[i];return s===t?void 0:s}return r.call(a,i)?a[i]:void 0}return sh=o,sh}var lh,X2;function IK(){if(X2)return lh;X2=1;var e=Ld(),t=Object.prototype,n=t.hasOwnProperty;function r(o){var i=this.__data__;return e?i[o]!==void 0:n.call(i,o)}return lh=r,lh}var ch,Z2;function MK(){if(Z2)return ch;Z2=1;var e=Ld(),t="__lodash_hash_undefined__";function n(r,o){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&o===void 0?t:o,this}return ch=n,ch}var uh,Q2;function OK(){if(Q2)return uh;Q2=1;var e=PK(),t=DK(),n=AK(),r=IK(),o=MK();function i(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,uh=i,uh}var dh,J2;function LK(){if(J2)return dh;J2=1;var e=OK(),t=Od(),n=l_();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return dh=r,dh}var fh,eC;function zK(){if(eC)return fh;eC=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return fh=e,fh}var ph,tC;function zd(){if(tC)return ph;tC=1;var e=zK();function t(n,r){var o=n.__data__;return e(r)?o[typeof r=="string"?"string":"hash"]:o.map}return ph=t,ph}var hh,nC;function FK(){if(nC)return hh;nC=1;var e=zd();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return hh=t,hh}var mh,rC;function qK(){if(rC)return mh;rC=1;var e=zd();function t(n){return e(this,n).get(n)}return mh=t,mh}var gh,oC;function BK(){if(oC)return gh;oC=1;var e=zd();function t(n){return e(this,n).has(n)}return gh=t,gh}var vh,iC;function VK(){if(iC)return vh;iC=1;var e=zd();function t(n,r){var o=e(this,n),i=o.size;return o.set(n,r),this.size+=o.size==i?0:1,this}return vh=t,vh}var yh,aC;function c_(){if(aC)return yh;aC=1;var e=LK(),t=FK(),n=qK(),r=BK(),o=VK();function i(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,yh=i,yh}var xh,sC;function HK(){if(sC)return xh;sC=1;var e=Od(),t=l_(),n=c_(),r=200;function o(i,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([i,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(i,a),this.size=s.size,this}return xh=o,xh}var _h,lC;function Fd(){if(lC)return _h;lC=1;var e=Od(),t=bK(),n=CK(),r=SK(),o=EK(),i=HK();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=o,a.prototype.set=i,_h=a,_h}var wh,cC;function u_(){if(cC)return wh;cC=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o&&n(t[r],r,t)!==!1;);return t}return wh=e,wh}var bh,uC;function F9(){if(uC)return bh;uC=1;var e=Ci(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return bh=t,bh}var Ch,dC;function qd(){if(dC)return Ch;dC=1;var e=F9();function t(n,r,o){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[r]=o}return Ch=t,Ch}var Sh,fC;function Bd(){if(fC)return Sh;fC=1;var e=qd(),t=za(),n=Object.prototype,r=n.hasOwnProperty;function o(i,a,s){var l=i[a];(!(r.call(i,a)&&t(l,s))||s===void 0&&!(a in i))&&e(i,a,s)}return Sh=o,Sh}var Eh,pC;function kl(){if(pC)return Eh;pC=1;var e=Bd(),t=qd();function n(r,o,i,a){var s=!i;i||(i={});for(var l=-1,u=o.length;++l<u;){var d=o[l],p=a?a(i[d],r[d],d,i,r):void 0;p===void 0&&(p=r[d]),s?t(i,d,p):e(i,d,p)}return i}return Eh=n,Eh}var jh,hC;function UK(){if(hC)return jh;hC=1;function e(t,n){for(var r=-1,o=Array(t);++r<t;)o[r]=n(r);return o}return jh=e,jh}var $h,mC;function _r(){if(mC)return $h;mC=1;function e(t){return t!=null&&typeof t=="object"}return $h=e,$h}var Rh,gC;function GK(){if(gC)return Rh;gC=1;var e=bi(),t=_r(),n="[object Arguments]";function r(o){return t(o)&&e(o)==n}return Rh=r,Rh}var Th,vC;function Nl(){if(vC)return Th;vC=1;var e=GK(),t=_r(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!o.call(a,"callee")};return Th=i,Th}var kh,yC;function _t(){if(yC)return kh;yC=1;var e=Array.isArray;return kh=e,kh}var ws={exports:{}},Nh,xC;function WK(){if(xC)return Nh;xC=1;function e(){return!1}return Nh=e,Nh}ws.exports;var _C;function qa(){return _C||(_C=1,function(e,t){var n=nr(),r=WK(),o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u}(ws,ws.exports)),ws.exports}var Ph,wC;function Vd(){if(wC)return Ph;wC=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,o){var i=typeof r;return o=o??e,!!o&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<o}return Ph=n,Ph}var Dh,bC;function d_(){if(bC)return Dh;bC=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Dh=t,Dh}var Ah,CC;function KK(){if(CC)return Ah;CC=1;var e=bi(),t=d_(),n=_r(),r="[object Arguments]",o="[object Array]",i="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",p="[object Object]",h="[object RegExp]",m="[object Set]",v="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",j="[object Int32Array]",$="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]",D={};D[x]=D[_]=D[w]=D[E]=D[j]=D[$]=D[A]=D[C]=D[S]=!0,D[r]=D[o]=D[b]=D[i]=D[y]=D[a]=D[s]=D[l]=D[u]=D[d]=D[p]=D[h]=D[m]=D[v]=D[g]=!1;function O(F){return n(F)&&t(F.length)&&!!D[e(F)]}return Ah=O,Ah}var Ih,SC;function Hd(){if(SC)return Ih;SC=1;function e(t){return function(n){return t(n)}}return Ih=e,Ih}var bs={exports:{}};bs.exports;var EC;function f_(){return EC||(EC=1,function(e,t){var n=L9(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i&&n.process,s=function(){try{var l=o&&o.require&&o.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(bs,bs.exports)),bs.exports}var Mh,jC;function Pl(){if(jC)return Mh;jC=1;var e=KK(),t=Hd(),n=f_(),r=n&&n.isTypedArray,o=r?t(r):e;return Mh=o,Mh}var Oh,$C;function q9(){if($C)return Oh;$C=1;var e=UK(),t=Nl(),n=_t(),r=qa(),o=Vd(),i=Pl(),a=Object.prototype,s=a.hasOwnProperty;function l(u,d){var p=n(u),h=!p&&t(u),m=!p&&!h&&r(u),v=!p&&!h&&!m&&i(u),g=p||h||m||v,b=g?e(u.length,String):[],y=b.length;for(var x in u)(d||s.call(u,x))&&!(g&&(x=="length"||m&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||o(x,y)))&&b.push(x);return b}return Oh=l,Oh}var Lh,RC;function Ud(){if(RC)return Lh;RC=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,o=typeof r=="function"&&r.prototype||e;return n===o}return Lh=t,Lh}var zh,TC;function B9(){if(TC)return zh;TC=1;function e(t,n){return function(r){return t(n(r))}}return zh=e,zh}var Fh,kC;function YK(){if(kC)return Fh;kC=1;var e=B9(),t=e(Object.keys,Object);return Fh=t,Fh}var qh,NC;function p_(){if(NC)return qh;NC=1;var e=Ud(),t=YK(),n=Object.prototype,r=n.hasOwnProperty;function o(i){if(!e(i))return t(i);var a=[];for(var s in Object(i))r.call(i,s)&&s!="constructor"&&a.push(s);return a}return qh=o,qh}var Bh,PC;function eo(){if(PC)return Bh;PC=1;var e=Tl(),t=d_();function n(r){return r!=null&&t(r.length)&&!e(r)}return Bh=n,Bh}var Vh,DC;function Fo(){if(DC)return Vh;DC=1;var e=q9(),t=p_(),n=eo();function r(o){return n(o)?e(o):t(o)}return Vh=r,Vh}var Hh,AC;function XK(){if(AC)return Hh;AC=1;var e=kl(),t=Fo();function n(r,o){return r&&e(o,t(o),r)}return Hh=n,Hh}var Uh,IC;function ZK(){if(IC)return Uh;IC=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Uh=e,Uh}var Gh,MC;function QK(){if(MC)return Gh;MC=1;var e=Fn(),t=Ud(),n=ZK(),r=Object.prototype,o=r.hasOwnProperty;function i(a){if(!e(a))return n(a);var s=t(a),l=[];for(var u in a)u=="constructor"&&(s||!o.call(a,u))||l.push(u);return l}return Gh=i,Gh}var Wh,OC;function Si(){if(OC)return Wh;OC=1;var e=q9(),t=QK(),n=eo();function r(o){return n(o)?e(o,!0):t(o)}return Wh=r,Wh}var Kh,LC;function JK(){if(LC)return Kh;LC=1;var e=kl(),t=Si();function n(r,o){return r&&e(o,t(o),r)}return Kh=n,Kh}var Cs={exports:{}};Cs.exports;var zC;function V9(){return zC||(zC=1,function(e,t){var n=nr(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var p=u.length,h=s?s(p):new u.constructor(p);return u.copy(h),h}e.exports=l}(Cs,Cs.exports)),Cs.exports}var Yh,FC;function H9(){if(FC)return Yh;FC=1;function e(t,n){var r=-1,o=t.length;for(n||(n=Array(o));++r<o;)n[r]=t[r];return n}return Yh=e,Yh}var Xh,qC;function U9(){if(qC)return Xh;qC=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,i=0,a=[];++r<o;){var s=t[r];n(s,r,t)&&(a[i++]=s)}return a}return Xh=e,Xh}var Zh,BC;function G9(){if(BC)return Zh;BC=1;function e(){return[]}return Zh=e,Zh}var Qh,VC;function h_(){if(VC)return Qh;VC=1;var e=U9(),t=G9(),n=Object.prototype,r=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(a){return a==null?[]:(a=Object(a),e(o(a),function(s){return r.call(a,s)}))}:t;return Qh=i,Qh}var Jh,HC;function eY(){if(HC)return Jh;HC=1;var e=kl(),t=h_();function n(r,o){return e(r,t(r),o)}return Jh=n,Jh}var em,UC;function m_(){if(UC)return em;UC=1;function e(t,n){for(var r=-1,o=n.length,i=t.length;++r<o;)t[i+r]=n[r];return t}return em=e,em}var tm,GC;function Gd(){if(GC)return tm;GC=1;var e=B9(),t=e(Object.getPrototypeOf,Object);return tm=t,tm}var nm,WC;function W9(){if(WC)return nm;WC=1;var e=m_(),t=Gd(),n=h_(),r=G9(),o=Object.getOwnPropertySymbols,i=o?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return nm=i,nm}var rm,KC;function tY(){if(KC)return rm;KC=1;var e=kl(),t=W9();function n(r,o){return e(r,t(r),o)}return rm=n,rm}var om,YC;function K9(){if(YC)return om;YC=1;var e=m_(),t=_t();function n(r,o,i){var a=o(r);return t(r)?a:e(a,i(r))}return om=n,om}var im,XC;function Y9(){if(XC)return im;XC=1;var e=K9(),t=h_(),n=Fo();function r(o){return e(o,n,t)}return im=r,im}var am,ZC;function nY(){if(ZC)return am;ZC=1;var e=K9(),t=W9(),n=Si();function r(o){return e(o,n,t)}return am=r,am}var sm,QC;function rY(){if(QC)return sm;QC=1;var e=Ci(),t=nr(),n=e(t,"DataView");return sm=n,sm}var lm,JC;function oY(){if(JC)return lm;JC=1;var e=Ci(),t=nr(),n=e(t,"Promise");return lm=n,lm}var cm,e3;function X9(){if(e3)return cm;e3=1;var e=Ci(),t=nr(),n=e(t,"Set");return cm=n,cm}var um,t3;function iY(){if(t3)return um;t3=1;var e=Ci(),t=nr(),n=e(t,"WeakMap");return um=n,um}var dm,n3;function Ba(){if(n3)return dm;n3=1;var e=rY(),t=l_(),n=oY(),r=X9(),o=iY(),i=bi(),a=z9(),s="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",m=a(e),v=a(t),g=a(n),b=a(r),y=a(o),x=i;return(e&&x(new e(new ArrayBuffer(1)))!=h||t&&x(new t)!=s||n&&x(n.resolve())!=u||r&&x(new r)!=d||o&&x(new o)!=p)&&(x=function(_){var w=i(_),E=w==l?_.constructor:void 0,j=E?a(E):"";if(j)switch(j){case m:return h;case v:return s;case g:return u;case b:return d;case y:return p}return w}),dm=x,dm}var fm,r3;function aY(){if(r3)return fm;r3=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var o=r.length,i=new r.constructor(o);return o&&typeof r[0]=="string"&&t.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return fm=n,fm}var pm,o3;function Z9(){if(o3)return pm;o3=1;var e=nr(),t=e.Uint8Array;return pm=t,pm}var hm,i3;function g_(){if(i3)return hm;i3=1;var e=Z9();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return hm=t,hm}var mm,a3;function sY(){if(a3)return mm;a3=1;var e=g_();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return mm=t,mm}var gm,s3;function lY(){if(s3)return gm;s3=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return gm=t,gm}var vm,l3;function cY(){if(l3)return vm;l3=1;var e=Fa(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(o){return n?Object(n.call(o)):{}}return vm=r,vm}var ym,c3;function Q9(){if(c3)return ym;c3=1;var e=g_();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return ym=t,ym}var xm,u3;function uY(){if(u3)return xm;u3=1;var e=g_(),t=sY(),n=lY(),r=cY(),o=Q9(),i="[object Boolean]",a="[object Date]",s="[object Map]",l="[object Number]",u="[object RegExp]",d="[object Set]",p="[object String]",h="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",y="[object Int8Array]",x="[object Int16Array]",_="[object Int32Array]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",j="[object Uint16Array]",$="[object Uint32Array]";function A(C,S,D){var O=C.constructor;switch(S){case m:return e(C);case i:case a:return new O(+C);case v:return t(C,D);case g:case b:case y:case x:case _:case w:case E:case j:case $:return o(C,D);case s:return new O;case l:case p:return new O(C);case u:return n(C);case d:return new O;case h:return r(C)}}return xm=A,xm}var _m,d3;function J9(){if(d3)return _m;d3=1;var e=Fn(),t=Object.create,n=function(){function r(){}return function(o){if(!e(o))return{};if(t)return t(o);r.prototype=o;var i=new r;return r.prototype=void 0,i}}();return _m=n,_m}var wm,f3;function eR(){if(f3)return wm;f3=1;var e=J9(),t=Gd(),n=Ud();function r(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return wm=r,wm}var bm,p3;function dY(){if(p3)return bm;p3=1;var e=Ba(),t=_r(),n="[object Map]";function r(o){return t(o)&&e(o)==n}return bm=r,bm}var Cm,h3;function fY(){if(h3)return Cm;h3=1;var e=dY(),t=Hd(),n=f_(),r=n&&n.isMap,o=r?t(r):e;return Cm=o,Cm}var Sm,m3;function pY(){if(m3)return Sm;m3=1;var e=Ba(),t=_r(),n="[object Set]";function r(o){return t(o)&&e(o)==n}return Sm=r,Sm}var Em,g3;function hY(){if(g3)return Em;g3=1;var e=pY(),t=Hd(),n=f_(),r=n&&n.isSet,o=r?t(r):e;return Em=o,Em}var jm,v3;function tR(){if(v3)return jm;v3=1;var e=Fd(),t=u_(),n=Bd(),r=XK(),o=JK(),i=V9(),a=H9(),s=eY(),l=tY(),u=Y9(),d=nY(),p=Ba(),h=aY(),m=uY(),v=eR(),g=_t(),b=qa(),y=fY(),x=Fn(),_=hY(),w=Fo(),E=Si(),j=1,$=2,A=4,C="[object Arguments]",S="[object Array]",D="[object Boolean]",O="[object Date]",F="[object Error]",N="[object Function]",L="[object GeneratorFunction]",T="[object Map]",B="[object Number]",I="[object Object]",R="[object RegExp]",q="[object Set]",G="[object String]",Q="[object Symbol]",le="[object WeakMap]",ie="[object ArrayBuffer]",fe="[object DataView]",he="[object Float32Array]",z="[object Float64Array]",U="[object Int8Array]",V="[object Int16Array]",P="[object Int32Array]",W="[object Uint8Array]",H="[object Uint8ClampedArray]",ge="[object Uint16Array]",ce="[object Uint32Array]",K={};K[C]=K[S]=K[ie]=K[fe]=K[D]=K[O]=K[he]=K[z]=K[U]=K[V]=K[P]=K[T]=K[B]=K[I]=K[R]=K[q]=K[G]=K[Q]=K[W]=K[H]=K[ge]=K[ce]=!0,K[F]=K[N]=K[le]=!1;function Y(oe,ae,ve,Ae,ye,ke){var $e,Xe=ae&j,wt=ae&$,je=ae&A;if(ve&&($e=ye?ve(oe,Ae,ye,ke):ve(oe)),$e!==void 0)return $e;if(!x(oe))return oe;var We=g(oe);if(We){if($e=h(oe),!Xe)return a(oe,$e)}else{var Ot=p(oe),xn=Ot==N||Ot==L;if(b(oe))return i(oe,Xe);if(Ot==I||Ot==C||xn&&!ye){if($e=wt||xn?{}:v(oe),!Xe)return wt?l(oe,o($e,oe)):s(oe,r($e,oe))}else{if(!K[Ot])return ye?oe:{};$e=m(oe,Ot,Xe)}}ke||(ke=new e);var tt=ke.get(oe);if(tt)return tt;ke.set(oe,$e),_(oe)?oe.forEach(function(bt){$e.add(Y(bt,ae,ve,bt,oe,ke))}):y(oe)&&oe.forEach(function(bt,ut){$e.set(ut,Y(bt,ae,ve,ut,oe,ke))});var $t=je?wt?d:u:wt?E:w,_n=We?void 0:$t(oe);return t(_n||oe,function(bt,ut){_n&&(ut=bt,bt=oe[ut]),n($e,ut,Y(bt,ae,ve,ut,oe,ke))}),$e}return jm=Y,jm}var $m,y3;function mY(){if(y3)return $m;y3=1;var e=tR(),t=4;function n(r){return e(r,t)}return $m=n,$m}var Rm,x3;function v_(){if(x3)return Rm;x3=1;function e(t){return function(){return t}}return Rm=e,Rm}var Tm,_3;function gY(){if(_3)return Tm;_3=1;function e(t){return function(n,r,o){for(var i=-1,a=Object(n),s=o(n),l=s.length;l--;){var u=s[t?l:++i];if(r(a[u],u,a)===!1)break}return n}}return Tm=e,Tm}var km,w3;function y_(){if(w3)return km;w3=1;var e=gY(),t=e();return km=t,km}var Nm,b3;function x_(){if(b3)return Nm;b3=1;var e=y_(),t=Fo();function n(r,o){return r&&e(r,o,t)}return Nm=n,Nm}var Pm,C3;function vY(){if(C3)return Pm;C3=1;var e=eo();function t(n,r){return function(o,i){if(o==null)return o;if(!e(o))return n(o,i);for(var a=o.length,s=r?a:-1,l=Object(o);(r?s--:++s<a)&&i(l[s],s,l)!==!1;);return o}}return Pm=t,Pm}var Dm,S3;function Wd(){if(S3)return Dm;S3=1;var e=x_(),t=vY(),n=t(e);return Dm=n,Dm}var Am,E3;function Ei(){if(E3)return Am;E3=1;function e(t){return t}return Am=e,Am}var Im,j3;function nR(){if(j3)return Im;j3=1;var e=Ei();function t(n){return typeof n=="function"?n:e}return Im=t,Im}var Mm,$3;function rR(){if($3)return Mm;$3=1;var e=u_(),t=Wd(),n=nR(),r=_t();function o(i,a){var s=r(i)?e:t;return s(i,n(a))}return Mm=o,Mm}var Om,R3;function oR(){return R3||(R3=1,Om=rR()),Om}var Lm,T3;function yY(){if(T3)return Lm;T3=1;var e=Wd();function t(n,r){var o=[];return e(n,function(i,a,s){r(i,a,s)&&o.push(i)}),o}return Lm=t,Lm}var zm,k3;function xY(){if(k3)return zm;k3=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return zm=t,zm}var Fm,N3;function _Y(){if(N3)return Fm;N3=1;function e(t){return this.__data__.has(t)}return Fm=e,Fm}var qm,P3;function iR(){if(P3)return qm;P3=1;var e=c_(),t=xY(),n=_Y();function r(o){var i=-1,a=o==null?0:o.length;for(this.__data__=new e;++i<a;)this.add(o[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,qm=r,qm}var Bm,D3;function wY(){if(D3)return Bm;D3=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o;)if(n(t[r],r,t))return!0;return!1}return Bm=e,Bm}var Vm,A3;function aR(){if(A3)return Vm;A3=1;function e(t,n){return t.has(n)}return Vm=e,Vm}var Hm,I3;function sR(){if(I3)return Hm;I3=1;var e=iR(),t=wY(),n=aR(),r=1,o=2;function i(a,s,l,u,d,p){var h=l&r,m=a.length,v=s.length;if(m!=v&&!(h&&v>m))return!1;var g=p.get(a),b=p.get(s);if(g&&b)return g==s&&b==a;var y=-1,x=!0,_=l&o?new e:void 0;for(p.set(a,s),p.set(s,a);++y<m;){var w=a[y],E=s[y];if(u)var j=h?u(E,w,y,s,a,p):u(w,E,y,a,s,p);if(j!==void 0){if(j)continue;x=!1;break}if(_){if(!t(s,function($,A){if(!n(_,A)&&(w===$||d(w,$,l,u,p)))return _.push(A)})){x=!1;break}}else if(!(w===E||d(w,E,l,u,p))){x=!1;break}}return p.delete(a),p.delete(s),x}return Hm=i,Hm}var Um,M3;function bY(){if(M3)return Um;M3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(o,i){r[++n]=[i,o]}),r}return Um=e,Um}var Gm,O3;function __(){if(O3)return Gm;O3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(o){r[++n]=o}),r}return Gm=e,Gm}var Wm,L3;function CY(){if(L3)return Wm;L3=1;var e=Fa(),t=Z9(),n=za(),r=sR(),o=bY(),i=__(),a=1,s=2,l="[object Boolean]",u="[object Date]",d="[object Error]",p="[object Map]",h="[object Number]",m="[object RegExp]",v="[object Set]",g="[object String]",b="[object Symbol]",y="[object ArrayBuffer]",x="[object DataView]",_=e?e.prototype:void 0,w=_?_.valueOf:void 0;function E(j,$,A,C,S,D,O){switch(A){case x:if(j.byteLength!=$.byteLength||j.byteOffset!=$.byteOffset)return!1;j=j.buffer,$=$.buffer;case y:return!(j.byteLength!=$.byteLength||!D(new t(j),new t($)));case l:case u:case h:return n(+j,+$);case d:return j.name==$.name&&j.message==$.message;case m:case g:return j==$+"";case p:var F=o;case v:var N=C&a;if(F||(F=i),j.size!=$.size&&!N)return!1;var L=O.get(j);if(L)return L==$;C|=s,O.set(j,$);var T=r(F(j),F($),C,S,D,O);return O.delete(j),T;case b:if(w)return w.call(j)==w.call($)}return!1}return Wm=E,Wm}var Km,z3;function SY(){if(z3)return Km;z3=1;var e=Y9(),t=1,n=Object.prototype,r=n.hasOwnProperty;function o(i,a,s,l,u,d){var p=s&t,h=e(i),m=h.length,v=e(a),g=v.length;if(m!=g&&!p)return!1;for(var b=m;b--;){var y=h[b];if(!(p?y in a:r.call(a,y)))return!1}var x=d.get(i),_=d.get(a);if(x&&_)return x==a&&_==i;var w=!0;d.set(i,a),d.set(a,i);for(var E=p;++b<m;){y=h[b];var j=i[y],$=a[y];if(l)var A=p?l($,j,y,a,i,d):l(j,$,y,i,a,d);if(!(A===void 0?j===$||u(j,$,s,l,d):A)){w=!1;break}E||(E=y=="constructor")}if(w&&!E){var C=i.constructor,S=a.constructor;C!=S&&"constructor"in i&&"constructor"in a&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(w=!1)}return d.delete(i),d.delete(a),w}return Km=o,Km}var Ym,F3;function EY(){if(F3)return Ym;F3=1;var e=Fd(),t=sR(),n=CY(),r=SY(),o=Ba(),i=_t(),a=qa(),s=Pl(),l=1,u="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function v(g,b,y,x,_,w){var E=i(g),j=i(b),$=E?d:o(g),A=j?d:o(b);$=$==u?p:$,A=A==u?p:A;var C=$==p,S=A==p,D=$==A;if(D&&a(g)){if(!a(b))return!1;E=!0,C=!1}if(D&&!C)return w||(w=new e),E||s(g)?t(g,b,y,x,_,w):n(g,b,$,y,x,_,w);if(!(y&l)){var O=C&&m.call(g,"__wrapped__"),F=S&&m.call(b,"__wrapped__");if(O||F){var N=O?g.value():g,L=F?b.value():b;return w||(w=new e),_(N,L,y,x,w)}}return D?(w||(w=new e),r(g,b,y,x,_,w)):!1}return Ym=v,Ym}var Xm,q3;function lR(){if(q3)return Xm;q3=1;var e=EY(),t=_r();function n(r,o,i,a,s){return r===o?!0:r==null||o==null||!t(r)&&!t(o)?r!==r&&o!==o:e(r,o,i,a,n,s)}return Xm=n,Xm}var Zm,B3;function jY(){if(B3)return Zm;B3=1;var e=Fd(),t=lR(),n=1,r=2;function o(i,a,s,l){var u=s.length,d=u,p=!l;if(i==null)return!d;for(i=Object(i);u--;){var h=s[u];if(p&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<d;){h=s[u];var m=h[0],v=i[m],g=h[1];if(p&&h[2]){if(v===void 0&&!(m in i))return!1}else{var b=new e;if(l)var y=l(v,g,m,i,a,b);if(!(y===void 0?t(g,v,n|r,l,b):y))return!1}}return!0}return Zm=o,Zm}var Qm,V3;function cR(){if(V3)return Qm;V3=1;var e=Fn();function t(n){return n===n&&!e(n)}return Qm=t,Qm}var Jm,H3;function $Y(){if(H3)return Jm;H3=1;var e=cR(),t=Fo();function n(r){for(var o=t(r),i=o.length;i--;){var a=o[i],s=r[a];o[i]=[a,s,e(s)]}return o}return Jm=n,Jm}var eg,U3;function uR(){if(U3)return eg;U3=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return eg=e,eg}var tg,G3;function RY(){if(G3)return tg;G3=1;var e=jY(),t=$Y(),n=uR();function r(o){var i=t(o);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(a){return a===o||e(a,o,i)}}return tg=r,tg}var ng,W3;function Va(){if(W3)return ng;W3=1;var e=bi(),t=_r(),n="[object Symbol]";function r(o){return typeof o=="symbol"||t(o)&&e(o)==n}return ng=r,ng}var rg,K3;function w_(){if(K3)return rg;K3=1;var e=_t(),t=Va(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function o(i,a){if(e(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||a!=null&&i in Object(a)}return rg=o,rg}var og,Y3;function TY(){if(Y3)return og;Y3=1;var e=c_(),t="Expected a function";function n(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var i=function(){var a=arguments,s=o?o.apply(this,a):a[0],l=i.cache;if(l.has(s))return l.get(s);var u=r.apply(this,a);return i.cache=l.set(s,u)||l,u};return i.cache=new(n.Cache||e),i}return n.Cache=e,og=n,og}var ig,X3;function kY(){if(X3)return ig;X3=1;var e=TY(),t=500;function n(r){var o=e(r,function(a){return i.size===t&&i.clear(),a}),i=o.cache;return o}return ig=n,ig}var ag,Z3;function NY(){if(Z3)return ag;Z3=1;var e=kY(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(o){var i=[];return o.charCodeAt(0)===46&&i.push(""),o.replace(t,function(a,s,l,u){i.push(l?u.replace(n,"$1"):s||a)}),i});return ag=r,ag}var sg,Q3;function Kd(){if(Q3)return sg;Q3=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,i=Array(o);++r<o;)i[r]=n(t[r],r,t);return i}return sg=e,sg}var lg,J3;function PY(){if(J3)return lg;J3=1;var e=Fa(),t=Kd(),n=_t(),r=Va(),o=1/0,i=e?e.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return t(l,s)+"";if(r(l))return a?a.call(l):"";var u=l+"";return u=="0"&&1/l==-o?"-0":u}return lg=s,lg}var cg,eS;function dR(){if(eS)return cg;eS=1;var e=PY();function t(n){return n==null?"":e(n)}return cg=t,cg}var ug,tS;function Yd(){if(tS)return ug;tS=1;var e=_t(),t=w_(),n=NY(),r=dR();function o(i,a){return e(i)?i:t(i,a)?[i]:n(r(i))}return ug=o,ug}var dg,nS;function Dl(){if(nS)return dg;nS=1;var e=Va(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var o=r+"";return o=="0"&&1/r==-t?"-0":o}return dg=n,dg}var fg,rS;function Xd(){if(rS)return fg;rS=1;var e=Yd(),t=Dl();function n(r,o){o=e(o,r);for(var i=0,a=o.length;r!=null&&i<a;)r=r[t(o[i++])];return i&&i==a?r:void 0}return fg=n,fg}var pg,oS;function DY(){if(oS)return pg;oS=1;var e=Xd();function t(n,r,o){var i=n==null?void 0:e(n,r);return i===void 0?o:i}return pg=t,pg}var hg,iS;function AY(){if(iS)return hg;iS=1;function e(t,n){return t!=null&&n in Object(t)}return hg=e,hg}var mg,aS;function fR(){if(aS)return mg;aS=1;var e=Yd(),t=Nl(),n=_t(),r=Vd(),o=d_(),i=Dl();function a(s,l,u){l=e(l,s);for(var d=-1,p=l.length,h=!1;++d<p;){var m=i(l[d]);if(!(h=s!=null&&u(s,m)))break;s=s[m]}return h||++d!=p?h:(p=s==null?0:s.length,!!p&&o(p)&&r(m,p)&&(n(s)||t(s)))}return mg=a,mg}var gg,sS;function pR(){if(sS)return gg;sS=1;var e=AY(),t=fR();function n(r,o){return r!=null&&t(r,o,e)}return gg=n,gg}var vg,lS;function IY(){if(lS)return vg;lS=1;var e=lR(),t=DY(),n=pR(),r=w_(),o=cR(),i=uR(),a=Dl(),s=1,l=2;function u(d,p){return r(d)&&o(p)?i(a(d),p):function(h){var m=t(h,d);return m===void 0&&m===p?n(h,d):e(p,m,s|l)}}return vg=u,vg}var yg,cS;function hR(){if(cS)return yg;cS=1;function e(t){return function(n){return n==null?void 0:n[t]}}return yg=e,yg}var xg,uS;function MY(){if(uS)return xg;uS=1;var e=Xd();function t(n){return function(r){return e(r,n)}}return xg=t,xg}var _g,dS;function OY(){if(dS)return _g;dS=1;var e=hR(),t=MY(),n=w_(),r=Dl();function o(i){return n(i)?e(r(i)):t(i)}return _g=o,_g}var wg,fS;function to(){if(fS)return wg;fS=1;var e=RY(),t=IY(),n=Ei(),r=_t(),o=OY();function i(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):o(a)}return wg=i,wg}var bg,pS;function mR(){if(pS)return bg;pS=1;var e=U9(),t=yY(),n=to(),r=_t();function o(i,a){var s=r(i)?e:t;return s(i,n(a,3))}return bg=o,bg}var Cg,hS;function LY(){if(hS)return Cg;hS=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,o){return r!=null&&t.call(r,o)}return Cg=n,Cg}var Sg,mS;function gR(){if(mS)return Sg;mS=1;var e=LY(),t=fR();function n(r,o){return r!=null&&t(r,o,e)}return Sg=n,Sg}var Eg,gS;function zY(){if(gS)return Eg;gS=1;var e=p_(),t=Ba(),n=Nl(),r=_t(),o=eo(),i=qa(),a=Ud(),s=Pl(),l="[object Map]",u="[object Set]",d=Object.prototype,p=d.hasOwnProperty;function h(m){if(m==null)return!0;if(o(m)&&(r(m)||typeof m=="string"||typeof m.splice=="function"||i(m)||s(m)||n(m)))return!m.length;var v=t(m);if(v==l||v==u)return!m.size;if(a(m))return!e(m).length;for(var g in m)if(p.call(m,g))return!1;return!0}return Eg=h,Eg}var jg,vS;function vR(){if(vS)return jg;vS=1;function e(t){return t===void 0}return jg=e,jg}var $g,yS;function yR(){if(yS)return $g;yS=1;var e=Wd(),t=eo();function n(r,o){var i=-1,a=t(r)?Array(r.length):[];return e(r,function(s,l,u){a[++i]=o(s,l,u)}),a}return $g=n,$g}var Rg,xS;function xR(){if(xS)return Rg;xS=1;var e=Kd(),t=to(),n=yR(),r=_t();function o(i,a){var s=r(i)?e:n;return s(i,t(a,3))}return Rg=o,Rg}var Tg,_S;function FY(){if(_S)return Tg;_S=1;function e(t,n,r,o){var i=-1,a=t==null?0:t.length;for(o&&a&&(r=t[++i]);++i<a;)r=n(r,t[i],i,t);return r}return Tg=e,Tg}var kg,wS;function qY(){if(wS)return kg;wS=1;function e(t,n,r,o,i){return i(t,function(a,s,l){r=o?(o=!1,a):n(r,a,s,l)}),r}return kg=e,kg}var Ng,bS;function _R(){if(bS)return Ng;bS=1;var e=FY(),t=Wd(),n=to(),r=qY(),o=_t();function i(a,s,l){var u=o(a)?e:r,d=arguments.length<3;return u(a,n(s,4),l,d,t)}return Ng=i,Ng}var Pg,CS;function BY(){if(CS)return Pg;CS=1;var e=bi(),t=_t(),n=_r(),r="[object String]";function o(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==r}return Pg=o,Pg}var Dg,SS;function VY(){if(SS)return Dg;SS=1;var e=hR(),t=e("length");return Dg=t,Dg}var Ag,ES;function HY(){if(ES)return Ag;ES=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,i="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+o+i+"]");function l(u){return s.test(u)}return Ag=l,Ag}var Ig,jS;function UY(){if(jS)return Ig;jS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,i="\\ufe0e\\ufe0f",a="["+e+"]",s="["+o+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",d="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=u+"?",g="["+i+"]?",b="(?:"+m+"(?:"+[d,p,h].join("|")+")"+g+v+")*",y=g+v+b,x="(?:"+[d+s+"?",s,p,h,a].join("|")+")",_=RegExp(l+"(?="+l+")|"+x+y,"g");function w(E){for(var j=_.lastIndex=0;_.test(E);)++j;return j}return Ig=w,Ig}var Mg,$S;function GY(){if($S)return Mg;$S=1;var e=VY(),t=HY(),n=UY();function r(o){return t(o)?n(o):e(o)}return Mg=r,Mg}var Og,RS;function WY(){if(RS)return Og;RS=1;var e=p_(),t=Ba(),n=eo(),r=BY(),o=GY(),i="[object Map]",a="[object Set]";function s(l){if(l==null)return 0;if(n(l))return r(l)?o(l):l.length;var u=t(l);return u==i||u==a?l.size:e(l).length}return Og=s,Og}var Lg,TS;function KY(){if(TS)return Lg;TS=1;var e=u_(),t=J9(),n=x_(),r=to(),o=Gd(),i=_t(),a=qa(),s=Tl(),l=Fn(),u=Pl();function d(p,h,m){var v=i(p),g=v||a(p)||u(p);if(h=r(h,4),m==null){var b=p&&p.constructor;g?m=v?new b:[]:l(p)?m=s(b)?t(o(p)):{}:m={}}return(g?e:n)(p,function(y,x,_){return h(m,y,x,_)}),m}return Lg=d,Lg}var zg,kS;function YY(){if(kS)return zg;kS=1;var e=Fa(),t=Nl(),n=_t(),r=e?e.isConcatSpreadable:void 0;function o(i){return n(i)||t(i)||!!(r&&i&&i[r])}return zg=o,zg}var Fg,NS;function b_(){if(NS)return Fg;NS=1;var e=m_(),t=YY();function n(r,o,i,a,s){var l=-1,u=r.length;for(i||(i=t),s||(s=[]);++l<u;){var d=r[l];o>0&&i(d)?o>1?n(d,o-1,i,a,s):e(s,d):a||(s[s.length]=d)}return s}return Fg=n,Fg}var qg,PS;function XY(){if(PS)return qg;PS=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return qg=e,qg}var Bg,DS;function wR(){if(DS)return Bg;DS=1;var e=XY(),t=Math.max;function n(r,o,i){return o=t(o===void 0?r.length-1:o,0),function(){for(var a=arguments,s=-1,l=t(a.length-o,0),u=Array(l);++s<l;)u[s]=a[o+s];s=-1;for(var d=Array(o+1);++s<o;)d[s]=a[s];return d[o]=i(u),e(r,this,d)}}return Bg=n,Bg}var Vg,AS;function ZY(){if(AS)return Vg;AS=1;var e=v_(),t=F9(),n=Ei(),r=t?function(o,i){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return Vg=r,Vg}var Hg,IS;function QY(){if(IS)return Hg;IS=1;var e=800,t=16,n=Date.now;function r(o){var i=0,a=0;return function(){var s=n(),l=t-(s-a);if(a=s,l>0){if(++i>=e)return arguments[0]}else i=0;return o.apply(void 0,arguments)}}return Hg=r,Hg}var Ug,MS;function bR(){if(MS)return Ug;MS=1;var e=ZY(),t=QY(),n=t(e);return Ug=n,Ug}var Gg,OS;function Zd(){if(OS)return Gg;OS=1;var e=Ei(),t=wR(),n=bR();function r(o,i){return n(t(o,i,e),o+"")}return Gg=r,Gg}var Wg,LS;function CR(){if(LS)return Wg;LS=1;function e(t,n,r,o){for(var i=t.length,a=r+(o?1:-1);o?a--:++a<i;)if(n(t[a],a,t))return a;return-1}return Wg=e,Wg}var Kg,zS;function JY(){if(zS)return Kg;zS=1;function e(t){return t!==t}return Kg=e,Kg}var Yg,FS;function eX(){if(FS)return Yg;FS=1;function e(t,n,r){for(var o=r-1,i=t.length;++o<i;)if(t[o]===n)return o;return-1}return Yg=e,Yg}var Xg,qS;function tX(){if(qS)return Xg;qS=1;var e=CR(),t=JY(),n=eX();function r(o,i,a){return i===i?n(o,i,a):e(o,t,a)}return Xg=r,Xg}var Zg,BS;function nX(){if(BS)return Zg;BS=1;var e=tX();function t(n,r){var o=n==null?0:n.length;return!!o&&e(n,r,0)>-1}return Zg=t,Zg}var Qg,VS;function rX(){if(VS)return Qg;VS=1;function e(t,n,r){for(var o=-1,i=t==null?0:t.length;++o<i;)if(r(n,t[o]))return!0;return!1}return Qg=e,Qg}var Jg,HS;function oX(){if(HS)return Jg;HS=1;function e(){}return Jg=e,Jg}var e1,US;function iX(){if(US)return e1;US=1;var e=X9(),t=oX(),n=__(),r=1/0,o=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return e1=o,e1}var t1,GS;function aX(){if(GS)return t1;GS=1;var e=iR(),t=nX(),n=rX(),r=aR(),o=iX(),i=__(),a=200;function s(l,u,d){var p=-1,h=t,m=l.length,v=!0,g=[],b=g;if(d)v=!1,h=n;else if(m>=a){var y=u?null:o(l);if(y)return i(y);v=!1,h=r,b=new e}else b=u?[]:g;e:for(;++p<m;){var x=l[p],_=u?u(x):x;if(x=d||x!==0?x:0,v&&_===_){for(var w=b.length;w--;)if(b[w]===_)continue e;u&&b.push(_),g.push(x)}else h(b,_,d)||(b!==g&&b.push(_),g.push(x))}return g}return t1=s,t1}var n1,WS;function SR(){if(WS)return n1;WS=1;var e=eo(),t=_r();function n(r){return t(r)&&e(r)}return n1=n,n1}var r1,KS;function sX(){if(KS)return r1;KS=1;var e=b_(),t=Zd(),n=aX(),r=SR(),o=t(function(i){return n(e(i,1,r,!0))});return r1=o,r1}var o1,YS;function lX(){if(YS)return o1;YS=1;var e=Kd();function t(n,r){return e(r,function(o){return n[o]})}return o1=t,o1}var i1,XS;function ER(){if(XS)return i1;XS=1;var e=lX(),t=Fo();function n(r){return r==null?[]:e(r,t(r))}return i1=n,i1}var a1,ZS;function qn(){if(ZS)return a1;ZS=1;var e;if(typeof s_=="function")try{e={clone:mY(),constant:v_(),each:oR(),filter:mR(),has:gR(),isArray:_t(),isEmpty:zY(),isFunction:Tl(),isUndefined:vR(),keys:Fo(),map:xR(),reduce:_R(),size:WY(),transform:KY(),union:sX(),values:ER()}}catch{}return e||(e=window._),a1=e,a1}var s1,QS;function C_(){if(QS)return s1;QS=1;var e=qn();s1=o;var t="\0",n="\0",r="";function o(d){this._isDirected=e.has(d,"directed")?d.directed:!0,this._isMultigraph=e.has(d,"multigraph")?d.multigraph:!1,this._isCompound=e.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(d){return this._label=d,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultNodeLabelFn=d,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return e.keys(this._nodes)},o.prototype.sources=function(){var d=this;return e.filter(this.nodes(),function(p){return e.isEmpty(d._in[p])})},o.prototype.sinks=function(){var d=this;return e.filter(this.nodes(),function(p){return e.isEmpty(d._out[p])})},o.prototype.setNodes=function(d,p){var h=arguments,m=this;return e.each(d,function(v){h.length>1?m.setNode(v,p):m.setNode(v)}),this},o.prototype.setNode=function(d,p){return e.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=p),this):(this._nodes[d]=arguments.length>1?p:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},o.prototype.node=function(d){return this._nodes[d]},o.prototype.hasNode=function(d){return e.has(this._nodes,d)},o.prototype.removeNode=function(d){var p=this;if(e.has(this._nodes,d)){var h=function(m){p.removeEdge(p._edgeObjs[m])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],e.each(this.children(d),function(m){p.setParent(m)}),delete this._children[d]),e.each(e.keys(this._in[d]),h),delete this._in[d],delete this._preds[d],e.each(e.keys(this._out[d]),h),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},o.prototype.setParent=function(d,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(p))p=n;else{p+="";for(var h=p;!e.isUndefined(h);h=this.parent(h))if(h===d)throw new Error("Setting "+p+" as parent of "+d+" would create a cycle");this.setNode(p)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=p,this._children[p][d]=!0,this},o.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},o.prototype.parent=function(d){if(this._isCompound){var p=this._parent[d];if(p!==n)return p}},o.prototype.children=function(d){if(e.isUndefined(d)&&(d=n),this._isCompound){var p=this._children[d];if(p)return e.keys(p)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},o.prototype.predecessors=function(d){var p=this._preds[d];if(p)return e.keys(p)},o.prototype.successors=function(d){var p=this._sucs[d];if(p)return e.keys(p)},o.prototype.neighbors=function(d){var p=this.predecessors(d);if(p)return e.union(p,this.successors(d))},o.prototype.isLeaf=function(d){var p;return this.isDirected()?p=this.successors(d):p=this.neighbors(d),p.length===0},o.prototype.filterNodes=function(d){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var h=this;e.each(this._nodes,function(g,b){d(b)&&p.setNode(b,g)}),e.each(this._edgeObjs,function(g){p.hasNode(g.v)&&p.hasNode(g.w)&&p.setEdge(g,h.edge(g))});var m={};function v(g){var b=h.parent(g);return b===void 0||p.hasNode(b)?(m[g]=b,b):b in m?m[b]:v(b)}return this._isCompound&&e.each(p.nodes(),function(g){p.setParent(g,v(g))}),p},o.prototype.setDefaultEdgeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultEdgeLabelFn=d,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return e.values(this._edgeObjs)},o.prototype.setPath=function(d,p){var h=this,m=arguments;return e.reduce(d,function(v,g){return m.length>1?h.setEdge(v,g,p):h.setEdge(v,g),g}),this},o.prototype.setEdge=function(){var d,p,h,m,v=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(d=g.v,p=g.w,h=g.name,arguments.length===2&&(m=arguments[1],v=!0)):(d=g,p=arguments[1],h=arguments[3],arguments.length>2&&(m=arguments[2],v=!0)),d=""+d,p=""+p,e.isUndefined(h)||(h=""+h);var b=s(this._isDirected,d,p,h);if(e.has(this._edgeLabels,b))return v&&(this._edgeLabels[b]=m),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(p),this._edgeLabels[b]=v?m:this._defaultEdgeLabelFn(d,p,h);var y=l(this._isDirected,d,p,h);return d=y.v,p=y.w,Object.freeze(y),this._edgeObjs[b]=y,i(this._preds[p],d),i(this._sucs[d],p),this._in[p][b]=y,this._out[d][b]=y,this._edgeCount++,this},o.prototype.edge=function(d,p,h){var m=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,p,h);return this._edgeLabels[m]},o.prototype.hasEdge=function(d,p,h){var m=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,p,h);return e.has(this._edgeLabels,m)},o.prototype.removeEdge=function(d,p,h){var m=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,p,h),v=this._edgeObjs[m];return v&&(d=v.v,p=v.w,delete this._edgeLabels[m],delete this._edgeObjs[m],a(this._preds[p],d),a(this._sucs[d],p),delete this._in[p][m],delete this._out[d][m],this._edgeCount--),this},o.prototype.inEdges=function(d,p){var h=this._in[d];if(h){var m=e.values(h);return p?e.filter(m,function(v){return v.v===p}):m}},o.prototype.outEdges=function(d,p){var h=this._out[d];if(h){var m=e.values(h);return p?e.filter(m,function(v){return v.w===p}):m}},o.prototype.nodeEdges=function(d,p){var h=this.inEdges(d,p);if(h)return h.concat(this.outEdges(d,p))};function i(d,p){d[p]?d[p]++:d[p]=1}function a(d,p){--d[p]||delete d[p]}function s(d,p,h,m){var v=""+p,g=""+h;if(!d&&v>g){var b=v;v=g,g=b}return v+r+g+r+(e.isUndefined(m)?t:m)}function l(d,p,h,m){var v=""+p,g=""+h;if(!d&&v>g){var b=v;v=g,g=b}var y={v,w:g};return m&&(y.name=m),y}function u(d,p){return s(d,p.v,p.w,p.name)}return s1}var l1,JS;function cX(){return JS||(JS=1,l1="2.1.8"),l1}var c1,eE;function uX(){return eE||(eE=1,c1={Graph:C_(),version:cX()}),c1}var u1,tE;function dX(){if(tE)return u1;tE=1;var e=qn(),t=C_();u1={write:n,read:i};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:o(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var l=a.node(s),u=a.parent(s),d={v:s};return e.isUndefined(l)||(d.value=l),e.isUndefined(u)||(d.parent=u),d})}function o(a){return e.map(a.edges(),function(s){var l=a.edge(s),u={v:s.v,w:s.w};return e.isUndefined(s.name)||(u.name=s.name),e.isUndefined(l)||(u.value=l),u})}function i(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),e.each(a.edges,function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return u1}var d1,nE;function fX(){if(nE)return d1;nE=1;var e=qn();d1=t;function t(n){var r={},o=[],i;function a(s){e.has(r,s)||(r[s]=!0,i.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){i=[],a(s),i.length&&o.push(i)}),o}return d1}var f1,rE;function jR(){if(rE)return f1;rE=1;var e=qn();f1=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var o=this._keyIndices;if(n=String(n),!e.has(o,n)){var i=this._arr,a=i.length;return o[n]=a,i.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var o=this._keyIndices[n];if(r>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[o].priority+" New: "+r);this._arr[o].priority=r,this._decrease(o)},t.prototype._heapify=function(n){var r=this._arr,o=2*n,i=o+1,a=n;o<r.length&&(a=r[o].priority<r[a].priority?o:a,i<r.length&&(a=r[i].priority<r[a].priority?i:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,o=r[n].priority,i;n!==0&&(i=n>>1,!(r[i].priority<o));)this._swap(n,i),n=i},t.prototype._swap=function(n,r){var o=this._arr,i=this._keyIndices,a=o[n],s=o[r];o[n]=s,o[r]=a,i[s.key]=n,i[a.key]=r},f1}var p1,oE;function $R(){if(oE)return p1;oE=1;var e=qn(),t=jR();p1=r;var n=e.constant(1);function r(i,a,s,l){return o(i,String(a),s||n,l||function(u){return i.outEdges(u)})}function o(i,a,s,l){var u={},d=new t,p,h,m=function(v){var g=v.v!==p?v.v:v.w,b=u[g],y=s(v),x=h.distance+y;if(y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+y);x<b.distance&&(b.distance=x,b.predecessor=p,d.decrease(g,x))};for(i.nodes().forEach(function(v){var g=v===a?0:Number.POSITIVE_INFINITY;u[v]={distance:g},d.add(v,g)});d.size()>0&&(p=d.removeMin(),h=u[p],h.distance!==Number.POSITIVE_INFINITY);)l(p).forEach(m);return u}return p1}var h1,iE;function pX(){if(iE)return h1;iE=1;var e=$R(),t=qn();h1=n;function n(r,o,i){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,o,i)},{})}return h1}var m1,aE;function RR(){if(aE)return m1;aE=1;var e=qn();m1=t;function t(n){var r=0,o=[],i={},a=[];function s(l){var u=i[l]={onStack:!0,lowlink:r,index:r++};if(o.push(l),n.successors(l).forEach(function(h){e.has(i,h)?i[h].onStack&&(u.lowlink=Math.min(u.lowlink,i[h].index)):(s(h),u.lowlink=Math.min(u.lowlink,i[h].lowlink))}),u.lowlink===u.index){var d=[],p;do p=o.pop(),i[p].onStack=!1,d.push(p);while(l!==p);a.push(d)}}return n.nodes().forEach(function(l){e.has(i,l)||s(l)}),a}return m1}var g1,sE;function hX(){if(sE)return g1;sE=1;var e=qn(),t=RR();g1=n;function n(r){return e.filter(t(r),function(o){return o.length>1||o.length===1&&r.hasEdge(o[0],o[0])})}return g1}var v1,lE;function mX(){if(lE)return v1;lE=1;var e=qn();v1=n;var t=e.constant(1);function n(o,i,a){return r(o,i||t,a||function(s){return o.outEdges(s)})}function r(o,i,a){var s={},l=o.nodes();return l.forEach(function(u){s[u]={},s[u][u]={distance:0},l.forEach(function(d){u!==d&&(s[u][d]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(d){var p=d.v===u?d.w:d.v,h=i(d);s[u][p]={distance:h,predecessor:u}})}),l.forEach(function(u){var d=s[u];l.forEach(function(p){var h=s[p];l.forEach(function(m){var v=h[u],g=d[m],b=h[m],y=v.distance+g.distance;y<b.distance&&(b.distance=y,b.predecessor=g.predecessor)})})}),s}return v1}var y1,cE;function TR(){if(cE)return y1;cE=1;var e=qn();y1=t,t.CycleException=n;function t(r){var o={},i={},a=[];function s(l){if(e.has(i,l))throw new n;e.has(o,l)||(i[l]=!0,o[l]=!0,e.each(r.predecessors(l),s),delete i[l],a.push(l))}if(e.each(r.sinks(),s),e.size(o)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,y1}var x1,uE;function gX(){if(uE)return x1;uE=1;var e=TR();x1=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return x1}var _1,dE;function kR(){if(dE)return _1;dE=1;var e=qn();_1=t;function t(r,o,i){e.isArray(o)||(o=[o]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],l={};return e.each(o,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,i==="post",l,a,s)}),s}function n(r,o,i,a,s,l){e.has(a,o)||(a[o]=!0,i||l.push(o),e.each(s(o),function(u){n(r,u,i,a,s,l)}),i&&l.push(o))}return _1}var w1,fE;function vX(){if(fE)return w1;fE=1;var e=kR();w1=t;function t(n,r){return e(n,r,"post")}return w1}var b1,pE;function yX(){if(pE)return b1;pE=1;var e=kR();b1=t;function t(n,r){return e(n,r,"pre")}return b1}var C1,hE;function xX(){if(hE)return C1;hE=1;var e=qn(),t=C_(),n=jR();C1=r;function r(o,i){var a=new t,s={},l=new n,u;function d(h){var m=h.v===u?h.w:h.v,v=l.priority(m);if(v!==void 0){var g=i(h);g<v&&(s[m]=u,l.decrease(m,g))}}if(o.nodeCount()===0)return a;e.each(o.nodes(),function(h){l.add(h,Number.POSITIVE_INFINITY),a.setNode(h)}),l.decrease(o.nodes()[0],0);for(var p=!1;l.size()>0;){if(u=l.removeMin(),e.has(s,u))a.setEdge(u,s[u]);else{if(p)throw new Error("Input graph is not connected: "+o);p=!0}o.nodeEdges(u).forEach(d)}return a}return C1}var S1,mE;function _X(){return mE||(mE=1,S1={components:fX(),dijkstra:$R(),dijkstraAll:pX(),findCycles:hX(),floydWarshall:mX(),isAcyclic:gX(),postorder:vX(),preorder:yX(),prim:xX(),tarjan:RR(),topsort:TR()}),S1}var E1,gE;function wX(){if(gE)return E1;gE=1;var e=uX();return E1={Graph:e.Graph,json:dX(),alg:_X(),version:e.version},E1}var qu;if(typeof s_=="function")try{qu=wX()}catch{}qu||(qu=window.graphlib);var rr=qu,j1,vE;function bX(){if(vE)return j1;vE=1;var e=tR(),t=1,n=4;function r(o){return e(o,t|n)}return j1=r,j1}var $1,yE;function Qd(){if(yE)return $1;yE=1;var e=za(),t=eo(),n=Vd(),r=Fn();function o(i,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?t(s)&&n(a,s.length):l=="string"&&a in s)?e(s[a],i):!1}return $1=o,$1}var R1,xE;function CX(){if(xE)return R1;xE=1;var e=Zd(),t=za(),n=Qd(),r=Si(),o=Object.prototype,i=o.hasOwnProperty,a=e(function(s,l){s=Object(s);var u=-1,d=l.length,p=d>2?l[2]:void 0;for(p&&n(l[0],l[1],p)&&(d=1);++u<d;)for(var h=l[u],m=r(h),v=-1,g=m.length;++v<g;){var b=m[v],y=s[b];(y===void 0||t(y,o[b])&&!i.call(s,b))&&(s[b]=h[b])}return s});return R1=a,R1}var T1,_E;function SX(){if(_E)return T1;_E=1;var e=to(),t=eo(),n=Fo();function r(o){return function(i,a,s){var l=Object(i);if(!t(i)){var u=e(a,3);i=n(i),a=function(p){return u(l[p],p,l)}}var d=o(i,a,s);return d>-1?l[u?i[d]:d]:void 0}}return T1=r,T1}var k1,wE;function EX(){if(wE)return k1;wE=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return k1=t,k1}var N1,bE;function jX(){if(bE)return N1;bE=1;var e=EX(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return N1=n,N1}var P1,CE;function $X(){if(CE)return P1;CE=1;var e=jX(),t=Fn(),n=Va(),r=NaN,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var p=i.test(u);return p||a.test(u)?s(u.slice(2),p?2:8):o.test(u)?r:+u}return P1=l,P1}var D1,SE;function NR(){if(SE)return D1;SE=1;var e=$X(),t=1/0,n=17976931348623157e292;function r(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-t){var i=o<0?-1:1;return i*n}return o===o?o:0}return D1=r,D1}var A1,EE;function RX(){if(EE)return A1;EE=1;var e=NR();function t(n){var r=e(n),o=r%1;return r===r?o?r-o:r:0}return A1=t,A1}var I1,jE;function TX(){if(jE)return I1;jE=1;var e=CR(),t=to(),n=RX(),r=Math.max;function o(i,a,s){var l=i==null?0:i.length;if(!l)return-1;var u=s==null?0:n(s);return u<0&&(u=r(l+u,0)),e(i,t(a,3),u)}return I1=o,I1}var M1,$E;function kX(){if($E)return M1;$E=1;var e=SX(),t=TX(),n=e(t);return M1=n,M1}var O1,RE;function PR(){if(RE)return O1;RE=1;var e=b_();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return O1=t,O1}var L1,TE;function NX(){if(TE)return L1;TE=1;var e=y_(),t=nR(),n=Si();function r(o,i){return o==null?o:e(o,t(i),n)}return L1=r,L1}var z1,kE;function PX(){if(kE)return z1;kE=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return z1=e,z1}var F1,NE;function DX(){if(NE)return F1;NE=1;var e=qd(),t=x_(),n=to();function r(o,i){var a={};return i=n(i,3),t(o,function(s,l,u){e(a,l,i(s,l,u))}),a}return F1=r,F1}var q1,PE;function S_(){if(PE)return q1;PE=1;var e=Va();function t(n,r,o){for(var i=-1,a=n.length;++i<a;){var s=n[i],l=r(s);if(l!=null&&(u===void 0?l===l&&!e(l):o(l,u)))var u=l,d=s}return d}return q1=t,q1}var B1,DE;function AX(){if(DE)return B1;DE=1;function e(t,n){return t>n}return B1=e,B1}var V1,AE;function IX(){if(AE)return V1;AE=1;var e=S_(),t=AX(),n=Ei();function r(o){return o&&o.length?e(o,n,t):void 0}return V1=r,V1}var H1,IE;function DR(){if(IE)return H1;IE=1;var e=qd(),t=za();function n(r,o,i){(i!==void 0&&!t(r[o],i)||i===void 0&&!(o in r))&&e(r,o,i)}return H1=n,H1}var U1,ME;function MX(){if(ME)return U1;ME=1;var e=bi(),t=Gd(),n=_r(),r="[object Object]",o=Function.prototype,i=Object.prototype,a=o.toString,s=i.hasOwnProperty,l=a.call(Object);function u(d){if(!n(d)||e(d)!=r)return!1;var p=t(d);if(p===null)return!0;var h=s.call(p,"constructor")&&p.constructor;return typeof h=="function"&&h instanceof h&&a.call(h)==l}return U1=u,U1}var G1,OE;function AR(){if(OE)return G1;OE=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return G1=e,G1}var W1,LE;function OX(){if(LE)return W1;LE=1;var e=kl(),t=Si();function n(r){return e(r,t(r))}return W1=n,W1}var K1,zE;function LX(){if(zE)return K1;zE=1;var e=DR(),t=V9(),n=Q9(),r=H9(),o=eR(),i=Nl(),a=_t(),s=SR(),l=qa(),u=Tl(),d=Fn(),p=MX(),h=Pl(),m=AR(),v=OX();function g(b,y,x,_,w,E,j){var $=m(b,x),A=m(y,x),C=j.get(A);if(C){e(b,x,C);return}var S=E?E($,A,x+"",b,y,j):void 0,D=S===void 0;if(D){var O=a(A),F=!O&&l(A),N=!O&&!F&&h(A);S=A,O||F||N?a($)?S=$:s($)?S=r($):F?(D=!1,S=t(A,!0)):N?(D=!1,S=n(A,!0)):S=[]:p(A)||i(A)?(S=$,i($)?S=v($):(!d($)||u($))&&(S=o(A))):D=!1}D&&(j.set(A,S),w(S,A,_,E,j),j.delete(A)),e(b,x,S)}return K1=g,K1}var Y1,FE;function zX(){if(FE)return Y1;FE=1;var e=Fd(),t=DR(),n=y_(),r=LX(),o=Fn(),i=Si(),a=AR();function s(l,u,d,p,h){l!==u&&n(u,function(m,v){if(h||(h=new e),o(m))r(l,u,v,d,s,p,h);else{var g=p?p(a(l,v),m,v+"",l,u,h):void 0;g===void 0&&(g=m),t(l,v,g)}},i)}return Y1=s,Y1}var X1,qE;function FX(){if(qE)return X1;qE=1;var e=Zd(),t=Qd();function n(r){return e(function(o,i){var a=-1,s=i.length,l=s>1?i[s-1]:void 0,u=s>2?i[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,u&&t(i[0],i[1],u)&&(l=s<3?void 0:l,s=1),o=Object(o);++a<s;){var d=i[a];d&&r(o,d,a,l)}return o})}return X1=n,X1}var Z1,BE;function qX(){if(BE)return Z1;BE=1;var e=zX(),t=FX(),n=t(function(r,o,i){e(r,o,i)});return Z1=n,Z1}var Q1,VE;function IR(){if(VE)return Q1;VE=1;function e(t,n){return t<n}return Q1=e,Q1}var J1,HE;function BX(){if(HE)return J1;HE=1;var e=S_(),t=IR(),n=Ei();function r(o){return o&&o.length?e(o,n,t):void 0}return J1=r,J1}var e0,UE;function VX(){if(UE)return e0;UE=1;var e=S_(),t=to(),n=IR();function r(o,i){return o&&o.length?e(o,t(i,2),n):void 0}return e0=r,e0}var t0,GE;function HX(){if(GE)return t0;GE=1;var e=nr(),t=function(){return e.Date.now()};return t0=t,t0}var n0,WE;function UX(){if(WE)return n0;WE=1;var e=Bd(),t=Yd(),n=Vd(),r=Fn(),o=Dl();function i(a,s,l,u){if(!r(a))return a;s=t(s,a);for(var d=-1,p=s.length,h=p-1,m=a;m!=null&&++d<p;){var v=o(s[d]),g=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return a;if(d!=h){var b=m[v];g=u?u(b,v,m):void 0,g===void 0&&(g=r(b)?b:n(s[d+1])?[]:{})}e(m,v,g),m=m[v]}return a}return n0=i,n0}var r0,KE;function GX(){if(KE)return r0;KE=1;var e=Xd(),t=UX(),n=Yd();function r(o,i,a){for(var s=-1,l=i.length,u={};++s<l;){var d=i[s],p=e(o,d);a(p,d)&&t(u,n(d,o),p)}return u}return r0=r,r0}var o0,YE;function WX(){if(YE)return o0;YE=1;var e=GX(),t=pR();function n(r,o){return e(r,o,function(i,a){return t(r,a)})}return o0=n,o0}var i0,XE;function KX(){if(XE)return i0;XE=1;var e=PR(),t=wR(),n=bR();function r(o){return n(t(o,void 0,e),o+"")}return i0=r,i0}var a0,ZE;function YX(){if(ZE)return a0;ZE=1;var e=WX(),t=KX(),n=t(function(r,o){return r==null?{}:e(r,o)});return a0=n,a0}var s0,QE;function XX(){if(QE)return s0;QE=1;var e=Math.ceil,t=Math.max;function n(r,o,i,a){for(var s=-1,l=t(e((o-r)/(i||1)),0),u=Array(l);l--;)u[a?l:++s]=r,r+=i;return u}return s0=n,s0}var l0,JE;function ZX(){if(JE)return l0;JE=1;var e=XX(),t=Qd(),n=NR();function r(o){return function(i,a,s){return s&&typeof s!="number"&&t(i,a,s)&&(a=s=void 0),i=n(i),a===void 0?(a=i,i=0):a=n(a),s=s===void 0?i<a?1:-1:n(s),e(i,a,s,o)}}return l0=r,l0}var c0,e5;function QX(){if(e5)return c0;e5=1;var e=ZX(),t=e();return c0=t,c0}var u0,t5;function JX(){if(t5)return u0;t5=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return u0=e,u0}var d0,n5;function eZ(){if(n5)return d0;n5=1;var e=Va();function t(n,r){if(n!==r){var o=n!==void 0,i=n===null,a=n===n,s=e(n),l=r!==void 0,u=r===null,d=r===r,p=e(r);if(!u&&!p&&!s&&n>r||s&&l&&d&&!u&&!p||i&&l&&d||!o&&d||!a)return 1;if(!i&&!s&&!p&&n<r||p&&o&&a&&!i&&!s||u&&o&&a||!l&&a||!d)return-1}return 0}return d0=t,d0}var f0,r5;function tZ(){if(r5)return f0;r5=1;var e=eZ();function t(n,r,o){for(var i=-1,a=n.criteria,s=r.criteria,l=a.length,u=o.length;++i<l;){var d=e(a[i],s[i]);if(d){if(i>=u)return d;var p=o[i];return d*(p=="desc"?-1:1)}}return n.index-r.index}return f0=t,f0}var p0,o5;function nZ(){if(o5)return p0;o5=1;var e=Kd(),t=Xd(),n=to(),r=yR(),o=JX(),i=Hd(),a=tZ(),s=Ei(),l=_t();function u(d,p,h){p.length?p=e(p,function(g){return l(g)?function(b){return t(b,g.length===1?g[0]:g)}:g}):p=[s];var m=-1;p=e(p,i(n));var v=r(d,function(g,b,y){var x=e(p,function(_){return _(g)});return{criteria:x,index:++m,value:g}});return o(v,function(g,b){return a(g,b,h)})}return p0=u,p0}var h0,i5;function rZ(){if(i5)return h0;i5=1;var e=b_(),t=nZ(),n=Zd(),r=Qd(),o=n(function(i,a){if(i==null)return[];var s=a.length;return s>1&&r(i,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(i,e(a,1),[])});return h0=o,h0}var m0,a5;function oZ(){if(a5)return m0;a5=1;var e=dR(),t=0;function n(r){var o=++t;return e(r)+o}return m0=n,m0}var g0,s5;function iZ(){if(s5)return g0;s5=1;function e(t,n,r){for(var o=-1,i=t.length,a=n.length,s={};++o<i;){var l=o<a?n[o]:void 0;r(s,t[o],l)}return s}return g0=e,g0}var v0,l5;function aZ(){if(l5)return v0;l5=1;var e=Bd(),t=iZ();function n(r,o){return t(r||[],o||[],e)}return v0=n,v0}var Bu;if(typeof s_=="function")try{Bu={cloneDeep:bX(),constant:v_(),defaults:CX(),each:oR(),filter:mR(),find:kX(),flatten:PR(),forEach:rR(),forIn:NX(),has:gR(),isUndefined:vR(),last:PX(),map:xR(),mapValues:DX(),max:IX(),merge:qX(),min:BX(),minBy:VX(),now:HX(),pick:YX(),range:QX(),reduce:_R(),sortBy:rZ(),uniqueId:oZ(),values:ER(),zipObject:aZ()}}catch{}Bu||(Bu=window._);var ot=Bu,sZ=Jd;function Jd(){var e={};e._next=e._prev=e,this._sentinel=e}Jd.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return MR(t),t};Jd.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&MR(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Jd.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,lZ)),n=n._prev;return"["+e.join(", ")+"]"};function MR(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function lZ(e,t){if(e!=="_next"&&e!=="_prev")return t}var Ar=ot,cZ=rr.Graph,uZ=sZ,dZ=pZ,fZ=Ar.constant(1);function pZ(e,t){if(e.nodeCount()<=1)return[];var n=mZ(e,t||fZ),r=hZ(n.graph,n.buckets,n.zeroIdx);return Ar.flatten(Ar.map(r,function(o){return e.outEdges(o.v,o.w)}),!0)}function hZ(e,t,n){for(var r=[],o=t[t.length-1],i=t[0],a;e.nodeCount();){for(;a=i.dequeue();)y0(e,t,n,a);for(;a=o.dequeue();)y0(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(y0(e,t,n,a,!0));break}}}return r}function y0(e,t,n,r,o){var i=o?[]:void 0;return Ar.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),l=e.node(a.v);o&&i.push({v:a.v,w:a.w}),l.out-=s,iy(t,n,l)}),Ar.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),l=a.w,u=e.node(l);u.in-=s,iy(t,n,u)}),e.removeNode(r.v),i}function mZ(e,t){var n=new cZ,r=0,o=0;Ar.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),Ar.forEach(e.edges(),function(s){var l=n.edge(s.v,s.w)||0,u=t(s),d=l+u;n.setEdge(s.v,s.w,d),o=Math.max(o,n.node(s.v).out+=u),r=Math.max(r,n.node(s.w).in+=u)});var i=Ar.range(o+r+3).map(function(){return new uZ}),a=r+1;return Ar.forEach(n.nodes(),function(s){iy(i,a,n.node(s))}),{graph:n,buckets:i,zeroIdx:a}}function iy(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var ni=ot,gZ=dZ,vZ={run:yZ,undo:_Z};function yZ(e){var t=e.graph().acyclicer==="greedy"?gZ(e,n(e)):xZ(e);ni.forEach(t,function(r){var o=e.edge(r);e.removeEdge(r),o.forwardName=r.name,o.reversed=!0,e.setEdge(r.w,r.v,o,ni.uniqueId("rev"))});function n(r){return function(o){return r.edge(o).weight}}}function xZ(e){var t=[],n={},r={};function o(i){ni.has(r,i)||(r[i]=!0,n[i]=!0,ni.forEach(e.outEdges(i),function(a){ni.has(n,a.w)?t.push(a):o(a.w)}),delete n[i])}return ni.forEach(e.nodes(),o),t}function _Z(e){ni.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var Ge=ot,OR=rr.Graph,ln={addDummyNode:LR,simplify:wZ,asNonCompoundGraph:bZ,successorWeights:CZ,predecessorWeights:SZ,intersectRect:EZ,buildLayerMatrix:jZ,normalizeRanks:$Z,removeEmptyRanks:RZ,addBorderNode:TZ,maxRank:zR,partition:kZ,time:NZ,notime:PZ};function LR(e,t,n,r){var o;do o=Ge.uniqueId(r);while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function wZ(e){var t=new OR().setGraph(e.graph());return Ge.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),Ge.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),t}function bZ(e){var t=new OR({multigraph:e.isMultigraph()}).setGraph(e.graph());return Ge.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),Ge.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function CZ(e){var t=Ge.map(e.nodes(),function(n){var r={};return Ge.forEach(e.outEdges(n),function(o){r[o.w]=(r[o.w]||0)+e.edge(o).weight}),r});return Ge.zipObject(e.nodes(),t)}function SZ(e){var t=Ge.map(e.nodes(),function(n){var r={};return Ge.forEach(e.inEdges(n),function(o){r[o.v]=(r[o.v]||0)+e.edge(o).weight}),r});return Ge.zipObject(e.nodes(),t)}function EZ(e,t){var n=e.x,r=e.y,o=t.x-n,i=t.y-r,a=e.width/2,s=e.height/2;if(!o&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(i)*a>Math.abs(o)*s?(i<0&&(s=-s),l=s*o/i,u=s):(o<0&&(a=-a),l=a,u=a*i/o),{x:n+l,y:r+u}}function jZ(e){var t=Ge.map(Ge.range(zR(e)+1),function(){return[]});return Ge.forEach(e.nodes(),function(n){var r=e.node(n),o=r.rank;Ge.isUndefined(o)||(t[o][r.order]=n)}),t}function $Z(e){var t=Ge.min(Ge.map(e.nodes(),function(n){return e.node(n).rank}));Ge.forEach(e.nodes(),function(n){var r=e.node(n);Ge.has(r,"rank")&&(r.rank-=t)})}function RZ(e){var t=Ge.min(Ge.map(e.nodes(),function(i){return e.node(i).rank})),n=[];Ge.forEach(e.nodes(),function(i){var a=e.node(i).rank-t;n[a]||(n[a]=[]),n[a].push(i)});var r=0,o=e.graph().nodeRankFactor;Ge.forEach(n,function(i,a){Ge.isUndefined(i)&&a%o!==0?--r:r&&Ge.forEach(i,function(s){e.node(s).rank+=r})})}function TZ(e,t,n,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),LR(e,"border",o,t)}function zR(e){return Ge.max(Ge.map(e.nodes(),function(t){var n=e.node(t).rank;if(!Ge.isUndefined(n))return n}))}function kZ(e,t){var n={lhs:[],rhs:[]};return Ge.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function NZ(e,t){var n=Ge.now();try{return t()}finally{console.log(e+" time: "+(Ge.now()-n)+"ms")}}function PZ(e,t){return t()}var FR=ot,DZ=ln,AZ={run:IZ,undo:OZ};function IZ(e){e.graph().dummyChains=[],FR.forEach(e.edges(),function(t){MZ(e,t)})}function MZ(e,t){var n=t.v,r=e.node(n).rank,o=t.w,i=e.node(o).rank,a=t.name,s=e.edge(t),l=s.labelRank;if(i!==r+1){e.removeEdge(t);var u,d,p;for(p=0,++r;r<i;++p,++r)s.points=[],d={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},u=DZ.addDummyNode(e,"edge",d,"_d"),r===l&&(d.width=s.width,d.height=s.height,d.dummy="edge-label",d.labelpos=s.labelpos),e.setEdge(n,u,{weight:s.weight},a),p===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,o,{weight:s.weight},a)}}function OZ(e){FR.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,o;for(e.setEdge(n.edgeObj,r);n.dummy;)o=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=o,n=e.node(t)})}var jc=ot,ef={longestPath:LZ,slack:zZ};function LZ(e){var t={};function n(r){var o=e.node(r);if(jc.has(t,r))return o.rank;t[r]=!0;var i=jc.min(jc.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),o.rank=i}jc.forEach(e.sources(),n)}function zZ(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Vu=ot,FZ=rr.Graph,Hu=ef.slack,qR=qZ;function qZ(e){var t=new FZ({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var o,i;BZ(t,e)<r;)o=VZ(t,e),i=t.hasNode(o.v)?Hu(e,o):-Hu(e,o),HZ(t,e,i);return t}function BZ(e,t){function n(r){Vu.forEach(t.nodeEdges(r),function(o){var i=o.v,a=r===i?o.w:i;!e.hasNode(a)&&!Hu(t,o)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return Vu.forEach(e.nodes(),n),e.nodeCount()}function VZ(e,t){return Vu.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Hu(t,n)})}function HZ(e,t,n){Vu.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Kr=ot,UZ=qR,GZ=ef.slack,WZ=ef.longestPath,KZ=rr.alg.preorder,YZ=rr.alg.postorder,XZ=ln.simplify,ZZ=ji;ji.initLowLimValues=j_;ji.initCutValues=E_;ji.calcCutValue=BR;ji.leaveEdge=HR;ji.enterEdge=UR;ji.exchangeEdges=GR;function ji(e){e=XZ(e),WZ(e);var t=UZ(e);j_(t),E_(t,e);for(var n,r;n=HR(t);)r=UR(t,e,n),GR(t,e,n,r)}function E_(e,t){var n=YZ(e,e.nodes());n=n.slice(0,n.length-1),Kr.forEach(n,function(r){QZ(e,t,r)})}function QZ(e,t,n){var r=e.node(n),o=r.parent;e.edge(n,o).cutvalue=BR(e,t,n)}function BR(e,t,n){var r=e.node(n),o=r.parent,i=!0,a=t.edge(n,o),s=0;return a||(i=!1,a=t.edge(o,n)),s=a.weight,Kr.forEach(t.nodeEdges(n),function(l){var u=l.v===n,d=u?l.w:l.v;if(d!==o){var p=u===i,h=t.edge(l).weight;if(s+=p?h:-h,eQ(e,n,d)){var m=e.edge(n,d).cutvalue;s+=p?-m:m}}}),s}function j_(e,t){arguments.length<2&&(t=e.nodes()[0]),VR(e,{},1,t)}function VR(e,t,n,r,o){var i=n,a=e.node(r);return t[r]=!0,Kr.forEach(e.neighbors(r),function(s){Kr.has(t,s)||(n=VR(e,t,n,s,r))}),a.low=i,a.lim=n++,o?a.parent=o:delete a.parent,n}function HR(e){return Kr.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function UR(e,t,n){var r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);var i=e.node(r),a=e.node(o),s=i,l=!1;i.lim>a.lim&&(s=a,l=!0);var u=Kr.filter(t.edges(),function(d){return l===c5(e,e.node(d.v),s)&&l!==c5(e,e.node(d.w),s)});return Kr.minBy(u,function(d){return GZ(t,d)})}function GR(e,t,n,r){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),j_(e),E_(e,t),JZ(e,t)}function JZ(e,t){var n=Kr.find(e.nodes(),function(o){return!t.node(o).parent}),r=KZ(e,n);r=r.slice(1),Kr.forEach(r,function(o){var i=e.node(o).parent,a=t.edge(o,i),s=!1;a||(a=t.edge(i,o),s=!0),t.node(o).rank=t.node(i).rank+(s?a.minlen:-a.minlen)})}function eQ(e,t,n){return e.hasEdge(t,n)}function c5(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var tQ=ef,WR=tQ.longestPath,nQ=qR,rQ=ZZ,oQ=iQ;function iQ(e){switch(e.graph().ranker){case"network-simplex":u5(e);break;case"tight-tree":sQ(e);break;case"longest-path":aQ(e);break;default:u5(e)}}var aQ=WR;function sQ(e){WR(e),nQ(e)}function u5(e){rQ(e)}var ay=ot,lQ=cQ;function cQ(e){var t=dQ(e);ay.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),o=r.edgeObj,i=uQ(e,t,o.v,o.w),a=i.path,s=i.lca,l=0,u=a[l],d=!0;n!==o.w;){if(r=e.node(n),d){for(;(u=a[l])!==s&&e.node(u).maxRank<r.rank;)l++;u===s&&(d=!1)}if(!d){for(;l<a.length-1&&e.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function uQ(e,t,n,r){var o=[],i=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),o.push(l);while(l&&(t[l].low>a||s>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)i.push(l);return{path:o.concat(i.reverse()),lca:u}}function dQ(e){var t={},n=0;function r(o){var i=n;ay.forEach(e.children(o),r),t[o]={low:i,lim:n++}}return ay.forEach(e.children(),r),t}var Ir=ot,sy=ln,fQ={run:pQ,cleanup:gQ};function pQ(e){var t=sy.addDummyNode(e,"root",{},"_root"),n=hQ(e),r=Ir.max(Ir.values(n))-1,o=2*r+1;e.graph().nestingRoot=t,Ir.forEach(e.edges(),function(a){e.edge(a).minlen*=o});var i=mQ(e)+1;Ir.forEach(e.children(),function(a){KR(e,t,o,i,r,n,a)}),e.graph().nodeRankFactor=o}function KR(e,t,n,r,o,i,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var l=sy.addBorderNode(e,"_bt"),u=sy.addBorderNode(e,"_bb"),d=e.node(a);e.setParent(l,a),d.borderTop=l,e.setParent(u,a),d.borderBottom=u,Ir.forEach(s,function(p){KR(e,t,n,r,o,i,p);var h=e.node(p),m=h.borderTop?h.borderTop:p,v=h.borderBottom?h.borderBottom:p,g=h.borderTop?r:2*r,b=m!==v?1:o-i[a]+1;e.setEdge(l,m,{weight:g,minlen:b,nestingEdge:!0}),e.setEdge(v,u,{weight:g,minlen:b,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:o+i[a]})}function hQ(e){var t={};function n(r,o){var i=e.children(r);i&&i.length&&Ir.forEach(i,function(a){n(a,o+1)}),t[r]=o}return Ir.forEach(e.children(),function(r){n(r,1)}),t}function mQ(e){return Ir.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function gQ(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Ir.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var x0=ot,vQ=ln,yQ=xQ;function xQ(e){function t(n){var r=e.children(n),o=e.node(n);if(r.length&&x0.forEach(r,t),x0.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,a=o.maxRank+1;i<a;++i)d5(e,"borderLeft","_bl",n,o,i),d5(e,"borderRight","_br",n,o,i)}}x0.forEach(e.children(),t)}function d5(e,t,n,r,o,i){var a={width:0,height:0,rank:i,borderType:t},s=o[t][i-1],l=vQ.addDummyNode(e,"border",a,n);o[t][i]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}var ur=ot,_Q={adjust:wQ,undo:bQ};function wQ(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&YR(e)}function bQ(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&CQ(e),(t==="lr"||t==="rl")&&(SQ(e),YR(e))}function YR(e){ur.forEach(e.nodes(),function(t){f5(e.node(t))}),ur.forEach(e.edges(),function(t){f5(e.edge(t))})}function f5(e){var t=e.width;e.width=e.height,e.height=t}function CQ(e){ur.forEach(e.nodes(),function(t){_0(e.node(t))}),ur.forEach(e.edges(),function(t){var n=e.edge(t);ur.forEach(n.points,_0),ur.has(n,"y")&&_0(n)})}function _0(e){e.y=-e.y}function SQ(e){ur.forEach(e.nodes(),function(t){w0(e.node(t))}),ur.forEach(e.edges(),function(t){var n=e.edge(t);ur.forEach(n.points,w0),ur.has(n,"x")&&w0(n)})}function w0(e){var t=e.x;e.x=e.y,e.y=t}var jr=ot,EQ=jQ;function jQ(e){var t={},n=jr.filter(e.nodes(),function(s){return!e.children(s).length}),r=jr.max(jr.map(n,function(s){return e.node(s).rank})),o=jr.map(jr.range(r+1),function(){return[]});function i(s){if(!jr.has(t,s)){t[s]=!0;var l=e.node(s);o[l.rank].push(s),jr.forEach(e.successors(s),i)}}var a=jr.sortBy(n,function(s){return e.node(s).rank});return jr.forEach(a,i),o}var so=ot,$Q=RQ;function RQ(e,t){for(var n=0,r=1;r<t.length;++r)n+=TQ(e,t[r-1],t[r]);return n}function TQ(e,t,n){for(var r=so.zipObject(n,so.map(n,function(u,d){return d})),o=so.flatten(so.map(t,function(u){return so.sortBy(so.map(e.outEdges(u),function(d){return{pos:r[d.w],weight:e.edge(d).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var a=2*i-1;i-=1;var s=so.map(new Array(a),function(){return 0}),l=0;return so.forEach(o.forEach(function(u){var d=u.pos+i;s[d]+=u.weight;for(var p=0;d>0;)d%2&&(p+=s[d+1]),d=d-1>>1,s[d]+=u.weight;l+=u.weight*p})),l}var p5=ot,kQ=NQ;function NQ(e,t){return p5.map(t,function(n){var r=e.inEdges(n);if(r.length){var o=p5.reduce(r,function(i,a){var s=e.edge(a),l=e.node(a.v);return{sum:i.sum+s.weight*l.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:n}})}var un=ot,PQ=DQ;function DQ(e,t){var n={};un.forEach(e,function(o,i){var a=n[o.v]={indegree:0,in:[],out:[],vs:[o.v],i};un.isUndefined(o.barycenter)||(a.barycenter=o.barycenter,a.weight=o.weight)}),un.forEach(t.edges(),function(o){var i=n[o.v],a=n[o.w];!un.isUndefined(i)&&!un.isUndefined(a)&&(a.indegree++,i.out.push(n[o.w]))});var r=un.filter(n,function(o){return!o.indegree});return AQ(r)}function AQ(e){var t=[];function n(i){return function(a){a.merged||(un.isUndefined(a.barycenter)||un.isUndefined(i.barycenter)||a.barycenter>=i.barycenter)&&IQ(i,a)}}function r(i){return function(a){a.in.push(i),--a.indegree===0&&e.push(a)}}for(;e.length;){var o=e.pop();t.push(o),un.forEach(o.in.reverse(),n(o)),un.forEach(o.out,r(o))}return un.map(un.filter(t,function(i){return!i.merged}),function(i){return un.pick(i,["vs","i","barycenter","weight"])})}function IQ(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Ss=ot,MQ=ln,OQ=LQ;function LQ(e,t){var n=MQ.partition(e,function(d){return Ss.has(d,"barycenter")}),r=n.lhs,o=Ss.sortBy(n.rhs,function(d){return-d.i}),i=[],a=0,s=0,l=0;r.sort(zQ(!!t)),l=h5(i,o,l),Ss.forEach(r,function(d){l+=d.vs.length,i.push(d.vs),a+=d.barycenter*d.weight,s+=d.weight,l=h5(i,o,l)});var u={vs:Ss.flatten(i,!0)};return s&&(u.barycenter=a/s,u.weight=s),u}function h5(e,t,n){for(var r;t.length&&(r=Ss.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function zQ(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var go=ot,FQ=kQ,qQ=PQ,BQ=OQ,VQ=XR;function XR(e,t,n,r){var o=e.children(t),i=e.node(t),a=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,l={};a&&(o=go.filter(o,function(v){return v!==a&&v!==s}));var u=FQ(e,o);go.forEach(u,function(v){if(e.children(v.v).length){var g=XR(e,v.v,n,r);l[v.v]=g,go.has(g,"barycenter")&&UQ(v,g)}});var d=qQ(u,n);HQ(d,l);var p=BQ(d,r);if(a&&(p.vs=go.flatten([a,p.vs,s],!0),e.predecessors(a).length)){var h=e.node(e.predecessors(a)[0]),m=e.node(e.predecessors(s)[0]);go.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+h.order+m.order)/(p.weight+2),p.weight+=2}return p}function HQ(e,t){go.forEach(e,function(n){n.vs=go.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function UQ(e,t){go.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Es=ot,GQ=rr.Graph,WQ=KQ;function KQ(e,t,n){var r=YQ(e),o=new GQ({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(i){return e.node(i)});return Es.forEach(e.nodes(),function(i){var a=e.node(i),s=e.parent(i);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(i),o.setParent(i,s||r),Es.forEach(e[n](i),function(l){var u=l.v===i?l.w:l.v,d=o.edge(u,i),p=Es.isUndefined(d)?0:d.weight;o.setEdge(u,i,{weight:e.edge(l).weight+p})}),Es.has(a,"minRank")&&o.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),o}function YQ(e){for(var t;e.hasNode(t=Es.uniqueId("_root")););return t}var XQ=ot,ZQ=QQ;function QQ(e,t,n){var r={},o;XQ.forEach(n,function(i){for(var a=e.parent(i),s,l;a;){if(s=e.parent(a),s?(l=r[s],r[s]=a):(l=o,o=a),l&&l!==a){t.setEdge(l,a);return}a=s}})}var To=ot,JQ=EQ,eJ=$Q,tJ=VQ,nJ=WQ,rJ=ZQ,oJ=rr.Graph,m5=ln,iJ=aJ;function aJ(e){var t=m5.maxRank(e),n=g5(e,To.range(1,t+1),"inEdges"),r=g5(e,To.range(t-1,-1,-1),"outEdges"),o=JQ(e);v5(e,o);for(var i=Number.POSITIVE_INFINITY,a,s=0,l=0;l<4;++s,++l){sJ(s%2?n:r,s%4>=2),o=m5.buildLayerMatrix(e);var u=eJ(e,o);u<i&&(l=0,a=To.cloneDeep(o),i=u)}v5(e,a)}function g5(e,t,n){return To.map(t,function(r){return nJ(e,r,n)})}function sJ(e,t){var n=new oJ;To.forEach(e,function(r){var o=r.graph().root,i=tJ(r,o,n,t);To.forEach(i.vs,function(a,s){r.node(a).order=s}),rJ(r,n,i.vs)})}function v5(e,t){To.forEach(t,function(n){To.forEach(n,function(r,o){e.node(r).order=o})})}var De=ot,lJ=rr.Graph,cJ=ln,uJ={positionX:pJ,findType1Conflicts:ZR,findType2Conflicts:QR,addConflict:$_,hasConflict:JR,verticalAlignment:eT,horizontalCompaction:tT,alignCoordinates:rT,findSmallestWidthAlignment:nT,balance:oT};function ZR(e,t){var n={};function r(o,i){var a=0,s=0,l=o.length,u=De.last(i);return De.forEach(i,function(d,p){var h=dJ(e,d),m=h?e.node(h).order:l;(h||d===u)&&(De.forEach(i.slice(s,p+1),function(v){De.forEach(e.predecessors(v),function(g){var b=e.node(g),y=b.order;(y<a||m<y)&&!(b.dummy&&e.node(v).dummy)&&$_(n,g,v)})}),s=p+1,a=m)}),i}return De.reduce(t,r),n}function QR(e,t){var n={};function r(i,a,s,l,u){var d;De.forEach(De.range(a,s),function(p){d=i[p],e.node(d).dummy&&De.forEach(e.predecessors(d),function(h){var m=e.node(h);m.dummy&&(m.order<l||m.order>u)&&$_(n,h,d)})})}function o(i,a){var s=-1,l,u=0;return De.forEach(a,function(d,p){if(e.node(d).dummy==="border"){var h=e.predecessors(d);h.length&&(l=e.node(h[0]).order,r(a,u,p,s,l),u=p,s=l)}r(a,u,a.length,l,i.length)}),a}return De.reduce(t,o),n}function dJ(e,t){if(e.node(t).dummy)return De.find(e.predecessors(t),function(n){return e.node(n).dummy})}function $_(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function JR(e,t,n){if(t>n){var r=t;t=n,n=r}return De.has(e[t],n)}function eT(e,t,n,r){var o={},i={},a={};return De.forEach(t,function(s){De.forEach(s,function(l,u){o[l]=l,i[l]=l,a[l]=u})}),De.forEach(t,function(s){var l=-1;De.forEach(s,function(u){var d=r(u);if(d.length){d=De.sortBy(d,function(g){return a[g]});for(var p=(d.length-1)/2,h=Math.floor(p),m=Math.ceil(p);h<=m;++h){var v=d[h];i[u]===u&&l<a[v]&&!JR(n,u,v)&&(i[v]=u,i[u]=o[u]=o[v],l=a[v])}}})}),{root:o,align:i}}function tT(e,t,n,r,o){var i={},a=fJ(e,t,n,o),s=o?"borderLeft":"borderRight";function l(p,h){for(var m=a.nodes(),v=m.pop(),g={};v;)g[v]?p(v):(g[v]=!0,m.push(v),m=m.concat(h(v))),v=m.pop()}function u(p){i[p]=a.inEdges(p).reduce(function(h,m){return Math.max(h,i[m.v]+a.edge(m))},0)}function d(p){var h=a.outEdges(p).reduce(function(v,g){return Math.min(v,i[g.w]-a.edge(g))},Number.POSITIVE_INFINITY),m=e.node(p);h!==Number.POSITIVE_INFINITY&&m.borderType!==s&&(i[p]=Math.max(i[p],h))}return l(u,a.predecessors.bind(a)),l(d,a.successors.bind(a)),De.forEach(r,function(p){i[p]=i[n[p]]}),i}function fJ(e,t,n,r){var o=new lJ,i=e.graph(),a=hJ(i.nodesep,i.edgesep,r);return De.forEach(t,function(s){var l;De.forEach(s,function(u){var d=n[u];if(o.setNode(d),l){var p=n[l],h=o.edge(p,d);o.setEdge(p,d,Math.max(a(e,u,l),h||0))}l=u})}),o}function nT(e,t){return De.minBy(De.values(t),function(n){var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return De.forIn(n,function(i,a){var s=mJ(e,a)/2;r=Math.max(i+s,r),o=Math.min(i-s,o)}),r-o})}function rT(e,t){var n=De.values(t),r=De.min(n),o=De.max(n);De.forEach(["u","d"],function(i){De.forEach(["l","r"],function(a){var s=i+a,l=e[s],u;if(l!==t){var d=De.values(l);u=a==="l"?r-De.min(d):o-De.max(d),u&&(e[s]=De.mapValues(l,function(p){return p+u}))}})})}function oT(e,t){return De.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var o=De.sortBy(De.map(e,r));return(o[1]+o[2])/2})}function pJ(e){var t=cJ.buildLayerMatrix(e),n=De.merge(ZR(e,t),QR(e,t)),r={},o;De.forEach(["u","d"],function(a){o=a==="u"?t:De.values(t).reverse(),De.forEach(["l","r"],function(s){s==="r"&&(o=De.map(o,function(p){return De.values(p).reverse()}));var l=(a==="u"?e.predecessors:e.successors).bind(e),u=eT(e,o,n,l),d=tT(e,o,u.root,u.align,s==="r");s==="r"&&(d=De.mapValues(d,function(p){return-p})),r[a+s]=d})});var i=nT(e,r);return rT(r,i),oT(r,e.graph().align)}function hJ(e,t,n){return function(r,o,i){var a=r.node(o),s=r.node(i),l=0,u;if(l+=a.width/2,De.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(a.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,De.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function mJ(e,t){return e.node(t).width}var js=ot,iT=ln,gJ=uJ.positionX,vJ=yJ;function yJ(e){e=iT.asNonCompoundGraph(e),xJ(e),js.forEach(gJ(e),function(t,n){e.node(n).x=t})}function xJ(e){var t=iT.buildLayerMatrix(e),n=e.graph().ranksep,r=0;js.forEach(t,function(o){var i=js.max(js.map(o,function(a){return e.node(a).height}));js.forEach(o,function(a){e.node(a).y=r+i/2}),r+=i+n})}var Ie=ot,y5=vZ,x5=AZ,_J=oQ,wJ=ln.normalizeRanks,bJ=lQ,CJ=ln.removeEmptyRanks,_5=fQ,SJ=yQ,w5=_Q,EJ=iJ,jJ=vJ,Io=ln,$J=rr.Graph,RJ=TJ;function TJ(e,t){var n=t&&t.debugTiming?Io.time:Io.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return FJ(e)});n("  runLayout",function(){kJ(r,n)}),n("  updateInputGraph",function(){NJ(e,r)})})}function kJ(e,t){t("    makeSpaceForEdgeLabels",function(){qJ(e)}),t("    removeSelfEdges",function(){XJ(e)}),t("    acyclic",function(){y5.run(e)}),t("    nestingGraph.run",function(){_5.run(e)}),t("    rank",function(){_J(Io.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){BJ(e)}),t("    removeEmptyRanks",function(){CJ(e)}),t("    nestingGraph.cleanup",function(){_5.cleanup(e)}),t("    normalizeRanks",function(){wJ(e)}),t("    assignRankMinMax",function(){VJ(e)}),t("    removeEdgeLabelProxies",function(){HJ(e)}),t("    normalize.run",function(){x5.run(e)}),t("    parentDummyChains",function(){bJ(e)}),t("    addBorderSegments",function(){SJ(e)}),t("    order",function(){EJ(e)}),t("    insertSelfEdges",function(){ZJ(e)}),t("    adjustCoordinateSystem",function(){w5.adjust(e)}),t("    position",function(){jJ(e)}),t("    positionSelfEdges",function(){QJ(e)}),t("    removeBorderNodes",function(){YJ(e)}),t("    normalize.undo",function(){x5.undo(e)}),t("    fixupEdgeLabelCoords",function(){WJ(e)}),t("    undoCoordinateSystem",function(){w5.undo(e)}),t("    translateGraph",function(){UJ(e)}),t("    assignNodeIntersects",function(){GJ(e)}),t("    reversePoints",function(){KJ(e)}),t("    acyclic.undo",function(){y5.undo(e)})}function NJ(e,t){Ie.forEach(e.nodes(),function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))}),Ie.forEach(e.edges(),function(n){var r=e.edge(n),o=t.edge(n);r.points=o.points,Ie.has(o,"x")&&(r.x=o.x,r.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var PJ=["nodesep","edgesep","ranksep","marginx","marginy"],DJ={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},AJ=["acyclicer","ranker","rankdir","align"],IJ=["width","height"],MJ={width:0,height:0},OJ=["minlen","weight","width","height","labeloffset"],LJ={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},zJ=["labelpos"];function FJ(e){var t=new $J({multigraph:!0,compound:!0}),n=C0(e.graph());return t.setGraph(Ie.merge({},DJ,b0(n,PJ),Ie.pick(n,AJ))),Ie.forEach(e.nodes(),function(r){var o=C0(e.node(r));t.setNode(r,Ie.defaults(b0(o,IJ),MJ)),t.setParent(r,e.parent(r))}),Ie.forEach(e.edges(),function(r){var o=C0(e.edge(r));t.setEdge(r,Ie.merge({},LJ,b0(o,OJ),Ie.pick(o,zJ)))}),t}function qJ(e){var t=e.graph();t.ranksep/=2,Ie.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function BJ(e){Ie.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o=e.node(t.w),i={rank:(o.rank-r.rank)/2+r.rank,e:t};Io.addDummyNode(e,"edge-proxy",i,"_ep")}})}function VJ(e){var t=0;Ie.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Ie.max(t,r.maxRank))}),e.graph().maxRank=t}function HJ(e){Ie.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function UJ(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,i=e.graph(),a=i.marginx||0,s=i.marginy||0;function l(u){var d=u.x,p=u.y,h=u.width,m=u.height;t=Math.min(t,d-h/2),n=Math.max(n,d+h/2),r=Math.min(r,p-m/2),o=Math.max(o,p+m/2)}Ie.forEach(e.nodes(),function(u){l(e.node(u))}),Ie.forEach(e.edges(),function(u){var d=e.edge(u);Ie.has(d,"x")&&l(d)}),t-=a,r-=s,Ie.forEach(e.nodes(),function(u){var d=e.node(u);d.x-=t,d.y-=r}),Ie.forEach(e.edges(),function(u){var d=e.edge(u);Ie.forEach(d.points,function(p){p.x-=t,p.y-=r}),Ie.has(d,"x")&&(d.x-=t),Ie.has(d,"y")&&(d.y-=r)}),i.width=n-t+a,i.height=o-r+s}function GJ(e){Ie.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),o=e.node(t.w),i,a;n.points?(i=n.points[0],a=n.points[n.points.length-1]):(n.points=[],i=o,a=r),n.points.unshift(Io.intersectRect(r,i)),n.points.push(Io.intersectRect(o,a))})}function WJ(e){Ie.forEach(e.edges(),function(t){var n=e.edge(t);if(Ie.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function KJ(e){Ie.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function YJ(e){Ie.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),o=e.node(n.borderBottom),i=e.node(Ie.last(n.borderLeft)),a=e.node(Ie.last(n.borderRight));n.width=Math.abs(a.x-i.x),n.height=Math.abs(o.y-r.y),n.x=i.x+n.width/2,n.y=r.y+n.height/2}}),Ie.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function XJ(e){Ie.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function ZJ(e){var t=Io.buildLayerMatrix(e);Ie.forEach(t,function(n){var r=0;Ie.forEach(n,function(o,i){var a=e.node(o);a.order=i+r,Ie.forEach(a.selfEdges,function(s){Io.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:i+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function QJ(e){Ie.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})}function b0(e,t){return Ie.mapValues(Ie.pick(e,t),Number)}function C0(e){var t={};return Ie.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var $c=ot,JJ=ln,eee=rr.Graph,tee={debugOrdering:nee};function nee(e){var t=JJ.buildLayerMatrix(e),n=new eee({compound:!0,multigraph:!0}).setGraph({});return $c.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),$c.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),$c.forEach(t,function(r,o){var i="layer"+o;n.setNode(i,{rank:"same"}),$c.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var ree="0.8.5",oee={graphlib:rr,layout:RJ,debug:tee,util:{time:ln.time,notime:ln.notime},version:ree};const aT=ml(oee),iee=({data:e,selected:t})=>{const{table:n,onEdit:r,onDelete:o,onResize:i,onGenerateDDL:a,onApply:s,selected:l}=e,u=l!==void 0?l:t,[d,p]=f.useState(!1),{isDragAndDropFK:h,getPKFieldForFK:m}=ht();if(!n)return c.jsx(te,{className:"table-node error",children:c.jsx(k,{children:"Error: Table data missing"})});const v=f.useCallback(()=>{r&&r(n)},[r,n]),g=f.useCallback(C=>{console.log("Table node clicked:",n.id,"isSelected:",u)},[n.id,u]),b=f.useCallback(()=>{r&&r(n)},[r,n]),y=f.useCallback(()=>{o&&o(n)},[o,n]),x=f.useCallback(()=>{a&&a(n)},[a,n]),_=f.useCallback(()=>{s&&s(n)},[s,n]),w=f.useCallback(C=>{console.log("=== RESIZE START ==="),console.log("Resize handle clicked",{tableId:n.id,currentSize:{width:n.width,height:n.height}}),console.log("Resize event:",C),console.log("onResize function available:",!!i),i?(console.log("Testing onResize immediately..."),i(n.id,(n.width||220)+10,(n.height||180)+10)):console.log("onResize function NOT available!"),C.stopPropagation(),C.preventDefault(),p(!0),console.log("Set isResizing to true");const S=C.clientX,D=C.clientY,O=n.width||220,F=n.height||180,N=T=>{const B=T.clientX-S,I=T.clientY-D,R=Math.max(180,O+B),q=Math.max(120,F+I);i&&i(n.id,R,q)},L=T=>{console.log("Resize pointer up",{tableId:n.id}),p(!1),document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",L),document.removeEventListener("pointercancel",L)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",L),document.addEventListener("pointercancel",L)},[n,i]),E=f.useCallback(C=>{C.preventDefault()},[]),j=C=>{let S=C.data_type;return C.type_parameters&&(S+=`(${C.type_parameters})`),S},$=C=>C.is_primary_key?c.jsx(fB,{size:"12",className:"field-icon pk-icon"}):C.is_foreign_key?c.jsx(f$,{size:"12",className:"field-icon fk-icon"}):null,A=C=>{let S=["table-field"];return C.is_primary_key&&S.push("primary-key"),C.is_foreign_key&&(S.push("foreign-key"),h(C,n.id)&&S.push("inherited-fk")),C.nullable||S.push("not-null"),S.join(" ")};return c.jsxs(te,{className:`table-node ${u?"selected":""} ${d?"resizing":""}`,style:{width:n.width||220,height:n.height||180,position:"relative"},onDoubleClick:v,onContextMenu:E,onClick:g,children:[c.jsx(Tn,{type:"target",position:Ce.Top,className:"connection-handle",style:{background:"#94a3b8"}}),c.jsx(Tn,{type:"source",position:Ce.Bottom,className:"connection-handle",style:{background:"#94a3b8"}}),c.jsx(Tn,{type:"target",position:Ce.Left,className:"connection-handle",style:{background:"#94a3b8"}}),c.jsx(Tn,{type:"source",position:Ce.Right,className:"connection-handle",style:{background:"#94a3b8"}}),c.jsxs(te,{className:"table-header",children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(k,{size:"3",weight:"bold",className:"table-name",children:n.name}),c.jsxs(M,{align:"center",gap:"1",children:[c.jsx(Se,{color:"blue",size:"1",children:n.table_type||"MANAGED"}),c.jsxs(Te.Root,{children:[c.jsx(Te.Trigger,{children:c.jsx(pe,{variant:"ghost",size:"1",className:"table-menu-button",children:c.jsx(Tu,{})})}),c.jsxs(Te.Content,{children:[c.jsxs(Te.Item,{onClick:b,children:[c.jsx(Nu,{})," Edit Table"]}),c.jsxs(Te.Item,{onClick:x,children:[c.jsx(ku,{})," Generate DDL"]}),c.jsxs(Te.Item,{onClick:_,children:[c.jsx(Rd,{})," Apply to Databricks"]}),c.jsx(Te.Separator,{}),c.jsxs(Te.Item,{onClick:y,color:"red",children:[c.jsx(An,{})," Delete"]})]})]})]})]}),n.logical_name&&c.jsx(k,{size:"1",className:"table-logical-name",children:n.logical_name}),n.comment&&c.jsx(k,{size:"1",className:"table-comment",children:n.comment})]}),c.jsxs(te,{className:"table-fields",children:[(n.fields||[]).map((C,S)=>c.jsxs(te,{className:A(C),children:[c.jsxs(M,{align:"center",gap:"1",children:[$(C),c.jsx(k,{size:"2",className:"field-name",children:C.name}),c.jsx(k,{size:"1",className:"field-type",children:j(C)}),!C.nullable&&c.jsx(Se,{color:"red",size:"1",className:"not-null-badge",children:"NOT NULL"})]}),C.comment&&c.jsx(k,{size:"1",className:"field-comment",children:C.comment})]},C.id||S)),(!n.fields||n.fields.length===0)&&c.jsx(te,{className:"no-fields",children:c.jsx(k,{size:"2",color:"gray",children:"No fields defined"})})]}),c.jsx(te,{className:"table-footer",children:c.jsxs(M,{justify:"between",align:"center",children:[n.file_format&&n.file_format!=="DELTA"&&c.jsx(Se,{color:"orange",size:"1",children:n.file_format}),Object.keys(n.tags||{}).length>0&&c.jsxs(Se,{color:"green",size:"1",children:[Object.keys(n.tags).length," tag(s)"]}),c.jsxs(Te.Root,{children:[c.jsx(Te.Trigger,{children:c.jsx(pe,{variant:"ghost",size:"1",className:"table-menu-button",children:c.jsx(Tu,{})})}),c.jsxs(Te.Content,{children:[c.jsxs(Te.Item,{onClick:()=>r&&r(n),children:[c.jsx(Nu,{})," Edit Table"]}),c.jsx(Te.Separator,{}),c.jsxs(Te.Item,{color:"red",onClick:()=>o&&o(n.id),children:[c.jsx(An,{})," Delete Table"]})]})]})]})}),c.jsx("div",{className:"resize-handle",onPointerDown:C=>{console.log("Resize handle pointerdown fired",{tableId:n.id}),w(C)},style:{opacity:u?.9:.7},title:"Drag to resize table"})]})},aee=f.memo(iee),see=({data:e,selected:t})=>{var j,$,A;const{metricView:n,onEdit:r,onDelete:o,onResize:i,onApply:a,onGenerateDDL:s,selected:l}=e,u=l!==void 0?l:t,[d,p]=f.useState(!1);if(!n)return c.jsx(te,{className:"metric-view-node error",children:c.jsx(k,{children:"Error: Metric View data missing"})});const h=f.useCallback(()=>{r&&r(n)},[r,n]),m=f.useCallback(C=>{console.log("Metric View node clicked:",n.id,"isSelected:",u)},[n.id,u]),v=f.useCallback(C=>{if(console.log("=== METRIC VIEW RESIZE START ==="),console.log("Resize handle clicked",{metricViewId:n.id,currentSize:{width:n.width,height:n.height},onResize:!!i,eventType:C.type,button:C.button}),C.preventDefault(),C.stopPropagation(),!i){console.error(" onResize function not provided!");return}p(!0);const S=C.clientX,D=C.clientY,O=n.width||280,F=n.height||220;console.log("Starting resize from:",{startX:S,startY:D,startWidth:O,startHeight:F});const N=T=>{const B=T.clientX-S,I=T.clientY-D,R=Math.max(250,O+B),q=Math.max(200,F+I);console.log("Resizing to:",{newWidth:R,newHeight:q,deltaX:B,deltaY:I}),i&&i(n.id,R,q)},L=T=>{console.log("=== METRIC VIEW RESIZE END ==="),p(!1),document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",L),document.removeEventListener("pointercancel",L)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",L),document.addEventListener("pointercancel",L)},[n,i]),g=f.useCallback(()=>{r&&r(n)},[r,n]),b=f.useCallback(()=>{o&&o(n)},[o,n]),y=f.useCallback(()=>{a&&a(n)},[a,n]),x=f.useCallback(()=>{s&&s(n)},[s,n]),_=((j=n.dimensions)==null?void 0:j.length)||0,w=(($=n.measures)==null?void 0:$.length)||0,E=((A=n.joins)==null?void 0:A.length)||0;return c.jsxs(c.Fragment,{children:[c.jsx(Tn,{type:"target",position:Ce.Left,className:"connection-handle metric-handle",style:{background:"#8b5cf6",border:"2px solid white",top:"50%"}}),c.jsx(Tn,{type:"source",position:Ce.Right,className:"connection-handle metric-handle",style:{background:"#8b5cf6",border:"2px solid white",top:"50%"}}),c.jsxs(te,{className:`metric-view-node ${u?"selected":""} ${d?"resizing":""}`,onClick:m,onDoubleClick:h,"data-draggable":!d,style:{width:n.width||280,height:n.height||220,pointerEvents:d?"none":"auto"},children:[c.jsxs(M,{className:"metric-view-header",justify:"between",align:"center",children:[c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Ut,{className:"metric-view-icon"}),c.jsxs(te,{children:[c.jsx(k,{className:"metric-view-name",children:n.name}),n.description&&c.jsx(k,{className:"metric-view-description",children:n.description})]})]}),c.jsxs(Te.Root,{children:[c.jsx(Te.Trigger,{children:c.jsx(pe,{variant:"ghost",size:"1",className:"metric-view-menu-button",children:c.jsx(Tu,{})})}),c.jsxs(Te.Content,{children:[c.jsxs(Te.Item,{onClick:g,children:[c.jsx(Nu,{})," Edit Metric View"]}),c.jsxs(Te.Item,{onClick:x,children:[c.jsx(ku,{})," Generate DDL"]}),c.jsxs(Te.Item,{onClick:y,children:[c.jsx(Rd,{})," Apply to Databricks"]}),c.jsx(Te.Separator,{}),c.jsxs(Te.Item,{onClick:b,color:"red",children:[c.jsx(An,{})," Delete"]})]})]})]}),c.jsxs(te,{className:"metric-view-content",children:[c.jsx(te,{className:"metric-view-info",children:c.jsxs(M,{justify:"between",align:"center",children:[c.jsxs(Se,{variant:"soft",color:"purple",children:["v",n.version]}),c.jsx(k,{className:"source-info",children:"Source Table"})]})}),_>0&&c.jsxs(te,{className:"metric-section",children:[c.jsxs(M,{align:"center",gap:"2",className:"section-header",children:[c.jsx(cr,{className:"section-icon dimensions-icon"}),c.jsxs(k,{className:"section-title",children:["Dimensions (",_,")"]})]}),c.jsxs(te,{className:"section-items",children:[n.dimensions.slice(0,3).map((C,S)=>c.jsxs(te,{className:"metric-item dimension-item",children:[c.jsx(k,{className:"item-name",children:C.name}),c.jsx(k,{className:"item-expr",children:C.expr})]},C.id||S)),_>3&&c.jsxs(k,{className:"more-items",children:["+",_-3," more"]})]})]}),w>0&&c.jsxs(te,{className:"metric-section",children:[c.jsxs(M,{align:"center",gap:"2",className:"section-header",children:[c.jsx(Ut,{className:"section-icon measures-icon"}),c.jsxs(k,{className:"section-title",children:["Measures (",w,")"]})]}),c.jsxs(te,{className:"section-items",children:[n.measures.slice(0,3).map((C,S)=>c.jsxs(te,{className:"metric-item measure-item",children:[c.jsx(k,{className:"item-name",children:C.name}),c.jsx(k,{className:"item-expr",children:C.expr})]},C.id||S)),w>3&&c.jsxs(k,{className:"more-items",children:["+",w-3," more"]})]})]}),_===0&&w===0&&c.jsxs(te,{className:"empty-metric-view",children:[c.jsx(Ut,{className:"empty-icon"}),c.jsx(k,{className:"empty-text",children:"No dimensions or measures defined"}),c.jsx(k,{className:"empty-subtext",children:"Double-click to configure"})]})]}),c.jsx(te,{className:"metric-view-footer",children:c.jsxs(M,{justify:"between",align:"center",children:[c.jsxs(M,{gap:"2",children:[E>0&&c.jsxs(Se,{variant:"outline",size:"1",children:[E," join",E!==1?"s":""]}),n.filter&&c.jsx(Se,{variant:"outline",size:"1",color:"orange",children:"filtered"})]}),c.jsx(k,{className:"metric-view-type",children:"Metric View"})]})}),c.jsx("div",{className:"resize-handle",onPointerDown:C=>{console.log(" Resize handle pointerdown fired",{metricViewId:n.id}),v(C)},style:{opacity:u?.9:.7},title:"Drag to resize metric view"})]})]})},lee=f.memo(see),cee=({data:e,selected:t})=>{const{traditionalView:n,onEdit:r,onDelete:o,onResize:i,onApply:a,onGenerateDDL:s,width:l=250,height:u=180}=e,[d,p]=f.useState(!1),[h,m]=f.useState({x:0,y:0}),[v,g]=f.useState({width:l,height:u}),b=f.useCallback(x=>{x.stopPropagation(),p(!0),m({x:x.clientX,y:x.clientY}),g({width:l,height:u});const _=E=>{const j=E.clientX-h.x,$=E.clientY-h.y,A=Math.max(200,v.width+j),C=Math.max(150,v.height+$);i&&i(n.id,A,C)},w=()=>{p(!1),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",_),document.addEventListener("mouseup",w)},[n.id,i,l,u,h.x,h.y,v.width,v.height]);if(!n)return c.jsx(Ve,{style:{width:l,height:u,border:"2px solid #ef4444"},children:c.jsx(M,{direction:"column",align:"center",justify:"center",style:{height:"100%"},children:c.jsx(k,{color:"red",children:"Invalid View Data"})})});const y=n.sql_query&&n.sql_query.length>100?n.sql_query.substring(0,100)+"...":n.sql_query||"No SQL query defined";return c.jsxs(c.Fragment,{children:[c.jsx(Tn,{type:"target",position:Ce.Top,style:{background:"#10b981",width:8,height:8}}),c.jsx(Tn,{type:"source",position:Ce.Bottom,style:{background:"#10b981",width:8,height:8}}),c.jsxs(Ve,{style:{width:l,height:u,border:t?"2px solid #10b981":"1px solid #d1d5db",background:"linear-gradient(135deg, #f0fdf4, #dcfce7)",cursor:d?"nw-resize":"default",position:"relative"},children:[c.jsxs(M,{direction:"column",style:{height:"100%",padding:"8px"},children:[c.jsxs(M,{justify:"between",align:"center",style:{marginBottom:"8px"},children:[c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(cr,{style:{color:"#10b981"}}),c.jsx(k,{size:"2",weight:"bold",style:{color:"#065f46"},children:n.name||"Unnamed View"})]}),c.jsxs(Te.Root,{children:[c.jsx(Te.Trigger,{children:c.jsx(Zn,{variant:"ghost",size:"1",children:c.jsx(Tu,{})})}),c.jsxs(Te.Content,{children:[c.jsxs(Te.Item,{onClick:()=>r&&r(n),children:[c.jsx(Nu,{})," Edit View"]}),c.jsxs(Te.Item,{onClick:()=>s&&s(n),children:[c.jsx(u$,{})," Generate DDL"]}),c.jsxs(Te.Item,{onClick:()=>a&&a(n),children:[c.jsx(Rd,{})," Apply to Databricks"]}),c.jsx(Te.Separator,{}),c.jsxs(Te.Item,{onClick:()=>o&&o(n.id),color:"red",children:[c.jsx(An,{})," Delete View"]})]})]})]}),c.jsx(Pn,{style:{margin:"4px 0"}}),c.jsx(M,{justify:"start",style:{marginBottom:"8px"},children:c.jsx(Se,{color:"green",variant:"soft",size:"1",children:"Traditional View"})}),n.description&&c.jsx(k,{size:"1",color:"gray",style:{marginBottom:"8px",fontStyle:"italic"},children:n.description.length>60?n.description.substring(0,60)+"...":n.description}),c.jsx(te,{style:{flex:1,background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"4px",padding:"6px",fontSize:"10px",fontFamily:"monospace",overflow:"hidden"},children:c.jsx(k,{size:"1",style:{color:"#374151",lineHeight:"1.2"},children:y})}),n.referenced_table_names&&n.referenced_table_names.length>0&&c.jsx(te,{style:{marginTop:"6px"},children:c.jsxs(k,{size:"1",color:"gray",style:{fontSize:"9px"},children:["References: ",n.referenced_table_names.slice(0,2).join(", "),n.referenced_table_names.length>2&&` +${n.referenced_table_names.length-2} more`]})}),n.tags&&Object.keys(n.tags).length>0&&c.jsx(M,{gap:"1",wrap:"wrap",style:{marginTop:"4px"},children:Object.entries(n.tags).slice(0,2).map(([x,_])=>c.jsxs(Se,{color:"gray",variant:"soft",size:"1",style:{fontSize:"8px"},children:[x,": ",_]},x))})]}),c.jsx("div",{style:{position:"absolute",bottom:0,right:0,width:"12px",height:"12px",cursor:"nw-resize",background:"linear-gradient(-45deg, transparent 30%, #10b981 30%, #10b981 70%, transparent 70%)"},onMouseDown:b})]})]})},uee=({showDialog:e,setShowDialog:t,sourceTable:n,targetTable:r,onConfirm:o})=>{var b;ht();const[i,a]=f.useState({fkFieldName:"",useExistingField:!1,existingFieldId:null,createNewField:!0}),[s,l]=f.useState({});f.useEffect(()=>{var y,x;if(e&&n&&r){const _=(y=n.fields)==null?void 0:y.find(j=>j.is_primary_key),w=_?_.name:`${n.name.toLowerCase()}_id`,E=(x=r.fields)==null?void 0:x.find(j=>j.name===w);a({fkFieldName:w,useExistingField:!!E,existingFieldId:(E==null?void 0:E.id)||null,createNewField:!E}),l({})}},[e,n,r]);const u=()=>{var x;const y={};return i.createNewField?i.fkFieldName.trim()?(x=r.fields)!=null&&x.find(w=>w.name.toLowerCase()===i.fkFieldName.toLowerCase())&&(y.fkFieldName="A field with this name already exists in the target table"):y.fkFieldName="FK field name is required":i.useExistingField?i.existingFieldId||(y.existingField="Please select an existing field to convert to FK"):y.general="Please choose to either create a new field or use an existing field",l(y),Object.keys(y).length===0},d=()=>{var w;if(!u())return;const y=(w=n.fields)==null?void 0:w.find(E=>E.is_primary_key);if(!y){l({general:"Source table must have a primary key"});return}let x=i.fkFieldName;if(i.useExistingField&&i.existingFieldId){const E=v.find(j=>j.id===i.existingFieldId);E&&(x=E.name)}const _={sourceTable:n,targetTable:r,primaryKey:y,fkFieldName:x,useExistingField:i.useExistingField,existingFieldId:i.existingFieldId,createNewField:i.createNewField};o(_),t(!1)},p=()=>{t(!1),a({fkFieldName:"",useExistingField:!1,existingFieldId:null,createNewField:!0}),l({})},h=()=>{var y;return r?((y=r.fields)==null?void 0:y.filter(x=>!x.is_primary_key&&!x.is_foreign_key))||[]:[]},m=y=>{var _;const x=(_=n==null?void 0:n.fields)==null?void 0:_.find(w=>w.is_primary_key);return x&&y.data_type===x.data_type},v=h();if(!e||!n||!r)return null;const g=(b=n.fields)==null?void 0:b.find(y=>y.is_primary_key);return c.jsx(me.Root,{open:e,onOpenChange:t,children:c.jsxs(me.Content,{style:{maxWidth:"500px"},children:[c.jsx(me.Title,{children:"Create Relationship"}),c.jsxs(me.Description,{size:"2",mb:"4",children:["Configure the foreign key relationship between ",n.name," and ",r.name]}),s.general&&c.jsx(te,{mb:"3",children:c.jsx(k,{size:"2",color:"red",children:s.general})}),c.jsx(te,{mb:"4",children:c.jsx(Ve,{children:c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(k,{size:"2",weight:"bold",children:"Relationship Details"}),c.jsxs(k,{size:"1",color:"gray",children:["From: ",c.jsx("strong",{children:n.name})," (Primary Key: ",(g==null?void 0:g.name)||"None",")"]}),c.jsxs(k,{size:"1",color:"gray",children:["To: ",c.jsx("strong",{children:r.name})," (Foreign Key will be created)"]})]})})}),g?c.jsx(c.Fragment,{children:c.jsxs(te,{mb:"4",children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Field Creation Options"}),c.jsxs(M,{direction:"column",gap:"3",children:[c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(qt,{checked:i.createNewField,onCheckedChange:y=>{var x;return a({...i,createNewField:y,useExistingField:!y,existingFieldId:y?null:((x=v[0])==null?void 0:x.id)||null})}}),c.jsx(k,{size:"2",children:"Create new field"})]}),i.createNewField&&c.jsxs(te,{ml:"4",children:[c.jsx(k,{size:"1",color:"gray",mb:"1",children:"Field Name"}),c.jsx(we.Input,{value:i.fkFieldName,onChange:y=>a({...i,fkFieldName:y.target.value}),placeholder:"Enter FK field name",size:"2"}),s.fkFieldName&&c.jsx(k,{size:"1",color:"red",mt:"1",children:s.fkFieldName})]}),c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(qt,{checked:i.useExistingField,onCheckedChange:y=>{var x;return a({...i,useExistingField:y,createNewField:!y,existingFieldId:y&&((x=v[0])==null?void 0:x.id)||null})}}),c.jsx(k,{size:"2",children:"Use existing field"})]}),i.useExistingField&&c.jsx(te,{ml:"4",children:v.length>0?c.jsxs(c.Fragment,{children:[c.jsx(k,{size:"1",color:"gray",mb:"1",children:"Select Field"}),c.jsxs(J.Root,{value:i.existingFieldId||"",onValueChange:y=>a({...i,existingFieldId:y}),children:[c.jsx(J.Trigger,{placeholder:"Select existing field"}),c.jsx(J.Content,{children:v.map(y=>{const x=m(y);return c.jsx(J.Item,{value:y.id,children:c.jsxs(M,{align:"center",justify:"between",style:{width:"100%"},children:[c.jsxs(k,{children:[y.name," (",y.data_type,")"]}),!x&&c.jsx(k,{size:"1",color:"orange",children:" Type mismatch"})]})},y.id)})})]}),s.existingField&&c.jsx(k,{size:"1",color:"red",mt:"1",children:s.existingField})]}):c.jsx(k,{size:"1",color:"gray",children:"No existing fields available (all fields are either PK or FK)"})})]})]})}):c.jsx(te,{mb:"4",children:c.jsxs(k,{size:"2",color:"red",children:['Cannot create relationship: Table "',n.name,'" must have a primary key.']})}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",onClick:p,children:"Cancel"})}),c.jsx(pe,{onClick:d,disabled:!g,children:"Create Relationship"})]})]})})},dee=({isOpen:e,onClose:t,title:n="Operation Failed",message:r="An error occurred",details:o=null,errors:i=[]})=>c.jsx(me.Root,{open:e,onOpenChange:t,children:c.jsxs(me.Content,{style:{maxWidth:"600px",maxHeight:"80vh"},children:[c.jsx(me.Title,{children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(d$,{color:"red",width:"20",height:"20"}),c.jsx(k,{size:"4",weight:"bold",color:"red",children:n})]})}),c.jsx(me.Description,{size:"2",mb:"4",color:"gray",children:r}),o&&c.jsx(te,{mb:"4",children:c.jsx(Ve,{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",padding:"12px"},children:c.jsx(k,{size:"2",color:"red",children:o})})}),i&&i.length>0&&c.jsxs(te,{mb:"4",children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Error Details:"}),c.jsx(Gt,{style:{maxHeight:"300px"},children:c.jsx(M,{direction:"column",gap:"2",children:i.map((a,s)=>c.jsx(Ve,{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",padding:"8px"},children:c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"2",weight:"bold",color:"red",children:a.title||`Error ${s+1}`}),c.jsx(k,{size:"1",color:"red",style:{fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:a.message||a})]})},s))})})]}),c.jsx(M,{gap:"3",mt:"4",justify:"end",children:c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",children:"Close"})})})]})}),fee=({open:e,onClose:t,onSave:n,initialJoin:r=null,availableTables:o=[],sourceTableColumns:i=[],mode:a="create"})=>{const[s,l]=f.useState({name:"",description:"",joined_table_name:"",join_alias:"",join_type:"LEFT",sql_on:"",left_columns:[""],right_columns:[""],join_operators:["="],additional_conditions:"",broadcast_hint:!1,bucket_hint:"",sort_merge_hint:!1}),[u,d]=f.useState("basic"),[p,h]=f.useState([{left_column:"",operator:"=",right_column:""}]),[m,v]=f.useState([]);f.useEffect(()=>{if(e)if(r&&a==="edit"){if(console.log(" Loading join for editing:",r),l({name:r.name||"",description:r.description||"",joined_table_name:r.joined_table_name||"",join_alias:r.join_alias||"",join_type:r.join_type||"LEFT",sql_on:r.sql_on||"",left_columns:r.left_columns||[""],right_columns:r.right_columns||[""],join_operators:r.join_operators||["="],additional_conditions:r.additional_conditions||"",broadcast_hint:r.broadcast_hint||!1,bucket_hint:r.bucket_hint||"",sort_merge_hint:r.sort_merge_hint||!1}),r.left_columns&&r.right_columns){const C=r.left_columns.map((S,D)=>{var O;return{left_column:S,operator:((O=r.join_operators)==null?void 0:O[D])||"=",right_column:r.right_columns[D]||""}});h(C.length>0?C:[{left_column:"",operator:"=",right_column:""}])}}else l({name:"",description:"",joined_table_name:"",join_alias:"",join_type:"LEFT",sql_on:"",left_columns:[""],right_columns:[""],join_operators:["="],additional_conditions:"",broadcast_hint:!1,bucket_hint:"",sort_merge_hint:!1}),h([{left_column:"",operator:"=",right_column:""}])},[e,r,a]),f.useEffect(()=>{if(s.joined_table_name){const C=o.find(S=>`${S.catalog_name||"catalog"}.${S.schema_name||"schema"}.${S.name}`===s.joined_table_name||S.name===s.joined_table_name);v(C?C.fields||[]:[])}},[s.joined_table_name,o]);const g=f.useCallback((C,S)=>{l(D=>({...D,[C]:S}))},[]),b=f.useCallback((C,S,D)=>{h(O=>O.map((F,N)=>N===C?{...F,[S]:D}:F))},[]),y=f.useCallback(()=>{h(C=>[...C,{left_column:"",operator:"=",right_column:""}])},[]),x=f.useCallback(C=>{p.length>1&&h(S=>S.filter((D,O)=>O!==C))},[p.length]),_=f.useCallback(()=>{if(!s.joined_table_name)return"";let C=s.join_type+" JOIN";const S=[];s.broadcast_hint&&S.push("BROADCAST"),s.bucket_hint&&S.push(`BUCKET(${s.bucket_hint})`),s.sort_merge_hint&&S.push("MERGE"),S.length>0&&(C+=` /*+ ${S.join(", ")} */`);let D=s.joined_table_name;s.join_alias&&(D+=` AS ${s.join_alias}`);let O="";return s.sql_on.trim()?O=s.sql_on:(O=p.filter(N=>N.left_column&&N.right_column).map(N=>{const L="base",T=s.join_alias||s.joined_table_name.split(".").pop();return`${L}.${N.left_column} ${N.operator} ${T}.${N.right_column}`}).join(" AND "),s.additional_conditions.trim()&&(O+=O?` AND ${s.additional_conditions}`:s.additional_conditions)),`${C} ${D} ON ${O}`},[s,p]),w=f.useCallback(()=>{console.log(" Saving join configuration:",s);const C=p.map(F=>F.left_column).filter(Boolean),S=p.map(F=>F.right_column).filter(Boolean),D=p.map(F=>F.operator),O={...s,left_columns:C,right_columns:S,join_operators:D,sql_on:s.sql_on||_().split(" ON ")[1]||""};n(O),t()},[s,p,n,t,_]),E=f.useCallback(()=>{t()},[t]),j=s.name.trim()&&s.joined_table_name.trim()&&(s.sql_on.trim()||p.some(C=>C.left_column&&C.right_column)),$=[{value:"LEFT",label:"LEFT JOIN",description:"Include all rows from left table"},{value:"INNER",label:"INNER JOIN",description:"Only matching rows from both tables"},{value:"RIGHT",label:"RIGHT JOIN",description:"Include all rows from right table"},{value:"FULL",label:"FULL OUTER JOIN",description:"Include all rows from both tables"},{value:"CROSS",label:"CROSS JOIN",description:"Cartesian product of both tables"}],A=["=","!=","<","<=",">",">=","LIKE","NOT LIKE"];return c.jsx(me.Root,{open:e,onOpenChange:t,children:c.jsxs(me.Content,{style:{maxWidth:"900px",maxHeight:"80vh"},children:[c.jsx(me.Title,{children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Fv,{}),a==="edit"?"Edit Join Configuration":"Configure Advanced Join"]})}),c.jsx(me.Description,{children:"Configure complex joins with multiple conditions, performance hints, and custom SQL."}),c.jsxs(Le.Root,{value:u,onValueChange:d,style:{marginTop:"16px"},children:[c.jsxs(Le.List,{children:[c.jsxs(Le.Trigger,{value:"basic",children:[c.jsx(lB,{})," Basic Info"]}),c.jsxs(Le.Trigger,{value:"conditions",children:[c.jsx(Fv,{})," Join Conditions"]}),c.jsxs(Le.Trigger,{value:"performance",children:[c.jsx(il,{})," Performance Hints"]}),c.jsxs(Le.Trigger,{value:"sql",children:[c.jsx(u$,{})," SQL Preview"]})]}),c.jsx(Le.Content,{value:"basic",children:c.jsx(te,{style:{padding:"16px 0"},children:c.jsxs(M,{direction:"column",gap:"4",children:[c.jsxs(M,{gap:"3",children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"2",weight:"medium",children:"Join Name *"}),c.jsx("input",{type:"text",value:s.name,onChange:C=>g("name",C.target.value),placeholder:"e.g., customer_orders",style:{padding:"8px 12px",border:"1px solid var(--gray-6)",borderRadius:"6px",fontSize:"14px"}})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"2",weight:"medium",children:"Description"}),c.jsx("input",{type:"text",value:s.description,onChange:C=>g("description",C.target.value),placeholder:"Purpose of this join",style:{padding:"8px 12px",border:"1px solid var(--gray-6)",borderRadius:"6px",fontSize:"14px"}})]})]}),c.jsxs(M,{gap:"3",children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:2},children:[c.jsx(k,{size:"2",weight:"medium",children:"Joined Table *"}),c.jsxs(J.Root,{value:s.joined_table_name,onValueChange:C=>g("joined_table_name",C),children:[c.jsx(J.Trigger,{style:{width:"100%"}}),c.jsx(J.Content,{children:o.map(C=>{const S=`${C.catalog_name||"catalog"}.${C.schema_name||"schema"}.${C.name}`;return c.jsx(J.Item,{value:S,children:C.name},C.id)})})]}),c.jsx("input",{type:"text",value:s.joined_table_name,onChange:C=>g("joined_table_name",C.target.value),placeholder:"Or enter: catalog.schema.table",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"2",weight:"medium",children:"Table Alias"}),c.jsx("input",{type:"text",value:s.join_alias,onChange:C=>g("join_alias",C.target.value),placeholder:"e.g., cust",style:{padding:"8px 12px",border:"1px solid var(--gray-6)",borderRadius:"6px",fontSize:"14px"}})]})]}),c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"2",weight:"medium",children:"Join Type"}),c.jsxs(J.Root,{value:s.join_type,onValueChange:C=>g("join_type",C),children:[c.jsx(J.Trigger,{style:{width:"300px"}}),c.jsx(J.Content,{children:$.map(C=>c.jsx(J.Item,{value:C.value,children:C.label},C.value))})]})]})]})})}),c.jsx(Le.Content,{value:"conditions",children:c.jsx(te,{style:{padding:"16px 0"},children:c.jsxs(M,{direction:"column",gap:"4",children:[c.jsxs(te,{children:[c.jsxs(M,{align:"center",justify:"between",style:{marginBottom:"12px"},children:[c.jsx(k,{size:"2",weight:"medium",children:"Join Conditions"}),c.jsxs(pe,{size:"1",onClick:y,children:[c.jsx(pr,{})," Add Condition"]})]}),c.jsx(M,{direction:"column",gap:"2",children:p.map((C,S)=>c.jsx(Ve,{style:{padding:"12px"},children:c.jsxs(M,{align:"center",gap:"3",children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Left Column (Source)"}),c.jsxs(J.Root,{value:C.left_column,onValueChange:D=>b(S,"left_column",D),children:[c.jsx(J.Trigger,{}),c.jsx(J.Content,{children:i.map(D=>c.jsxs(J.Item,{value:D.name,children:[D.name," (",D.data_type,")"]},D.name))})]})]}),c.jsxs(M,{direction:"column",gap:"1",style:{minWidth:"80px"},children:[c.jsx(k,{size:"1",children:"Operator"}),c.jsxs(J.Root,{value:C.operator,onValueChange:D=>b(S,"operator",D),children:[c.jsx(J.Trigger,{}),c.jsx(J.Content,{children:A.map(D=>c.jsx(J.Item,{value:D,children:D},D))})]})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Right Column (Joined)"}),c.jsxs(J.Root,{value:C.right_column,onValueChange:D=>b(S,"right_column",D),children:[c.jsx(J.Trigger,{}),c.jsx(J.Content,{children:m.length>0?m.map(D=>c.jsxs(J.Item,{value:D.name,children:[D.name," (",D.data_type,")"]},D.name)):c.jsx(J.Item,{value:"",disabled:!0,children:"Select a table first"})})]})]}),c.jsx(pe,{size:"1",variant:"ghost",color:"red",onClick:()=>x(S),disabled:p.length===1,children:c.jsx(An,{})})]})},S))})]}),c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"2",weight:"medium",children:"Additional Conditions (Optional)"}),c.jsx(vr,{value:s.additional_conditions,onChange:C=>g("additional_conditions",C.target.value),placeholder:"e.g., joined_table.status = 'ACTIVE' AND joined_table.created_date > '2023-01-01'",style:{fontFamily:"monospace",fontSize:"12px"},rows:3})]}),c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"2",weight:"medium",children:"Manual SQL ON Condition (Override)"}),c.jsx(k,{size:"1",color:"gray",children:"If specified, this will override the visual conditions above"}),c.jsx(vr,{value:s.sql_on,onChange:C=>g("sql_on",C.target.value),placeholder:"e.g., base.customer_id = cust.id AND base.region = cust.region",style:{fontFamily:"monospace",fontSize:"12px"},rows:2})]})]})})}),c.jsx(Le.Content,{value:"performance",children:c.jsx(te,{style:{padding:"16px 0"},children:c.jsxs(M,{direction:"column",gap:"4",children:[c.jsx(k,{size:"2",weight:"medium",children:"Performance Optimization Hints"}),c.jsx(Ve,{style:{padding:"16px"},children:c.jsxs(M,{align:"center",justify:"between",children:[c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"2",weight:"medium",children:"Broadcast Join"}),c.jsx(k,{size:"1",color:"gray",children:"Use when the joined table is small (< 10MB). Forces broadcast of the table to all nodes."})]}),c.jsx(Rv,{checked:s.broadcast_hint,onCheckedChange:C=>g("broadcast_hint",C)})]})}),c.jsx(Ve,{style:{padding:"16px"},children:c.jsxs(M,{align:"center",justify:"between",children:[c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"2",weight:"medium",children:"Sort-Merge Join"}),c.jsx(k,{size:"1",color:"gray",children:"Use when both tables are large and sorted on join keys. Good for equi-joins."})]}),c.jsx(Rv,{checked:s.sort_merge_hint,onCheckedChange:C=>g("sort_merge_hint",C)})]})}),c.jsx(Ve,{style:{padding:"16px"},children:c.jsxs(M,{direction:"column",gap:"3",children:[c.jsx(M,{align:"center",justify:"between",children:c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"2",weight:"medium",children:"Bucket Join"}),c.jsx(k,{size:"1",color:"gray",children:"Use when tables are bucketed on join keys. Specify the number of buckets."})]})}),c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"1",children:"Number of Buckets"}),c.jsx("input",{type:"text",value:s.bucket_hint,onChange:C=>g("bucket_hint",C.target.value),placeholder:"e.g., 16",style:{padding:"8px 12px",border:"1px solid var(--gray-6)",borderRadius:"6px",fontSize:"14px",width:"120px"}})]})]})})]})})}),c.jsx(Le.Content,{value:"sql",children:c.jsx(te,{style:{padding:"16px 0"},children:c.jsxs(M,{direction:"column",gap:"3",children:[c.jsx(k,{size:"2",weight:"medium",children:"Generated SQL Preview"}),c.jsx(te,{style:{padding:"16px",background:"var(--gray-2)",borderRadius:"8px",border:"1px solid var(--gray-6)",fontFamily:"monospace",fontSize:"13px",lineHeight:"1.5"},children:c.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:_()||"Configure join details to see SQL preview"})}),c.jsxs(te,{children:[!s.name.trim()&&c.jsx(k,{size:"1",color:"red",children:" Join name is required"}),!s.joined_table_name.trim()&&c.jsx(k,{size:"1",color:"red",children:" Joined table is required"}),!s.sql_on.trim()&&!p.some(C=>C.left_column&&C.right_column)&&c.jsx(k,{size:"1",color:"red",children:" At least one join condition is required"}),j&&c.jsx(k,{size:"1",color:"green",children:" Join configuration is valid"})]})]})})})]}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",onClick:E,children:"Cancel"})}),c.jsxs(pe,{onClick:w,disabled:!j,children:[c.jsx(c$,{}),a==="edit"?"Update Join":"Create Join"]})]})]})})},pee=({open:e,onClose:t,metricView:n=null,sourceTableId:r=null,onSave:o})=>{var fe,he;const{tables:i,currentProject:a}=ht(),[s,l]=f.useState({name:"",description:"",version:"0.1",source_table_id:r||"",filter:"",dimensions:[],measures:[],joins:[],tags:{}}),[u,d]=f.useState("basic"),[p,h]=f.useState({}),[m,v]=f.useState(!1),[g,b]=f.useState(null),[y,x]=f.useState("create"),_=f.useCallback(()=>{const z=[],U=i.find(V=>V.id===s.source_table_id);return U&&U.fields&&U.fields.forEach(V=>{z.push({value:V.name,label:`${V.name} (${V.type||"UNKNOWN"})`,description:V.comment||"",table:U.name,type:V.type||"UNKNOWN",category:"source"})}),s.joins.forEach(V=>{const P=i.find(W=>W.name===V.joined_table_name);if(P&&P.fields){const W=V.join_alias||V.joined_table_name;P.fields.forEach(H=>{z.push({value:`${W}.${H.name}`,label:`${W}.${H.name} (${H.type||"UNKNOWN"})`,description:H.comment||"",table:P.name,type:H.type||"UNKNOWN",category:"joined"})})}}),z},[i,s.source_table_id,s.joins]);f.useEffect(()=>{e&&(l(n?{name:n.name||"",description:n.description||"",version:n.version||"0.1",source_table_id:n.source_table_id||r||"",filter:n.filter||"",dimensions:n.dimensions||[],measures:n.measures||[],joins:n.joins||[],tags:n.tags||{}}:{name:"",description:"",version:"0.1",source_table_id:r||"",filter:"",dimensions:[],measures:[],joins:[],tags:{}}),h({}))},[e,n,r]);const w=i.find(z=>z.id===s.source_table_id),E=(w==null?void 0:w.fields)||[],j=f.useCallback(()=>{const z={};return s.name.trim()||(z.name="Name is required"),s.source_table_id||(z.source_table_id="Source table is required"),s.dimensions.length===0&&s.measures.length===0&&(z.content="At least one dimension or measure is required"),s.dimensions.forEach((U,V)=>{var P,W;(P=U.name)!=null&&P.trim()||(z[`dimension_${V}_name`]="Dimension name is required"),(W=U.expr)!=null&&W.trim()||(z[`dimension_${V}_expr`]="Dimension expression is required")}),s.measures.forEach((U,V)=>{var P,W;(P=U.name)!=null&&P.trim()||(z[`measure_${V}_name`]="Measure name is required"),(W=U.expr)!=null&&W.trim()||(z[`measure_${V}_expr`]="Measure expression is required")}),h(z),Object.keys(z).length===0},[s]),$=f.useCallback((z,U)=>{l(V=>({...V,[z]:U})),p[z]&&h(V=>({...V,[z]:void 0}))},[p]),A=f.useCallback(()=>{if(!w||!w.fields)return;const z=[],U=[];w.fields.forEach(V=>{var W;const P=((W=V.type)==null?void 0:W.toUpperCase())||"";P.includes("STRING")||P.includes("VARCHAR")||P.includes("CHAR")?z.push({id:`dim_${Date.now()}_${V.name}`,name:V.name.replace(/_/g," ").replace(/\b\w/g,H=>H.toUpperCase()),expr:V.name,description:V.comment||`Dimension based on ${V.name}`}):(P.includes("DATE")||P.includes("TIMESTAMP"))&&(z.push({id:`dim_${Date.now()}_${V.name}`,name:`${V.name.replace(/_/g," ").replace(/\b\w/g,H=>H.toUpperCase())}`,expr:V.name,description:V.comment||`Date dimension based on ${V.name}`}),z.push({id:`dim_${Date.now()}_${V.name}_month`,name:`${V.name.replace(/_/g," ").replace(/\b\w/g,H=>H.toUpperCase())} Month`,expr:`DATE_TRUNC('MONTH', ${V.name})`,description:`Monthly grouping of ${V.name}`})),["INT","BIGINT","FLOAT","DOUBLE","DECIMAL","NUMERIC"].some(H=>P.includes(H))&&!V.name.toLowerCase().includes("key")&&!V.name.toLowerCase().includes("id")&&(U.push({id:`msr_${Date.now()}_${V.name}_sum`,name:`Total ${V.name.replace(/_/g," ").replace(/\b\w/g,H=>H.toUpperCase())}`,expr:V.name,aggregation_type:"SUM",description:V.comment||`Sum of ${V.name}`,is_window_measure:!1}),U.push({id:`msr_${Date.now()}_${V.name}_avg`,name:`Average ${V.name.replace(/_/g," ").replace(/\b\w/g,H=>H.toUpperCase())}`,expr:V.name,aggregation_type:"AVG",description:V.comment||`Average of ${V.name}`,is_window_measure:!1}))}),U.push({id:`msr_${Date.now()}_count`,name:"Record Count",expr:"COUNT(*)",aggregation_type:"COUNT",description:"Total number of records",is_window_measure:!1}),l(V=>({...V,dimensions:[...V.dimensions,...z],measures:[...V.measures,...U]})),alert(` Smart Setup Complete!

Added:
 ${z.length} dimensions
 ${U.length} measures

You can customize them in the Dimensions and Measures tabs.`)},[w]),C=f.useCallback(()=>{const z={id:`dim_${Date.now()}`,name:"",expr:"",description:"",data_type:null};l(U=>({...U,dimensions:[...U.dimensions,z]}))},[]),S=f.useCallback((z,U,V)=>{l(P=>({...P,dimensions:P.dimensions.map((W,H)=>H===z?{...W,[U]:V}:W)}))},[]),D=f.useCallback(z=>{l(U=>({...U,dimensions:U.dimensions.filter((V,P)=>P!==z)}))},[]),O=f.useCallback(()=>{const z={id:`measure_${Date.now()}`,name:"",expr:"",description:"",aggregation_type:"SUM",is_window_measure:!1,data_type:null};l(U=>({...U,measures:[...U.measures,z]}))},[]),F=f.useCallback((z,U,V)=>{l(P=>({...P,measures:P.measures.map((W,H)=>H===z?{...W,[U]:V}:W)}))},[]),N=f.useCallback(z=>{l(U=>({...U,measures:U.measures.filter((V,P)=>P!==z)}))},[]),L=f.useCallback(()=>{b(null),x("create"),v(!0)},[]);f.useCallback((z,U)=>{b({...z,_index:U}),x("edit"),v(!0)},[]);const T=f.useCallback(z=>{if(console.log(" Saving join data:",z),y==="create"){const U={id:`join_${Date.now()}`,...z};l(V=>({...V,joins:[...V.joins,U]}))}else if(y==="edit"&&g){const U=g._index;l(V=>({...V,joins:V.joins.map((P,W)=>W===U?{...P,...z}:P)}))}v(!1),b(null)},[y,g]),B=f.useCallback(()=>{v(!1),b(null)},[]),I=f.useCallback(z=>{l(U=>({...U,joins:U.joins.filter((V,P)=>P!==z)}))},[]),R=f.useCallback(()=>{if(!j())return;const z={...s,id:(n==null?void 0:n.id)||`mv_${Date.now()}`,created_at:(n==null?void 0:n.created_at)||new Date().toISOString(),updated_at:new Date().toISOString()};console.log(" Saving metric view:",z),o&&o(z),t()},[s,n,j,o,t]),q=f.useCallback(()=>{t()},[t]),Q=f.useCallback(()=>{var z;try{const U={version:s.version,source:w?`${(a==null?void 0:a.catalog_name)||"catalog"}.${(a==null?void 0:a.schema_name)||"schema"}.${w.name}`:"source_table"};(z=s.filter)!=null&&z.trim()&&(U.filter=s.filter),s.joins.length>0&&(U.joins=s.joins.filter(P=>{var W,H,ge,ce;return((W=P.name)==null?void 0:W.trim())&&(((H=P.sql_on)==null?void 0:H.trim())||((ge=P.left_columns)==null?void 0:ge.length)&&((ce=P.right_columns)==null?void 0:ce.length))}).map(P=>{var H,ge,ce,K,Y;const W={name:P.name};if(P.joined_table_name&&((H=P.left_columns)!=null&&H.length)&&((ge=P.right_columns)!=null&&ge.length)){const oe=[];for(let ve=0;ve<Math.min(P.left_columns.length,P.right_columns.length);ve++){const Ae=P.left_columns[ve],ye=P.right_columns[ve],ke=((ce=P.join_operators)==null?void 0:ce[ve])||"=",$e="base",Xe=P.join_alias||P.joined_table_name.split(".").pop();Ae&&ye&&oe.push(`${$e}.${Ae} ${ke} ${Xe}.${ye}`)}let ae=oe.join(" AND ");(K=P.additional_conditions)!=null&&K.trim()&&(ae+=ae?` AND ${P.additional_conditions}`:P.additional_conditions),W.sql_on=ae||P.sql_on}else W.sql_on=P.sql_on;return P.join_type!=="LEFT"&&(W.join_type=P.join_type),(Y=P.description)!=null&&Y.trim()&&(W.description=P.description),W})),s.dimensions.length>0&&(U.dimensions=s.dimensions.filter(P=>{var W,H;return((W=P.name)==null?void 0:W.trim())&&((H=P.expr)==null?void 0:H.trim())}).map(P=>{var W;return{name:P.name,expr:P.expr,...((W=P.description)==null?void 0:W.trim())&&{description:P.description}}})),s.measures.length>0&&(U.measures=s.measures.filter(P=>{var W,H;return((W=P.name)==null?void 0:W.trim())&&((H=P.expr)==null?void 0:H.trim())}).map(P=>{var W;return{name:P.name,expr:P.expr,...((W=P.description)==null?void 0:W.trim())&&{description:P.description}}}));const V=[];return Object.entries(U).forEach(([P,W])=>{typeof W=="string"?V.push(`${P}: "${W}"`):Array.isArray(W)&&(V.push(`${P}:`),W.forEach(H=>{V.push(`  - name: "${H.name}"`),V.push(`    expr: "${H.expr}"`),H.description&&V.push(`    description: "${H.description}"`),H.sql_on&&V.push(`    sql_on: "${H.sql_on}"`),H.join_type&&V.push(`    join_type: "${H.join_type}"`)}))}),V.join(`
`)}catch(U){return console.error("Error generating YAML preview:",U),`# Error generating YAML preview
# ${U.message}`}},[s,w,a])(),le=f.useCallback(z=>{const U={id:`dim_${Date.now()}`,name:z.name,expr:z.name,description:z.comment||"",data_type:z.data_type};l(V=>({...V,dimensions:[...V.dimensions,U]}))},[]),ie=f.useCallback(z=>{const U=["BIGINT","INT","SMALLINT","TINYINT","FLOAT","DOUBLE","DECIMAL"].includes(z.data_type),V=U?"SUM":"COUNT",P=U?z.name:`COUNT(${z.name})`,W={id:`measure_${Date.now()}`,name:`${V.toLowerCase()}_${z.name}`,expr:P,description:z.comment||"",aggregation_type:V,is_window_measure:!1,data_type:U?z.data_type:"BIGINT"};l(H=>({...H,measures:[...H.measures,W]}))},[]);return c.jsxs(me.Root,{open:e,onOpenChange:t,children:[c.jsxs(me.Content,{style:{maxWidth:"900px",maxHeight:"80vh"},children:[c.jsx(me.Title,{children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Ut,{}),n?"Edit Metric View":"Create Metric View"]})}),c.jsx(me.Description,{children:n?`Edit the metric view "${n.name}"`:"Create a new metric view to define dimensions and measures for analytics"}),c.jsxs(Le.Root,{value:u,onValueChange:d,children:[c.jsxs(Le.List,{children:[c.jsx(Le.Trigger,{value:"basic",children:"Basic Info"}),c.jsxs(Le.Trigger,{value:"dimensions",children:["Dimensions (",s.dimensions.length,")"]}),c.jsxs(Le.Trigger,{value:"measures",children:["Measures (",s.measures.length,")"]}),c.jsxs(Le.Trigger,{value:"joins",children:["Joins (",s.joins.length,")"]}),c.jsx(Le.Trigger,{value:"advanced",children:"Advanced"}),c.jsxs(Le.Trigger,{value:"yaml",children:[c.jsx(ku,{})," YAML Preview"]})]}),c.jsx(Le.Content,{value:"basic",children:c.jsxs(M,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(k,{size:"2",weight:"medium",children:"Name *"}),c.jsx(we.Input,{placeholder:"e.g., sales_metrics, customer_analytics",value:s.name,onChange:z=>$("name",z.target.value)}),p.name&&c.jsx(k,{size:"1",color:"red",children:p.name})]}),c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(k,{size:"2",weight:"medium",children:"Description"}),c.jsx(vr,{placeholder:"Describe what this metric view measures...",value:s.description,onChange:z=>$("description",z.target.value),rows:3})]}),c.jsxs(M,{gap:"4",children:[c.jsxs(M,{direction:"column",gap:"2",style:{flex:1},children:[c.jsx(k,{size:"2",weight:"medium",children:"Source Table *"}),c.jsxs(J.Root,{value:s.source_table_id,onValueChange:z=>$("source_table_id",z),children:[c.jsx(J.Trigger,{placeholder:"Select source table..."}),c.jsx(J.Content,{children:i.map(z=>c.jsx(J.Item,{value:z.id,children:z.name},z.id))})]}),p.source_table_id&&c.jsx(k,{size:"1",color:"red",children:p.source_table_id})]}),c.jsxs(M,{direction:"column",gap:"2",style:{flex:1},children:[c.jsx(k,{size:"2",weight:"medium",children:"Version"}),c.jsx(we.Input,{value:s.version,onChange:z=>$("version",z.target.value)})]})]}),w&&c.jsxs(te,{children:[c.jsxs(M,{justify:"between",align:"center",style:{marginBottom:"12px"},children:[c.jsxs(k,{size:"2",weight:"medium",children:["Available Fields from ",w.name]}),c.jsx(pe,{size:"1",variant:"solid",onClick:A,style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white"},children:" Smart Setup"})]}),c.jsx(Gt,{style:{height:"200px"},children:c.jsx(M,{direction:"column",gap:"2",children:E.map(z=>c.jsxs(M,{justify:"between",align:"center",style:{padding:"8px",background:"var(--gray-2)",borderRadius:"6px"},children:[c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"2",weight:"medium",children:z.name}),c.jsxs(M,{gap:"2",align:"center",children:[c.jsx(Se,{variant:"soft",size:"1",children:z.data_type}),z.comment&&c.jsx(k,{size:"1",color:"gray",children:z.comment})]})]}),c.jsxs(M,{gap:"1",children:[c.jsxs(pe,{size:"1",variant:"soft",onClick:()=>le(z),children:[c.jsx(cr,{})," Dimension"]}),c.jsxs(pe,{size:"1",variant:"soft",color:"red",onClick:()=>ie(z),children:[c.jsx(Ut,{})," Measure"]})]})]},z.id))})})]}),p.content&&c.jsx(k,{size:"1",color:"red",children:p.content})]})}),c.jsx(Le.Content,{value:"dimensions",children:c.jsxs(M,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(k,{size:"3",weight:"medium",children:"Dimensions"}),c.jsxs(pe,{onClick:C,children:[c.jsx(pr,{})," Add Dimension"]})]}),c.jsx(Gt,{style:{height:"400px"},children:c.jsxs(M,{direction:"column",gap:"3",children:[s.dimensions.map((z,U)=>c.jsx(te,{style:{padding:"12px",border:"1px solid var(--gray-6)",borderRadius:"8px"},children:c.jsxs(M,{justify:"between",align:"start",gap:"3",children:[c.jsxs(M,{direction:"column",gap:"3",style:{flex:1},children:[c.jsxs(M,{gap:"3",children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",weight:"medium",children:"Name *"}),c.jsx(we.Input,{placeholder:"e.g., customer_segment, product_category",value:z.name,onChange:V=>S(U,"name",V.target.value)}),p[`dimension_${U}_name`]&&c.jsx(k,{size:"1",color:"red",children:p[`dimension_${U}_name`]})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",weight:"medium",children:"Expression *"}),c.jsxs(J.Root,{value:z.expr,onValueChange:V=>S(U,"expr",V),children:[c.jsx(J.Trigger,{placeholder:"Select a field or enter custom expression"}),c.jsxs(J.Content,{children:[c.jsxs(J.Group,{children:[c.jsx(J.Label,{children:"Available Fields"}),_().map(V=>c.jsx(J.Item,{value:V.value,children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Se,{color:V.category==="source"?"blue":"green",size:"1",children:V.table}),c.jsx(k,{children:V.label})]})},V.value))]}),c.jsx(J.Separator,{}),c.jsxs(J.Group,{children:[c.jsx(J.Label,{children:"Common Expressions"}),c.jsx(J.Item,{value:"DATE_TRUNC('MONTH', ${field})",children:"Monthly grouping"}),c.jsx(J.Item,{value:"DATE_TRUNC('YEAR', ${field})",children:"Yearly grouping"}),c.jsx(J.Item,{value:"UPPER(${field})",children:"Uppercase"}),c.jsx(J.Item,{value:"LOWER(${field})",children:"Lowercase"})]})]})]}),c.jsx(we.Input,{placeholder:"Or enter custom expression...",value:z.expr,onChange:V=>S(U,"expr",V.target.value),style:{marginTop:"4px"}}),p[`dimension_${U}_expr`]&&c.jsx(k,{size:"1",color:"red",children:p[`dimension_${U}_expr`]})]})]}),c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"1",weight:"medium",children:"Description"}),c.jsx(we.Input,{placeholder:"Describe this dimension...",value:z.description,onChange:V=>S(U,"description",V.target.value)})]})]}),c.jsx(Zn,{color:"red",variant:"soft",onClick:()=>D(U),children:c.jsx(An,{})})]})},z.id)),s.dimensions.length===0&&c.jsxs(te,{style:{textAlign:"center",padding:"40px",color:"var(--gray-9)"},children:[c.jsx(cr,{style:{width:"32px",height:"32px",margin:"0 auto 8px"}}),c.jsx(k,{children:"No dimensions defined"}),c.jsx(k,{size:"1",children:"Dimensions are categorical fields for grouping data"})]})]})})]})}),c.jsx(Le.Content,{value:"measures",children:c.jsxs(M,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(k,{size:"3",weight:"medium",children:"Measures"}),c.jsxs(pe,{onClick:O,children:[c.jsx(pr,{})," Add Measure"]})]}),c.jsx(Gt,{style:{height:"400px"},children:c.jsxs(M,{direction:"column",gap:"3",children:[s.measures.map((z,U)=>c.jsx(te,{style:{padding:"12px",border:"1px solid var(--gray-6)",borderRadius:"8px"},children:c.jsxs(M,{justify:"between",align:"start",gap:"3",children:[c.jsxs(M,{direction:"column",gap:"3",style:{flex:1},children:[c.jsxs(M,{gap:"3",children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",weight:"medium",children:"Name *"}),c.jsx(we.Input,{placeholder:"e.g., total_sales, avg_order_value",value:z.name,onChange:V=>F(U,"name",V.target.value)}),p[`measure_${U}_name`]&&c.jsx(k,{size:"1",color:"red",children:p[`measure_${U}_name`]})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",weight:"medium",children:"Aggregation"}),c.jsxs(J.Root,{value:z.aggregation_type,onValueChange:V=>F(U,"aggregation_type",V),children:[c.jsx(J.Trigger,{}),c.jsxs(J.Content,{children:[c.jsx(J.Item,{value:"SUM",children:"SUM"}),c.jsx(J.Item,{value:"COUNT",children:"COUNT"}),c.jsx(J.Item,{value:"AVG",children:"AVG"}),c.jsx(J.Item,{value:"MIN",children:"MIN"}),c.jsx(J.Item,{value:"MAX",children:"MAX"}),c.jsx(J.Item,{value:"COUNT_DISTINCT",children:"COUNT DISTINCT"})]})]})]})]}),c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"1",weight:"medium",children:"Expression *"}),c.jsxs(J.Root,{value:z.expr,onValueChange:V=>F(U,"expr",V),children:[c.jsx(J.Trigger,{placeholder:"Select a field for aggregation"}),c.jsxs(J.Content,{children:[c.jsxs(J.Group,{children:[c.jsx(J.Label,{children:"Numeric Fields"}),_().filter(V=>V.type&&["INT","BIGINT","FLOAT","DOUBLE","DECIMAL"].some(P=>V.type.includes(P))).map(V=>c.jsx(J.Item,{value:V.value,children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Se,{color:V.category==="source"?"blue":"green",size:"1",children:V.table}),c.jsx(k,{children:V.label})]})},V.value))]}),c.jsx(J.Separator,{}),c.jsxs(J.Group,{children:[c.jsx(J.Label,{children:"All Fields"}),_().map(V=>c.jsx(J.Item,{value:V.value,children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Se,{color:V.category==="source"?"blue":"green",size:"1",children:V.table}),c.jsx(k,{children:V.label})]})},`all_${V.value}`))]}),c.jsx(J.Separator,{}),c.jsxs(J.Group,{children:[c.jsx(J.Label,{children:"Common Patterns"}),c.jsx(J.Item,{value:"COUNT(*)",children:"Count all rows"}),c.jsx(J.Item,{value:"COUNT(DISTINCT ${field})",children:"Count distinct values"})]})]})]}),c.jsx(we.Input,{placeholder:"Or enter custom expression (e.g., SUM(amount * (1 - discount)))",value:z.expr,onChange:V=>F(U,"expr",V.target.value),style:{marginTop:"4px"}}),p[`measure_${U}_expr`]&&c.jsx(k,{size:"1",color:"red",children:p[`measure_${U}_expr`]})]}),c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"1",weight:"medium",children:"Description"}),c.jsx(we.Input,{placeholder:"Describe this measure...",value:z.description,onChange:V=>F(U,"description",V.target.value)})]})]}),c.jsx(Zn,{color:"red",variant:"soft",onClick:()=>N(U),children:c.jsx(An,{})})]})},z.id)),s.measures.length===0&&c.jsxs(te,{style:{textAlign:"center",padding:"40px",color:"var(--gray-9)"},children:[c.jsx(Ut,{style:{width:"32px",height:"32px",margin:"0 auto 8px"}}),c.jsx(k,{children:"No measures defined"}),c.jsx(k,{size:"1",children:"Measures are numeric aggregations for analysis"})]})]})})]})}),c.jsx(Le.Content,{value:"joins",children:c.jsxs(M,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"3",weight:"medium",children:"Advanced Joins"}),c.jsx(k,{size:"1",color:"gray",children:"Configure complex joins with multiple conditions and performance hints"})]}),c.jsxs(pe,{onClick:L,children:[c.jsx(Fv,{})," Configure Join"]})]}),c.jsx(Gt,{style:{height:"400px"},children:c.jsxs(M,{direction:"column",gap:"3",children:[s.joins.map((z,U)=>c.jsx(te,{style:{padding:"12px",border:"1px solid var(--gray-6)",borderRadius:"8px"},children:c.jsxs(M,{justify:"between",align:"start",gap:"3",children:[c.jsxs(M,{direction:"column",gap:"3",style:{flex:1},children:[c.jsxs(M,{gap:"3",children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",weight:"medium",children:"Join Name"}),c.jsx(we.Input,{placeholder:"e.g., customers, products",value:z.name,onChange:V=>handleUpdateJoin(U,"name",V.target.value)})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",weight:"medium",children:"Join Type"}),c.jsxs(J.Root,{value:z.join_type,onValueChange:V=>handleUpdateJoin(U,"join_type",V),children:[c.jsx(J.Trigger,{}),c.jsxs(J.Content,{children:[c.jsx(J.Item,{value:"LEFT",children:"LEFT"}),c.jsx(J.Item,{value:"INNER",children:"INNER"}),c.jsx(J.Item,{value:"RIGHT",children:"RIGHT"}),c.jsx(J.Item,{value:"FULL",children:"FULL"})]})]})]})]}),c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"1",weight:"medium",children:"Join Condition (SQL ON)"}),c.jsx(we.Input,{placeholder:"e.g., main.customer_id = customers.id",value:z.sql_on,onChange:V=>handleUpdateJoin(U,"sql_on",V.target.value)})]})]}),c.jsx(Zn,{color:"red",variant:"soft",onClick:()=>I(U),children:c.jsx(An,{})})]})},z.id)),s.joins.length===0&&c.jsxs(te,{style:{textAlign:"center",padding:"40px",color:"var(--gray-9)"},children:[c.jsx(f$,{style:{width:"32px",height:"32px",margin:"0 auto 8px"}}),c.jsx(k,{children:"No joins defined"}),c.jsx(k,{size:"1",children:"Joins allow you to include data from other tables"})]})]})})]})}),c.jsx(Le.Content,{value:"advanced",children:c.jsxs(M,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(k,{size:"2",weight:"medium",children:"Global Filter (WHERE clause)"}),c.jsx(vr,{placeholder:"e.g., status = 'active' AND created_date >= '2023-01-01'",value:s.filter,onChange:z=>$("filter",z.target.value),rows:3}),c.jsx(k,{size:"1",color:"gray",children:"Optional WHERE clause applied to all queries using this metric view"})]}),c.jsx(Pn,{}),c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(k,{size:"2",weight:"medium",children:"Tags"}),c.jsx(k,{size:"1",color:"gray",children:"Tags will be applied to the metric view in Databricks"})]})]})}),c.jsx(Le.Content,{value:"yaml",children:c.jsxs(M,{direction:"column",gap:"4",style:{padding:"16px 0"},children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(k,{size:"3",weight:"medium",children:"YAML Preview"}),c.jsx(Se,{variant:"soft",color:"purple",children:"Real-time Preview"})]}),c.jsx(k,{size:"1",color:"gray",children:"This is how your metric view will be defined in Databricks. The YAML updates automatically as you make changes."}),c.jsx(te,{style:{background:"#1e1e1e",border:"1px solid #333",borderRadius:"8px",padding:"16px",fontFamily:'Monaco, Consolas, "Courier New", monospace',fontSize:"12px",lineHeight:"1.5",color:"#d4d4d4",maxHeight:"400px",overflow:"auto"},children:c.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:Q})}),s.dimensions.length===0&&s.measures.length===0&&c.jsx(M,{align:"center",gap:"2",style:{padding:"12px",background:"var(--amber-2)",borderRadius:"6px",border:"1px solid var(--amber-6)"},children:c.jsx(k,{size:"1",color:"amber",children:" Add at least one dimension or measure to create a valid metric view"})}),!((fe=s.name)!=null&&fe.trim())&&c.jsx(M,{align:"center",gap:"2",style:{padding:"12px",background:"var(--red-2)",borderRadius:"6px",border:"1px solid var(--red-6)"},children:c.jsx(k,{size:"1",color:"red",children:" Metric view name is required"})}),!w&&c.jsx(M,{align:"center",gap:"2",style:{padding:"12px",background:"var(--red-2)",borderRadius:"6px",border:"1px solid var(--red-6)"},children:c.jsx(k,{size:"1",color:"red",children:" Source table is required"})}),(s.dimensions.length>0||s.measures.length>0)&&((he=s.name)==null?void 0:he.trim())&&w&&c.jsx(M,{align:"center",gap:"2",style:{padding:"12px",background:"var(--green-2)",borderRadius:"6px",border:"1px solid var(--green-6)"},children:c.jsx(k,{size:"1",color:"green",children:" Metric view is valid and ready to be created"})})]})})]}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",onClick:q,children:"Cancel"})}),c.jsxs(pe,{onClick:R,children:[c.jsx(ku,{}),n?"Update Metric View":"Create Metric View"]})]})]}),c.jsx(fee,{open:m,onClose:B,onSave:T,initialJoin:g,availableTables:i,sourceTableColumns:(w==null?void 0:w.fields)||[],mode:y})]})},hee=({open:e,onClose:t,onSave:n,traditionalView:r=null,catalogName:o="",schemaName:i=""})=>{const[a,s]=f.useState({name:"",description:"",sql_query:"",logical_name:"",tags:{},catalog_name:o,schema_name:i,position_x:600,position_y:100,width:250,height:180}),[l,u]=f.useState({}),[d,p]=f.useState(""),[h,m]=f.useState("");f.useEffect(()=>{s(r?{name:r.name||"",description:r.description||"",sql_query:r.sql_query||"",logical_name:r.logical_name||"",tags:r.tags||{},catalog_name:r.catalog_name||o,schema_name:r.schema_name||i,position_x:r.position_x||600,position_y:r.position_y||100,width:r.width||250,height:r.height||180}:{name:"",description:"",sql_query:"",logical_name:"",tags:{},catalog_name:o,schema_name:i,position_x:600,position_y:100,width:250,height:180}),u({})},[r,o,i,e]);const v=(w,E)=>{s(j=>({...j,[w]:E})),l[w]&&u(j=>({...j,[w]:null}))},g=()=>{d.trim()&&h.trim()&&(s(w=>({...w,tags:{...w.tags,[d.trim()]:h.trim()}})),p(""),m(""))},b=w=>{s(E=>({...E,tags:Object.fromEntries(Object.entries(E.tags).filter(([j])=>j!==w))}))},y=()=>{const w={};a.name.trim()||(w.name="View name is required"),a.sql_query.trim()||(w.sql_query="SQL query is required");const E=a.sql_query.trim().toUpperCase();return a.sql_query.trim()&&!E.startsWith("SELECT")&&(w.sql_query="Traditional views must contain a SELECT statement"),u(w),Object.keys(w).length===0},x=()=>{y()&&n(a)},_=()=>{s({name:"",description:"",sql_query:"",logical_name:"",tags:{},catalog_name:o,schema_name:i,position_x:600,position_y:100,width:250,height:180}),u({}),t()};return c.jsx(me.Root,{open:e,onOpenChange:w=>!w&&_(),children:c.jsxs(me.Content,{style:{maxWidth:"600px",maxHeight:"80vh"},children:[c.jsx(me.Title,{children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(cr,{style:{color:"#10b981"}}),c.jsx(k,{size:"5",weight:"bold",children:r?"Edit Traditional View":"Create Traditional View"})]})}),c.jsxs(me.Description,{size:"2",mb:"4",color:"gray",children:["Traditional views are standard SQL views that can reference tables and other views.",!r&&" Unlike metric views, they don't require relationships and work with any SQL query."]}),c.jsx(Gt,{style:{maxHeight:"60vh"},children:c.jsxs(M,{direction:"column",gap:"4",style:{padding:"2px"},children:[c.jsxs(te,{children:[c.jsx(k,{size:"3",weight:"bold",mb:"3",children:"Basic Information"}),c.jsxs(M,{direction:"column",gap:"3",children:[c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"medium",mb:"1",children:"View Name *"}),c.jsx(we.Root,{color:l.name?"red":void 0,children:c.jsx(we.Input,{placeholder:"e.g., customer_summary_view",value:a.name,onChange:w=>v("name",w.target.value)})}),l.name&&c.jsx(k,{size:"1",color:"red",mt:"1",children:l.name})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"medium",mb:"1",children:"Logical Name"}),c.jsx(we.Root,{children:c.jsx(we.Input,{placeholder:"e.g., Customer Summary View",value:a.logical_name,onChange:w=>v("logical_name",w.target.value)})})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"medium",mb:"1",children:"Description"}),c.jsx(vr,{placeholder:"Describe what this view represents...",value:a.description,onChange:w=>v("description",w.target.value),rows:2})]})]})]}),c.jsx(Pn,{}),c.jsxs(te,{children:[c.jsx(k,{size:"3",weight:"bold",mb:"3",children:"SQL Query *"}),c.jsx(vr,{placeholder:`SELECT 
  customer_id,
  customer_name,
  COUNT(*) as order_count,
  SUM(total_amount) as total_spent
FROM orders o
JOIN customers c ON o.customer_id = c.id
GROUP BY customer_id, customer_name`,value:a.sql_query,onChange:w=>v("sql_query",w.target.value),rows:8,style:{fontFamily:"monospace",fontSize:"13px"},color:l.sql_query?"red":void 0}),l.sql_query&&c.jsx(k,{size:"1",color:"red",mt:"1",children:l.sql_query}),c.jsx(k,{size:"1",color:"gray",mt:"1",children:"Enter the complete SELECT statement for your view. Traditional views support any valid SQL query."})]}),c.jsx(Pn,{}),c.jsxs(te,{children:[c.jsx(k,{size:"3",weight:"bold",mb:"3",children:"Target Location"}),c.jsxs(M,{gap:"3",children:[c.jsxs(te,{style:{flex:1},children:[c.jsx(k,{size:"2",weight:"medium",mb:"1",children:"Catalog"}),c.jsx(we.Root,{children:c.jsx(we.Input,{value:a.catalog_name,onChange:w=>v("catalog_name",w.target.value),placeholder:"catalog_name"})})]}),c.jsxs(te,{style:{flex:1},children:[c.jsx(k,{size:"2",weight:"medium",mb:"1",children:"Schema"}),c.jsx(we.Root,{children:c.jsx(we.Input,{value:a.schema_name,onChange:w=>v("schema_name",w.target.value),placeholder:"schema_name"})})]})]})]}),c.jsx(Pn,{}),c.jsxs(te,{children:[c.jsx(k,{size:"3",weight:"bold",mb:"3",children:"Tags"}),Object.keys(a.tags).length>0&&c.jsx(M,{gap:"2",wrap:"wrap",mb:"3",children:Object.entries(a.tags).map(([w,E])=>c.jsxs(Se,{variant:"soft",color:"gray",children:[w,": ",E,c.jsx(pe,{size:"1",variant:"ghost",color:"red",style:{marginLeft:"4px",padding:"0 2px"},onClick:()=>b(w),children:c.jsx(Jo,{})})]},w))}),c.jsxs(M,{gap:"2",align:"end",children:[c.jsxs(te,{style:{flex:1},children:[c.jsx(k,{size:"2",weight:"medium",mb:"1",children:"Key"}),c.jsx(we.Root,{children:c.jsx(we.Input,{placeholder:"e.g., department",value:d,onChange:w=>p(w.target.value)})})]}),c.jsxs(te,{style:{flex:1},children:[c.jsx(k,{size:"2",weight:"medium",mb:"1",children:"Value"}),c.jsx(we.Root,{children:c.jsx(we.Input,{placeholder:"e.g., finance",value:h,onChange:w=>m(w.target.value)})})]}),c.jsx(pe,{variant:"soft",onClick:g,disabled:!d.trim()||!h.trim(),children:"Add Tag"})]})]})]})}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",onClick:_,children:"Cancel"})}),c.jsx(pe,{onClick:x,style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white"},children:r?"Update View":"Create View"})]})]})})},mee=({open:e,onClose:t,sourceTable:n=null,targetMetricView:r=null,onSave:o})=>{const{createMetricRelationship:i}=ht(),[a,s]=f.useState([]),[l,u]=f.useState(new Set);f.useEffect(()=>{if(e&&n){console.log(" Initializing field mapping dialog:",{sourceTable:n.name,targetMetricView:r==null?void 0:r.name});const T=n.fields.map(B=>({field_id:B.id,field_name:B.name,field_type:B.data_type,field_comment:B.comment||"",mapping_type:"ignore",dimension_name:B.name,dimension_expr:B.name,measure_name:`${d(B.data_type).toLowerCase()}_${B.name}`,measure_expr:p(B),aggregation_type:d(B.data_type),is_window_measure:!1,window_type:"moving_average",window_size:7,window_unit:"day",partition_by:[],order_by:"",offset_periods:1,window_frame:""}));s(T),u(new Set)}},[e,n,r]);const d=T=>["BIGINT","INT","SMALLINT","TINYINT","FLOAT","DOUBLE","DECIMAL"].includes(T)?"SUM":"COUNT",p=T=>["BIGINT","INT","SMALLINT","TINYINT","FLOAT","DOUBLE","DECIMAL"].includes(T.data_type)?T.name:`COUNT(${T.name})`,h=T=>{switch(T){case"dimension":return c.jsx(cr,{style:{color:"#059669"}});case"measure":return c.jsx(Ut,{style:{color:"#dc2626"}});case"window_measure":return c.jsx(Ut,{style:{color:"#8b5cf6"}});default:return c.jsx(Jo,{style:{color:"#6b7280"}})}},m=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,mapping_type:B}:R))},[]),v=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,dimension_name:B}:R))},[]),g=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,dimension_expr:B}:R))},[]),b=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,measure_name:B}:R))},[]),y=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,measure_expr:B}:R))},[]),x=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,aggregation_type:B}:R))},[]),_=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,window_type:B,is_window_measure:!0,mapping_type:"window_measure"}:R))},[]),w=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,window_size:parseInt(B)||1}:R))},[]);f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,window_unit:B}:R))},[]);const E=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,partition_by:B.split(",").map(q=>q.trim()).filter(Boolean)}:R))},[]),j=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,order_by:B}:R))},[]),$=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,offset_periods:parseInt(B)||1}:R))},[]),A=f.useCallback((T,B)=>{s(I=>I.map(R=>R.field_id===T?{...R,window_frame:B}:R))},[]),C=f.useCallback(T=>{s(B=>B.map(I=>({...I,mapping_type:T})))},[]),S=f.useCallback(()=>{if(!n||!r){console.error(" Missing source table or target metric view");return}const T=a.filter(q=>q.mapping_type!=="ignore");console.log(" Saving field mappings:",{sourceTable:n.name,targetMetricView:r.name,activeMappings:T.length});const B=i(n.id,r.id,T),I=T.filter(q=>q.mapping_type==="dimension").map(q=>({id:`dim_${q.field_id}_${Date.now()}`,name:q.dimension_name,expr:q.dimension_expr,description:q.field_comment,data_type:q.field_type})),R=T.filter(q=>q.mapping_type==="measure").map(q=>({id:`measure_${q.field_id}_${Date.now()}`,name:q.measure_name,expr:q.measure_expr,description:q.field_comment,aggregation_type:q.aggregation_type,is_window_measure:!1,data_type:q.field_type}));o&&o({relationship:B,newDimensions:I,newMeasures:R,fieldMappings:T}),t()},[n,r,a,i,o,t]),D=f.useCallback(()=>{t()},[t]),O=a.filter(T=>T.mapping_type==="dimension").length,F=a.filter(T=>T.mapping_type==="measure").length,N=a.filter(T=>T.mapping_type==="window_measure").length,L=a.filter(T=>T.mapping_type==="ignore").length;return n?c.jsx(me.Root,{open:e,onOpenChange:t,children:c.jsxs(me.Content,{style:{maxWidth:"1000px",maxHeight:"80vh"},children:[c.jsx(me.Title,{children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Wq,{}),"Map Fields to Metric View"]})}),c.jsxs(me.Description,{children:["Map fields from ",c.jsx("strong",{children:n.name})," to dimensions and measures in"," ",c.jsx("strong",{children:(r==null?void 0:r.name)||"the metric view"})]}),c.jsxs(M,{gap:"3",style:{marginTop:"16px"},children:[c.jsxs(Se,{variant:"soft",color:"green",children:[c.jsx(cr,{})," ",O," Dimensions"]}),c.jsxs(Se,{variant:"soft",color:"red",children:[c.jsx(Ut,{})," ",F," Measures"]}),c.jsxs(Se,{variant:"soft",color:"purple",children:[c.jsx(Ut,{})," ",N," Window Measures"]}),c.jsxs(Se,{variant:"soft",color:"gray",children:[c.jsx(Jo,{})," ",L," Ignored"]})]}),c.jsxs(M,{gap:"2",style:{marginTop:"12px"},children:[c.jsxs(pe,{size:"1",variant:"soft",color:"green",onClick:()=>C("dimension"),children:[c.jsx(cr,{})," All as Dimensions"]}),c.jsxs(pe,{size:"1",variant:"soft",color:"red",onClick:()=>C("measure"),children:[c.jsx(Ut,{})," All as Measures"]}),c.jsxs(pe,{size:"1",variant:"soft",color:"gray",onClick:()=>C("ignore"),children:[c.jsx(Jo,{})," Ignore All"]})]}),c.jsx(Pn,{style:{margin:"16px 0"}}),c.jsx(Gt,{style:{height:"400px"},children:c.jsx(M,{direction:"column",gap:"3",children:a.map(T=>{var B;return c.jsx(Ve,{style:{padding:"12px"},children:c.jsxs(M,{direction:"column",gap:"3",children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsxs(M,{align:"center",gap:"3",children:[h(T.mapping_type),c.jsxs(te,{children:[c.jsx(k,{weight:"medium",size:"2",children:T.field_name}),c.jsxs(M,{gap:"2",align:"center",style:{marginTop:"2px"},children:[c.jsx(Se,{variant:"soft",size:"1",children:T.field_type}),T.field_comment&&c.jsx(k,{size:"1",color:"gray",children:T.field_comment})]})]})]}),c.jsxs(J.Root,{value:T.mapping_type,onValueChange:I=>m(T.field_id,I),children:[c.jsx(J.Trigger,{style:{minWidth:"120px"}}),c.jsxs(J.Content,{children:[c.jsx(J.Item,{value:"ignore",children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Jo,{})," Ignore"]})}),c.jsx(J.Item,{value:"dimension",children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(cr,{})," Dimension"]})}),c.jsx(J.Item,{value:"measure",children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Ut,{})," Measure"]})}),c.jsx(J.Item,{value:"window_measure",children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Ut,{style:{color:"#8b5cf6"}})," Window Measure"]})})]})]})]}),T.mapping_type==="dimension"&&c.jsxs(te,{style:{padding:"12px",background:"var(--green-2)",borderRadius:"6px",border:"1px solid var(--green-6)"},children:[c.jsx(k,{size:"1",weight:"medium",style:{marginBottom:"8px",display:"block"},children:"Dimension Configuration"}),c.jsxs(M,{gap:"3",children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Name"}),c.jsx("input",{type:"text",value:T.dimension_name,onChange:I=>v(T.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"}})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Expression"}),c.jsx("input",{type:"text",value:T.dimension_expr,onChange:I=>g(T.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]})]})]}),T.mapping_type==="measure"&&c.jsxs(te,{style:{padding:"12px",background:"var(--red-2)",borderRadius:"6px",border:"1px solid var(--red-6)"},children:[c.jsx(k,{size:"1",weight:"medium",style:{marginBottom:"8px",display:"block"},children:"Measure Configuration"}),c.jsxs(M,{gap:"3",children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Name"}),c.jsx("input",{type:"text",value:T.measure_name,onChange:I=>b(T.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"}})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Aggregation"}),c.jsxs(J.Root,{value:T.aggregation_type,onValueChange:I=>x(T.field_id,I),children:[c.jsx(J.Trigger,{style:{fontSize:"12px"}}),c.jsxs(J.Content,{children:[c.jsx(J.Item,{value:"SUM",children:"SUM"}),c.jsx(J.Item,{value:"COUNT",children:"COUNT"}),c.jsx(J.Item,{value:"AVG",children:"AVG"}),c.jsx(J.Item,{value:"MIN",children:"MIN"}),c.jsx(J.Item,{value:"MAX",children:"MAX"}),c.jsx(J.Item,{value:"COUNT_DISTINCT",children:"COUNT DISTINCT"})]})]})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:2},children:[c.jsx(k,{size:"1",children:"Expression"}),c.jsx("input",{type:"text",value:T.measure_expr,onChange:I=>y(T.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]})]})]}),T.mapping_type==="window_measure"&&c.jsxs(te,{style:{padding:"12px",background:"var(--purple-2)",borderRadius:"6px",border:"1px solid var(--purple-6)"},children:[c.jsx(k,{size:"1",weight:"medium",style:{marginBottom:"8px",display:"block"},children:"Window Measure Configuration"}),c.jsxs(M,{gap:"3",style:{marginBottom:"12px"},children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Name"}),c.jsx("input",{type:"text",value:T.measure_name,onChange:I=>b(T.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"}})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Base Expression"}),c.jsx("input",{type:"text",value:T.measure_expr,onChange:I=>y(T.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]})]}),c.jsxs(M,{gap:"3",style:{marginBottom:"12px"},children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Window Type"}),c.jsxs("select",{value:T.window_type,onChange:I=>_(T.field_id,I.target.value),style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"},children:[c.jsx("option",{value:"moving_average",children:"Moving Average"}),c.jsx("option",{value:"running_total",children:"Running Total"}),c.jsx("option",{value:"period_over_period",children:"Period over Period"}),c.jsx("option",{value:"cumulative_sum",children:"Cumulative Sum"}),c.jsx("option",{value:"rank",children:"Rank"}),c.jsx("option",{value:"row_number",children:"Row Number"}),c.jsx("option",{value:"percent_of_total",children:"Percent of Total"}),c.jsx("option",{value:"custom",children:"Custom Window Frame"})]})]}),T.window_type==="moving_average"&&c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Window Size"}),c.jsx("input",{type:"number",value:T.window_size,onChange:I=>w(T.field_id,I.target.value),min:"1",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"}})]}),T.window_type==="period_over_period"&&c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Offset Periods"}),c.jsx("input",{type:"number",value:T.offset_periods,onChange:I=>$(T.field_id,I.target.value),min:"1",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px"}})]})]}),c.jsxs(M,{gap:"3",style:{marginBottom:"12px"},children:[c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Partition By (comma-separated)"}),c.jsx("input",{type:"text",value:((B=T.partition_by)==null?void 0:B.join(", "))||"",onChange:I=>E(T.field_id,I.target.value),placeholder:"e.g., customer_id, region",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]}),c.jsxs(M,{direction:"column",gap:"1",style:{flex:1},children:[c.jsx(k,{size:"1",children:"Order By"}),c.jsx("input",{type:"text",value:T.order_by,onChange:I=>j(T.field_id,I.target.value),placeholder:"e.g., date_column, created_at",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]})]}),T.window_type==="custom"&&c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"1",children:"Custom Window Frame"}),c.jsx("input",{type:"text",value:T.window_frame,onChange:I=>A(T.field_id,I.target.value),placeholder:"e.g., ROWS BETWEEN 6 PRECEDING AND CURRENT ROW",style:{padding:"6px 8px",border:"1px solid var(--gray-6)",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]}),c.jsxs(te,{style:{marginTop:"12px",padding:"8px",background:"rgba(0,0,0,0.05)",borderRadius:"4px",fontSize:"11px",fontFamily:"monospace"},children:[c.jsx(k,{size:"1",weight:"medium",style:{marginBottom:"4px",display:"block"},children:"Generated SQL Preview:"}),c.jsx(k,{size:"1",style:{color:"#6b7280"},children:(()=>{var G;const I=T.measure_expr||T.field_name,R=(G=T.partition_by)!=null&&G.length?`PARTITION BY ${T.partition_by.join(", ")}`:"",q=T.order_by?`ORDER BY ${T.order_by}`:"";switch(T.window_type){case"moving_average":const Q=T.window_size?`ROWS BETWEEN ${T.window_size-1} PRECEDING AND CURRENT ROW`:"";return`AVG(${I}) OVER (${R} ${q} ${Q})`.trim();case"running_total":return`SUM(${I}) OVER (${R} ${q} ROWS UNBOUNDED PRECEDING)`.trim();case"period_over_period":const le=T.offset_periods||1;return`(${I} - LAG(${I}, ${le}) OVER (${R} ${q})) / LAG(${I}, ${le}) OVER (${R} ${q}) * 100`;default:return`${I} OVER (${R} ${q})`.trim()}})()})]})]})]})},T.field_id)})})}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",onClick:D,children:"Cancel"})}),c.jsxs(pe,{onClick:S,disabled:O===0&&F===0&&N===0,children:[c.jsx(c$,{}),"Create Relationship (",O+F+N," fields mapped)"]})]})]})}):null},gee=(e,t,n)=>{const r=(t==null?void 0:t.catalog_name)||"main",o=(t==null?void 0:t.schema_name)||"default",i=`${r}.${o}.${e.name}`;let a="your_source_table";if(e.source_table_id&&n){const m=n.find(v=>v.id===e.source_table_id);m&&(a=`${r}.${o}.${m.name}`)}const s=[];e.dimensions&&e.dimensions.length>0&&e.dimensions.forEach(m=>{const v=m.description?` COMMENT '${m.description}'`:"";s.push(`${m.name}${v}`)}),e.measures&&e.measures.length>0&&e.measures.forEach(m=>{const v=m.description?` COMMENT '${m.description}'`:"";s.push(`${m.name}${v}`)});const l=s.length>0?`
  (${s.join(`,
   `)})`:"",u=e.description?`
  COMMENT '${e.description}'`:"",d={version:e.version||"0.1",source:a,...e.joins&&e.joins.length>0&&{joins:e.joins.map(m=>({name:m.join_alias||m.joined_table_name,source:`${r}.${o}.${m.joined_table_name}`,on:m.join_condition}))},...e.filter&&{filter:e.filter},...e.dimensions&&e.dimensions.length>0&&{dimensions:e.dimensions.map(m=>{const v={name:m.name,expr:m.expr||m.name};return m.description&&(v.comment=m.description),v})},...e.measures&&e.measures.length>0&&{measures:e.measures.map(m=>{const v={name:m.name,expr:m.expr||"count(1)"};return m.description&&(v.comment=m.description),m.window&&m.window.length>0&&(v.window=m.window.map(g=>({order:g.order,range:g.range,...g.semiadditive&&{semiadditive:g.semiadditive}}))),v})}},p=(m,v=0)=>{const g="  ".repeat(v);return typeof m=="string"?m.includes(`
`)||m.length>80?`>
${g}  ${m.split(`
`).join(`
${g}  `)}`:m.includes(" ")||m.includes(":")||m.includes("#")?`"${m}"`:m:Array.isArray(m)?m.map(b=>{if(typeof b=="object"&&b!==null){const y=Object.entries(b).map(([x,_])=>`${g}    ${x}: ${p(_,v+2)}`).join(`
`);return`${g}  -
${y}`}return`${g}  - ${p(b,v+1)}`}).join(`
`):m},h=Object.entries(d).map(([m,v])=>Array.isArray(v)?`${m}:
${p(v,0)}`:`${m}: ${p(v,0)}`).join(`
`);return`CREATE OR REPLACE VIEW ${i}${l}
  WITH METRICS
  LANGUAGE YAML${u}
  AS $$
${h}
  $$;`},qi=new aT.graphlib.Graph;qi.setDefaultEdgeLabel(()=>({}));const b5=220,C5=180,vee=(e,t,n="TB")=>{const r=n==="LR";return qi.setGraph({rankdir:n,nodesep:50,ranksep:100,marginx:20,marginy:20}),e.forEach(o=>{var i,a;qi.setNode(o.id,{width:((i=o.data)==null?void 0:i.width)||b5,height:((a=o.data)==null?void 0:a.height)||C5})}),t.forEach(o=>{qi.setEdge(o.source,o.target)}),aT.layout(qi),e.forEach(o=>{var a,s;const i=qi.node(o.id);return o.targetPosition=r?"left":"top",o.sourcePosition=r?"right":"bottom",o.position={x:i.x-(((a=o.data)==null?void 0:a.width)||b5)/2,y:i.y-(((s=o.data)==null?void 0:s.height)||C5)/2},o}),{nodes:e,edges:t}},yee=(e,t,n,r,o,i,a=[])=>{if(console.log(" tablesToNodes called with:",{tables:(e==null?void 0:e.length)||"undefined",selectedTables:(a==null?void 0:a.length)||"undefined"}),!e||!Array.isArray(e))return console.log(" tablesToNodes: returning empty array - invalid tables"),[];try{const s=e.map((l,u)=>{if(console.log(` Processing table ${u}:`,(l==null?void 0:l.name)||"unnamed"),!l||!l.id)return console.warn("Invalid table data:",l),null;const d=Array.isArray(a)?a.some(h=>h&&h.id===l.id):!1,p={id:String(l.id),type:"table",position:{x:Number(l.position_x)||100,y:Number(l.position_y)||100},data:{table:l,width:Number(l.width)||220,height:Number(l.height)||180,onEdit:t,onDelete:n,onResize:r,onGenerateDDL:o,onApply:i,selected:d},style:{width:Number(l.width)||220,height:Number(l.height)||180},selected:d,selectable:!0,focusable:!0,draggable:!0};return console.log(` Created table node for ${l.name}:`,p.id,"draggable:",p.draggable),p}).filter(Boolean);return console.log(" tablesToNodes completed:",s.length,"nodes"),s}catch(s){return console.error(" Error in tablesToNodes:",s),[]}},xee=(e,t,n,r,o,i,a=[])=>{if(console.log(" metricViewsToNodes called with:",{metricViews:(e==null?void 0:e.length)||"undefined",selectedMetricViews:(a==null?void 0:a.length)||"undefined"}),!e||!Array.isArray(e))return console.log(" metricViewsToNodes: returning empty array - invalid metricViews"),[];try{const s=e.map((l,u)=>{if(console.log(` Processing metricView ${u}:`,(l==null?void 0:l.name)||"unnamed"),!l||!l.id)return console.warn("Invalid metric view data:",l),null;const d=Array.isArray(a)?a.some(h=>h&&h.id===l.id):!1,p={id:String(l.id),type:"metricView",position:{x:Number(l.position_x)||400,y:Number(l.position_y)||100},data:{metricView:l,width:Number(l.width)||280,height:Number(l.height)||220,onEdit:t,onDelete:n,onResize:r,onApply:o,onGenerateDDL:i,selected:d},style:{width:Number(l.width)||280,height:Number(l.height)||220},selected:d,selectable:!0,focusable:!0,draggable:!0};return console.log(` Created metricView node for ${l.name}:`,p.id,"draggable:",p.draggable),p}).filter(Boolean);return console.log(" metricViewsToNodes completed:",s.length,"nodes"),s}catch(s){return console.error(" Error in metricViewsToNodes:",s),[]}},_ee=(e,t=[])=>!e||!Array.isArray(e)?[]:e.map(n=>{if(!n||!n.id||!n.source_table_id||!n.target_table_id)return console.warn("Invalid relationship data:",n),null;const r=t.some(o=>o.id===n.id);return{id:String(n.id),source:String(n.source_table_id),target:String(n.target_table_id),type:"smoothstep",animated:!1,style:{stroke:r?"#ef4444":"#94a3b8",strokeWidth:r?3:2},markerEnd:{type:"arrowclosed",color:r?"#ef4444":"#94a3b8"},selected:r,selectable:!0,focusable:!0,data:{relationship:n}}}).filter(Boolean),wee=(e,t=[])=>!e||!Array.isArray(e)?[]:e.map(n=>{if(!n||!n.id||!n.source_table_id||!n.metric_view_id)return console.warn("Invalid metric relationship data:",n),null;const r=t.some(o=>o.id===n.id);return{id:String(n.id),source:String(n.source_table_id),target:String(n.metric_view_id),type:"smoothstep",animated:!0,style:{stroke:"#8b5cf6",strokeWidth:3,strokeDasharray:"5,5"},markerEnd:{type:"arrowclosed",color:"#8b5cf6",width:20,height:20},label:"Metric Source",labelStyle:{fontSize:"10px",fontWeight:"bold",color:"#8b5cf6",background:"rgba(255, 255, 255, 0.9)",padding:"2px 6px",borderRadius:"4px",border:"1px solid #8b5cf6"},labelBgStyle:{fill:"rgba(255, 255, 255, 0.9)",fillOpacity:.9},selected:r,selectable:!0,focusable:!0,data:{relationship:n}}}).filter(Boolean),bee=(e,t,n,r,o,i,a=[])=>{if(console.log(" traditionalViewsToNodes called with:",{traditionalViews:(e==null?void 0:e.length)||"undefined",selectedTraditionalViews:(a==null?void 0:a.length)||"undefined"}),!e||!Array.isArray(e))return console.log(" traditionalViewsToNodes: returning empty array - invalid traditionalViews"),[];try{const s=e.map((l,u)=>{if(console.log(` Processing traditionalView ${u}:`,(l==null?void 0:l.name)||"unnamed"),!l||!l.id)return console.warn("Invalid traditional view data:",l),null;const d=Array.isArray(a)?a.some(h=>h&&h.id===l.id):!1,p={id:String(l.id),type:"traditionalView",position:{x:Number(l.position_x)||600,y:Number(l.position_y)||100},data:{traditionalView:l,width:Number(l.width)||250,height:Number(l.height)||180,onEdit:t,onDelete:n,onResize:r,onApply:o,onGenerateDDL:i,selected:d},style:{width:Number(l.width)||250,height:Number(l.height)||180},selected:d,selectable:!0,focusable:!0,draggable:!0};return console.log(` Created traditionalView node for ${l.name}:`,p.id,"draggable:",p.draggable),p}).filter(Boolean);return console.log(" traditionalViewsToNodes completed:",s.length,"nodes"),s}catch(s){return console.error(" Error in traditionalViewsToNodes:",s),[]}},Cee=({onTableCreate:e,onDragStart:t})=>{const{tables:n}=ht(),r=(o,i)=>{o.dataTransfer.setData("application/reactflow",i),o.dataTransfer.effectAllowed="move",t&&t(o,i)};return c.jsxs(te,{style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3,width:"280px",background:"white",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0",overflow:"hidden"},children:[c.jsxs(te,{style:{padding:"16px",background:"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[c.jsx(k,{size:"3",weight:"bold",style:{color:"#1e293b"},children:"Table Creation"}),c.jsx(k,{size:"1",style:{color:"#64748b",marginTop:"4px"},children:"Drag tables onto the canvas"})]}),c.jsx(te,{style:{padding:"16px"},children:c.jsxs(M,{direction:"column",gap:"3",children:[c.jsx(Ve,{style:{cursor:"grab",padding:"12px",border:"2px dashed #94a3b8",background:"#f8fafc"},draggable:!0,onDragStart:o=>r(o,"new_table"),onClick:e,children:c.jsxs(M,{align:"center",gap:"3",children:[c.jsx(te,{style:{color:"#64748b",fontSize:"18px"},children:c.jsx(pr,{})}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",style:{color:"#1e293b"},children:"New Table"}),c.jsx(k,{size:"1",style:{color:"#64748b"},children:"Create custom table"})]}),c.jsx(te,{style:{marginLeft:"auto",color:"#94a3b8"},children:c.jsx(kb,{})})]})}),c.jsx(Pn,{}),n&&n.length>0&&c.jsxs(te,{children:[c.jsxs(k,{size:"2",weight:"bold",style:{color:"#374151",marginBottom:"8px"},children:["Existing Tables (",n.length,")"]}),c.jsx(M,{direction:"column",gap:"2",style:{maxHeight:"300px",overflowY:"auto"},children:n.map(o=>{var i;return c.jsx(Ve,{style:{cursor:"grab",padding:"8px 12px",border:"1px solid #e2e8f0",background:"white"},draggable:!0,onDragStart:a=>r(a,`existing_${o.id}`),children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Se,{color:"blue",size:"1",children:o.name}),c.jsxs(k,{size:"1",style:{color:"#64748b",flex:1},children:[((i=o.fields)==null?void 0:i.length)||0," fields"]}),c.jsx(te,{style:{color:"#94a3b8"},children:c.jsx(kb,{})})]})},o.id)})})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",style:{color:"#374151",marginBottom:"8px"},children:"Quick Templates"}),c.jsxs(M,{direction:"column",gap:"2",children:[c.jsx(Ve,{style:{cursor:"grab",padding:"8px 12px",border:"1px solid #e2e8f0",background:"#fef3c7"},draggable:!0,onDragStart:o=>r(o,"template_customer"),children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Se,{color:"amber",size:"1",children:"Customer"}),c.jsx(k,{size:"1",style:{color:"#92400e"},children:"ID, Name, Email"})]})}),c.jsx(Ve,{style:{cursor:"grab",padding:"8px 12px",border:"1px solid #e2e8f0",background:"#dbeafe"},draggable:!0,onDragStart:o=>r(o,"template_order"),children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Se,{color:"blue",size:"1",children:"Order"}),c.jsx(k,{size:"1",style:{color:"#1e40af"},children:"ID, Customer ID, Amount"})]})}),c.jsx(Ve,{style:{cursor:"grab",padding:"8px 12px",border:"1px solid #e2e8f0",background:"#dcfce7"},draggable:!0,onDragStart:o=>r(o,"template_product"),children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Se,{color:"green",size:"1",children:"Product"}),c.jsx(k,{size:"1",style:{color:"#166534"},children:"ID, Name, Price"})]})})]})]})]})})]})},See=()=>{console.log(" ERDCanvasComponent: Starting component initialization");const e=ht(),{tables:t=[],metricViews:n=[],traditionalViews:r=[],relationships:o=[],metricRelationships:i=[],selectedTables:a=[],selectedMetricViews:s=[],selectedTraditionalViews:l=[],selectedRelationships:u=[],currentProject:d=null,catalogName:p="",schemaName:h="",updateTable:m=()=>{},addRelationship:v=()=>{},deleteRelationship:g=()=>{},setSelectedTables:b=()=>{},setSelectedMetricViews:y=()=>{},setSelectedTraditionalViews:x=()=>{},setSelectedRelationships:_=()=>{},generateDDL:w=()=>Promise.resolve({}),applyChanges:E=()=>Promise.resolve({}),applyMetricView:j=()=>Promise.resolve({}),setShowTableDialog:$=()=>{},setShowMetricViewDialog:A=()=>{},setShowFieldMappingDialog:C=()=>{},setShowImportDialog:S=()=>{},addTable:D=()=>{},deleteTable:O=()=>{},createMetricView:F=()=>{},updateMetricView:N=()=>{},deleteMetricView:L=()=>{},updateMetricViewPosition:T=()=>{},updateMetricViewSize:B=()=>{},createTraditionalView:I=()=>{},updateTraditionalView:R=()=>{},deleteTraditionalView:q=()=>{},updateTraditionalViewPosition:G=()=>{},updateTraditionalViewSize:Q=()=>{},setShowTraditionalViewDialog:le=()=>{},applyTraditionalView:ie=()=>Promise.resolve({}),generateTraditionalViewDDL:fe=()=>Promise.resolve({}),createMetricRelationship:he=()=>{},deleteMetricRelationship:z=()=>{}}=e||{};console.log(" ERDCanvasComponent: Destructuring completed successfully");const[U,V]=f.useState(!1),[P,W]=f.useState(null),[H,ge]=f.useState(!1),[ce,K]=f.useState(!1),[Y,oe]=f.useState(null),[ae,ve]=f.useState({sourceTable:null,targetMetricView:null}),[Ae,ye]=f.useState(!1),[ke,$e]=f.useState(null),[Xe,wt]=f.useState(!1),[je,We]=f.useState(null),[Ot,xn]=f.useState(!1),[tt,$t]=f.useState(null),[_n,bt]=f.useState(!1),[ut,wn]=f.useState(null),[bn,no]=f.useState(!1),[Ha,wr]=f.useState(!1),[Cn,ro]=f.useState(null),br=f.useCallback(X=>{const ee=ht.getState();console.log("handleTableEdit called with table:",X),console.log("Current editingTable state:",ee.editingTable),ee.setShowTableDialog(!0,X),console.log("After setShowTableDialog, editingTable state:",ee.editingTable)},[]),Ua=f.useCallback(()=>{ht.getState().setShowTableDialog(!0,null)},[]),tf=f.useCallback(X=>{window.confirm("Are you sure you want to delete this table?")&&O(X)},[O]),nf=f.useCallback((X,ee,se)=>{m(X,{width:ee,height:se})},[m]),rf=f.useCallback(X=>{console.log(" Opening DDL progress dialog for table:",X.name),wn(X.id),bt(!0)},[]),of=f.useCallback(X=>{console.log(" Opening apply progress dialog for table:",X.name),$t(X.id),xn(!0)},[]),af=f.useCallback(async(X,ee,se)=>(console.log(" ERDCanvas: handleApplyProgressWithTable called"),console.log(" Selected warehouse:",ee),console.log(" Session ID:",se),console.log(" Table ID to apply:",tt),await E(tt?[tt]:[],!0,ee,se)),[E,tt]),sf=f.useCallback(async X=>(console.log(" ERDCanvas: handleGenerateDDLWithProgress called"),console.log(" Table IDs:",X),await w(X||(ut?[ut]:[]))),[w,ut]),lf=f.useCallback(async X=>{console.log(" ERDCanvas: handleMetricViewGenerateDDLWithProgress called"),console.log(" Metric View IDs:",X);const ee=X||(Cn?[Cn]:[]),se=n.find(Re=>Re.id===ee[0]);if(!se)throw new Error("Metric view not found");const ue=gee(se,d,t);return{ddl_statements:[{table_name:se.name,ddl:ue,warnings:[]}]}},[Cn,n,d,t]);f.useCallback(async X=>{var ee,se;console.log(" ERDCanvas: handleMetricViewApplySimple called"),console.log(" Metric View to apply:",X.name);try{const ue=await j(X.id,!0,null);console.log(" Metric view applied successfully:",ue),alert(` Metric view "${X.name}" applied successfully to ${ue.catalog_name}.${ue.schema_name}`)}catch(ue){console.error(" Error applying metric view:",ue);let Re="Failed to apply metric view";(se=(ee=ue.response)==null?void 0:ee.data)!=null&&se.error?Re=ue.response.data.error:ue.message&&(Re=ue.message),alert(` Error applying metric view "${X.name}": ${Re}`)}},[j]);const Al=f.useCallback(async X=>{var ee,se,ue,Re,qe;console.log(" ERDCanvas: handleMetricViewApplyDirect called"),console.log(" Metric View to apply:",X.name);try{const Pe=await j(X.id,!0,null);console.log(" Metric view applied successfully:",Pe),alert(` Metric view "${X.name}" applied successfully to ${Pe.catalog_name}.${Pe.schema_name}`)}catch(Pe){console.error(" Error applying metric view:",Pe);let Ue="Failed to apply metric view";if(((ee=Pe.response)==null?void 0:ee.status)===400&&((ue=(se=Pe.response)==null?void 0:se.data)!=null&&ue.error)){const lt=Pe.response.data.error;lt.includes("TABLE_OR_VIEW_NOT_FOUND")?Ue="The source table for this metric view was not found in the target catalog/schema. Please ensure the source table exists or choose a different catalog/schema.":lt.includes("SCHEMA_NOT_FOUND")?Ue="The target schema was not found. Please check the schema name and permissions.":lt.includes("CATALOG_NOT_FOUND")?Ue="The target catalog was not found. Please check the catalog name and permissions.":Ue=lt}else(qe=(Re=Pe.response)==null?void 0:Re.data)!=null&&qe.error?Ue=Pe.response.data.error:Pe.message&&(Ue=Pe.message);alert(` Error applying metric view "${X.name}": ${Ue}`)}},[j]),cf=f.useCallback(async(X,ee,se)=>{if(console.log(" ERDCanvas: handleMetricViewApplyWithProgress called - redirecting to simple apply"),wr(!1),ro(null),Cn){const ue=n.find(Re=>Re.id===Cn);ue&&await Al(ue)}return{message:"Metric view apply completed"}},[Cn,n,Al]),uf=f.useCallback(X=>{console.log(" Editing metric view:",X.name),oe(X),ge(!0)},[]),Il=f.useCallback((X=null)=>{if(console.log(" Creating new metric view, sourceTableId:",X),t.length===0){alert("You need to create or import at least one table before creating a metric view. Metric views require a source table to define dimensions and measures.");return}oe(null),ge(!0)},[t.length]),df=f.useCallback(X=>{window.confirm(`Are you sure you want to delete the metric view "${X.name}"?`)&&(console.log(" Deleting metric view:",X.name),L(X.id))},[L]),Ml=f.useCallback((X,ee,se)=>{console.log(" Resizing metric view:",X,{newWidth:ee,newHeight:se}),B(X,ee,se)},[B]),ff=f.useCallback(X=>{console.log(" Opening apply progress dialog for metric view:",X.name),ro(X.id),wr(!0)},[]),pf=f.useCallback(X=>{console.log(" Opening DDL progress dialog for metric view:",X.name),ro(X.id),no(!0)},[]),hf=f.useCallback(X=>{console.log(" Editing traditional view:",X.name),$e(X),ye(!0)},[]),mf=f.useCallback(X=>{window.confirm(`Are you sure you want to delete the traditional view "${X.name}"?`)&&(console.log(" Deleting traditional view:",X.name),q(X.id))},[q]),gf=f.useCallback((X,ee,se)=>{console.log(" Resizing traditional view:",X,{newWidth:ee,newHeight:se}),Q(X,ee,se)},[Q]),vf=f.useCallback(async X=>{var ee,se;console.log(" Applying traditional view:",X.name);try{const ue=await ie(X.id,!0,null);console.log(" Traditional view applied successfully:",ue),alert(` Traditional view "${X.name}" applied successfully to ${ue.catalog_name}.${ue.schema_name}`)}catch(ue){console.error(" Error applying traditional view:",ue);let Re="Failed to apply traditional view";(se=(ee=ue.response)==null?void 0:ee.data)!=null&&se.error?Re=ue.response.data.error:ue.message&&(Re=ue.message),alert(` Error applying traditional view "${X.name}": ${Re}`)}},[ie]),yf=f.useCallback(async X=>{var ee,se;console.log(" Generating DDL for traditional view:",X.name);try{const ue=await fe(X.id);console.log(" Traditional view DDL generated successfully:",ue),alert(`DDL for "${X.name}":

${ue.ddl}`)}catch(ue){console.error(" Error generating traditional view DDL:",ue);let Re="Failed to generate DDL for traditional view";(se=(ee=ue.response)==null?void 0:ee.data)!=null&&se.error?Re=ue.response.data.error:ue.message&&(Re=ue.message),alert(` Error generating DDL for "${X.name}": ${Re}`)}},[fe]),xf=f.useCallback(()=>{console.log(" Creating new traditional view"),$e(null),ye(!0)},[]),Ol=f.useCallback(X=>{console.log(" Saving metric view:",X),Y?N(Y.id,X):F(X),ge(!1),oe(null)},[Y,N,F]),_f=f.useCallback(X=>{console.log(" Saving traditional view:",X),ke?R(ke.id,X):I(X),ye(!1),$e(null)},[ke,R,I]),wf=f.useCallback(X=>{console.log(" Saving field mapping:",X);const{relationship:ee,newDimensions:se,newMeasures:ue}=X;if(ae.targetMetricView){const Re={...ae.targetMetricView,dimensions:[...ae.targetMetricView.dimensions||[],...se],measures:[...ae.targetMetricView.measures||[],...ue]};N(ae.targetMetricView.id,Re)}K(!1),ve({sourceTable:null,targetMetricView:null})},[ae,N]),Ll=f.useRef(null),[zl,bf]=f.useState(null),[Ga,qo,Cf]=GW([]),[Wa,$i,Ka]=WW([]),[Ri,R_]=f.useState(null);f.useEffect(()=>{try{console.log(" Starting canvas update with data:",{tables:Array.isArray(t)?t.length:"not array",metricViews:Array.isArray(n)?n.length:"not array",relationships:Array.isArray(o)?o.length:"not array",metricRelationships:Array.isArray(i)?i.length:"not array"});const X=Array.isArray(t)?t:[],ee=Array.isArray(n)?n:[],se=Array.isArray(r)?r:[],ue=Array.isArray(o)?o:[],Re=Array.isArray(i)?i:[],qe=Array.isArray(a)?a:[],Pe=Array.isArray(s)?s:[],Ue=Array.isArray(l)?l:[],lt=Array.isArray(u)?u:[],dt=yee(X,br,tf,nf,rf,of,qe),Cr=xee(ee,uf,df,Ml,ff,pf,Pe),Ef=bee(se,hf,mf,gf,vf,yf,Ue),jf=_ee(ue,lt),$f=wee(Re,lt),vT=[...Array.isArray(dt)?dt:[],...Array.isArray(Cr)?Cr:[],...Array.isArray(Ef)?Ef:[]],yT=[...Array.isArray(jf)?jf:[],...Array.isArray($f)?$f:[]];console.log(" Canvas update successful:",{tables:dt.length,metricViews:Cr.length,traditionalViews:Ef.length,relationships:jf.length,metricRelationships:$f.length}),qo(vT),$i(yT)}catch(X){console.error(" Error updating canvas nodes/edges:",X),console.error(" Error stack:",X.stack),qo([]),$i([])}},[t,n,r,o,i,a,s,l,u]);const sT=f.useCallback((X,{nodeId:ee,handleType:se,handleId:ue})=>{console.log(" Connection START:",{nodeId:ee,handleType:se,handleId:ue});const Re=t.find(Pe=>Pe.id===ee),qe=n.find(Pe=>Pe.id===ee);R_({sourceNodeId:ee,sourceTableName:Re==null?void 0:Re.name,sourceMetricViewName:qe==null?void 0:qe.name,nodeType:Re?"table":qe?"metricView":"unknown",handleType:se,handleId:ue})},[t,n]),lT=f.useCallback(X=>{console.log(" Connection END:",X),setTimeout(()=>R_(null),100)},[]),cT=f.useCallback(X=>{try{console.log(" onConnect called with params:",X),console.log(" Connection drag state:",Ri);const ee=t.find(Ue=>Ue.id===X.source),se=t.find(Ue=>Ue.id===X.target),ue=n.find(Ue=>Ue.id===X.source),Re=n.find(Ue=>Ue.id===X.target);if(console.log(" Connection types:",{sourceTable:ee==null?void 0:ee.name,targetTable:se==null?void 0:se.name,sourceMetricView:ue==null?void 0:ue.name,targetMetricView:Re==null?void 0:Re.name}),ee&&Re){console.log(" Table  Metric View connection detected!"),ve({sourceTable:ee,targetMetricView:Re}),K(!0);return}if(ue&&se){console.log(" Metric View  Table connection detected (reversing)!"),ve({sourceTable:se,targetMetricView:ue}),K(!0);return}if(!ee||!se){console.warn(" Invalid connection: both nodes must be tables for FK relationships");return}console.log(" ReactFlow params.source:",X.source,"(",ee==null?void 0:ee.name,")"),console.log(" ReactFlow params.target:",X.target,"(",se==null?void 0:se.name,")");let qe,Pe;if(Ri&&Ri.sourceNodeId){const Ue=t.find(dt=>dt.id===Ri.sourceNodeId),lt=t.find(dt=>dt.id!==Ri.sourceNodeId&&(dt.id===X.source||dt.id===X.target));Ue&&lt?(qe=Ue,Pe=lt,console.log(" Using CONNECTION DRAG STATE:",`${Ue.name} -> ${lt.name}`)):(qe=table1,Pe=table2,console.log(" Fallback to Interpretation 1 (drag state incomplete)"))}else qe=table1,Pe=table2,console.log(" Fallback to Interpretation 1 (no drag state)");qe&&Pe?(W({sourceTable:qe,targetTable:Pe,params:X}),V(!0)):console.warn(" PK table or FK table not found")}catch(ee){console.error(" Error preparing relationship dialog:",ee)}},[t,Ri]),uT=f.useCallback(X=>{try{const{sourceTable:ee,targetTable:se,primaryKey:ue,fkFieldName:Re,useExistingField:qe,existingFieldId:Pe,createNewField:Ue}=X;console.log(" Creating relationship with config:",X);let lt;if(qe&&Pe){if(lt=se.fields.find(dt=>dt.id===Pe),lt){const dt=se.fields.map(Cr=>Cr.id===Pe?{...Cr,is_foreign_key:!0,foreign_key_reference:{referenced_table_id:ee.id,referenced_field_id:ue.id,constraint_name:`fk_${se.name}_${Re}`,on_delete:"NO ACTION",on_update:"NO ACTION"}}:Cr);m(se.id,{fields:dt}),lt=dt.find(Cr=>Cr.id===Pe)}}else Ue&&(lt={id:Ke(),name:Re,data_type:ue.data_type,type_parameters:ue.type_parameters,nullable:!0,is_foreign_key:!0,foreign_key_reference:{referenced_table_id:ee.id,referenced_field_id:ue.id,constraint_name:`fk_${se.name}_${Re}`,on_delete:"NO ACTION",on_update:"NO ACTION"},comment:`Foreign key to ${ee.name}.${ue.name}`,logical_name:ue.logical_name||ue.name},m(se.id,{fields:[...se.fields||[],lt]}));if(lt){const dt=v({id:Ke(),source_table_id:ee.id,target_table_id:se.id,source_field_id:ue.id,target_field_id:lt.id,relationship_type:"one_to_many",constraint_name:`fk_${se.name}_${Re}`,fk_table_id:se.id,fk_field_id:lt.id,foreign_key_reference:{referenced_table_id:ee.id,referenced_field_id:ue.id,constraint_name:`fk_${se.name}_${Re}`,on_delete:"NO ACTION",on_update:"NO ACTION"}});console.log(" Relationship created successfully!",dt)}W(null)}catch(ee){console.error(" Error creating relationship:",ee)}},[m,v]),dT=f.useCallback(X=>{X.preventDefault(),X.dataTransfer.dropEffect="move"},[]),fT=f.useCallback(X=>{X.preventDefault();const ee=Ll.current.getBoundingClientRect(),se=X.dataTransfer.getData("application/reactflow");if(typeof se>"u"||!se)return;const ue=zl.screenToFlowPosition({x:X.clientX-ee.left,y:X.clientY-ee.top});if(se==="new_table")Ua();else if(se.startsWith("existing_"))console.log("Existing table drag:",se);else if(se.startsWith("template_")){const Re=se.replace("template_","");pT(Re,ue)}},[zl,$]),pT=(X,ee)=>{let se="",ue=[];switch(X){case"customer":se="customers",ue=[{id:Ke(),name:"customer_id",data_type:"BIGINT",nullable:!1,is_primary_key:!0,comment:"Unique customer identifier"},{id:Ke(),name:"first_name",data_type:"STRING",nullable:!1,comment:"Customer first name"},{id:Ke(),name:"last_name",data_type:"STRING",nullable:!1,comment:"Customer last name"},{id:Ke(),name:"email",data_type:"STRING",nullable:!0,comment:"Customer email address"}];break;case"order":se="orders",ue=[{id:Ke(),name:"order_id",data_type:"BIGINT",nullable:!1,is_primary_key:!0,comment:"Unique order identifier"},{id:Ke(),name:"customer_id",data_type:"BIGINT",nullable:!1,is_foreign_key:!0,comment:"Reference to customer"},{id:Ke(),name:"order_date",data_type:"TIMESTAMP",nullable:!1,comment:"Order date and time"},{id:Ke(),name:"total_amount",data_type:"DECIMAL",type_parameters:{precision:10,scale:2},nullable:!1,comment:"Total order amount"}];break;case"product":se="products",ue=[{id:Ke(),name:"product_id",data_type:"BIGINT",nullable:!1,is_primary_key:!0,comment:"Unique product identifier"},{id:Ke(),name:"product_name",data_type:"STRING",nullable:!1,comment:"Product name"},{id:Ke(),name:"price",data_type:"DECIMAL",type_parameters:{precision:10,scale:2},nullable:!1,comment:"Product price"},{id:Ke(),name:"category",data_type:"STRING",nullable:!0,comment:"Product category"}];break;default:return}const Re={id:Ke(),name:se,logical_name:se.charAt(0).toUpperCase()+se.slice(1),comment:`Template ${X} table`,table_type:"MANAGED",file_format:"DELTA",position_x:ee.x,position_y:ee.y,width:220,height:180,fields:ue};D(Re)},hT=f.useCallback((X,ee)=>{try{console.log(" Node drag stopped:",ee.id,ee.type,ee.position),ee.type==="table"?(m(ee.id,{position_x:ee.position.x,position_y:ee.position.y}),console.log(" Updated table position:",ee.id)):ee.type==="metricView"&&(N(ee.id,{position_x:ee.position.x,position_y:ee.position.y}),console.log(" Updated metric view position:",ee.id))}catch(se){console.error("Error updating node position:",se)}},[m,N]),Fl=f.useCallback(X=>{try{const{nodes:ee,edges:se}=vee(Ga,Wa,X);qo([...ee]),$i([...se]),ee.forEach(ue=>{m(ue.id,{position_x:ue.position.x,position_y:ue.position.y})})}catch(ee){console.error("Error applying layout:",ee)}},[Ga,Wa,qo,$i,m]),mT=f.useCallback(X=>{try{console.log("Selection change - full params:",X);const ee=(X==null?void 0:X.nodes)||[],se=(X==null?void 0:X.edges)||[];if(console.log("Selection change - selectedNodes:",ee.length,"selectedEdges:",se.length),ee&&Array.isArray(ee)?(b(ee),console.log("Selected tables updated:",ee.length)):b([]),se&&Array.isArray(se)){const ue=se.map(Re=>{var qe;return(qe=Re.data)==null?void 0:qe.relationship}).filter(Boolean);_(ue),console.log("Selected relationships updated:",ue.length)}else _([])}catch(ee){console.error("Error handling selection change:",ee),b([]),_([])}},[b,_]),Sf=f.useCallback(X=>{if(X.key==="Delete"||X.key==="Backspace"){let ee=!1,se="";if(a&&a.length>0){ee=!0;const ue=a.map(Re=>{var qe,Pe;return((Pe=(qe=Re.data)==null?void 0:qe.table)==null?void 0:Pe.name)||"Unknown"}).join(", ");se+=a.length===1?`Delete table "${ue}"`:`Delete ${a.length} tables (${ue})`}u&&u.length>0&&(ee=!0,se&&(se+=" and "),se+=u.length===1?"1 relationship":`${u.length} relationships`),ee&&window.confirm(`Are you sure you want to ${se}?`)&&(a.forEach(ue=>{var Re,qe;(qe=(Re=ue.data)==null?void 0:Re.table)!=null&&qe.id&&O(ue.data.table.id)}),u.forEach(ue=>{ue.id&&g(ue.id)}),b([]),_([])),X.preventDefault()}},[a,u,O,g,b,_]);if(f.useEffect(()=>{const X=ee=>{["INPUT","TEXTAREA","SELECT"].includes(ee.target.tagName)||Sf(ee)};return document.addEventListener("keydown",X),()=>{document.removeEventListener("keydown",X)}},[Sf]),f.useCallback(async()=>{var X;console.log("handleGenerateDDL called, selectedTables:",a);try{const ee=a.map(Ue=>Ue.id);console.log("Selected table IDs:",ee);const ue=((X=(await w(ee.length>0?ee:[])).ddl_statements)==null?void 0:X.map(Ue=>Ue.ddl).join(`

`))||"No DDL generated",Re=new Blob([ue],{type:"text/sql"}),qe=URL.createObjectURL(Re),Pe=document.createElement("a");Pe.href=qe,Pe.download=`${(d==null?void 0:d.name)||"tables"}_ddl.sql`,Pe.click(),URL.revokeObjectURL(qe)}catch(ee){console.error("Error generating DDL:",ee)}},[a,w,d]),f.useCallback(async()=>{console.log(" handleApplyChanges called, selectedTables:",a),console.log(" Current project:",d),console.log(" Catalog/Schema:",p,"/",h);try{const X=a.map(se=>se.id);console.log(" Selected table IDs for apply:",X),console.log(" Calling applyChanges...");const ee=await E(X.length>0?X:[],!0);if(console.log(" Apply changes result:",ee),ee&&ee.results){const se=ee.results.filter(qe=>qe.success).length,ue=ee.results.length,Re=ue-se;if(console.log(` Apply results: ${se}/${ue} tables successful to ${ee.catalog_name}.${ee.schema_name}`),se===ue){const qe=ee.results.filter(Pe=>Pe.success&&Pe.warnings&&Pe.warnings.length>0);if(qe.length>0){const Pe=qe.map(Ue=>({title:`Table: ${Ue.table_name}`,message:Ue.warnings.join("; ")}));We({title:"Applied with Warnings",message:` Successfully applied all ${ue} tables to ${ee.catalog_name}.${ee.schema_name}, but some operations had warnings.`,details:`Target: ${ee.catalog_name}.${ee.schema_name}`,errors:Pe}),wt(!0)}else alert(` Successfully applied all ${ue} tables to ${ee.catalog_name}.${ee.schema_name}`)}else if(Re>0){const Pe=ee.results.filter(dt=>!dt.success).map(dt=>({title:`Table: ${dt.table_name}`,message:dt.error||"Unknown error occurred"})),Ue=se>0?"Partial Failure":"Apply Failed",lt=se>0?`${se} of ${ue} tables were applied successfully, but ${Re} failed.`:`Failed to apply any of the ${ue} selected tables to ${ee.catalog_name}.${ee.schema_name}.`;We({title:Ue,message:lt,details:`Target: ${ee.catalog_name}.${ee.schema_name}`,errors:Pe}),wt(!0)}}}catch(X){console.error(" Error applying changes:",X),alert(`Error applying changes: ${X.message||X}`)}},[a,E,d,p,h]),(!t||t.length===0)&&(!n||n.length===0)&&(!r||r.length===0))return c.jsx(te,{style:{width:"100%",height:"95vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"20px"},children:c.jsxs(te,{style:{textAlign:"center",maxWidth:"600px"},children:[c.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",color:"#1e293b"},children:"Welcome to Databricks Data Modeler"}),c.jsx("p",{style:{fontSize:"1.2rem",color:"#64748b",marginBottom:"2rem"},children:"Entity Relationship Diagram tool for Databricks Unity Catalog (Experimental)"}),c.jsxs(te,{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[c.jsxs(pe,{size:"3",onClick:Ua,children:[c.jsx(pr,{})," Create New Table"]}),c.jsxs(pe,{size:"3",color:"purple",onClick:Il,children:[c.jsx(Ut,{})," Create Metric View"]}),c.jsxs(pe,{size:"3",variant:"outline",onClick:()=>S(!0),children:[c.jsx(ol,{})," Import from Databricks"]})]}),c.jsxs(te,{style:{marginTop:"3rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[c.jsx("h3",{style:{marginBottom:"1rem",color:"#1e293b"},children:"Features"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",textAlign:"left"},children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Visual ERD:"})," Drag-and-drop table design"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Data Types:"})," Full Databricks type support"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Constraints:"})," Primary keys & foreign keys"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Templates:"})," Quick-start table templates"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"DDL Export:"})," Generate SQL scripts"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Unity Catalog:"})," Direct Databricks integration"]})]})]})]})});const gT={table:aee,metricView:lee,traditionalView:cee};return c.jsxs(a_,{children:[c.jsxs(te,{style:{width:"100%",height:"95vh",position:"relative"},children:[c.jsx(Cee,{onTableCreate:Ua,onDragStart:(X,ee)=>{console.log("Dragging:",ee)}}),c.jsxs(P9,{ref:Ll,nodes:Ga,edges:Wa,onNodesChange:Cf,onEdgesChange:Ka,onConnect:cT,onConnectStart:sT,onConnectEnd:lT,onInit:bf,onDrop:fT,onDragOver:dT,onNodeDragStop:hT,onNodeDrag:(X,ee)=>{console.log(" Node dragging:",ee.id,ee.type,ee.position)},onSelectionChange:mT,nodeTypes:gT,connectionLineType:kr.SmoothStep,multiSelectionKeyCode:["Meta","Ctrl"],selectNodesOnDrag:!0,fitView:!0,style:{background:"#f8fafc"},children:[c.jsx(uK,{}),c.jsx(rK,{nodeColor:X=>{switch(X.type){case"table":return"#e0f2fe";default:return"#eee"}}}),c.jsx(gK,{variant:"dots",gap:12,size:1}),c.jsx(dl,{position:"top-right",children:c.jsxs(M,{gap:"2",children:[c.jsxs(Te.Root,{children:[c.jsx(Te.Trigger,{children:c.jsxs(pe,{variant:"surface",size:"2",children:[c.jsx(il,{})," Layout"]})}),c.jsxs(Te.Content,{children:[c.jsx(Te.Item,{onClick:()=>Fl("TB"),children:"Top to Bottom"}),c.jsx(Te.Item,{onClick:()=>Fl("BT"),children:"Bottom to Top"}),c.jsx(Te.Item,{onClick:()=>Fl("LR"),children:"Left to Right"}),c.jsx(Te.Item,{onClick:()=>Fl("RL"),children:"Right to Left"})]})]}),c.jsxs(pe,{variant:"surface",size:"2",onClick:()=>Il(),title:"Create a new metric view",style:{background:"linear-gradient(135deg, #8b5cf6, #a855f7)",color:"white",border:"none"},children:[c.jsx(Ut,{})," Create Metric View"]}),c.jsxs(pe,{variant:"surface",size:"2",onClick:()=>xf(),title:"Create a new traditional view",style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none"},children:[c.jsx(cr,{})," Create Traditional View"]})]})}),(a&&a.length>0||u&&u.length>0)&&c.jsx(dl,{position:"top-center",children:c.jsx(Ve,{children:c.jsxs(M,{align:"center",gap:"3",px:"3",py:"2",children:[c.jsxs(k,{size:"2",weight:"medium",children:[a.length>0&&`${a.length} table${a.length>1?"s":""}`,a.length>0&&u.length>0&&" and ",u.length>0&&`${u.length} relationship${u.length>1?"s":""}`," selected"]}),c.jsx(k,{size:"1",color:"gray",children:"(Press Delete key or use the button)"}),c.jsxs(pe,{variant:"surface",color:"red",size:"2",onClick:()=>Sf({key:"Delete",preventDefault:()=>{}}),children:[c.jsx(An,{})," Delete"]}),c.jsx(pe,{variant:"ghost",size:"2",onClick:()=>{b([]),_([])},children:"Clear Selection"})]})})})]})]}),c.jsx(uee,{showDialog:U,setShowDialog:V,sourceTable:P==null?void 0:P.sourceTable,targetTable:P==null?void 0:P.targetTable,onConfirm:uT}),c.jsx(pee,{open:H,onClose:()=>{ge(!1),oe(null)},metricView:Y,onSave:Ol}),c.jsx(hee,{open:Ae,onClose:()=>{ye(!1),$e(null)},traditionalView:ke,onSave:_f,catalogName:p,schemaName:h}),c.jsx(mee,{open:ce,onClose:()=>{K(!1),ve({sourceTable:null,targetMetricView:null})},sourceTable:ae.sourceTable,targetMetricView:ae.targetMetricView,onSave:wf}),c.jsx(qv,{isOpen:Ot,onClose:()=>{xn(!1),$t(null)},onApply:af,projectData:d}),c.jsx(Bv,{isOpen:_n,onClose:()=>{bt(!1),wn(null)},onGenerateDDL:sf,projectData:d,tableIds:ut?[ut]:null}),c.jsx(Bv,{isOpen:bn,onClose:()=>{no(!1),ro(null)},onGenerateDDL:lf,projectData:d,tableIds:Cn?[Cn]:null}),c.jsx(qv,{isOpen:Ha,onClose:()=>{wr(!1),ro(null)},onApply:cf,projectData:d}),c.jsx(dee,{isOpen:Xe,onClose:()=>wt(!1),title:je==null?void 0:je.title,message:je==null?void 0:je.message,details:je==null?void 0:je.details,errors:je==null?void 0:je.errors})]})},Eee=()=>{const{displayAlertDialog:e,currentAlertDialogErrorType:t,errors:n,toggleAlertDialog:r}=ht();let o,i=()=>c.jsx(c.Fragment,{}),a={loadCatalogs:n.loadCatalogs,loadSchemas:n.loadSchemas,loadTables:n.loadTables,importTables:n.importTables,saveProject:n.saveProject,loadProject:n.loadProject,generateDDL:n.generateDDL,applyChanges:n.applyChanges};return t==="loadCatalogs"?(o="Error Loading Catalogs",i=()=>c.jsx(k,{children:"Failed to load Databricks catalogs. Please check your connection and permissions."})):t==="loadSchemas"?(o="Error Loading Schemas",i=()=>c.jsx(k,{children:"Failed to load schemas from the selected catalog. Please try again."})):t==="loadTables"?(o="Error Loading Tables",i=()=>c.jsx(k,{children:"Failed to load tables from the selected schema. Please try again."})):t==="importTables"?(o="Error Importing Tables",i=()=>{const s=a[t];return s&&s.validation_errors?c.jsxs(Qo,{columns:"1",gap:"3",children:[c.jsx(k,{children:"Failed to import tables:"}),s.validation_errors.map((l,u)=>{var d;return c.jsx(te,{children:c.jsxs(k,{size:"2",color:"red",children:['Field: "',((d=l.loc)==null?void 0:d.join("."))||"unknown",'" - ',l.msg]})},u)})]}):c.jsx(k,{children:"Failed to import tables. Please check the selected tables and try again."})}):t==="saveProject"?(o="Error Saving Project",i=()=>c.jsx(k,{children:"Failed to save the project. Please check the project name and try again."})):t==="loadProject"?(o="Error Loading Project",i=()=>c.jsx(k,{children:"Failed to load the selected project. The file may be corrupted or inaccessible."})):t==="generateDDL"?(o="Error Generating DDL",i=()=>c.jsx(k,{children:"Failed to generate DDL for the selected tables. Please check your table definitions."})):t==="applyChanges"&&(o="Error Applying Changes",i=()=>c.jsx(k,{children:"Failed to apply changes to Databricks. Please check your permissions and connection."})),c.jsx("div",{className:"alert-dialog-component-ctr",children:c.jsx(mc.Root,{open:e,children:c.jsxs(mc.Content,{children:[c.jsx(mc.Title,{children:o}),c.jsx(i,{}),c.jsx(M,{gap:"3",mt:"4",justify:"end",children:c.jsx(mc.Action,{children:c.jsx(pe,{variant:"solid",color:"blue",onClick:()=>r(),children:"Dismiss"})})})]})})})},jee=({isOpen:e,onClose:t,field:n,tableId:r,onSave:o})=>{var E,j,$,A;const{availableDatatypes:i,tables:a}=ht(),[s,l]=f.useState({id:"",name:"",logical_name:"",data_type:"STRING",type_parameters:"",nullable:!0,comment:"",is_primary_key:!1,is_foreign_key:!1,foreign_key_reference:null,tags:{}}),[u,d]=f.useState([]),[p,h]=f.useState(""),[m,v]=f.useState("");f.useEffect(()=>{if(e&&n){l({id:n.id||Ke(),name:n.name||"",logical_name:n.logical_name||"",data_type:n.data_type||"STRING",type_parameters:n.type_parameters||"",nullable:n.nullable!==!1,comment:n.comment||"",is_primary_key:n.is_primary_key||!1,is_foreign_key:n.is_foreign_key||!1,foreign_key_reference:n.foreign_key_reference||null,tags:n.tags||{}});const C=n.tags||{},S=Object.entries(C).filter(([D])=>D!=="logical_name").map(([D,O])=>({id:Ke(),key:D,value:O||""}));d(S)}},[e,n]);const g=()=>{console.log(" handleSave called"),console.log(" Current customTags:",u),console.log(" Current fieldData.logical_name:",s.logical_name);const C={};s.logical_name&&s.logical_name.trim()&&(C.logical_name=s.logical_name.trim(),console.log(" Added logical_name tag:",s.logical_name.trim())),u.forEach(D=>{console.log(" Processing custom tag:",D),D.key&&D.key.trim()&&(C[D.key.trim()]=D.value&&D.value.trim()?D.value.trim():null,console.log(" Added custom tag:",D.key.trim(),"=",D.value))});const S={...s,tags:C};console.log(" Final allTags:",C),console.log(" Saving field with tags:",C),o(S),t()},b=()=>{if(p.trim()){const C={id:Ke(),key:p.trim(),value:m.trim()||""};console.log(" Adding new custom tag:",C),console.log(" Current customTags before add:",u),d([...u,C]),console.log(" CustomTags after add:",[...u,C]),h(""),v("")}},y=C=>{d(u.filter(S=>S.id!==C))},x=(C,S,D)=>{d(u.map(O=>O.id===C?{...O,[S]:D}:O))},w=a.find(S=>S.id===r)?a.filter(S=>S.id!==r).flatMap(S=>S.fields.filter(D=>D.is_primary_key).map(D=>({table_id:S.id,table_name:S.name,field_id:D.id,field_name:D.name,data_type:D.data_type,reference_string:`${S.name}.${D.name}`}))):[];return e?c.jsx(me.Root,{open:e,onOpenChange:t,children:c.jsxs(me.Content,{style:{maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},children:[c.jsx(me.Title,{children:c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(k,{size:"5",weight:"bold",children:"Field Details"}),c.jsx(Zn,{variant:"ghost",onClick:t,children:c.jsx(Jo,{})})]})}),c.jsx(me.Description,{size:"2",mb:"4",color:"gray",children:"Configure field properties, constraints, and Unity Catalog tags."}),c.jsxs(M,{direction:"column",gap:"4",children:[c.jsxs(Ve,{style:{padding:"16px"},children:[c.jsx(mt,{size:"3",mb:"3",children:"Basic Properties"}),c.jsxs(M,{direction:"column",gap:"3",children:[c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Field Name *"}),c.jsx(we.Input,{value:s.name,onChange:C=>l({...s,name:C.target.value}),placeholder:"Enter field name"})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Logical Name"}),c.jsx(we.Input,{value:s.logical_name,onChange:C=>l({...s,logical_name:C.target.value}),placeholder:"Enter logical/display name"}),c.jsx(k,{size:"1",color:"gray",mt:"1",children:"Will be automatically added as 'logical_name' tag"})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Data Type *"}),c.jsxs(J.Root,{value:s.data_type,onValueChange:C=>l({...s,data_type:C}),children:[c.jsx(J.Trigger,{}),c.jsx(J.Content,{children:i.map(C=>c.jsx(J.Item,{value:C.name,children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(k,{children:C.name}),c.jsx(Se,{size:"1",color:"gray",children:C.category})]})},C.name))})]})]}),((E=i.find(C=>C.name===s.data_type))==null?void 0:E.requires_parameters)&&c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:s.data_type==="DECIMAL"?"Precision & Scale":["VARCHAR","CHAR"].includes(s.data_type)?"Length":["GEOGRAPHY","GEOMETRY"].includes(s.data_type)?"SRID":s.data_type==="ARRAY"?"Element Type":s.data_type==="MAP"?"Key & Value Types":s.data_type==="STRUCT"?"Field Definitions":s.data_type==="INTERVAL"?"Interval Qualifier":"Parameters"}),s.data_type==="DECIMAL"?c.jsxs(M,{gap:"2",align:"center",children:[c.jsx(we.Input,{value:((j=s.type_parameters)==null?void 0:j.precision)||"",onChange:C=>l({...s,type_parameters:{...s.type_parameters,precision:C.target.value?parseInt(C.target.value):void 0}}),placeholder:"10",style:{width:"80px"}}),c.jsx(k,{size:"2",children:","}),c.jsx(we.Input,{value:(($=s.type_parameters)==null?void 0:$.scale)||"",onChange:C=>l({...s,type_parameters:{...s.type_parameters,scale:C.target.value?parseInt(C.target.value):void 0}}),placeholder:"2",style:{width:"60px"}})]}):c.jsx(we.Input,{value:s.type_parameters||"",onChange:C=>l({...s,type_parameters:C.target.value}),placeholder:((A=i.find(C=>C.name===s.data_type))==null?void 0:A.parameter_description)||"Enter parameters"}),c.jsx(k,{size:"1",color:"gray",mt:"1",children:s.data_type==="DECIMAL"?"Precision (1-38), Scale (0-precision)":["VARCHAR","CHAR"].includes(s.data_type)?"Maximum length (1-65535)":s.data_type==="GEOGRAPHY"?"SRID: Must be 4326 (only supported value)":s.data_type==="GEOMETRY"?"SRID: Integer value (e.g., 4326, 3857, 0 for unknown)":s.data_type==="ARRAY"?"Element data type (e.g., STRING, INT)":s.data_type==="MAP"?"Key type, Value type (e.g., STRING,INT)":s.data_type==="STRUCT"?"Field definitions (e.g., field1:STRING,field2:INT)":s.data_type==="INTERVAL"?"Interval qualifier (e.g., YEAR TO MONTH, DAY TO SECOND)":"Enter required parameters"})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Comment"}),c.jsx(we.Input,{value:s.comment,onChange:C=>l({...s,comment:C.target.value}),placeholder:"Optional field description"})]}),c.jsx(M,{align:"center",gap:"4",children:c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(qt,{checked:s.nullable,onCheckedChange:C=>l({...s,nullable:C})}),c.jsx(k,{size:"2",children:"Nullable"})]})})]})]}),c.jsxs(Ve,{style:{padding:"16px"},children:[c.jsx(mt,{size:"3",mb:"3",children:"Constraints"}),c.jsxs(M,{direction:"column",gap:"3",children:[c.jsxs(M,{align:"center",gap:"4",children:[c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(qt,{checked:s.is_primary_key,onCheckedChange:C=>l({...s,is_primary_key:C,is_foreign_key:C?!1:s.is_foreign_key}),disabled:s.is_foreign_key}),c.jsx(k,{size:"2",children:"Primary Key"})]}),c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx(qt,{checked:s.is_foreign_key,onCheckedChange:C=>l({...s,is_foreign_key:C,is_primary_key:C?!1:s.is_primary_key,foreign_key_reference:C?s.foreign_key_reference:null}),disabled:s.is_primary_key}),c.jsx(k,{size:"2",children:"Foreign Key"})]})]}),s.is_foreign_key&&c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Foreign Key Reference"}),c.jsxs(J.Root,{value:s.foreign_key_reference?typeof s.foreign_key_reference=="string"?s.foreign_key_reference:`${s.foreign_key_reference.referenced_table_id}.${s.foreign_key_reference.referenced_field_id}`:"",onValueChange:C=>{if(C){const S=w.find(D=>D.reference_string===C);S&&l({...s,foreign_key_reference:{referenced_table_id:S.table_id,referenced_field_id:S.field_id,constraint_name:`fk_${s.name}`,on_delete:"NO ACTION",on_update:"NO ACTION"}})}else l({...s,foreign_key_reference:null})},children:[c.jsx(J.Trigger,{placeholder:"Select primary key to reference"}),c.jsx(J.Content,{children:w.map(C=>c.jsx(J.Item,{value:C.reference_string,children:c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"2",weight:"bold",children:C.reference_string}),c.jsx(k,{size:"1",color:"gray",children:C.data_type})]})},C.reference_string))})]})]})]})]}),c.jsxs(Ve,{style:{padding:"16px"},children:[c.jsx(mt,{size:"3",mb:"3",children:"Unity Catalog Tags"}),s.logical_name&&c.jsxs(te,{mb:"3",children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Automatic Tags"}),c.jsxs(M,{align:"center",gap:"2",p:"2",style:{backgroundColor:"var(--gray-2)",borderRadius:"6px"},children:[c.jsx(Se,{color:"blue",children:"logical_name"}),c.jsx(k,{size:"2",children:"="}),c.jsxs(k,{size:"2",style:{fontFamily:"monospace"},children:['"',s.logical_name,'"']})]})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Custom Tags"}),u.length>0&&c.jsx(M,{direction:"column",gap:"2",mb:"3",children:u.map(C=>c.jsxs(M,{align:"center",gap:"2",p:"2",style:{backgroundColor:"var(--gray-1)",borderRadius:"6px"},children:[c.jsx(we.Input,{value:C.key,onChange:S=>x(C.id,"key",S.target.value),placeholder:"Tag name",style:{flex:1}}),c.jsx(k,{size:"2",children:"="}),c.jsx(we.Input,{value:C.value,onChange:S=>x(C.id,"value",S.target.value),placeholder:"Tag value (optional)",style:{flex:1}}),c.jsx(Zn,{size:"1",variant:"ghost",color:"red",onClick:()=>y(C.id),children:c.jsx(An,{})})]},C.id))}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Add New Tag"}),c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(we.Input,{value:p,onChange:C=>h(C.target.value),placeholder:"Tag name",style:{flex:1}}),c.jsx(k,{size:"2",children:"="}),c.jsx(we.Input,{value:m,onChange:C=>v(C.target.value),placeholder:"Tag value (optional)",style:{flex:1}}),c.jsx(pe,{size:"1",onClick:b,disabled:!p.trim(),children:c.jsx(pr,{})})]})]})]})]})]}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(pe,{variant:"soft",color:"gray",onClick:t,children:"Cancel"}),c.jsx(pe,{onClick:g,disabled:!s.name.trim(),children:"Save Field"})]})]})}):null},$ee=()=>{var z,U,V;const{showTableDialog:e,setShowTableDialog:t,addTable:n,updateTable:r,tables:o,availableDatatypes:i,loadDatatypes:a,editingTable:s,setEditingTable:l,addRelationship:u,deleteRelationship:d,removeRelationshipLine:p,relationships:h,isDragAndDropFK:m,getPKFieldForFK:v}=ht(),[g,b]=f.useState({name:"",logical_name:"",comment:"",table_type:"MANAGED",file_format:"DELTA",tags:{}}),[y,x]=f.useState([]),[_,w]=f.useState({name:"",data_type:"STRING",type_parameters:{},nullable:!0,comment:"",logical_name:"",tags:{},is_primary_key:!1,is_foreign_key:!1,foreign_key_reference:null}),[E,j]=f.useState("table"),[$,A]=f.useState({}),[C,S]=f.useState(null),[D,O]=f.useState(!1),[F,N]=f.useState(null),L=P=>{var W;if(!P)return"";if(typeof P=="string")return P;if(typeof P=="object"){const H=o.find(ce=>ce.id===P.referenced_table_id),ge=(W=H==null?void 0:H.fields)==null?void 0:W.find(ce=>ce.id===P.referenced_field_id);return H&&ge?`${H.name}.${ge.name}`:""}return""},T=P=>{var K;if(!P||!P.includes("."))return null;const[W,H]=P.split("."),ge=o.find(Y=>Y.name===W),ce=(K=ge==null?void 0:ge.fields)==null?void 0:K.find(Y=>Y.name===H);return ge&&ce?{referenced_table_id:ge.id,referenced_field_id:ce.id,constraint_name:`fk_${g.name}_${W}`,on_delete:"NO ACTION",on_update:"NO ACTION"}:null};f.useEffect(()=>{e&&(console.log(" Table dialog opened"),console.log(" Editing table:",s),console.log(" Current tables:",o),console.log(" Current fields:",y),a())},[e,a]),f.useEffect(()=>{C&&S(null)},[g.name,g.logical_name,y]),f.useEffect(()=>{if(e){if(s){b({name:s.name||"",logical_name:s.logical_name||"",comment:s.comment||"",table_type:"MANAGED",file_format:"DELTA",tags:s.tags||{}});const P=s.fields||[];console.log(" Loading fields for editing table:",s.name),console.log(" Fields with FK references:",P.filter(W=>W.is_foreign_key).map(W=>({name:W.name,is_foreign_key:W.is_foreign_key,foreign_key_reference:W.foreign_key_reference}))),x(P)}else b({name:"",logical_name:"",comment:"",table_type:"MANAGED",file_format:"DELTA",tags:{}}),x([]);w({name:"",data_type:"STRING",type_parameters:{},nullable:!0,comment:"",logical_name:"",tags:{},is_primary_key:!1,is_foreign_key:!1,foreign_key_reference:null}),A({}),j("table")}},[e,s]);const B=()=>{const P={};let W=null,H=null;return g.name.trim()||(P.tableName="Table name is required",W="Table name is required. Please go to Table Details tab and enter a table name.",H="table"),!s&&!g.logical_name.trim()&&(P.logicalName="Logical name is required",W||(W="Logical name is required. Please go to Table Details tab and enter a logical name.",H="table")),o.find(K=>K.name.toLowerCase()===g.name.toLowerCase()&&(!s||K.id!==s.id))&&(P.tableName="A table with this name already exists",W=`A table with the name "${g.name}" already exists. Please choose a different name.`,H="table"),y.filter(K=>K.is_primary_key).length>1&&(P.primaryKey="Only one field can be marked as primary key",W||(W="Only one field can be marked as primary key. Please go to Fields tab and fix this.",H="fields")),y.forEach((K,Y)=>{K.is_foreign_key&&!K.foreign_key_reference?(console.log(" FK validation failed for field:",K.name,"is_foreign_key:",K.is_foreign_key,"reference:",K.foreign_key_reference),P[`fk_${Y}`]="Foreign key must reference a primary key from another table",W||(W=`Field "${K.name}" is marked as foreign key but has no reference. Please go to Fields tab and fix this.`,H="fields")):K.is_foreign_key&&K.foreign_key_reference&&console.log(" FK validation passed for field:",K.name,"reference:",K.foreign_key_reference)}),A(P),S(W?{message:W,suggestedTab:H}:null),Object.keys(P).length===0},I=()=>{if(!_.name.trim()){A({...$,fieldName:"Field name is required"});return}if(y.find(W=>W.name.toLowerCase()===_.name.toLowerCase())){A({...$,fieldName:"A field with this name already exists"});return}x([...y,{..._,id:Ke()}]),w({name:"",data_type:"STRING",type_parameters:{},nullable:!0,comment:"",logical_name:"",tags:{},is_primary_key:!1,is_foreign_key:!1,foreign_key_reference:null}),A({...$,fieldName:void 0})},R=P=>{const W=y.find(H=>H.id===P);W&&W.is_foreign_key&&(console.log(" Removing FK field and its relationships:",W.name),h.filter(ge=>ge.target_field_id===P).forEach(ge=>{console.log(" Removing relationship line for deleted FK field:",ge.id),p(ge.id)})),x(y.filter(H=>H.id!==P))},q=(P,W)=>{x(y.map(H=>{if(H.id===P){const ge={...H,...W};if(W.logical_name!==void 0){const ce=ge.tags||{};W.logical_name&&W.logical_name.trim()?ce.logical_name=W.logical_name.trim():delete ce.logical_name,ge.tags=ce}return ge}return H}))},G=P=>{N(P),O(!0)},Q=P=>{const W=y.map(H=>H.id===P.id?P:H);x(W),O(!1),N(null)},le=(P,W)=>{W?x(y.map(H=>({...H,is_primary_key:H.id===P}))):q(P,{is_primary_key:!1})},ie=P=>{console.log(" Creating relationships from foreign keys for table:",P.name);const W=P.fields.filter(H=>H.is_foreign_key&&H.foreign_key_reference);console.log(" Found FK fields:",W.map(H=>({name:H.name,reference:H.foreign_key_reference}))),W.forEach(H=>{var Y,oe,ae;console.log(" Processing FK field:",H.name,"with reference:",H.foreign_key_reference);const ge=h.filter(ve=>ve.target_table_id===P.id&&ve.target_field_id===H.id);ge.length>0&&(console.log(" Found existing relationships for FK field:",H.name,"- removing them"),ge.forEach(ve=>{console.log(" Removing old relationship line (keeping FK field properties):",ve.id),p(ve.id)}));let ce,K;if(typeof H.foreign_key_reference=="string"){const[ve,Ae]=H.foreign_key_reference.split(".");console.log(" Parsed string reference:",{referencedTableName:ve,referencedFieldName:Ae}),ce=o.find(ye=>ye.name===ve),K=(Y=ce==null?void 0:ce.fields)==null?void 0:Y.find(ye=>ye.name===Ae)}else typeof H.foreign_key_reference=="object"&&(console.log(" Processing object reference:",H.foreign_key_reference),ce=o.find(ve=>ve.id===H.foreign_key_reference.referenced_table_id),K=(oe=ce==null?void 0:ce.fields)==null?void 0:oe.find(ve=>ve.id===H.foreign_key_reference.referenced_field_id));if(!ce){console.warn(" Referenced table not found for FK:",H.foreign_key_reference),console.log("Available tables:",o.map(ve=>({id:ve.id,name:ve.name})));return}if(!K){console.warn(` Referenced field not found in table ${ce.name}`),console.log("Available fields in table:",(ae=ce.fields)==null?void 0:ae.map(ve=>({id:ve.id,name:ve.name})));return}console.log(" Creating new relationship (after cleanup):",{pk_table:ce.name,fk_table:P.name,pk_field:K.name,fk_field:H.name}),u({id:Ke(),source_table_id:ce.id,target_table_id:P.id,source_field_id:K.id,target_field_id:H.id,relationship_type:"one_to_many",constraint_name:`fk_${P.name}_${H.name}`,fk_table_id:P.id,fk_field_id:H.id})})},fe=()=>{if(console.log(" createTable called - editingTable:",!!s,"fields:",y.length),!B()){console.log(" Validation failed");return}if(s){console.log(" Updating existing table:",s.name);const P={...s,name:g.name,logical_name:g.logical_name,comment:g.comment,table_type:g.table_type,file_format:g.file_format,tags:g.tags,fields:y};r(s.id,P),console.log(" Table updated successfully:",P.name);try{ie(P)}catch(W){console.error(" Error creating relationships:",W)}}else{console.log(" Creating new table:",g.name);const P={id:Ke(),name:g.name,logical_name:g.logical_name,comment:g.comment,table_type:g.table_type,file_format:g.file_format,tags:g.tags,fields:y,position_x:100,position_y:100,width:220,height:180};n(P),console.log(" New table created successfully:",P.name);try{ie(P)}catch(W){console.error(" Error creating relationships:",W)}}console.log(" Closing table dialog and resetting form"),t(!1),b({name:"",logical_name:"",comment:"",table_type:"MANAGED",file_format:"DELTA",tags:{}}),x([]),A({})},he=(P=null)=>{var K;const W=s?s.name:g.name,H=o.filter(Y=>Y.name!==W),ge=[];console.log(" getAvailablePrimaryKeys called for field:",P),console.log(" Table to exclude:",W),console.log(" All tables:",o.map(Y=>{var oe;return{name:Y.name,fields:((oe=Y.fields)==null?void 0:oe.length)||0}})),console.log(" Existing tables (excluding current):",H.map(Y=>{var oe;return{name:Y.name,fields:((oe=Y.fields)==null?void 0:oe.length)||0}}));const ce=new Set;return y.forEach(Y=>{var oe,ae;if(Y.id!==P&&Y.is_foreign_key&&Y.foreign_key_reference){let ve="",Ae,ye;if(typeof Y.foreign_key_reference=="string"){ve=Y.foreign_key_reference;const[ke,$e]=Y.foreign_key_reference.split(".");Ae=H.find(Xe=>Xe.name===ke),ye=(oe=Ae==null?void 0:Ae.fields)==null?void 0:oe.find(Xe=>Xe.name===$e)}else typeof Y.foreign_key_reference=="object"&&(Ae=H.find(ke=>ke.id===Y.foreign_key_reference.referenced_table_id),ye=(ae=Ae==null?void 0:Ae.fields)==null?void 0:ae.find(ke=>ke.id===Y.foreign_key_reference.referenced_field_id),Ae&&ye&&(ve=`${Ae.name}.${ye.name}`));ye&&Y.name===ye.name?(console.log(" Found drag-and-drop FK (restricting):",Y.name,"",ve),ce.add(ve)):ye&&console.log(" Found manual FK (allowing multiple):",Y.name,"",ve)}}),console.log(" Used drag-and-drop FK references (restricting these):",Array.from(ce)),console.log(" Current field being edited:",P,(K=y.find(Y=>Y.id===P))==null?void 0:K.name),H.forEach(Y=>{var oe;(oe=Y.fields)==null||oe.forEach(ae=>{if(ae.is_primary_key){const ve=`${Y.name}.${ae.name}`;ce.has(ve)?console.log(" Skipping PK already used by drag-and-drop FK:",ve):(console.log(" Found available PK field:",Y.name,ae.name,ae.data_type),ge.push({value:ve,label:`${ve} (${ae.data_type})`}))}})}),console.log(" Available primary keys (after filtering):",ge),ge};return e?c.jsxs(me.Root,{open:e,onOpenChange:P=>{P||l(null),t(P)},children:[c.jsxs(me.Content,{style:{maxWidth:1200,maxHeight:"90vh",overflow:"auto"},children:[c.jsx(me.Title,{children:s?`Edit Table: ${s.name}`:"Create New Table"}),c.jsx(me.Description,{size:"2",mb:"4",children:s?"Modify your table structure, fields, constraints, and relationships.":"Define your table structure with fields, constraints, and relationships."}),C&&c.jsx(te,{mb:"4",p:"3",style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px"},children:c.jsxs(M,{align:"start",justify:"between",gap:"3",children:[c.jsxs(M,{direction:"column",gap:"2",style:{flex:1},children:[c.jsx(k,{size:"2",weight:"bold",color:"red",children:"Validation Error"}),c.jsx(k,{size:"2",color:"red",children:C.message}),C.suggestedTab&&c.jsxs(pe,{size:"1",variant:"soft",color:"red",onClick:()=>{j(C.suggestedTab),S(null)},style:{alignSelf:"flex-start"},children:["Go to ",C.suggestedTab==="table"?"Table Details":"Fields"," Tab"]})]}),c.jsx(pe,{size:"1",variant:"ghost",color:"red",onClick:()=>S(null),children:""})]})}),c.jsxs(Le.Root,{value:E,onValueChange:j,children:[c.jsxs(Le.List,{children:[c.jsx(Le.Trigger,{value:"table",children:"Table Details"}),c.jsxs(Le.Trigger,{value:"fields",children:["Fields (",y.length,")"]})]}),c.jsxs(te,{pt:"3",children:[c.jsx(Le.Content,{value:"table",children:c.jsxs(Qo,{columns:"2",gap:"4",children:[c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Table Name *"}),c.jsx(we.Input,{placeholder:"e.g., customers, orders, products",value:g.name,onChange:P=>b({...g,name:P.target.value})}),$.tableName&&c.jsx(k,{size:"1",color:"red",children:$.tableName})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Logical Name *"}),c.jsx(we.Input,{placeholder:"e.g., Customer Master, Order Details",value:g.logical_name,onChange:P=>b({...g,logical_name:P.target.value})}),$.logicalName&&c.jsx(k,{size:"1",color:"red",children:$.logicalName})]}),c.jsxs(te,{style:{gridColumn:"span 2"},children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Description"}),c.jsx(vr,{placeholder:"Optional table description",value:g.comment,onChange:P=>b({...g,comment:P.target.value}),rows:3})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Table Type"}),c.jsx(k,{size:"2",color:"gray",children:"Managed (Unity Catalog)"})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"File Format"}),c.jsx(k,{size:"2",color:"gray",children:"Delta Lake"})]})]})}),c.jsxs(Le.Content,{value:"fields",children:[$.primaryKey&&c.jsx(k,{size:"2",color:"red",mb:"3",children:$.primaryKey}),c.jsxs(Ve,{mb:"4",children:[c.jsx(mt,{size:"4",mb:"3",children:"Add New Field"}),c.jsxs(Qo,{columns:"4",gap:"3",mb:"3",children:[c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Field Name *"}),c.jsx(we.Input,{placeholder:"e.g., id, name, email",value:_.name,onChange:P=>w({..._,name:P.target.value})}),$.fieldName&&c.jsx(k,{size:"1",color:"red",children:$.fieldName})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Data Type"}),c.jsxs(J.Root,{value:_.data_type,onValueChange:P=>w({..._,data_type:P,type_parameters:P==="DECIMAL"?_.type_parameters:null}),children:[c.jsx(J.Trigger,{}),c.jsx(J.Content,{children:i.map(P=>c.jsx(J.Item,{value:P.value,children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(k,{children:P.name}),c.jsx(Se,{size:"1",color:"gray",children:P.category})]})},P.value))})]})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Logical Name"}),c.jsx(we.Input,{placeholder:"e.g., Customer ID, Full Name",value:_.logical_name,onChange:P=>w({..._,logical_name:P.target.value})})]})]}),_.data_type==="DECIMAL"&&c.jsxs(Qo,{columns:"2",gap:"3",mb:"3",children:[c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Precision (1-38)"}),c.jsx(we.Input,{type:"number",min:"1",max:"38",placeholder:"10",value:((z=_.type_parameters)==null?void 0:z.precision)||"",onChange:P=>w({..._,type_parameters:{..._.type_parameters,precision:P.target.value?parseInt(P.target.value):void 0}})})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Scale (0-precision)"}),c.jsx(we.Input,{type:"number",min:"0",max:((U=_.type_parameters)==null?void 0:U.precision)||38,placeholder:"2",value:((V=_.type_parameters)==null?void 0:V.scale)||"",onChange:P=>w({..._,type_parameters:{..._.type_parameters,scale:P.target.value?parseInt(P.target.value):void 0}})})]})]}),c.jsx(Qo,{columns:"1",gap:"3",mb:"3",children:c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"Comment"}),c.jsx(we.Input,{placeholder:"Field description",value:_.comment,onChange:P=>w({..._,comment:P.target.value})})]})}),c.jsxs(M,{gap:"3",align:"center",mb:"3",children:[c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(qt,{checked:_.is_primary_key,onCheckedChange:P=>w({..._,is_primary_key:P})}),c.jsx(k,{size:"2",children:"Primary Key"})]}),c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(qt,{checked:_.is_foreign_key,onCheckedChange:P=>w({..._,is_foreign_key:P})}),c.jsx(k,{size:"2",children:"Foreign Key"})]}),c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(qt,{checked:_.nullable,onCheckedChange:P=>w({..._,nullable:P})}),c.jsx(k,{size:"2",children:"Nullable"})]})]}),_.is_foreign_key&&c.jsxs(te,{mb:"3",children:[c.jsx(k,{size:"2",weight:"bold",mb:"1",children:"References Primary Key"}),c.jsxs(J.Root,{value:L(_.foreign_key_reference),onValueChange:P=>w({..._,foreign_key_reference:T(P)}),onOpenChange:P=>{if(P){const W=he(_.id);console.log(" FK dropdown opened for current field:",_.name),console.log(" Current FK reference:",_.foreign_key_reference),console.log(" Current FK reference as string:",L(_.foreign_key_reference)),console.log(" Available PK options:",W.map(H=>H.value)),console.log(" Does current reference match any option?",W.some(H=>H.value===L(_.foreign_key_reference)))}},children:[c.jsx(J.Trigger,{placeholder:"Select primary key to reference"}),c.jsx(J.Content,{children:he(_.id).map(P=>c.jsx(J.Item,{value:P.value,children:P.label},P.value))})]})]}),c.jsxs(M,{gap:"2",children:[c.jsxs(pe,{onClick:I,children:[c.jsx(pr,{})," Add Field"]}),y.length>0&&!y.some(P=>P.is_primary_key)&&c.jsx(pe,{variant:"soft",color:"blue",onClick:()=>{y.length>0&&q(y[0].id,{is_primary_key:!0})},children:"Make First Field PK (Optional)"})]})]}),y.length>0&&c.jsxs(Ve,{children:[c.jsxs(M,{justify:"between",align:"center",mb:"3",children:[c.jsx(mt,{size:"4",children:"Table Fields"}),c.jsx(k,{size:"1",color:"gray",children:"Fields with same name as referenced PK are inherited and read-only"})]}),c.jsxs(ft.Root,{style:{width:"100%",tableLayout:"fixed"},children:[c.jsx(ft.Header,{children:c.jsxs(ft.Row,{children:[c.jsx(ft.ColumnHeaderCell,{style:{width:"15%"},children:"Name"}),c.jsx(ft.ColumnHeaderCell,{style:{width:"15%"},children:"Logical Name"}),c.jsx(ft.ColumnHeaderCell,{style:{width:"12%"},children:"Type"}),c.jsx(ft.ColumnHeaderCell,{style:{width:"8%"},children:"Parameters"}),c.jsx(ft.ColumnHeaderCell,{style:{width:"15%"},children:"Comment"}),c.jsx(ft.ColumnHeaderCell,{style:{width:"25%"},children:"Constraints"}),c.jsx(ft.ColumnHeaderCell,{style:{width:"5%"},children:"Nullable"}),c.jsx(ft.ColumnHeaderCell,{style:{width:"5%"},children:"Actions"})]})}),c.jsx(ft.Body,{children:y.map((P,W)=>{var ce,K;const H=m(P,s==null?void 0:s.id),ge=H?v(P):null;return c.jsxs(ft.Row,{children:[c.jsx(ft.Cell,{children:c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(we.Input,{value:P.name,onChange:Y=>q(P.id,{name:Y.target.value}),size:"1",disabled:H,style:{width:"100%",...H?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}}}),H&&c.jsxs(k,{size:"1",color:"gray",style:{fontSize:"10px"},children:["Inherited from ",(ge==null?void 0:ge.name)||"PK"]})]})}),c.jsx(ft.Cell,{children:c.jsx(we.Input,{value:P.logical_name||"",onChange:Y=>q(P.id,{logical_name:Y.target.value}),size:"1",placeholder:"Logical name",disabled:H,style:{width:"100%",...H?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}}})}),c.jsx(ft.Cell,{children:c.jsxs(J.Root,{value:P.data_type,onValueChange:Y=>q(P.id,{data_type:Y,type_parameters:Y==="DECIMAL"?P.type_parameters:null}),size:"1",disabled:H,children:[c.jsx(J.Trigger,{style:H?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}}),c.jsx(J.Content,{children:i.map(Y=>c.jsx(J.Item,{value:Y.value,children:Y.name},Y.value))})]})}),c.jsx(ft.Cell,{children:P.data_type==="DECIMAL"?c.jsxs(M,{gap:"1",align:"center",children:[c.jsx(we.Input,{value:((ce=P.type_parameters)==null?void 0:ce.precision)||"",onChange:Y=>q(P.id,{type_parameters:{...P.type_parameters,precision:Y.target.value?parseInt(Y.target.value):void 0}}),size:"1",placeholder:"10",style:{width:"50px",...H?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:H}),c.jsx(k,{size:"1",children:","}),c.jsx(we.Input,{value:((K=P.type_parameters)==null?void 0:K.scale)||"",onChange:Y=>q(P.id,{type_parameters:{...P.type_parameters,scale:Y.target.value?parseInt(Y.target.value):void 0}}),size:"1",placeholder:"2",style:{width:"40px",...H?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:H})]}):["VARCHAR","CHAR"].includes(P.data_type)?c.jsx(we.Input,{value:P.type_parameters||"",onChange:Y=>q(P.id,{type_parameters:Y.target.value}),size:"1",placeholder:"50",style:{width:"60px",...H?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:H}):["GEOGRAPHY","GEOMETRY"].includes(P.data_type)?c.jsx(we.Input,{value:P.type_parameters||"",onChange:Y=>q(P.id,{type_parameters:Y.target.value}),size:"1",placeholder:"4326",style:{width:"60px",...H?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:H}):P.data_type==="INTERVAL"?c.jsx(we.Input,{value:P.type_parameters||"",onChange:Y=>q(P.id,{type_parameters:Y.target.value}),size:"1",placeholder:"YEAR TO MONTH",style:{width:"120px",...H?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:H}):["ARRAY","MAP","STRUCT"].includes(P.data_type)?c.jsx(we.Input,{value:P.type_parameters||"",onChange:Y=>q(P.id,{type_parameters:Y.target.value}),size:"1",placeholder:P.data_type==="ARRAY"?"STRING":P.data_type==="MAP"?"STRING,INT":"field1:STRING",style:{width:"100px",...H?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}},disabled:H}):c.jsx(k,{size:"1",color:"gray",children:"-"})}),c.jsx(ft.Cell,{children:c.jsx(we.Input,{value:P.comment||"",onChange:Y=>q(P.id,{comment:Y.target.value}),size:"1",placeholder:"Field comment",disabled:H,style:{width:"100%",...H?{backgroundColor:"#f8f9fa",color:"#6c757d"}:{}}})}),c.jsx(ft.Cell,{children:c.jsxs(M,{gap:"1",direction:"column",children:[c.jsxs(M,{gap:"1",align:"center",children:[c.jsx(qt,{checked:P.is_primary_key||!1,onCheckedChange:Y=>le(P.id,Y),disabled:H||P.is_foreign_key}),c.jsx(k,{size:"1",color:H||P.is_foreign_key?"gray":void 0,children:"PK"}),c.jsx(qt,{checked:P.is_foreign_key||!1,onCheckedChange:Y=>{console.log(" FK checkbox changed for field:",P.name,"checked:",Y),console.log(" Field before update:",P),q(P.id,{is_foreign_key:Y}),console.log(" Field after update:",y.find(oe=>oe.id===P.id))},disabled:H||P.is_primary_key}),c.jsx(k,{size:"1",color:H||P.is_primary_key?"gray":void 0,children:"FK"})]}),P.is_foreign_key&&c.jsxs(J.Root,{value:L(P.foreign_key_reference),onValueChange:Y=>{console.log(" FK reference changed for field:",P.name,"reference:",Y),q(P.id,{foreign_key_reference:T(Y)})},onOpenChange:Y=>{const oe=L(P.foreign_key_reference),ae=he(P.id);console.log(" FK dropdown for field:",P.name),console.log(" Current value passed to Select:",`"${oe}"`),console.log(" Available options:",ae.map(ve=>`"${ve.value}"`)),console.log(" Exact match found?",ae.some(ve=>ve.value===oe)),console.log(" Value lengths - current:",oe.length,"options:",ae.map(ve=>ve.value.length))},disabled:H,children:[c.jsx(J.Trigger,{placeholder:"Select PK reference",size:"1",style:{width:"100%",minWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),c.jsx(J.Content,{style:{minWidth:"250px",maxWidth:"400px"},children:he(P.id).map(Y=>c.jsx(J.Item,{value:Y.value,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"380px"},children:Y.label},Y.value))})]})]})}),c.jsx(ft.Cell,{children:c.jsx(qt,{checked:P.nullable!==!1,onCheckedChange:Y=>q(P.id,{nullable:Y}),disabled:H})}),c.jsx(ft.Cell,{children:c.jsxs(M,{gap:"1",children:[c.jsx(Zn,{size:"1",color:"blue",variant:"ghost",onClick:()=>G(P),title:"Edit field details",children:c.jsx(il,{})}),c.jsx(Zn,{size:"1",color:"red",variant:"ghost",onClick:()=>R(P.id),disabled:H,title:"Remove field",children:c.jsx(An,{})})]})})]},P.id)})})]})]})]})]})]}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",children:"Cancel"})}),c.jsx(pe,{onClick:()=>{console.log(" Update/Create Table button clicked"),console.log(" Current fields:",y),console.log(" Fields with FK:",y.filter(P=>P.is_foreign_key)),fe()},disabled:!1,children:s?"Update Table":"Create Table"})]})]}),c.jsx(jee,{isOpen:D,onClose:()=>{O(!1),N(null)},field:F,tableId:(s==null?void 0:s.id)||g.id,onSave:Q})]}):null},Ree=({isOpen:e,onClose:t,onImport:n,catalogName:r,schemaName:o,tableNames:i,objectType:a="tables"})=>{const[s,l]=f.useState(!1),[u,d]=f.useState([]),[p,h]=f.useState(0),[m,v]=f.useState(""),[g,b]=f.useState(null),[y,x]=f.useState(!1),_=f.useRef(!1),w=(S,D="info")=>{const O=new Date().toLocaleTimeString();d(F=>[...F,{message:S,type:D,timestamp:O}])},E=S=>{console.log("Import Progress Update:",S);try{switch(S.type){case"connected":w(" Connected to import progress stream","info");break;case"started":const D=S.total_tables||i.length;w(` Starting import of ${D} ${a==="tables"?"tables":"views"} from ${r}.${o}`,"info"),w(` ${a==="tables"?"Tables":"Views"}: ${i.join(", ")}`,"info"),v(`Importing ${a==="tables"?"Tables":"Views"}`);break;case"table_started":const F=S.table_name||S.view_name||S.object_name;w(` Processing ${a==="tables"?"table":"view"} ${F}...`,"info"),h(S.progress||0);break;case"table_completed":const L=S.result,T=(L==null?void 0:L.table_name)||(L==null?void 0:L.view_name)||(L==null?void 0:L.object_name)||"Unknown",B=a==="tables"?"Table":"View";L&&L.success?(w(` ${B} ${T}: imported successfully`,"success"),L.columns_count&&w(`    ${L.columns_count} columns imported`,"info"),L.constraints_count&&w(`    ${L.constraints_count} constraints imported`,"info")):(w(` ${B} ${T}: import failed`,"error"),L!=null&&L.error&&w(`    Error: ${L.error}`,"error")),h(S.progress||0);break;case"completed":console.log(" Import completed:",S),v("Completed"),h(100),x(!0),_.current=!0;const I=S.results||[],R=I.length,q=I.filter(Q=>Q&&Q.success).length,G=R-q;b({catalog_name:r,schema_name:o,total:R,success:q,failure:G}),q===R?w(` All ${R} tables imported successfully!`,"success"):w(` Import completed with ${q} successes and ${G} failures`,"warning"),l(!1);break;case"error":w(` Import Error: ${S.message}`,"error"),l(!1);break;default:console.log("Unknown import progress update type:",S.type,S)}}catch(D){console.error("Error processing import progress update:",D,"Update data:",S),w(` Error processing progress update: ${D.message}`,"warning")}},j=async()=>{if(!r||!o||!i||i.length===0){w(" Invalid import parameters","error");return}l(!0),d([]),h(0),b(null),x(!1),_.current=!1;let S=null;try{w(" Starting Import process...","info"),v("Initializing"),h(10);const D=`import_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;S=new EventSource(`/api/data_modeling/import_progress/${D}`),S.onmessage=F=>{try{console.log("Raw Import SSE data:",F.data);const N=JSON.parse(F.data);console.log("Parsed Import SSE update:",N),E(N)}catch(N){console.error("Error parsing Import SSE data:",N,"Raw data:",F.data),w(` Error parsing progress data: ${N.message}`,"warning")}},S.onerror=F=>{_.current?console.log("Import SSE connection closed after successful completion"):(console.error("Import SSE Error:",F),w(" Connection to import progress stream lost","warning"),l(!1)),S&&(S.close(),S=null)},console.log(" About to call onImport with sessionId:",D);const O=await n(r,o,i,D);console.log(" Import API call completed:",O)}catch(D){console.error("Import error:",D),w(` Import failed: ${D.message}`,"error"),l(!1),S&&(S.close(),S=null)}},$=()=>{s||(t(),d([]),h(0),b(null),v(""),x(!1),_.current=!1)},A=S=>{switch(S){case"success":return"";case"error":return"";case"warning":return"";case"info":default:return""}},C=S=>`log-entry log-${S}`;return c.jsx(me.Root,{open:e,onOpenChange:$,children:c.jsxs(me.Content,{className:"import-progress-dialog",style:{maxWidth:"600px",maxHeight:"80vh"},children:[c.jsx(me.Title,{children:"Import Tables Progress"}),c.jsxs(M,{direction:"column",gap:"4",style:{height:"500px"},children:[c.jsxs(M,{direction:"column",gap:"2",children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(k,{size:"2",weight:"medium",children:m||"Ready to Import"}),c.jsxs(Se,{variant:"soft",color:y?"green":s?"blue":"gray",children:[p,"%"]})]}),c.jsx("div",{className:"progress-bar",children:c.jsx("div",{className:"progress-fill",style:{width:`${p}%`}})}),g&&c.jsxs(M,{gap:"2",wrap:"wrap",children:[c.jsxs(Se,{variant:"soft",color:"blue",children:["Total: ",g.total]}),c.jsxs(Se,{variant:"soft",color:"green",children:["Success: ",g.success]}),g.failure>0&&c.jsxs(Se,{variant:"soft",color:"red",children:["Failed: ",g.failure]})]})]}),c.jsx(Gt,{style:{flex:1,border:"1px solid var(--gray-6)",borderRadius:"6px",padding:"8px"},children:c.jsx(M,{direction:"column",gap:"1",children:u.map((S,D)=>c.jsx("div",{className:C(S.type),children:c.jsxs(k,{size:"1",style:{fontFamily:"monospace"},children:[c.jsx("span",{style:{color:"var(--gray-9)",marginRight:"8px"},children:S.timestamp}),c.jsx("span",{style:{marginRight:"4px"},children:A(S.type)}),S.message]})},D))})}),c.jsxs(M,{gap:"2",justify:"end",children:[!s&&!y&&c.jsxs(c.Fragment,{children:[c.jsx(pe,{variant:"soft",onClick:$,children:"Cancel"}),c.jsx(pe,{onClick:j,children:"Start Import"})]}),s&&c.jsx(pe,{variant:"soft",disabled:!0,children:"Importing..."}),y&&c.jsx(pe,{onClick:$,children:"Close"})]})]})]})})},Tee=()=>{const{showImportDialog:e,setShowImportDialog:t,addTable:n,addMetricView:r,createTraditionalView:o,createMetricRelationship:i,availableCatalogs:a,availableSchemas:s,availableTables:l,loadCatalogs:u,loadSchemas:d,loadTables:p,importExistingTables:h,errors:m,tables:v}=ht(),[g,b]=f.useState(""),[y,x]=f.useState(""),[_,w]=f.useState([]),[E,j]=f.useState([]),[$,A]=f.useState(!1),[C,S]=f.useState("catalog"),[D,O]=f.useState("tables"),[F,N]=f.useState(""),[L,T]=f.useState(""),[B,I]=f.useState(""),[R,q]=f.useState(""),[G,Q]=f.useState([]),[le,ie]=f.useState(!1);f.useEffect(()=>{e&&a.length===0&&u()},[e,a.length,u]);const fe=async(K,Y)=>{try{A(!0);const oe=await fetch(`/api/data_modeling/views/${K}/${Y}`);if(oe.ok){const ae=await oe.json();Q(ae)}else console.error("Failed to load views"),Q([])}catch(oe){console.error("Error loading views:",oe),Q([])}finally{A(!1)}};f.useEffect(()=>{g&&(d(g),S("schema"),T(""))},[g,d]),f.useEffect(()=>{y&&(p(g,y),S("tables"),I(""))},[y,g,p]);const he=(K,Y)=>{w(Y?[..._,K]:_.filter(oe=>oe!==K))},z=a.filter(K=>K.name.toLowerCase().includes(F.toLowerCase())||K.comment&&K.comment.toLowerCase().includes(F.toLowerCase())),U=s.filter(K=>K.name.toLowerCase().includes(L.toLowerCase())||K.comment&&K.comment.toLowerCase().includes(L.toLowerCase())),V=l.filter(K=>K.name.toLowerCase().includes(B.toLowerCase())||K.comment&&K.comment.toLowerCase().includes(B.toLowerCase())),P=async()=>{var ae,ve,Ae,ye;if((D==="tables"?_:E).length===0){alert(`Please select at least one ${D==="tables"?"table":"view"} to import`);return}if(D==="views"){try{A(!0),console.log(" Setting loading state to true"),await new Promise($e=>setTimeout($e,100));const ke=await fetch("/api/data_modeling/import_views",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({catalog_name:g,schema_name:y,view_names:E,auto_import_dependencies:!0})});if(ke.ok){const $e=await ke.json();if(console.log(" Views imported successfully:",$e),console.log(" DEBUG: Views count:",(ae=$e.views)==null?void 0:ae.length),console.log(" DEBUG: Tables count:",(ve=$e.referenced_tables)==null?void 0:ve.length),$e.views&&$e.views.length>0){for(const je of $e.views)if(je.type==="metric"){const We={id:je.id,name:je.name,description:je.description||"",version:je.version||"0.1",source_table_id:je.source_table_id,dimensions:je.dimensions||[],measures:je.measures||[],joins:je.joins||[],tags:je.tags||{},position_x:je.position_x||100,position_y:je.position_y||100,width:je.width||280,height:je.height||220};if(console.log(" DEBUG: About to add metric view:",We),console.log(" DEBUG: Store functions available:",{addMetricView:!!r,createMetricRelationship:!!i}),r)if(r(We),console.log(` Added metric view to store: ${We.name}`),We.source_table_id&&i){console.log(" DEBUG: Creating relationship between:",We.source_table_id,"->",We.id);const Ot=i(We.source_table_id,We.id,[]);console.log(` Created metric relationship: ${We.source_table_id} -> ${We.id} (${Ot})`)}else console.warn(" Cannot create relationship:",{source_table_id:We.source_table_id,createMetricRelationship:!!i});else console.warn(" addMetricView action not found in store")}else if(je.type==="traditional"){const We={id:je.id,name:je.name,description:je.description||"",sql_query:je.sql_query||"",logical_name:je.logical_name||null,catalog_name:je.catalog_name||g,schema_name:je.schema_name||y,referenced_table_names:je.referenced_table_names||[],tags:je.tags||{},position_x:je.position_x||600,position_y:je.position_y||100,width:je.width||250,height:je.height||180};console.log(" DEBUG: About to add traditional view:",We),console.log(" DEBUG: Store functions available:",{createTraditionalView:!!o}),o?(o(We),console.log(` Added traditional view to store: ${We.name}`)):console.warn("createTraditionalView action not found in store")}}if($e.referenced_tables&&$e.referenced_tables.length>0){console.log(" DEBUG: About to add tables:",$e.referenced_tables),console.log(" DEBUG: addTable function available:",!!n);for(const je of $e.referenced_tables)n?(console.log(" DEBUG: Adding table:",je),n(je),console.log(` Added imported table to store: ${je.name}`)):console.warn(" addTable function not found")}else console.warn(" DEBUG: No referenced_tables found in result");const Xe=((Ae=$e.views)==null?void 0:Ae.length)||0,wt=((ye=$e.referenced_tables)==null?void 0:ye.length)||0;console.log(" Setting loading state to false"),alert(`Successfully imported ${Xe} view(s) and ${wt} table(s)!`),t(!1),ce()}else{const $e=await ke.json();console.error("View import failed:",$e),alert(`Failed to import views: ${$e.error||"Unknown error"}`)}}catch(ke){console.error("Error importing views:",ke),alert(`Error importing views: ${ke.message}`)}finally{A(!1)}return}const Y=new Set(v.map(ke=>ke.name.toLowerCase())),oe=_.filter(ke=>Y.has(ke.toLowerCase()));if(oe.length>0){if(!window.confirm(`The following tables already exist in the canvas and will be skipped: ${oe.join(", ")}

Do you want to continue importing the remaining ${_.length-oe.length} tables?`))return;if(oe.length===_.length){alert("All selected tables already exist in the canvas. No tables will be imported.");return}}ie(!0)},W=async(K,Y,oe,ae)=>await h(K,Y,oe,ae),H=async(K,Y,oe,ae)=>{try{const ve=await fetch("/api/data_modeling/import_views",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({catalog_name:K,schema_name:Y,view_names:oe,auto_import_dependencies:!0,session_id:ae})});if(!ve.ok)throw new Error(`HTTP error! status: ${ve.status}`);const Ae=await ve.json();if(Ae.views&&Ae.views.length>0){for(const ye of Ae.views)if(ye.type==="metric"){const ke={id:ye.id,name:ye.name,description:ye.description||"",version:ye.version||"0.1",source_table_id:ye.source_table_id,dimensions:ye.dimensions||[],measures:ye.measures||[],joins:ye.joins||[],tags:ye.tags||{},position_x:ye.position_x||100,position_y:ye.position_y||100,width:ye.width||280,height:ye.height||220},{addMetricView:$e,createMetricRelationship:Xe}=ht.getState();if($e){if($e(ke),console.log(` Added metric view to store: ${ke.name}`),ke.source_table_id&&Xe){const wt=Xe(ke.source_table_id,ke.id,[]);console.log(` Created metric relationship: ${ke.source_table_id} -> ${ke.id} (${wt})`)}}else console.warn("addMetricView action not found in store")}else if(ye.type==="traditional"){const ke={id:ye.id,name:ye.name,description:ye.description||"",sql_query:ye.sql_query||"",logical_name:ye.logical_name||null,catalog_name:ye.catalog_name||K,schema_name:ye.schema_name||Y,referenced_table_names:ye.referenced_table_names||[],tags:ye.tags||{},position_x:ye.position_x||600,position_y:ye.position_y||100,width:ye.width||250,height:ye.height||180},{createTraditionalView:$e}=ht.getState();$e?($e(ke),console.log(` Added traditional view to store: ${ke.name}`)):console.warn("createTraditionalView action not found in store")}}if(Ae.referenced_tables&&Ae.referenced_tables.length>0){const{addTable:ye}=ht.getState();for(const ke of Ae.referenced_tables)ye&&(ye(ke),console.log(` Added imported table to store: ${ke.name}`))}return Ae}catch(ve){throw console.error(" Error importing views:",ve),ve}},ge=()=>{ie(!1),t(!1),b(""),x(""),w([]),j([]),Q([]),O("tables"),S("catalog")},ce=()=>{b(""),x(""),w([]),j([]),Q([]),O("tables"),S("catalog"),N(""),T(""),I(""),q("")};return f.useEffect(()=>{e&&ce()},[e]),e?c.jsxs(c.Fragment,{children:[c.jsx(me.Root,{open:e,onOpenChange:t,children:c.jsxs(me.Content,{style:{maxWidth:1e3,maxHeight:"90vh",overflow:"auto"},children:[c.jsx(me.Title,{children:"Import Objects from Databricks"}),c.jsx(me.Description,{size:"2",mb:"4",children:"Import existing tables and views from your Databricks Unity Catalog workspace."}),c.jsxs(M,{gap:"2",mb:"4",children:[c.jsx(Se,{color:C==="catalog"?"blue":"gray",children:"1. Select Catalog"}),c.jsx(Se,{color:C==="schema"?"blue":"gray",children:"2. Select Schema"}),c.jsx(Se,{color:C==="tables"?"blue":"gray",children:"3. Choose Objects"}),c.jsx(Se,{color:C==="import"?"blue":"gray",children:"4. Import"})]}),c.jsx(Pn,{mb:"4"}),C==="catalog"&&c.jsxs(te,{children:[c.jsx(mt,{size:"4",mb:"3",children:"Step 1: Select Catalog"}),c.jsx(k,{mb:"3",children:"Choose a catalog from your Databricks workspace:"}),a.length===0?c.jsx(M,{justify:"center",align:"center",gap:"2",p:"4",children:c.jsx(k,{children:" Loading catalogs..."})}):c.jsxs(M,{direction:"column",gap:"3",children:[c.jsxs(we.Root,{children:[c.jsx(we.Slot,{children:c.jsx(vs,{height:"16",width:"16"})}),c.jsx(we.Input,{placeholder:"Search catalogs by name or description...",value:F,onChange:K=>N(K.target.value)})]}),c.jsx(M,{direction:"column",gap:"2",style:{maxHeight:"400px",overflowY:"auto"},children:z.length===0?c.jsxs(k,{color:"gray",style:{textAlign:"center",padding:"20px"},children:['No catalogs found matching "',F,'"']}):z.map(K=>c.jsx(Ve,{style:{cursor:"pointer",padding:"12px",border:"2px solid transparent"},onClick:()=>b(K.name),children:c.jsxs(M,{justify:"between",align:"center",children:[c.jsxs(te,{children:[c.jsx(k,{size:"3",weight:"bold",children:K.name}),c.jsx(k,{size:"2",color:"gray",children:K.comment||"No description"})]}),c.jsx(Se,{color:"blue",children:K.type||"CATALOG"})]})},K.name))})]})]}),C==="schema"&&c.jsxs(te,{children:[c.jsx(mt,{size:"4",mb:"3",children:"Step 2: Select Schema"}),c.jsxs(k,{mb:"3",children:["Selected catalog: ",c.jsx(Se,{color:"blue",children:g})]}),c.jsx(k,{mb:"3",children:"Choose a schema from the selected catalog:"}),s.length===0?c.jsx(M,{justify:"center",align:"center",gap:"2",p:"4",children:c.jsx(k,{children:" Loading schemas..."})}):c.jsxs(M,{direction:"column",gap:"3",children:[c.jsxs(we.Root,{children:[c.jsx(we.Slot,{children:c.jsx(vs,{height:"16",width:"16"})}),c.jsx(we.Input,{placeholder:"Search schemas by name or description...",value:L,onChange:K=>T(K.target.value)})]}),c.jsx(M,{direction:"column",gap:"2",style:{maxHeight:"400px",overflowY:"auto"},children:U.length===0?c.jsxs(k,{color:"gray",style:{textAlign:"center",padding:"20px"},children:['No schemas found matching "',L,'"']}):U.map(K=>c.jsx(Ve,{style:{cursor:"pointer",padding:"12px",border:"2px solid transparent"},onClick:()=>{x(K.name),p(g,K.name),fe(g,K.name),S("tables")},children:c.jsxs(M,{justify:"between",align:"center",children:[c.jsxs(te,{children:[c.jsx(k,{size:"3",weight:"bold",children:K.name}),c.jsx(k,{size:"2",color:"gray",children:K.comment||"No description"})]}),c.jsx(Se,{color:"green",children:"SCHEMA"})]})},K.name))})]}),c.jsx(pe,{variant:"ghost",mt:"3",onClick:()=>S("catalog"),children:" Back to Catalogs"})]}),C==="tables"&&c.jsxs(te,{children:[c.jsx(mt,{size:"4",mb:"3",children:"Step 3: Select Objects"}),c.jsxs(k,{mb:"3",children:["Selected: ",c.jsx(Se,{color:"blue",children:g}),"  ",c.jsx(Se,{color:"green",children:y})]}),c.jsxs(Le.Root,{value:D,onValueChange:O,children:[c.jsxs(Le.List,{children:[c.jsx(Le.Trigger,{value:"tables",children:"Tables"}),c.jsx(Le.Trigger,{value:"views",children:"Views"})]}),c.jsxs(Le.Content,{value:"tables",children:[c.jsx(k,{mb:"3",children:"Choose tables to import from the selected schema:"}),l.length===0?c.jsx(M,{justify:"center",align:"center",gap:"2",p:"4",children:c.jsx(k,{children:" Loading tables..."})}):c.jsxs(te,{children:[c.jsxs(we.Root,{style:{marginBottom:"12px"},children:[c.jsx(we.Slot,{children:c.jsx(vs,{height:"16",width:"16"})}),c.jsx(we.Input,{placeholder:"Search tables by name or description...",value:B,onChange:K=>I(K.target.value)})]}),c.jsx(Ve,{mb:"3",children:c.jsxs(M,{justify:"between",align:"center",children:[c.jsxs(k,{size:"2",children:["Select All ",V.length>0&&V.length!==l.length?`(${V.length} filtered)`:""]}),c.jsx(qt,{checked:V.length>0&&V.every(K=>_.includes(K.name)),onCheckedChange:K=>{if(K){const Y=[...new Set([..._,...V.map(oe=>oe.name)])];w(Y)}else{const Y=V.map(oe=>oe.name);w(_.filter(oe=>!Y.includes(oe)))}}})]})}),c.jsx(M,{direction:"column",gap:"2",style:{maxHeight:"400px",overflowY:"auto"},children:V.length===0?c.jsxs(k,{color:"gray",style:{textAlign:"center",padding:"20px"},children:['No tables found matching "',B,'"']}):V.map(K=>c.jsx(Ve,{style:{padding:"12px"},children:c.jsxs(M,{justify:"between",align:"center",children:[c.jsxs(te,{children:[c.jsx(k,{size:"3",weight:"bold",children:K.name}),c.jsx(k,{size:"2",color:"gray",children:K.comment||"No description"}),c.jsxs(M,{gap:"2",mt:"1",children:[c.jsx(Se,{color:"orange",children:K.table_type}),c.jsx(Se,{color:"purple",children:K.data_source_format})]})]}),c.jsx(qt,{checked:_.includes(K.name),onCheckedChange:Y=>he(K.name,Y)})]})},K.name))})]})]}),c.jsxs(Le.Content,{value:"views",children:[c.jsx(k,{mb:"3",children:"Choose views to import from the selected schema:"}),G.length===0?c.jsx(M,{justify:"center",align:"center",gap:"2",p:"4",children:c.jsx(k,{children:" Loading views..."})}):c.jsxs(te,{children:[c.jsxs(we.Root,{style:{marginBottom:"12px"},children:[c.jsx(we.Slot,{children:c.jsx(vs,{height:"16",width:"16"})}),c.jsx(we.Input,{placeholder:"Search views by name or description...",value:R,onChange:K=>q(K.target.value)})]}),c.jsx(Ve,{mb:"3",children:c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(k,{size:"2",children:"Select All Views"}),c.jsx(qt,{checked:G.length>0&&G.every(K=>E.includes(K.name)),onCheckedChange:K=>{j(K?G.map(Y=>Y.name):[])}})]})}),c.jsx(M,{direction:"column",gap:"2",style:{maxHeight:"400px",overflowY:"auto"},children:G.length===0?c.jsx(k,{color:"gray",style:{textAlign:"center",padding:"20px"},children:"No views found"}):G.filter(K=>K.name.toLowerCase().includes(R.toLowerCase())).map(K=>c.jsx(Ve,{style:{padding:"12px"},children:c.jsxs(M,{justify:"between",align:"center",children:[c.jsxs(te,{children:[c.jsx(k,{size:"3",weight:"bold",children:K.name}),c.jsx(k,{size:"2",color:"gray",children:K.comment||"No description"}),c.jsxs(M,{gap:"2",mt:"1",children:[c.jsx(Se,{color:"blue",children:K.type}),c.jsx(Se,{color:"green",children:"VIEW"})]})]}),c.jsx(qt,{checked:E.includes(K.name),onCheckedChange:Y=>{j(Y?[...E,K.name]:E.filter(oe=>oe!==K.name))}})]})},K.name))})]})]})]}),c.jsxs(M,{gap:"2",mt:"3",children:[c.jsx(pe,{variant:"ghost",onClick:()=>S("schema"),children:" Back to Schemas"}),c.jsxs(pe,{onClick:()=>S("import"),disabled:D==="tables"?_.length===0:E.length===0,children:["Continue (",D==="tables"?_.length:E.length," selected)"]})]})]}),C==="import"&&c.jsxs(te,{children:[c.jsxs(mt,{size:"4",mb:"3",children:["Step 4: Import ",D==="tables"?"Tables":"Views"]}),c.jsxs(k,{mb:"3",children:["Ready to import ",D==="tables"?_.length:E.length," ",D==="tables"?"table(s)":"view(s)"," from ",c.jsx(Se,{color:"blue",children:g}),".",c.jsx(Se,{color:"green",children:y})]}),c.jsxs(Ve,{mb:"4",children:[c.jsxs(mt,{size:"3",mb:"2",children:[D==="tables"?"Tables":"Views"," to Import:"]}),c.jsx(M,{direction:"column",gap:"1",children:(D==="tables"?_:E).map(K=>c.jsxs(k,{size:"2",children:[" ",K]},K))})]}),c.jsxs(k,{size:"2",color:"gray",mb:"4",children:["Note: This will create ",D==="tables"?"table":"view"," nodes in your data model with the same structure as the existing Databricks ",D==="tables"?"tables":"views",". You can then modify the fields, add relationships, and generate DDL as needed."]}),c.jsxs(M,{gap:"2",mt:"3",children:[c.jsxs(pe,{variant:"ghost",onClick:()=>S("tables"),children:[" Back to ",D==="tables"?"Tables":"Views"]}),c.jsx(pe,{onClick:P,disabled:$,children:$?" Importing...":`Import ${D==="tables"?"Tables":"Views"}`})]})]}),c.jsx(M,{gap:"3",mt:"4",justify:"end",children:c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",children:"Cancel"})})})]})}),c.jsx(Ree,{isOpen:le,onClose:ge,onImport:D==="tables"?W:H,catalogName:g,schemaName:y,tableNames:D==="tables"?_:E,objectType:D==="tables"?"tables":"views"})]}):null},kee=()=>{const{showProjectDialog:e,setShowProjectDialog:t}=ht();return c.jsx(me.Root,{open:e,onOpenChange:t,children:c.jsxs(me.Content,{style:{maxWidth:450},children:[c.jsx(me.Title,{children:"Create New Project"}),c.jsx(me.Description,{size:"2",mb:"4",children:"Create a new data modeling project."}),c.jsx(k,{children:"Project creation dialog coming soon..."}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",children:"Cancel"})}),c.jsx(pe,{onClick:()=>t(!1),children:"Create Project"})]})]})})},Nee=({isOpen:e,onClose:t,project:n,onConfirmDelete:r})=>{const[o,i]=f.useState(""),[a,s]=f.useState(!1),l=async()=>{if(o===(n==null?void 0:n.name)){s(!0);try{await r(n),u()}catch(p){console.error("Error deleting project:",p)}finally{s(!1)}}},u=()=>{i(""),s(!1),t()},d=o===(n==null?void 0:n.name);return!e||!n?null:c.jsx(me.Root,{open:e,onOpenChange:u,children:c.jsxs(me.Content,{style:{maxWidth:"500px"},children:[c.jsx(me.Title,{children:c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(d$,{color:"red",width:"20",height:"20"}),c.jsx(k,{size:"4",weight:"bold",color:"red",children:"Delete Project"})]})}),c.jsx(me.Description,{size:"2",mb:"4",color:"gray",children:"This action cannot be undone. This will permanently delete the project and all its data."}),c.jsx(te,{mb:"4",children:c.jsx(Ve,{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",padding:"16px"},children:c.jsxs(M,{direction:"column",gap:"3",children:[c.jsx(k,{size:"2",weight:"bold",color:"red",children:"You are about to delete:"}),c.jsx(te,{style:{backgroundColor:"#fff",padding:"12px",borderRadius:"6px",border:"1px solid #e5e7eb"},children:c.jsxs(M,{direction:"column",gap:"1",children:[c.jsx(k,{size:"3",weight:"bold",children:n.name}),c.jsxs(k,{size:"1",color:"gray",children:["Created: ",new Date(n.created_at).toLocaleDateString()]}),c.jsxs(k,{size:"1",color:"gray",children:["Last modified: ",new Date(n.saved_at).toLocaleDateString()]})]})})]})})}),c.jsxs(te,{mb:"4",children:[c.jsxs(k,{size:"2",weight:"bold",mb:"2",children:["Type the project name ",c.jsxs(k,{weight:"bold",style:{fontFamily:"monospace"},children:['"',n.name,'"']})," to confirm:"]}),c.jsx(we.Input,{value:o,onChange:p=>i(p.target.value),placeholder:`Type "${n.name}" here`,size:"2",style:{border:o&&!d?"1px solid #ef4444":void 0}}),o&&!d&&c.jsxs(k,{size:"1",color:"red",mt:"1",children:["Project name doesn't match. Please type exactly: ",n.name]})]}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(me.Close,{children:c.jsx(pe,{variant:"soft",color:"gray",disabled:a,children:"Cancel"})}),c.jsx(pe,{color:"red",onClick:l,disabled:!d||a,children:a?"Deleting...":"Delete Project"})]})]})})},Pee=()=>{const{showProjectStartupDialog:e,setShowProjectStartupDialog:t,projectStartupMode:n,savedProjects:r,getSavedProjects:o,getAppState:i,appState:a,loadProject:s,createNewProject:l,loadCatalogs:u,loadSchemas:d,availableCatalogs:p,availableSchemas:h,deleteProject:m,downloadProject:v,importProject:g}=ht(),[b,y]=f.useState(n),[x,_]=f.useState(null),[w,E]=f.useState({name:"",description:"",catalog_name:"",schema_name:""}),[j,$]=f.useState(!1),[A,C]=f.useState(null),[S,D]=f.useState(""),[O,F]=f.useState(""),[N,L]=f.useState("yaml");f.useEffect(()=>{e&&(console.log("ProjectStartupDialog opened, loading data..."),y(n),i(),o(),u().then(z=>{console.log("Catalogs loaded:",z)}).catch(z=>{console.error("Failed to load catalogs:",z)}))},[e,n]),f.useEffect(()=>{w.catalog_name&&(console.log("Loading schemas for catalog:",w.catalog_name),d(w.catalog_name))},[w.catalog_name]),f.useEffect(()=>{console.log("Available catalogs:",p)},[p]);const T=async()=>{try{if(!w.name||!w.catalog_name||!w.schema_name){alert("Please fill in all required fields");return}const z=l(w.name,w.description,w.catalog_name,w.schema_name);t(!1)}catch(z){console.error("Error creating project:",z),alert("Error creating project: "+z.message)}},B=async()=>{try{if(!x){alert("Please select a project to load");return}await s(x.name),t(!1)}catch(z){console.error("Error loading project:",z),alert("Error loading project: "+z.message)}},I=(z,U)=>{U.stopPropagation(),console.log(" handleDeleteProject called with project:",z),C(z),$(!0)},R=async z=>{try{await m(z.name),(x==null?void 0:x.name)===z.name&&_(null),await i()}catch(U){throw console.error("Failed to delete project:",U),U}},q=async(z,U)=>{U.stopPropagation();try{console.log(" handleDownloadProject called with project:",z),await v(z.name)}catch(V){console.error("Failed to download project:",V),alert("Error downloading project: "+V.message)}},G=async(z=!1)=>{var U,V,P,W,H,ge;if(!S.trim()||!O.trim()){alert("Please provide both project name and file content");return}try{console.log(" About to call importProject with:"),console.log(" - content type:",typeof O),console.log(" - content length:",O==null?void 0:O.length),console.log(" - project name:",S),console.log(" - file type:",N),await g(O,S,z,N),D(""),F(""),y("load"),await i(),alert(`Project "${S}" imported successfully!`)}catch(ce){if(console.error("Failed to import project:",ce),((U=ce.response)==null?void 0:U.status)===409&&((P=(V=ce.response)==null?void 0:V.data)==null?void 0:P.code)==="DUPLICATE_NAME"){if(window.confirm(`A project named "${S}" already exists. This will overwrite the existing project.

Are you sure you want to continue?`))return G(!0)}else{const K=((H=(W=ce.response)==null?void 0:W.data)==null?void 0:H.error)||ce.message||"Unknown error occurred";console.error("Import error details:",(ge=ce.response)==null?void 0:ge.data),alert("Error importing project: "+K)}}},Q=z=>{const U=z.target.files[0];if(U){const V=new FileReader;V.onload=P=>{const W=P.target.result;console.log(" File upload - content length:",W.length),console.log(" File upload - content preview:",W.substring(0,200)),console.log(" File upload - file name:",U.name),console.log(" File upload - content type:",typeof W);const H=String(W);console.log(" File upload - clean content type:",typeof H),F(H),U.name.toLowerCase().endsWith(".json")?(L("json"),console.log(" File upload - detected type: json")):(L("yaml"),console.log(" File upload - detected type: yaml"));const ce=U.name.replace(/\.(yaml|yml|json)$/i,"");S||D(ce),console.log(" File upload - project name:",ce)},V.readAsText(U)}},le=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ie=Array.isArray(p)?p:[],fe=Array.isArray(h)?h:[],he=Array.isArray(r)?r:[];return e?c.jsxs(me.Root,{open:e,onOpenChange:t,children:[c.jsxs(me.Content,{style:{maxWidth:800,maxHeight:"90vh",overflow:"auto"},children:[c.jsx(me.Title,{children:"Welcome to Bricks Data Modeler"}),c.jsx(me.Description,{size:"2",mb:"4",children:"Choose how you would like to get started with your data modeling project."}),b==="select"&&c.jsx(M,{direction:"column",gap:"4",children:c.jsxs(Qo,{columns:"3",gap:"4",children:[c.jsx(Ve,{style:{cursor:"pointer",padding:"20px"},onClick:()=>y("create"),children:c.jsxs(M,{direction:"column",align:"center",gap:"3",children:[c.jsx(k,{size:"6",children:"+"}),c.jsx(mt,{size:"4",children:"Create New Project"}),c.jsx(k,{color:"gray",align:"center",children:"Start fresh with a new data modeling project. Define your catalog, schema, and begin designing your data model."})]})}),c.jsx(Ve,{style:{cursor:a!=null&&a.has_existing_projects?"pointer":"not-allowed",opacity:a!=null&&a.has_existing_projects?1:.5,padding:"20px"},onClick:()=>(a==null?void 0:a.has_existing_projects)&&y("load"),children:c.jsxs(M,{direction:"column",align:"center",gap:"3",children:[c.jsx(k,{size:"6",children:""}),c.jsx(mt,{size:"4",children:"Load Existing Project"}),c.jsx(k,{color:"gray",align:"center",children:"Continue working on a previously saved data modeling project."}),(a==null?void 0:a.has_existing_projects)&&c.jsxs(Se,{color:"blue",children:[a.project_count," projects available"]}),!(a!=null&&a.has_existing_projects)&&c.jsx(k,{size:"1",color:"gray",children:"No saved projects found"})]})}),c.jsx(Ve,{style:{cursor:"pointer",padding:"20px"},onClick:()=>y("import"),children:c.jsxs(M,{direction:"column",align:"center",gap:"3",children:[c.jsx(k,{size:"6",children:""}),c.jsx(mt,{size:"4",children:"Import Project"}),c.jsx(k,{color:"gray",align:"center",children:"Import an existing project from a YAML or JSON file and create a new project with a different name."})]})})]})}),b==="create"&&c.jsxs(M,{direction:"column",gap:"4",children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(mt,{size:"4",children:"Create New Project"}),c.jsx(pe,{variant:"ghost",onClick:()=>y("select"),children:"Back"})]}),c.jsx(Pn,{}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Project Name *"}),c.jsx(we.Input,{placeholder:"Enter project name",value:w.name,onChange:z=>E({...w,name:z.target.value})})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Description"}),c.jsx(vr,{placeholder:"Optional project description",value:w.description,onChange:z=>E({...w,description:z.target.value}),rows:3})]}),c.jsxs(te,{children:[c.jsxs(k,{size:"2",weight:"bold",mb:"2",children:["Catalog * (Debug: ",ie.length," catalogs)"]}),c.jsxs(J.Root,{value:w.catalog_name,onValueChange:z=>E({...w,catalog_name:z,schema_name:""}),children:[c.jsx(J.Trigger,{placeholder:"Select catalog"}),c.jsx(J.Content,{children:ie.map(z=>c.jsx(J.Item,{value:z.name,children:z.name},z.name))})]}),ie.length===0&&c.jsx(k,{size:"1",color:"gray",mt:"1",children:"Loading catalogs..."})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Schema *"}),c.jsxs(J.Root,{value:w.schema_name,onValueChange:z=>E({...w,schema_name:z}),disabled:!w.catalog_name,children:[c.jsx(J.Trigger,{placeholder:w.catalog_name?"Select schema":"Select catalog first"}),c.jsx(J.Content,{children:fe.map(z=>c.jsx(J.Item,{value:z.name,children:z.name},z.name))})]}),w.catalog_name&&fe.length===0&&c.jsx(k,{size:"1",color:"gray",mt:"1",children:"Loading schemas..."})]}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(pe,{variant:"soft",color:"gray",onClick:()=>y("select"),children:"Cancel"}),c.jsx(pe,{onClick:T,children:"Create Project"})]})]}),b==="import"&&c.jsxs(M,{direction:"column",gap:"4",children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(mt,{size:"4",children:"Import Project"}),c.jsx(pe,{variant:"ghost",onClick:()=>y("select"),children:"Back"})]}),c.jsx(Pn,{}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"New Project Name *"}),c.jsx(we.Input,{placeholder:"Enter new project name",value:S,onChange:z=>D(z.target.value)})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:"Upload Project File"}),c.jsx("input",{type:"file",accept:".yaml,.yml,.json",onChange:Q,style:{width:"100%",padding:"8px",border:"1px solid var(--gray-6)",borderRadius:"6px",backgroundColor:"var(--color-surface)"}}),c.jsx(k,{size:"1",color:"gray",mt:"1",children:"Supports YAML (.yaml, .yml) and JSON (.json) project files"}),N&&c.jsxs(k,{size:"1",color:"blue",mt:"1",children:["Detected file type: ",N.toUpperCase()]})]}),c.jsxs(te,{children:[c.jsx(k,{size:"2",weight:"bold",mb:"2",children:N==="json"?"JSON Content":"YAML Content"}),c.jsx(vr,{placeholder:`Paste ${N.toUpperCase()} content here or upload a file above`,value:O,onChange:z=>F(z.target.value),rows:10,style:{fontFamily:"monospace",fontSize:"12px"}})]}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(pe,{variant:"soft",color:"gray",onClick:()=>y("select"),children:"Cancel"}),c.jsxs(pe,{onClick:()=>G(),disabled:!S.trim()||!O.trim(),children:[c.jsx(xB,{})," Import Project"]})]})]}),b==="load"&&c.jsxs(M,{direction:"column",gap:"4",children:[c.jsxs(M,{justify:"between",align:"center",children:[c.jsx(mt,{size:"4",children:"Load Existing Project"}),c.jsx(pe,{variant:"ghost",onClick:()=>y("select"),children:"Back"})]}),c.jsx(Pn,{}),c.jsx(te,{style:{maxHeight:"400px",overflow:"auto"},children:he.length===0?c.jsx(k,{color:"gray",children:"No saved projects found."}):c.jsx(M,{direction:"column",gap:"2",children:he.map(z=>c.jsx(Ve,{style:{cursor:"pointer",padding:"16px",border:(x==null?void 0:x.name)===z.name?"2px solid var(--accent-9)":"1px solid var(--gray-6)"},onClick:()=>_(z),children:c.jsxs(M,{direction:"column",gap:"2",children:[c.jsxs(M,{justify:"between",align:"start",children:[c.jsx(k,{size:"3",weight:"bold",children:z.name}),c.jsxs(M,{align:"center",gap:"2",children:[c.jsx(Se,{color:"gray",children:z.format}),c.jsx(Zn,{size:"1",variant:"ghost",color:"blue",onClick:U=>q(z,U),style:{opacity:.7},children:c.jsx(ol,{})}),c.jsx(Zn,{size:"1",variant:"ghost",color:"red",onClick:U=>I(z,U),style:{opacity:.7},children:c.jsx(An,{})})]})]}),c.jsxs(k,{size:"2",color:"gray",children:["Last modified: ",le(z.saved_at)]})]})},z.name))})}),c.jsxs(M,{gap:"3",mt:"4",justify:"end",children:[c.jsx(pe,{variant:"soft",color:"gray",onClick:()=>y("select"),children:"Cancel"}),c.jsx(pe,{onClick:B,disabled:!x,children:"Load Project"})]})]})]}),c.jsx(Nee,{isOpen:j,onClose:()=>$(!1),project:A,onConfirmDelete:R})]}):null};class S5 extends Z.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t),console.error("Error info:",n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?c.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee",border:"1px solid #fcc"},children:[c.jsx("h2",{children:"Something went wrong!"}),c.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[c.jsx("summary",{children:"Error details (click to expand)"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",this.state.error&&this.state.error.toString()]}),c.jsx("p",{children:c.jsx("strong",{children:"Stack trace:"})}),c.jsx("pre",{children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),c.jsx("button",{onClick:()=>window.location.reload(),children:"Reload Page"})]}):this.props.children}}function Dee(){const{loadCatalogs:e,loadDatatypes:t,getAppState:n,showProjectStartupDialog:r,currentProject:o}=ht();return f.useEffect(()=>{e(),t(),n()},[e,t,n]),c.jsx(S5,{children:c.jsxs("div",{id:"app",children:[c.jsx(CB,{}),o&&c.jsx(S5,{children:c.jsx(See,{})}),!o&&!r&&c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 80px)",color:"#888",fontSize:"18px"},children:"Welcome! Please create or load a project to get started."}),c.jsx(Eee,{}),c.jsx($ee,{}),c.jsx(Tee,{}),c.jsx(kee,{}),c.jsx(Pee,{})]})})}S0.createRoot(document.getElementById("root")).render(c.jsx(Z.StrictMode,{children:c.jsx(xi,{children:c.jsx(Dee,{})})}));
